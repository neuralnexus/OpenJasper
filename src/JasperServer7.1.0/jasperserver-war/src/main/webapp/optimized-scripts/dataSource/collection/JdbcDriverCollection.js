define(["require","backbone","underscore","dataSource/model/JdbcDriverModel","jrs.configs"],function(e){"use strict";var t=e("backbone"),r=e("underscore"),i=e("dataSource/model/JdbcDriverModel"),n=e("jrs.configs");return t.Collection.extend({model:i,url:n.contextPath+"/rest_v2/jdbcDrivers",initialize:function(e,t){this.options=t,this.driverUploadEnabled=!1},getDefaultDriver:function(){var e=this.find(function(e){return!r.isUndefined(e.get("isDefault"))&&e.get("isDefault")!==!1});return e?e:this.first()},set:function(e,i){return"undefined"==typeof i&&(i={}),r.extend(i,this.options),t.Collection.prototype.set.call(this,e,i)},getDriverByClass:function(e){var t=this.findWhere({jdbcDriverClass:e});return t?t:this.findWhere({jdbcDriverClass:i.OTHER_DRIVER})},getDriverByName:function(e){return this.findWhere({name:e})},getAllPossibleCustomAttributes:function(){return r.keys(i.VALIDATION_PATTERNS)},fetch:function(e){return r.defaults(e||(e={}),{headers:{Accept:"application/hal+json"}}),t.Collection.prototype.fetch.call(this,e)},parse:function(e){var r=t.Collection.prototype.parse.apply(this,arguments);return r._links&&r._links.create&&r._links.edit&&(this.driverUploadEnabled=!0),r.jdbcDrivers?r.jdbcDrivers:r},markDriverAsAvailable:function(e){var t=this.models.find(function(t){return t.id===e});t.set("available",!0)}})});