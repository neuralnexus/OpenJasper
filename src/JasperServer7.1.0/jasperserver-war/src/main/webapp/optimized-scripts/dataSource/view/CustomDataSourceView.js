define(["require","underscore","jquery","bundle!all","dataSource/view/BaseDataSourceView","text!dataSource/template/customDataSourceTemplate.htm","dataSource/model/CustomDataSourceModel"],function(e){"use strict";var t=e("underscore"),a=e("jquery"),o=e("bundle!all"),r=e("dataSource/view/BaseDataSourceView"),u=e("text!dataSource/template/customDataSourceTemplate.htm"),s=e("dataSource/model/CustomDataSourceModel");return r.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.custom.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.custom.page.title.edit",modelConstructor:s,customFieldsTemplate:u,render:function(){return this.$el.empty(),this.renderCustomFieldsSection(),this.model.testable&&this.renderTestConnectionSection(),this},templateData:function(){return t.extend({},r.prototype.templateData.apply(this,arguments),{i18n:o,customFields:this.model.customFields})},renderCustomFieldsSection:function(){var e=t.template(this.customFieldsTemplate,this.templateData()),o=this.$el.find("[name=customFieldsContainer]");o.length>0?o.empty().append(a(e).children()):this.$el.append(e)}},{})});