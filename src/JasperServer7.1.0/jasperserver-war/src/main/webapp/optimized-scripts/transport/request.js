define(["require","jquery","underscore","jrs.configs","requestSettings","transport/xdmRequest","transport/xhrRequest"],function(e){"use strict";var r,s=e("jquery"),t=e("underscore"),n=e("jrs.configs"),u=e("requestSettings"),a=e("transport/xdmRequest"),d=e("transport/xhrRequest");return function(){r||(r=n.isXdm?a:d);var e=t.extend({},u,arguments[0]);return u.headers&&arguments[0].headers&&(e.headers=t.extend({},u.headers,arguments[0].headers)),arguments[0]=e,r.apply(s,arguments)}});