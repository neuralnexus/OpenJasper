function invokeRoleAction(e,o){var t=orgModule.roleActionFactory[e](o);t.invokeAction()}function invokeRoleManagerAction(e,o){var t=orgModule.roleManager.actionFactory[e](o);t.invokeAction()}function canAddRole(){return orgModule.roleManager.tenantsTree?null!=orgModule.roleManager.tenantsTree.getTenant():!0}function canEditRole(e){var e=e?e:orgModule.properties.getValue();return e.tenantId||orgModule.manager.isUserSuperuser()}function canDeleteRole(e){var e=e?e:orgModule.properties.getValue();return e.tenantId||orgModule.manager.isUserSuperuser()&&!_.contains(orgModule.systemRoles,e.roleName)}function canDeleteAll(){var e=orgModule.entityList.getSelectedEntities();return e.length>0&&!e.detect(function(e){return!canDeleteRole(e)})}orgModule.roleManager={Event:{},Action:{},initialize:function(e){layoutModule.resizeOnClient("folders","roles","properties"),webHelpModule.setCurrentContext("admin");var o=_.extend(e,localContext.roleMngInitOptions,{removeContextMenuTreePlugin:!0});orgModule.manager.initialize(o),orgModule.manager.entityJsonToObject=function(e){return new orgModule.Role(e)},orgModule.manager.relatedEntityJsonToObject=function(e){return new orgModule.User(e)},this.roleList.initialize({toolbarModel:this.actionModel,text:orgModule.manager.state.text}),orgModule.addDialog.show=function(e){this.addDialog.show(e)}.bind(this),orgModule.addDialog.hide=function(e){this.addDialog.hide(e)}.bind(this),this.properties.initialize(),this.addDialog.initialize(),orgModule.observe("server:unavailable",function(e){var o=orgModule.manager.tree,t=o?o.getOrganization().id:null;new orgModule.Role({roleName:"",tenantId:t}).navigateToManager()}.bindAsEventListener(this)),orgModule.observe("entity:deleted",function(){orgModule.properties.hide()}),orgModule.observe("entities:deleted",function(){orgModule.properties.hide()}),isProVersion()||orgModule.manager.reloadEntities()},actionModel:{ADD:{buttonId:"addNewRoleBtn",action:invokeClientAction,actionArgs:"create",test:canAddRole},DELETE:{buttonId:"deleteAllRolesBtn",action:invokeClientAction,actionArgs:"deleteAll",test:canDeleteAll}}},"undefined"==typeof require&&document.observe("dom:loaded",orgModule.roleManager.initialize.bind(orgModule.roleManager));