document.observe(isSupportsTouch()?"drag:touchstart":"drag:mousedown",function(t){var e=t.memo.targetEvent.element();if(!isSupportsTouch()||!event.treeEvent&&!event.listEvent){var o=matchMeOrUp(e,layoutModule.LIST_ITEM_PATTERN);o&&!e.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)&&buttonManager.down(o,function(t){return $(t).down(layoutModule.LIST_ITEM_WRAP_PATTERN)}),e.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)&&buttonManager.down(e)}});var buttonManager={over:function(t,e){if(t&&!this.isSelected(t)){var o=e?e(t):t;$(o).addClassName(layoutModule.HOVERED_CLASS)}},out:function(t,e){if(t){var o=e?e(t):t;$(o).removeClassName(layoutModule.HOVERED_CLASS).removeClassName(layoutModule.PRESSED_CLASS)}},down:function(t,e){if(t&&!this.isSelected(t)){var o=e?e(t):t;$(o).removeClassName(layoutModule.HOVERED_CLASS).addClassName(layoutModule.PRESSED_CLASS)}},up:function(t,e){if(t&&!this.isSelected(t)){var o=e?e(t):t;o=$(o),o.removeClassName(layoutModule.PRESSED_CLASS),!isIPad()&&o.addClassName(layoutModule.HOVERED_CLASS)}},disable:function(t){t&&(buttonManager.out(t),$(t).writeAttribute(layoutModule.DISABLED_ATTR_NAME,layoutModule.DISABLED_ATTR_NAME))},enable:function(t){t&&(buttonManager.out(t),$(t).writeAttribute(layoutModule.DISABLED_ATTR_NAME,null))},isDisabled:function(t){return t?$(t).readAttribute(layoutModule.DISABLED_ATTR_NAME)===layoutModule.DISABLED_ATTR_NAME||$(t).hasClassName(layoutModule.DISABLED_CLASS):void 0},unSelect:function(t){t&&$(t).removeClassName(layoutModule.SELECTED_CLASS)},select:function(t){t&&$(t).addClassName(layoutModule.SELECTED_CLASS)},isSelected:function(t,e){if(t){var o=e?e(t):$(t),u=o.up("li");return u&&u.hasClassName(layoutModule.SELECTED_CLASS)}return!1}};document.observe("mouseup",function(t){if(isRightClick(t)){var e=t.element();document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:t,node:e})}}),document.observe("contextmenu",function(t){return Event.stop(t),!1}),document.observe("dom:loaded",function(t){isIE()&&document.body.setAttribute("oncontextmenu","return false"),jQuery("body").on("mouseover",layoutModule.BUTTON_PATTERN,function(t){hasDisabledAttributeSet(this)||buttonManager.over(this)}),jQuery("body").on("mouseout",layoutModule.BUTTON_PATTERN,function(t){buttonManager.out(this)}),jQuery("body").on("focus",layoutModule.BUTTON_PATTERN,function(t){hasDisabledAttributeSet(this)||buttonManager.over(this)}),jQuery("body").on("blur",layoutModule.BUTTON_PATTERN+"."+layoutModule.HOVERED_CLASS,function(t){hasDisabledAttributeSet(this)||buttonManager.out(this)}),jQuery("body").on("mousedown mouseup touchstart touchend",[layoutModule.BUTTON_PATTERN,layoutModule.MENU_LIST_PATTERN,layoutModule.DISCLOSURE_BUTTON_PATTERN,layoutModule.META_LINKS_PATTERN].join(","),function(t){"mousedown"==t.type||"touchstart"==t.type?!hasDisabledAttributeSet(this)&&buttonManager.down(this):!hasDisabledAttributeSet(this)&&buttonManager.up(this),("mouseup"==t.type||"touchend"==t.type)&&(this.parentNode.id==layoutModule.MAIN_NAVIGATION_HOME_ITEM_ID&&primaryNavModule.navigationOption("home"),this.parentNode.id==layoutModule.MAIN_NAVIGATION_LIBRARY_ITEM_ID&&primaryNavModule.navigationOption("library"))}),jQuery("#frame").on("touchend mouseup",".minimize",function(t){this.parentNode.className.indexOf("maximized")>=0?layoutModule.minimize(this):layoutModule.maximize(this),t.preventDefault()}),jQuery("#frame").on("touchend mouseup",layoutModule.TABSET_TAB_PATTERN,function(t){if(!hasDisabledAttributeSet(this)&&"true"!==jQuery(this.parentNode).attr("disableCoreEvents")){jQuery(this).siblings().removeClass(layoutModule.SELECTED_CLASS).each(function(t,e){jQuery(jQuery(this).attr("tabId")).addClass("hidden")}),jQuery(this).addClass(layoutModule.SELECTED_CLASS),jQuery(jQuery(this).attr("tabId")).removeClass("hidden");var e=jQuery(this).closest(".tabs").find(".control.tabSet.anchor");"#attributesTab"===jQuery(this).attr("tabId")?e.addClass("attributesAnchor"):e.removeClass("attributesAnchor")}}),jQuery("#"+layoutModule.META_LINK_LOGOUT_ID).on("mousedown touchstart",function(t){t.preventDefault(),primaryNavModule.navigationOption("logOut")}),jQuery("body").on("mouseover mouseout click","[tooltiptext]",function(t){("mouseout"==t.type||"click"==t.type)&&tooltipModule.hideJSTooltip(this),"mouseover"==t.type&&tooltipModule.showJSTooltip(this,[t.clientX,t.clientY])}),jQuery("#mainNavigation").on("mouseover",layoutModule.NAVIGATION_MUTTON_PATTERN,function(t){primaryNavModule.showNavButtonMenu(t,this)}),isSupportsTouch()&&(document.body.addEventListener("touchstart",function(t){window.calendar&&window.calendar.hide&&!window.calendar.hidden&&window.calendar.hide(),"undefined"!=typeof TouchController&&(TouchController.element_scrolled=!1)},!1),document.body.addEventListener("touchmove",function(t){},!1)),jQuery("#filePath").on("mouseenter mouseout",function(){jQuery("#fake_upload_button").toggleClass("over")})});