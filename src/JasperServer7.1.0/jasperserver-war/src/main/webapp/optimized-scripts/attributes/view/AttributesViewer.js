define(["require","jquery","underscore","bundle!AttributesBundle","attributes/enum/attributesTypesEnum","common/component/baseTable/BaseTable","attributes/factory/tableTemplatesFactory","common/util/xssUtil","css!attributes.css"],function(t){var e=t("jquery"),i=t("underscore"),s=t("bundle!AttributesBundle"),n=t("attributes/enum/attributesTypesEnum"),o=t("common/component/baseTable/BaseTable"),a=t("attributes/factory/tableTemplatesFactory"),l=t("common/util/xssUtil");t("css!attributes.css");var r=o.extend({className:"attributesViewer",templateHelpers:function(){return{i18n:s,type:this.type,types:n}},initialize:function(t){t=t||{},this.type=t.type,this.childViewOptions=i.extend({},t.childViewOptions,{type:this.type}),this.$container=e(t.$container),o.prototype.initialize.apply(this,arguments),this.tooltip&&this._initTooltipEvents()},render:function(){return o.prototype.render.apply(this,arguments),this.$container.append(l.escape(this.$el,{softHTMLEscape:!0})),this},setContext:function(t,e){return this.collection.setContext(t,e)},show:function(){this.$el.show()},hide:function(){this.$el.hide()},getTemplate:function(){var t=a({readOnly:!0,empty:!this.collection.models.length});return i.template(t)},_initTooltipEvents:function(){this.listenTo(this,"childview:mouseover",this._onChildViewMouseOver),this.listenTo(this,"childview:mouseout",this._onChildViewMouseOut)},_onChildViewMouseOver:function(t,s,n){var o=e(n.target).closest(".table-column");o.hasClass("name")&&(s=i.pick(s.toJSON(),["name","description"])),o.hasClass("value")&&(s=i.pick(s.toJSON(),"value")),this.tooltip.show(s)},_onChildViewMouseOut:function(t,e,i){this.tooltip.hide()}});return r});