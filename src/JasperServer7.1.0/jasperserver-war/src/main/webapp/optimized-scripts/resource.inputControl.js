var addInputControl={PAGE_ID:"addResource_inputControl",LABEL_ID:"label",RESOURCE_ID_ID:"name",DESCRIPTION_ID:"description",NEXT_BUTTON_ID:"next",NEXT_AND_SUBMIT_BUTTON_ID:"nextAndSubmit",TYPE_ID:"dataTypeKind",_canGenerateId:!0,initialize:function(e){this._form=$(this.PAGE_ID).select("form")[0],this._label=$(this.LABEL_ID),this._resourceId=$(this.RESOURCE_ID_ID),this._description=$(this.DESCRIPTION_ID),this._nextButton=$(this.NEXT_BUTTON_ID),this._nextAndSubmitButton=$(this.NEXT_AND_SUBMIT_BUTTON_ID),this._typeId=$(this.TYPE_ID),this._isEditMode=e.isEditMode,this._label.validator=resource.labelValidator.bind(this),this._resourceId.validator=resource.resourceIdValidator.bind(this),this._description.validator=resource.descriptionValidator.bind(this),this._initEvents()},_initEvents:function(){var e=function(e){this._isDataValid()||e.stop()}.bindAsEventListener(this);this._nextButton.observe("click",e),this._nextAndSubmitButton.observe("click",e),this._form.observe("keyup",function(e){var t=e.element(),i=[this._label,this._resourceId,this._description];i.include(t)&&(ValidationModule.validate(resource.getValidationEntries([t])),t==this._resourceId&&this._resourceId.getValue()!=resource.generateResourceId(this._label.getValue())&&(this._canGenerateId=!1),t==this._label&&!this._isEditMode&&this._canGenerateId&&(this._resourceId.setValue(resource.generateResourceId(this._label.getValue())),ValidationModule.validate(resource.getValidationEntries([this._resourceId]))))}.bindAsEventListener(this)),this._typeId.observe("change",function(e){1==e.element().value?(this._nextButton.addClassName("hidden"),this._nextAndSubmitButton.removeClassName("hidden")):(this._nextButton.removeClassName("hidden"),this._nextAndSubmitButton.addClassName("hidden"))}.bindAsEventListener(this))},_isDataValid:function(){var e=[this._label,this._resourceId,this._description];return ValidationModule.validate(resource.getValidationEntries(e))}};"undefined"==typeof require&&document.observe("dom:loaded",function(){addInputControl.initialize(localContext.initOptions)});