orgModule.serverActionFactory={browse:function(e){return this.createAction(orgModule.ActionMap.BROWSE,e)},search:function(e){return this.createAction(orgModule.ActionMap.SEARCH,e)},next:function(e){return this.createAction(orgModule.ActionMap.NEXT,e)},selectAndGetDetails:function(e){return this.createAction(orgModule.ActionMap.SELECT_AND_GET_DETAILS,e)},searchAvailable:function(e){return this.createAction(orgModule.ActionMap.SEARCH_AVAILABLE,e)},searchAssigned:function(e){return this.createAction(orgModule.ActionMap.SEARCH_ASSIGNED,e)},nextAvailable:function(e){return this.createAction(orgModule.ActionMap.NEXT_AVAILABLE,e)},nextAssigned:function(e){return this.createAction(orgModule.ActionMap.NEXT_ASSIGNED,e)},create:function(e){var t=e.entity,n={entity:Object.toJSON(t)};return this.createAction(orgModule.ActionMap.CREATE,n)},update:function(e){var t=e.entityName,n={entityName:t,entity:Object.toJSON(e.entity),assignedEntities:Object.toJSON(e.assigned),unassignedEntities:Object.toJSON(e.unassigned)};return this.createAction(orgModule.ActionMap.UPDATE,n,e.unencryptedEntity)},deleteAll:function(e){var t=e.entities,n={entities:Object.toJSON(t.collect(function(e){return e.getNameWithTenant()}))};return this.createAction(orgModule.ActionMap.DELETE_ALL,n)},"delete":function(e){var t=e.entity,n=e.entityEvent,o={entity:t.getNameWithTenant(),entityEvent:n};return this.createAction(orgModule.ActionMap.DELETE,o)},exist:function(e){var t=e.entity,n={entityName:t.getNameWithTenant()},o=new orgModule.ServerAction(orgModule.ActionMap.EXIST,n);return o.onSuccess=function(t){t.exist?e.onExist&&e.onExist(t.uniqueId):e.onNotExist&&e.onNotExist()},o.onError=function(t){orgModule.fire(orgModule.Event.SERVER_ERROR,{inputData:e,responseData:t})},o},createAction:function(e,t,n){var o,i=new orgModule.ServerAction(e,t);if(e==orgModule.ActionMap.BROWSE)o=orgModule.Event.RESULT_CHANGED;else if(e==orgModule.ActionMap.SEARCH)o=orgModule.Event.RESULT_CHANGED;else if(e==orgModule.ActionMap.NEXT)o=orgModule.Event.RESULT_NEXT;else if(e==orgModule.ActionMap.SELECT_AND_GET_DETAILS)o=orgModule.Event.ENTITY_DETAILS_LOADED;else if(e==orgModule.ActionMap.SEARCH_AVAILABLE)o=orgModule.Event.SEARCH_AVAILABLE_LOADED;else if(e==orgModule.ActionMap.SEARCH_ASSIGNED)o=orgModule.Event.SEARCH_ASSIGNED_LOADED;else if(e==orgModule.ActionMap.NEXT_AVAILABLE)o=orgModule.Event.NEXT_AVAILABLE_LOADED;else if(e==orgModule.ActionMap.NEXT_ASSIGNED)o=orgModule.Event.NEXT_ASSIGNED_LOADED;else if(e==orgModule.ActionMap.CREATE)o=orgModule.Event.ENTITY_CREATED;else if(e==orgModule.ActionMap.UPDATE)o=orgModule.Event.ENTITY_UPDATED;else if(e==orgModule.ActionMap.DELETE_ALL)o=orgModule.Event.ENTITIES_DELETED;else{if(e!=orgModule.ActionMap.DELETE)throw new Error("Unexpected action name '"+e+"'");o=orgModule.Event.ENTITY_DELETED}return i.onSuccess=function(e){orgModule.fire(o,{inputData:t,unencryptedEntity:n,responseData:e})},i.onError=function(e){orgModule.fire(orgModule.Event.SERVER_ERROR,{inputData:t,unencryptedEntity:n,responseData:e})},i}},orgModule.clientActionFactory={create:function(){var e;orgModule.manager.tenantsTree&&(e=orgModule.manager.tenantsTree.getTenant());var t=orgModule.entityList.getSelectedEntities(),n=function(){return invokeClientAction("cancelIfEdit",{entity:t[0]})};return new orgModule.Action(function(){orgModule.entityList.deselectAll(),orgModule.addDialog.show(e)},n)},deleteAll:function(){var e=orgModule.entityList.getSelectedEntities(),t=function(){return invokeClientAction("cancelIfEdit",{entity:e[0]})};return new orgModule.Action(function(){var t=orgModule.getMessage("deleteAllMessage",{count:e.length});require(["common/component/dialog/ConfirmationDialog"],function(n){var o=new n({text:t});o.on("button:yes",function(){invokeServerAction(orgModule.ActionMap.DELETE_ALL,{entities:e})}),o.open()})},t)},"delete":function(e){var t=e.entity,n=e.entityEvent;return new orgModule.Action(function(){var e=orgModule.getMessage("deleteMessage",{entity:t.getDisplayName()});require(["common/component/dialog/ConfirmationDialog"],function(o){var i=new o({text:e});i.on("button:yes",function(){invokeServerAction(orgModule.ActionMap.DELETE,{entity:t,entityEvent:n})}),i.open()})})},cancelIfEdit:function(e){e=e||{};var t=e.entity||orgModule.manager.tenantsTree&&orgModule.manager.tenantsTree.getTenant(),n="undefined"==typeof e.showConfirm?!0:e.showConfirm,o="undefined"==typeof e.entityEvent?!0:e.entityEvent,i=orgModule.properties;return new orgModule.Action(function(){return i.locked&&o||!(!i.isChanged()||n&&confirm(orgModule.getMessage("cancelEdit",{entity:t.getDisplayName()})))?(!o&&i.lock(),!1):(i.isEditMode&&(i.lock(),i.cancel().done(function(){var e=i.getDetailsLoadedEntity(),t=orgModule.userManager?orgModule.entityList.findEntity(e.fullName):!0;i.unlock(),t?orgModule.fire(orgModule.Event.ENTITY_SELECT_AND_GET_DETAILS,{entityId:e.id,cancelIfEdit:!0,entityEvent:!0}):i.hide()})),!0)})}};