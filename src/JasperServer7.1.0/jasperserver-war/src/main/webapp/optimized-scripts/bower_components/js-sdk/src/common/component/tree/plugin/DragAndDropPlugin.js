define(["require","underscore","jquery","./TreePlugin","jquery-ui/jquery.ui.draggable"],function(t){"use strict";var e=t("underscore"),r=t("jquery"),a=t("./TreePlugin");return t("jquery-ui/jquery.ui.draggable"),a.extend({initialize:function(t){this.onDragStart=t.onDragStart,this.onDrag=t.onDrag,this.onDragStop=t.onDragStop,a.prototype.initialize.apply(this,arguments)},itemsRendered:function(t){var a=this;this.$draggableElements=this.$("> .subcontainer > .j-view-port-chunk > ul > li > .draggable"),this.$draggableElements.draggable({cursor:"move",appendTo:r("#display"),cursorAt:{top:0,left:0},helper:function(t){return r('<div class="wrap button draggable dragging dragHelper"></div>')},start:function(n,i){for(var o=r(this),g=o.attr("data-index");void 0===g;)o=o.parent(),g=o.attr("data-index");g=parseInt(g,10);var u=e.reject(t.get("items"),function(t){return t.index!==g})[0].value;i.helper.text(u.label).data("data",u),a.onDragStart&&a.onDragStart(u,n)},drag:function(t,e){a.onDrag&&a.onDrag(e.helper.data("data"),t)},stop:function(t,e){a.onDragStop&&a.onDragStop(e.helper.data("data"),t)}})},remove:function(){try{this.$draggableElements.draggable("destroy")}catch(t){}a.prototype.remove.apply(this,arguments)}})});