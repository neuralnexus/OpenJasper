!function(){var o=Math,e=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",r="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,t="ontouchstart"in window,n=e+"Transform"in document.documentElement.style,s=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),c=/playbook/gi.test(navigator.appVersion),p=a||c,m=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),u=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),h="onorientationchange"in window?"orientationchange":"resize",d=t?"touchstart":"mousedown",S=t?"touchmove":"mousemove",b=t?"touchend":"mouseup",f=t?"touchcancel":"mouseup",g="Moz"==e?"DOMMouseScroll":"mousewheel",x="translate"+(r?"3d(":"("),T=r?",0)":")",v=function(o,l){var i,c=this,m=document;c.wrapper="object"==typeof o?o:m.getElementById(o),c.wrapper.style.overflow="hidden",c.scroller=c.wrapper.children[0],c.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:s,hideScrollbar:a,fadeScrollbar:a&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in l)c.options[i]=l[i];c.options.useTransform=n?c.options.useTransform:!1,c.options.hScrollbar=c.options.hScroll&&c.options.hScrollbar,c.options.vScrollbar=c.options.vScroll&&c.options.vScrollbar,c.options.zoom=c.options.useTransform&&c.options.zoom,c.options.useTransition=p&&c.options.useTransition,c.scroller.style[e+"TransitionProperty"]=c.options.useTransform?"-"+e.toLowerCase()+"-transform":"top left",c.scroller.style[e+"TransitionDuration"]="0",c.scroller.style[e+"TransformOrigin"]="0 0",c.options.useTransition&&(c.scroller.style[e+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),c.options.useTransform?c.scroller.style[e+"Transform"]=x+"0,0"+T:c.scroller.style.cssText+=";position:absolute;top:0;left:0",c.options.useTransition&&(c.options.fixedScrollbar=!0),c.refresh(),c._bind(h,window),c._bind(d),t||(c._bind("mouseout",c.wrapper),c._bind(g)),c.options.checkDOMChanges&&(c.checkDOMTime=setInterval(function(){c._checkDOMChanges()},500))};v.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var e=this;switch(o.type){case d:if(!t&&0!==o.button)return;e._start(o);break;case S:e._move(o);break;case b:case f:e._end(o);break;case h:e._resize();break;case g:e._wheel(o);break;case"mouseout":e._mouseout(o);break;case"webkitTransitionEnd":e._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(r){var t,s=this,l=document;return s[r+"Scrollbar"]?(s[r+"ScrollbarWrapper"]||(t=l.createElement("div"),s.options.scrollbarClass?t.className=s.options.scrollbarClass+r.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==r?"height:7px;bottom:1px;left:2px;right:"+(s.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(s.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;-"+e+"-transition-property:opacity;-"+e+"-transition-duration:"+(s.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(s.options.hideScrollbar?"0":"1"),s.wrapper.appendChild(t),s[r+"ScrollbarWrapper"]=t,t=l.createElement("div"),s.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+e+"-background-clip:padding-box;-"+e+"-box-sizing:border-box;"+("h"==r?"height:100%":"width:100%")+";-"+e+"-border-radius:3px;border-radius:3px"),t.style.cssText+=";pointer-events:none;-"+e+"-transition-property:-"+e+"-transform;-"+e+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+e+"-transition-duration:0;-"+e+"-transform:"+x+"0,0"+T,s.options.useTransition&&(t.style.cssText+=";-"+e+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),s[r+"ScrollbarWrapper"].appendChild(t),s[r+"ScrollbarIndicator"]=t),"h"==r?(s.hScrollbarSize=s.hScrollbarWrapper.clientWidth,s.hScrollbarIndicatorSize=o.max(o.round(s.hScrollbarSize*s.hScrollbarSize/s.scrollerW),8),s.hScrollbarIndicator.style.width=s.hScrollbarIndicatorSize+"px",s.hScrollbarMaxScroll=s.hScrollbarSize-s.hScrollbarIndicatorSize,s.hScrollbarProp=s.hScrollbarMaxScroll/s.maxScrollX):(s.vScrollbarSize=s.vScrollbarWrapper.clientHeight,s.vScrollbarIndicatorSize=o.max(o.round(s.vScrollbarSize*s.vScrollbarSize/s.scrollerH),8),s.vScrollbarIndicator.style.height=s.vScrollbarIndicatorSize+"px",s.vScrollbarMaxScroll=s.vScrollbarSize-s.vScrollbarIndicatorSize,s.vScrollbarProp=s.vScrollbarMaxScroll/s.maxScrollY),void s._scrollbarPos(r,!0)):void(s[r+"ScrollbarWrapper"]&&(n&&(s[r+"ScrollbarIndicator"].style[e+"Transform"]=""),s[r+"ScrollbarWrapper"].parentNode.removeChild(s[r+"ScrollbarWrapper"]),s[r+"ScrollbarWrapper"]=null,s[r+"ScrollbarIndicator"]=null))},_resize:function(){var o=this;setTimeout(function(){o.refresh()},s?200:0)},_pos:function(r,t){r=this.hScroll?r:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[e+"Transform"]=x+r+"px,"+t+"px"+T+" scale("+this.scale+")":(r=o.round(r),t=o.round(t),this.scroller.style.left=r+"px",this.scroller.style.top=t+"px"),this.x=r,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(r,t){var n,s=this,l="h"==r?s.x:s.y;s[r+"Scrollbar"]&&(l=s[r+"ScrollbarProp"]*l,0>l?(s.options.fixedScrollbar||(n=s[r+"ScrollbarIndicatorSize"]+o.round(3*l),8>n&&(n=8),s[r+"ScrollbarIndicator"].style["h"==r?"width":"height"]=n+"px"),l=0):l>s[r+"ScrollbarMaxScroll"]&&(s.options.fixedScrollbar?l=s[r+"ScrollbarMaxScroll"]:(n=s[r+"ScrollbarIndicatorSize"]-o.round(3*(l-s[r+"ScrollbarMaxScroll"])),8>n&&(n=8),s[r+"ScrollbarIndicator"].style["h"==r?"width":"height"]=n+"px",l=s[r+"ScrollbarMaxScroll"]+(s[r+"ScrollbarIndicatorSize"]-n))),s[r+"ScrollbarWrapper"].style[e+"TransitionDelay"]="0",s[r+"ScrollbarWrapper"].style.opacity=t&&s.options.hideScrollbar?"0":"1",s[r+"ScrollbarIndicator"].style[e+"Transform"]=x+("h"==r?l+"px,0":"0,"+l+"px")+T)},_start:function(r){var n,s,l,i,a,c=this,p=t?r.touches[0]:r;v.scrolling=!1,clearTimeout(v.scrollTimer),!c.enabled||Draggables.dragging||r.touches.length<2||(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,r),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&t&&r.touches.length>1&&(i=o.abs(r.touches[0].pageX-r.touches[1].pageX),a=o.abs(r.touches[0].pageY-r.touches[1].pageY),c.touchesDistStart=o.sqrt(i*i+a*a),c.originX=o.abs(r.touches[0].pageX+r.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=o.abs(r.touches[0].pageY+r.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,r)),c.options.momentum&&(c.options.useTransform?(n=getComputedStyle(c.scroller,null)[e+"Transform"].replace(/[^0-9-.,]/g,"").split(","),s=1*n[4],l=1*n[5]):(s=1*getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),l=1*getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(s!=c.x||l!=c.y)&&(c.options.useTransition?c._unbind("webkitTransitionEnd"):u(c.aniTime),c.steps=[],c._pos(s,l))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=r.timeStamp||(new Date).getTime(),c.options.onScrollStart&&c.options.onScrollStart.call(c,r),c._bind(S),c._bind(b),c._bind(f),v.scrolling=!0)},_move:function(r){var n,s,l,i=this,a=t?r.touches[0]:r,c=a.pageX-i.pointX,p=a.pageY-i.pointY,m=i.x+c,u=i.y+p,h=r.timeStamp||(new Date).getTime();return i.options.onBeforeScrollMove&&i.options.onBeforeScrollMove.call(i,r),i.options.zoom&&t&&r.touches.length>1?(n=o.abs(r.touches[0].pageX-r.touches[1].pageX),s=o.abs(r.touches[0].pageY-r.touches[1].pageY),i.touchesDist=o.sqrt(n*n+s*s),i.zoomed=!0,l=1/i.touchesDistStart*i.touchesDist*this.scale,l<i.options.scaleMin?l=.5*i.options.scaleMin*Math.pow(2,l/i.options.scaleMin):l>i.options.scaleMax&&(l=2*i.options.scaleMax*Math.pow(.5,i.options.scaleMax/l)),i.lastScale=l/this.scale,m=this.originX-this.originX*i.lastScale+this.x,u=this.originY-this.originY*i.lastScale+this.y,this.scroller.style[e+"Transform"]=x+m+"px,"+u+"px"+T+" scale("+l+")",void(i.options.onZoom&&i.options.onZoom.call(i,r))):(i.pointX=a.pageX,i.pointY=a.pageY,(m>0||m<i.maxScrollX)&&(m=i.options.bounce?i.x+c/2:m>=0||i.maxScrollX>=0?0:i.maxScrollX),(u>0||u<i.maxScrollY)&&(u=i.options.bounce?i.y+p/2:u>=0||i.maxScrollY>=0?0:i.maxScrollY),i.absDistX<6&&i.absDistY<6?(i.distX+=c,i.distY+=p,i.absDistX=o.abs(i.distX),void(i.absDistY=o.abs(i.distY))):(i.options.lockDirection&&(i.absDistX>i.absDistY+5?(u=i.y,p=0):i.absDistY>i.absDistX+5&&(m=i.x,c=0)),i.moved=!0,i._pos(m,u),i.dirX=c>0?-1:0>c?1:0,i.dirY=p>0?-1:0>p?1:0,h-i.startTime>300&&(i.startTime=h,i.startX=i.x,i.startY=i.y),void(i.options.onScrollMove&&i.options.onScrollMove.call(i,r))))},_end:function(r){if(!t||0==r.touches.length){var n,s,l,i,a,c,p=this,m=t?r.changedTouches[0]:r,u={dist:0,time:0},h={dist:0,time:0},d=(r.timeStamp||(new Date).getTime())-p.startTime,g=p.x,y=p.y;if(p._unbind(S),p._unbind(b),p._unbind(f),v.scrollTimer=setTimeout(function(){v.scrolling=!1},1e3),p.options.onBeforeScrollEnd&&p.options.onBeforeScrollEnd.call(p,r),p.zoomed)return c=p.scale*p.lastScale,c=Math.max(p.options.zoomMin,c),c=Math.min(p.options.zoomMax,c),p.lastScale=c/p.scale,p.scale=c,p.x=p.originX-p.originX*p.lastScale+p.x,p.y=p.originY-p.originY*p.lastScale+p.y,p.scroller.style[e+"TransitionDuration"]="200ms",p.scroller.style[e+"Transform"]=x+p.x+"px,"+p.y+"px"+T+" scale("+p.scale+")",p.zoomed=!1,p.refresh(),void(p.options.onZoomEnd&&p.options.onZoomEnd.call(p,r));if(!p.moved)return t&&(p.doubleTapTimer&&p.options.zoom?(clearTimeout(p.doubleTapTimer),p.doubleTapTimer=null,p.options.onZoomStart&&p.options.onZoomStart.call(p,r),p.zoom(p.pointX,p.pointY,1==p.scale?p.options.doubleTapZoom:1)):p.doubleTapTimer=setTimeout(function(){for(p.doubleTapTimer=null,n=m.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,r.view,1,m.screenX,m.screenY,m.clientX,m.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),s._fake=!0,n.dispatchEvent(s))},p.options.zoom?250:0)),p._resetPos(200),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,r));if(r.scrollEvent=!0,300>d&&p.options.momentum&&(u=g?p._momentum(g-p.startX,d,-p.x,p.scrollerW-p.wrapperW+p.x,p.options.bounce?p.wrapperW:0):u,h=y?p._momentum(y-p.startY,d,-p.y,p.maxScrollY<0?p.scrollerH-p.wrapperH+p.y:0,p.options.bounce?p.wrapperH:0):h,g=p.x+u.dist,y=p.y+h.dist,(p.x>0&&g>0||p.x<p.maxScrollX&&g<p.maxScrollX)&&(u={dist:0,time:0}),(p.y>0&&y>0||p.y<p.maxScrollY&&y<p.maxScrollY)&&(h={dist:0,time:0})),u.dist||h.dist)return a=o.max(o.max(u.time,h.time),10),p.options.snap&&(l=g-p.absStartX,i=y-p.absStartY,o.abs(l)<p.options.snapThreshold&&o.abs(i)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(snap=p._snap(g,y),g=snap.x,y=snap.y,a=o.max(snap.time,a))),p.scrollTo(g,y,a),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,r));if(p.options.snap)return l=g-p.absStartX,i=y-p.absStartY,o.abs(l)<p.options.snapThreshold&&o.abs(i)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(snap=p._snap(p.x,p.y),(snap.x!=p.x||snap.y!=p.y)&&p.scrollTo(snap.x,snap.y,snap.time)),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,r));p._resetPos(200),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,r)}},_resetPos:function(o){var r=this,t=r.x>=0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,n=r.y>=0||r.maxScrollY>0?0:r.y<r.maxScrollY?r.maxScrollY:r.y;return t==r.x&&n==r.y?(r.moved&&(r.moved=!1,r.options.onScrollEnd&&r.options.onScrollEnd.call(r)),r.hScrollbar&&r.options.hideScrollbar&&("webkit"==e&&(r.hScrollbarWrapper.style[e+"TransitionDelay"]="300ms"),r.hScrollbarWrapper.style.opacity="0"),void(r.vScrollbar&&r.options.hideScrollbar&&("webkit"==e&&(r.vScrollbarWrapper.style[e+"TransitionDelay"]="300ms"),r.vScrollbarWrapper.style.opacity="0"))):void r.scrollTo(t,n,o||0)},_wheel:function(o){var e,r,t,n,s,l=this;return"wheelDeltaX"in o?(e=o.wheelDeltaX/12,r=o.wheelDeltaY/12):e=r="detail"in o?3*-o.detail:-o.wheelDelta,"zoom"==l.options.wheelAction?(s=l.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),r<l.options.zoomMin&&(r=l.options.zoomMin),r>l.options.zoomMax&&(r=l.options.zoomMax),void(r!=l.scale&&(!l.wheelZoomCount&&l.options.onZoomStart&&l.options.onZoomStart.call(l,o),l.wheelZoomCount++,l.zoom(o.pageX,o.pageY,r,400),setTimeout(function(){l.wheelZoomCount--,!l.wheelZoomCount&&l.options.onZoomEnd&&l.options.onZoomEnd.call(l,o)},400)))):(t=l.x+e,n=l.y+r,t>0?t=0:t<l.maxScrollX&&(t=l.maxScrollX),n>0?n=0:n<l.maxScrollY&&(n=l.maxScrollY),void l.scrollTo(t,n,0))},_mouseout:function(o){var e=o.relatedTarget;if(!e)return void this._end(o);for(;e=e.parentNode;)if(e==this.wrapper)return;this._end(o)},_transitionEnd:function(o){var e=this;o.target==e.scroller&&(e._unbind("webkitTransitionEnd"),e._startAni())},_startAni:function(){var e,r,t=this,n=t.x,s=t.y,l=(new Date).getTime();if(!t.animating)return t.steps.length?(e=t.steps.shift(),e.x==n&&e.y==s&&(e.time=0),t.animating=!0,t.moved=!0,t.options.useTransition?(t._transitionTime(e.time),t._pos(e.x,e.y),t.animating=!1,void(e.time?t._bind("webkitTransitionEnd"):t._resetPos(0))):void function i(){var a,c,p=(new Date).getTime();return p>=l+e.time?(t._pos(e.x,e.y),t.animating=!1,t.options.onAnimationEnd&&t.options.onAnimationEnd.call(t),void t._startAni()):(p=(p-l)/e.time-1,r=o.sqrt(1-p*p),a=(e.x-n)*r+n,c=(e.y-s)*r+s,t._pos(a,c),void(t.animating&&(t.aniTime=m(i))))}()):void t._resetPos(400)},_transitionTime:function(o){o+="ms",this.scroller.style[e+"TransitionDuration"]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[e+"TransitionDuration"]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[e+"TransitionDuration"]=o)},_momentum:function(e,r,t,n,s){var l=6e-4,i=o.abs(e)/r,a=i*i/(2*l),c=0,p=0;return e>0&&a>t?(p=s/(6/(a/i*l)),t+=p,i=i*t/a,a=t):0>e&&a>n&&(p=s/(6/(a/i*l)),n+=p,i=i*n/a,a=n),a*=0>e?-1:1,c=i/l,{dist:a,time:o.round(c)}},_offset:function(o){for(var e=-o.offsetLeft,r=-o.offsetTop;o=o.offsetParent;)e-=o.offsetLeft,r-=o.offsetTop;return o!=this.wrapper&&(e*=this.scale,r*=this.scale),{left:e,top:r}},_snap:function(e,r){var t,n,s,l,i,a,c=this;for(s=c.pagesX.length-1,t=0,n=c.pagesX.length;n>t;t++)if(e>=c.pagesX[t]){s=t;break}for(s==c.currPageX&&s>0&&c.dirX<0&&s--,e=c.pagesX[s],i=o.abs(e-c.pagesX[c.currPageX]),i=i?o.abs(c.x-e)/i*500:0,c.currPageX=s,s=c.pagesY.length-1,t=0;s>t;t++)if(r>=c.pagesY[t]){s=t;break}return s==c.currPageY&&s>0&&c.dirY<0&&s--,r=c.pagesY[s],a=o.abs(r-c.pagesY[c.currPageY]),a=a?o.abs(c.y-r)/a*500:0,c.currPageY=s,l=o.round(o.max(i,a))||200,{x:e,y:r,time:l}},_bind:function(o,e,r){(e||this.scroller).addEventListener(o,this,!!r)},_unbind:function(o,e,r){(e||this.scroller).removeEventListener(o,this,!!r)},destroy:function(){var o=this;o.scroller.style[e+"Transform"]="",o.hScrollbar=!1,o.vScrollbar=!1,o._scrollbar("h"),o._scrollbar("v"),o._unbind(h,window),o._unbind(d),o._unbind(S),o._unbind(b),o._unbind(f),o.options.hasTouch&&(o._unbind("mouseout",o.wrapper),o._unbind(g)),o.options.useTransition&&o._unbind("webkitTransitionEnd"),o.options.checkDOMChanges&&clearInterval(o.checkDOMTime),o.options.onDestroy&&o.options.onDestroy.call(o)},refresh:function(){var r,t=this,n=0,s=0;if(v.scrolling=!1,t.scale<t.options.zoomMin&&(t.scale=t.options.zoomMin),t.wrapperW=t.wrapper.clientWidth||1,t.wrapperH=t.wrapper.clientHeight||1,t.scrollerW=o.round(t.scroller.offsetWidth*t.scale),t.scrollerH=o.round(t.scroller.offsetHeight*t.scale),t.maxScrollX=t.wrapperW-t.scrollerW,t.maxScrollY=t.wrapperH-t.scrollerH,t.dirX=0,t.dirY=0,t.hScroll=t.options.hScroll&&t.maxScrollX<0,t.vScroll=t.options.vScroll&&(!t.options.bounceLock&&!t.hScroll||t.scrollerH>t.wrapperH),t.hScrollbar=t.hScroll&&t.options.hScrollbar,t.vScrollbar=t.vScroll&&t.options.vScrollbar&&t.scrollerH>t.wrapperH,r=t._offset(t.wrapper),t.wrapperOffsetLeft=-r.left,t.wrapperOffsetTop=-r.top,"string"==typeof t.options.snap)for(t.pagesX=[],t.pagesY=[],els=t.scroller.querySelectorAll(t.options.snap),i=0,l=els.length;i<l;i++)n=t._offset(els[i]),n.left+=t.wrapperOffsetLeft,n.top+=t.wrapperOffsetTop,t.pagesX[i]=n.left<t.maxScrollX?t.maxScrollX:n.left*t.scale,t.pagesY[i]=n.top<t.maxScrollY?t.maxScrollY:n.top*t.scale;else if(t.options.snap){for(t.pagesX=[];n>=t.maxScrollX;)t.pagesX[s]=n,n-=t.wrapperW,s++;for(t.maxScrollX%t.wrapperW&&(t.pagesX[t.pagesX.length]=t.maxScrollX-t.pagesX[t.pagesX.length-1]+t.pagesX[t.pagesX.length-1]),n=0,s=0,t.pagesY=[];n>=t.maxScrollY;)t.pagesY[s]=n,n-=t.wrapperH,s++;t.maxScrollY%t.wrapperH&&(t.pagesY[t.pagesY.length]=t.maxScrollY-t.pagesY[t.pagesY.length-1]+t.pagesY[t.pagesY.length-1])}t._scrollbar("h"),t._scrollbar("v"),t.zoomed||(t.scroller.style[e+"TransitionDuration"]="0",t._resetPos(200))},scrollTo:function(o,e,r,t){var n,s,l=this,i=o;for(l.stop(),i.length||(i=[{x:o,y:e,time:r,relative:t}]),n=0,s=i.length;s>n;n++)i[n].relative&&(i[n].x=l.x-i[n].x,i[n].y=l.y-i[n].y),l.steps.push({x:i[n].x,y:i[n].y,time:i[n].time||0});l._startAni()},scrollToElement:function(e,r){var t,n=this;e=e.nodeType?e:n.scroller.querySelector(e),e&&(t=n._offset(e),t.left+=n.wrapperOffsetLeft,t.top+=n.wrapperOffsetTop,t.left=t.left>0?0:t.left<n.maxScrollX?n.maxScrollX:t.left,t.top=t.top>0?0:t.top<n.maxScrollY?n.maxScrollY:t.top,r=void 0===r?o.max(2*o.abs(t.left),2*o.abs(t.top)):r,n.scrollTo(t.left,t.top,r))},scrollToPage:function(o,e,r){var t,n,s=this;s.options.snap?(o="next"==o?s.currPageX+1:"prev"==o?s.currPageX-1:o,e="next"==e?s.currPageY+1:"prev"==e?s.currPageY-1:e,o=0>o?0:o>s.pagesX.length-1?s.pagesX.length-1:o,e=0>e?0:e>s.pagesY.length-1?s.pagesY.length-1:e,s.currPageX=o,s.currPageY=e,t=s.pagesX[o],n=s.pagesY[e]):(t=-s.wrapperW*o,n=-s.wrapperH*e,t<s.maxScrollX&&(t=s.maxScrollX),n<s.maxScrollY&&(n=s.maxScrollY)),s.scrollTo(t,n,r||400)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(S),this._unbind(b),this._unbind(f)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):u(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,r,t,n){var s=this,l=t/s.scale;s.options.useTransform&&(s.zoomed=!0,n=void 0===n?200:n,o=o-s.wrapperOffsetLeft-s.x,r=r-s.wrapperOffsetTop-s.y,s.x=o-o*l+s.x,s.y=r-r*l+s.y,s.scale=t,s.refresh(),s.x=s.x>0?0:s.x<s.maxScrollX?s.maxScrollX:s.x,s.y=s.y>0?0:s.y<s.maxScrollY?s.maxScrollY:s.y,s.scroller.style[e+"TransitionDuration"]=n+"ms",s.scroller.style[e+"Transform"]=x+s.x+"px,"+s.y+"px"+T+" scale("+t+")",s.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},"undefined"!=typeof exports?exports.iScroll=v:window.iScroll=v}();