define(["require","underscore","backbone","common/enum/httpStatusCodes","common/enum/errorCodes"],function(r){"use strict";var e=r("underscore"),o=r("backbone"),t=r("common/enum/httpStatusCodes"),n=r("common/enum/errorCodes"),s=o.Model.extend({initialize:function(){this.on("error",s.unifyServerErrors)},serialize:function(){return e.clone(this.attributes)}},{unifyServerErrors:function(r,e){var o=t[e.status],n=s.createServerError(e);r.trigger("error:"+o,r,n,e),r.trigger("error:all",r,n,e)},createServerError:function(r){var e;try{e=JSON.parse(r.responseText)}catch(o){e={message:"Can't parse server response",errorCode:n.UNEXPECTED_ERROR,parameters:[]}}return e}});return s});