define(["require","./jquery.ui.widget"],function(e){var t=e("./jquery.ui.widget"),o=function(){return"Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.indexOf("Trident/")>=0},s=!1,i=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var s=o.offsetWidth;return e.parentNode.removeChild(e),t-s},n=i(),u=function(){var e=0;if(s!==!1)return s;if(o())if("Netscape"===navigator.appName){var t=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else{var n=navigator.appVersion.split("MSIE")[1];e=parseFloat(n)}return s=e,e},r=function(){return 11===u()},a=function(e,t,o){return o>=e.top&&o<=e.bottom&&t>=e.left&&t<=e.right},m=function(e,t){var o,s=e.css("overflow");o="undefined"==typeof t||"y"===t?e.css("overflow-y"):e.css("overflow-x");var i=e.get(0).scrollHeight>e.innerHeight(),n="auto"===s||"visible"===s||"auto"===o||"visible"===o,u="scroll"===s||"scroll"===o;return i&&n||u},h=function(e){var o=e.pageX,s=e.pageY,i=t(e.target),u=m(i),r=m(i,"x"),h=null,l=null;return u&&(l={},l.top=i.offset().top,l.right=i.offset().left+i.outerWidth(),l.bottom=l.top+i.outerHeight(),l.left=l.right-n,a(l,o,s))?!0:r&&(h={},h.bottom=i.offset().top+i.outerHeight(),h.left=i.offset().left,h.top=h.bottom-n,h.right=h.left+i.outerWidth(),a(h,o,s))?!0:!1},l=!1;return t(document).mouseup(function(){l=!1}),t.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;r()&&(this._mousePressedOnScroll=!1,t(document).mousemove(this._mouseMove_IE_Fix.bind(this)),this.element.mousemove(this._mouseMove_IE_Fix.bind(this))),this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(o){return!0===t.data(o.target,e.widgetName+".preventClickEvent")?(t.removeData(o.target,e.widgetName+".preventClickEvent"),o.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseMove_IE_Fix:function(){this._mousePressedOnScroll&&(this._mouseUpDelegate(),this._mousePressedOnScroll=!1)},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!l){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var o=this,s=1===e.which,i="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!i&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return o._mouseMove(e)},this._mouseUpDelegate=function(e){return o._mouseUp(e)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),r()&&h(e)&&(this._mousePressedOnScroll=!0),e.preventDefault(),l=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t});