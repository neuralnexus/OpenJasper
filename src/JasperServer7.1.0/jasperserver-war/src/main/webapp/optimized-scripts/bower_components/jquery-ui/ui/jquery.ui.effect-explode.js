define(["require","./jquery.ui.effect"],function(e){var i=e("./jquery.ui.effect");return i.effects.effect.explode=function(e,t){function o(){M.push(this),M.length===l*r&&s()}function s(){u.css({visibility:"visible"}),i(M).remove(),v||u.hide(),t()}var f,n,c,d,a,h,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,r=l,u=i(this),p=i.effects.setMode(u,e.mode||"hide"),v="show"===p,b=u.show().css("visibility","hidden").offset(),y=Math.ceil(u.outerWidth()/r),w=Math.ceil(u.outerHeight()/l),M=[];for(f=0;l>f;f++)for(d=b.top+f*w,h=f-(l-1)/2,n=0;r>n;n++)c=b.left+n*y,a=n-(r-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*y,top:-f*w}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:y,height:w,left:c+(v?a*y:0),top:d+(v?h*w:0),opacity:v?0:1}).animate({left:c+(v?0:a*y),top:d+(v?0:h*w),opacity:v?1:0},e.duration||500,e.easing,o)},i});