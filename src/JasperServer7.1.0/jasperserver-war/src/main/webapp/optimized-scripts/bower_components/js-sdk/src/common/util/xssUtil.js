define(["require","jrs.configs"],function(e){var t=e("jrs.configs"),r="a,abbr,acronym,address,area,article,aside,b,bdi,bdo,big,blockquote,body,br,button,caption,center,cite,code,col,colgroup,dd,details,dfn,div,dl,dt,em,fieldset,font,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,label,legend,li,main,map,mark,menu,menuitem,meta,nav,ol,option,p,pre,section,select,small,span,strike,strong,sub,summary,sup,table,tbody,td,textarea,th,thead,title,tr,u,ul,!--",n={"(":"&#40;",")":"&#41;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(e){return null==e?"":e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},a=function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(i(r));return t},s=function(){var e,t={"&#111;":"o","&#110;":"n","&#115;":"s","&#114;":"r","&#99;":"c","&amp;":"&"};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[n[e]]=e);return t}(),o=RegExp("(?:"+a(n).join("|")+")","g"),c=/(?:\)|\()/g,l=/\bjavascript:/gi,p=/\bon(\w+?)\s*=/gi,u=/\bsrcdoc\s*=/gi,f=function(e,i){if(e=null==e?"":e,i=i||{},!("string"==typeof e||e instanceof String))return e;if(e.indexOf(t.xssNonce)>=0)return e;if(i.softHTMLEscape){if(e=c.test(e)?e.replace(c,function(e){return n[e]}):e,i.whiteList&&i.whiteList instanceof Array&&i.whiteList.length>0){var a=RegExp("<(?!/|"+i.whiteList.join("\\b|")+")","ig");e=a.test(e)?e.replace(a,"&lt;"):e;var s=RegExp("</(?!"+i.whiteList.join("\\b|")+")","ig");e=s.test(e)?e.replace(s,"&lt;/"):e}else{var f=r;if(i.escapeTags&&i.escapeTags instanceof Array)for(var g=0;g<i.escapeTags.length;++g)f=r.replace(i.escapeTags[g]+",","");var d=RegExp("<(?!/|"+f.replace(/,/g,"\\b|")+")","ig");e=d.test(e)?e.replace(d,"&lt;"):e;var b=RegExp("</(?!"+f.replace(/,/g,"\\b|")+")","ig");e=b.test(e)?e.replace(b,"&lt;/"):e}e=l.test(e)?e.replace(l,""):e,e=p.test(e)?e.replace(p,"&#111;&#110;$1="):e,e=u.test(e)?e.replace(u,"&#115;&#114;&#99;doc="):e}else e=o.test(e)?e.replace(o,function(e){return n[e]}):e;return e},g=RegExp("(?:"+a(s).join("|")+")","ig"),d=function(e){return e=null==e?"":e,"string"==typeof e||e instanceof String?e.indexOf(t.xssNonce)>=0?e:g.test(e)?e.replace(g,function(e){return s[e]}):e:e};return xssUtil={escape:f,unescape:d,noConflict:function(){}},xssUtil});