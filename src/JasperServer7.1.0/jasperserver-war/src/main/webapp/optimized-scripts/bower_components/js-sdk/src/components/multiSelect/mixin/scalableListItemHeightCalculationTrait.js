define(["require","jquery","components/scalableList/model/ScalableListModel","common/util/browserDetection","components/scalableList/util/domAndCssUtil"],function(t){"use strict";var i=t("jquery"),e=t("components/scalableList/model/ScalableListModel"),s=t("common/util/browserDetection"),l=t("components/scalableList/util/domAndCssUtil").doCalcOnVisibleNodeClone,h={render:function(){return this._itemHeightSet||(this._calcItemHeight(),this._itemHeightSet=!0),this},_calcItemHeight:function(){var t=this;this._model=this.model,this._lazy=this.lazy,this._visibility=this.$el.css("visibility"),this._display=this.$el.css("display"),this.model=new e({getData:function(){var t=new i.Deferred;return t.resolve({total:1,data:[{value:"test value",label:"test label"}]}),t}}),this.$el.css({visibility:"hidden",display:"block"}),this.model.once("change",this.onModelChange,this),this.renderData(),l({el:this.$el,css:{width:"100px"},classes:" jr "+(s.isIPad()?"ipad":""),callback:function(i){t.itemHeight=i.find("li").outerHeight(!0),t.itemsPerChunk=Math.floor(t.defaultChunkHeight/t.itemHeight),t.chunkHeight=t.itemsPerChunk*t.itemHeight}}),this.$el.empty().css({visibility:this._visibility,display:this._display}),delete this._visibility,delete this._display,this.totalItems=void 0,this.$firstViewChunk=void 0,this.model=this._model,delete this._model,this.lazy=this._lazy,this._lazy&&delete this._lazy},_calcViewPortConstants:function(){if(!this.viewPortConstantsInitialized){if(!this._itemHeightSet)return;this._calcViewPortHeight(),this._renderViewChunks(!0),this._renderItems(),this.viewPortConstantsInitialized=!0}}};return h});