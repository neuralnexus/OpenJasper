define(["require","backbone","underscore","text!../template/tooltipPopupTemplate.htm","../model/TooltipPopupModel","../enum/tooltipPlacements"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),o=e("text!../template/tooltipPopupTemplate.htm"),l=e("../model/TooltipPopupModel"),s=e("../enum/tooltipPlacements"),n=i.str.capitalize,a=t.View.extend({template:i.template(o),el:function(){return this.model||(this.model=new l),this.template(this.model.toJSON())},initialize:function(e){e=e||{},this.placement=e.placement,this.listenTo(this.model,"change",this.render)},render:function(){if(this.model.hasChanged("content")){var e=this.model.get("content");this.$(".jr-jTooltipText").text(e.text),this.$(".jr-jTooltipLabel").text(e.label)}if(this.model.hasChanged("visible")&&(this.model.get("visible")?this.$el.removeClass("jr-isInvisible"):this.$el.addClass("jr-isInvisible")),this.model.hasChanged("position")){var t=this.model.get("position");this.$el.css({position:"absolute",top:t.top+"px",left:t.left+"px"})}if(this.model.hasChanged("placement")){var i=n(this.model.previousAttributes().placement),o=n(this.model.get("placement"));this.$el.removeClass("jr-mTooltip"+i).addClass("jr-mTooltip"+o)}return this}},{PLACEMENTS:s});return a.prototype=i.extend({get placement(){return this._placement},set placement(e){if(i.isUndefined(e)||i.isString(e)&&0===e.length)e=a.PLACEMENTS.BOTTOM;else if(!i.isString(e))throw new TypeError("'placement' should be string");var t=Object.keys(a.PLACEMENTS).some(function(t){return a.PLACEMENTS[t]===e});if(!t)throw new Error("'placement' should be one of the available placements");this._placement=e}},a.prototype),a});