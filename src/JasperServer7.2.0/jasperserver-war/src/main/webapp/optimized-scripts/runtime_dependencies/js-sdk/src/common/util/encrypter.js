define(["require","common/extension/jQueryjCryptionExtensions"],function(n){"use strict";var e=n("common/extension/jQueryjCryptionExtensions"),t={};t.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.encode16BitString=function(n){var e,r,i,o,c,a,h,f,d,u,s,y,v=[],A="",p=t.code;if(s=n,(u=s.length%2)>0)for(;u++<2;)A+="===",s+="\0";for(u=0;u<s.length;u+=2)e=s.charCodeAt(u),r=s.charCodeAt(u+1),i=e<<16|r,o=i>>26&63,c=i>>20&63,a=i>>14&63,h=i>>8&63,f=i>>2&63,d=3&i,v[u/2]=p.charAt(o)+p.charAt(c)+p.charAt(a)+p.charAt(h)+p.charAt(f)+p.charAt(d);return y=v.join(""),y=y.slice(0,y.length-A.length)+A},t.decode16BitString=function(n){var e,r,i,o,c,a,h,f,d,u,s,y,v=[],A=t.code;y=n;for(var p=0;p<y.length;p+=6)c=A.indexOf(y.charAt(p)),a=A.indexOf(y.charAt(p+1)),h=A.indexOf(y.charAt(p+2)),f=A.indexOf(y.charAt(p+3)),d=A.indexOf(y.charAt(p+4)),u=A.indexOf(y.charAt(p+5)),s=c<<26|a<<20|h<<14|f<<8|d<<2|3&u,e=s>>>24&255,r=s>>>16&255,i=s>>>8&255,o=255&s,v[p/6]=String.fromCharCode(e<<8|r,i<<8|o),64==f&&(v[p/6]=v[p/6]=String.fromCharCode(e<<8|r));return v.join("")};var r={encryptData:function(n,t){if(!n)return void t();e.jCryption.getKeys("GetEncryptionKey",function(e){var i=e,o=[];for(var c in n)o.push(c);var a={};r._encryptDataRecursive(n,o,0,i,a,t)})},_encryptDataRecursive:function(n,t,i,o,c,a){if(t&&t.length!=i){var h=encodeURIComponent(n[t[i]]),f=h.split("").reverse().join("");e.jCryption.encryptKeyWithoutRedundancy(f,o,function(e){c[t[i]]=e,t.length==i+1?a(c):r._encryptDataRecursive(n,t,i+1,o,c,a)})}}};return r});