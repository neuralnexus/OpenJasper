define(["require","jquery","common/util/classUtil"],function(t){var i,n,e=t("jquery"),s=t("common/util/classUtil");return s.extend({constructor:function(t){i||(n=0,i=e("<div id='dialogDimmer' class='dimmer'></div>").css(t),e(document.body).append(i),i.hide()),n++},css:function(t){return i.css(t),this},show:function(){var t=this.getCount()||0;return this.setCount(++t),i.show(),this},hide:function(){if(this.isVisible()){var t=this.getCount();return this.setCount(--t),!t&&i.hide(),this}},setCount:function(t){i.data({count:t})},getCount:function(){return parseInt(i.data("count"),10)},isVisible:function(){return i.is(":visible")},remove:function(){this._removed||(this._removed=!0,i&&(--n||(i.remove(),i=null)))}})});