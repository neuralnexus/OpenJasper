define(["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),r=e("jquery"),i=function(e){t.bindAll(this,"getData"),e=e||{},this.format=e.format,this.request=e.request};return t.extend(i.prototype,{getData:function(e){var i=r.Deferred();return this.request(e).done(t.bind(this._requestDone,this,i)).fail(i.reject),i.promise()},_requestDone:function(e,t){if(this.format&&t&&t.data){var r=t.data;if(r.length>0&&!r[0].label)for(var i=0;i<r.length;i++)r[i].label=this.format(r[i].value)}e.resolve(t)}}),i});