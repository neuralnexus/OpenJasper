define(["require","underscore","requestSettings","request","common/util/parse/javaProperties"],function(e){"use strict";var r=e("underscore"),t=r.cloneDeep(e("requestSettings")),s=e("request"),a=e("common/util/parse/javaProperties");return t.headers["Cache-Control"]="private",delete t.headers.Pragma,{load:function(e,n,i,o){if(o.isBuild)return void i();var u=o.config.i18n||{},l=o.baseUrl?o.baseUrl+"../bundles":"/bundles",c=e.split("/")[0],p=u.locale?"_"+u.locale:"",d=u.paths&&u.paths[c]||"";e=e.replace(c,d),"/"!==e[0]&&(e="/"+e);var v=r.extend({},t,{type:"GET",url:l+e+p+".properties"});s(v).then(function(e){i(a(e))})}}});