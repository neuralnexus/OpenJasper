define(["require","underscore","settings/generalSettings","bi/repository/enum/olapConnectionTypesEnum","bi/repository/enum/repositoryResourceTypes","bundle!CommonBundle"],function(e){function r(e){switch(e.value.resourceType){case u.REPORT_UNIT:e.cssClass="report";break;case u.DOMAIN_TOPIC:e.cssClass="domain topic";break;case u.SEMANTIC_LAYER_DATA_SOURCE:e.cssClass="domain";break;case u.OLAP_CUBE:e.cssClass="olap"}return e}function o(e){return c[e]}var s=e("underscore"),n=e("settings/generalSettings"),t=e("bi/repository/enum/olapConnectionTypesEnum"),u=e("bi/repository/enum/repositoryResourceTypes"),i=e("bundle!CommonBundle"),c={folderTreeProcessor:{processItem:function(e){return e._readonly=!(1==e.value.permissionMask||4&e.value.permissionMask),e}},treeNodeProcessor:{processItem:function(e){return e._node=s.contains(s.union([u.FOLDER],t),e.value.resourceType),e}},i18nItemProcessor:{processItem:function(e){return e.i18n=i,e}},filterPublicFolderProcessor:{processItem:function(e){if(e.value.uri!=="/root"+n.publicFolderUri&&e.value.uri!=="/root"+n.tempFolderUri)return e}},filterEmptyFoldersProcessor:{processItem:function(e){if("folder"!==e.value.resourceType||""!==e.value._links.content)return e}},cssClassItemProcessor:{processItem:r},fakeUriProcessor:{processItem:function(e){return e.value.uri&&e.value.uri.match(/^\/root/)&&(e.value.uri=e.value.uri.replace("/root","")),e}}};return o});