define(["require","jquery","underscore","../base/OptionContainer","text!./template/menuOptionTemplate.htm","text!./template/menuContainerTemplate.htm","css!menu"],function(t){"use strict";var e=t("jquery"),i=t("underscore"),n=t("../base/OptionContainer"),o=t("text!./template/menuOptionTemplate.htm"),a=t("text!./template/menuContainerTemplate.htm");return t("css!menu"),n.extend({constructor:function(t,e){if(!t||!i.isArray(t)||0===t.length)throw new Error("Menu should have options");e||(e={}),n.call(this,{options:t,collection:e.collection,mainTemplate:e.menuContainerTemplate||a,optionTemplate:e.menuOptionTemplate||o,toggle:e.toggle,toggleClass:e.toggleClass}),this.maxSize=e.maxSize,this._onConstructor&&this._onConstructor(t,e)},initialize:function(){n.prototype.initialize.apply(this,arguments),e("body").append(this.$el),this._onInitialize&&this._onInitialize()},show:function(){var t=n.prototype.show.apply(this,arguments);return this.applyMaxSize(),t},applyMaxSize:function(){this.maxSize&&this.options.length>this.maxSize&&this.$el.css({"overflow-y":"auto","max-height":this.maxSize*this.options[0].$el.height()+"px"})}})});