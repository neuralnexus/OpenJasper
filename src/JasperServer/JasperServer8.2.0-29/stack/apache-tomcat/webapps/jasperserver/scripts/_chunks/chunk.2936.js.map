{"version":3,"sources":["webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/components/components.webHelp.js","webpack://jrs-ui/./src/components/list.base.js","webpack://jrs-ui/./src/namespace/namespace.js","webpack://jrs-ui/./src/util/utils.common.js"],"names":["JSTooltip","element","options","this","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","length","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","jQuery","css","initialZIndex","parents","toArray","memo","parent","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","position","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","layoutModule","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","attr","timer","clearTimeout","setTimeout","show","on","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","document","getElementById","setAttribute","removeAttribute","reject","t","webHelpModule","currentContext","displayWebHelp","webHelpModuleState","jrsConfigs","page","contextMap","helpURL","hostURL","pagePrefix","name","runPopup","open","focus","setCurrentContext","context","baseList","isResponsive","item","hasClass","isCollapsible","selectItem","_allowSelections","isItemDisabled","deselectItem","isItemSelected","disableItem","buttonManager","enableItem","openItem","isOpen","isItemOpen","closeItem","dynamicList","lists","activeListId","_templateHash","messages","getDynamicListForElement","$list","is","_itemId","undefined","_list","first","last","isIconClicked","_value","_label","_subList","subList","_cssClassName","cssClassName","_templateDomId","templateDomId","_respondOnItemEvents","Object","isUndefined","respondOnItemEvents","_excludeFromEventHandling","excludeFromEventHandling","_excludeFromSelectionTriggers","excludeFromSelectionTriggers","FAVORITE_ICON_PATTERN","favoriteIconPattern","SCHEDULE_ICON_PATTERN","scheduleIconPattern","ListItem","list","getList","getNextItemId","container","processTemplate","_getTemplate","_getElement","_generateId","tabindex","getValue","isLabel","getId","getLabel","listItem","refreshStyle","siblings","childElements","afterIndex","children","isCompositeSubList","posinset","insert","after","hadFocus","activeElement","remove","templateClassName","className","isSelected","isDisabled","getCssClassName","isComposite","cursor","isNotNullORUndefined","wrapper","cleanWhitespace","elementsCount","childNodes","data","removeItems","getItems","e","isElement","clone","DEFAULT_ITEM_ID_PREFIX","event","matchAny","target","CompositeItem","call","_items","items","_openUp","openUp","_subListOptions","listOptions","_listTagName","OPEN_HANDLER_PATTERN","openHandlerPattern","CLOSE_HANDLER_PATTERN","closeHandlerPattern","prototype","deepClone","tagName","_showSubList","_getSubListId","subListElement","Element","bottom","opts","List","allowSelections","responsive","_responsive","selectionDefaultsToCursor","_selectionDefaultsToCursor","collapsible","_collapsible","multiSelect","_multiSelect","listTemplateDomId","_listTemplateDomId","itemTemplateDomId","_itemTemplateDomId","itemCssClassName","_itemCssClassName","comparator","_comparator","_initEvents","_parentList","parentItem","bind","refresh","DEFAULT_SUB_LIST_ID_SUFFIX","TemplatedListItem","tooltipText","tempFunc","constructor","UnderscoreTemplatedListItem","_template","template","tempFunction","_id","_selectedItems","_lastSelectedItem","_nextId","draggables","listOrientation","_selectOnMousedown","selectOnMousedown","_setCursorOnMousedown","setCursorOnMousedown","dragPattern","scroll","setItems","_createFromTemplate","_registerCustomScroll","_msgNItemsSelected","Template","ITEM_SELECTED","ITEM_UNSELECTED","ITEM_MOUSEUP","ITEM_MOUSEDOWN","ITEM_CLICK","ITEM_DBLCLICK","ITEM_OPEN","ITEM_CLOSED","ITEM_CONTEXTMENU","ITEM_BEFORE_SELECT_OR_UNSELECT","newCursor","oldCursor","listEl","resetSelected","addItems","getCursor","compact","_prepareListItem","sort","pos","apply","concat","setList","getTemplateDomId","setTemplateDomId","setCssClassName","_removeItemFromSelected","getNextItem","getPreviousItem","unsetList","setCursor","scrollUpTo","getSelectedItems","closest","isCtrlHeld","isShiftKeyHeld","isContextMenu","fire","Event","stopSelectOrUnselect","isContextMenuOnSelected","reset","deselect","selectRange","start","end","min","i","_addItemToSelected","isShiftKey","findAll","skipParent","cursorEl","thatList","scrollEl","parentNode","scrollTop","scrollPortHeight","offsetHeight","correction","offsetTop","itemYPos","currentIndex","baseEvent","targetEvent","subItem","nextItem","preventDefault","stopPropagation","selectNext","isShiftHeld","previousItem","selectPrevious","stdnav","headerHack","newScrollTop","iterItem","outItem","source","gridItem","dataCellElement","currentCell","isFirstCellVisible","find","dataCell","itemsAmount","itemElements","isRendered","wasOpened","cursorWasFocus","getCursorElement","clean","eventName","handler","observe","stopObserving","itemList","idsAreEqual","parentListContainsChild","contains","_getTemplateElement","disableSelectionWithoutCursorStyle","currentElement","cloneCustomAttributes","remember","without","evaluate","count","scrollBar","up","identify","thisElem","matchingElem","getItemByEvent","Draggable","superghosting","mouseOffset","onStart","setDragStartState","onEnd","setDragEndState","draggable","slice","_buildDnDOverlay","scrollSensitivity","Draggables","regionID","matchMeOrUp","_isElementInExcluded","listEvent","isInvoked","_isExcludedFromSelectionTriggers","isCtrlHeldValue","isMetaHeld","isShiftHeldValue","isContextMenuValue","isRightClick","isSelect","TouchController","isSupportsTouch","changedTouches","deselectOthers","twofingers","node","createDraggableIfNeeded","type","iconEvent","_itemPreventEvent","touches","_isCloseHandler","_isOpenHandler","_mousedownHandler","bindAsEventListener","_mouseupHandler","isIPad","_mouseoverHandler","_clickHandler","_dblclickHandler","selectInwards","selectOutwards","selectPageDown","selectPageUp","selectFirst","selectLast","isFavHandler","isFavIcon","isOpenOrCloseHandler","which","_isFavoriteHandler","UnderscoreTemplatedList","arguments","temporaryFunc","JRS","vars","element_scrolled","ajax_in_progress","current_flow","contextPath","__jrsConfigs__","i18n","isEncryptionOn","isProVersion","jaspersoft","components","Mocks","Export","configs","TIMEOUT","DELAY","localContext","calendar","bundledCalendarFormat","bundledCalendarTimeFormat","log","isMacOS","isOS","isWindowsOS","isLinuxOS","osName","navigator","appVersion","toLowerCase","isAndroid","isMozilla","appName","isFirefox","userAgent","isWebKitEngine","Prototype","isChrome","platform","isIE","isIE6","isIEVersion","isIE7","isIE8","isIE9","isIE10","isIE11","isIEVersion7Upwards","getIEVersion","testVersion","version","ua","RegExp","exec","parseFloat","$1","msVersion","doNothing","addDataToForm","form","postData","addHiddenInputToForm","parameterName","parameterValue","input","val","append","parameterValues","updateYearMonth","date","year","month","setFullYear","setMonth","getMonth","getTZOffset","timezoneLabel","targetDateStr","utc_offset","tzList","utc","utc_dst","moment","isDST","exists","obj","isNumber","object","hasDisabledAttributeSet","getAttribute","getParentDiv","getAbsoluteParent","child","nextOne","style","getElementWithIdAndTagAndParent","parentElem","elems","getElementsByTagName","getClosestAncestor","cssRule","result","isDescendantOf","getCellIndex","cell","cellIndex","getRowIndex","row","rowIndex","ancestors","any","s","hasClassName","patterns","includeAncestors","match","j","upMatch","pattern","stylesMatch","elem1","elem2","styleName","getStyle","getNextMatchingSibling","nextSibling","getNextNonMatchingSibling","getPreviousMatchingSibling","previousSibling","getPreviousNonMatchingSibling","getAbsoluteOffsets","thisObj","oLeft","offsetLeft","oTop","thisParent","offsetParent","toUpperCase","Array","offsetWidth","getAbsoluteTopOffset","updatedTop","includeScrollOffsets","$","cumulativeOffset","posLeft","posTop","scrollOffsets","cumulativeScrollOffset","getInnerText","innerText","textContent","isPointOverlayingObject","x","y","Position","boxesOverlap","leftA","topA","rightA","bottomA","leftB","topB","rightB","bottomB","boxesOverlapVertically","boxesOverlapHorizontally","getOuterHeight","Number","replace","getBufferHeight","getOuterWidth","getBufferWidth","includeMargins","visible","digitRegex","marginTop","marginBottom","ceil","marginLeft","marginRight","getDimensionInPx","dimension","measurement","parentMeasurement","right","getActualDimension","purgeChildElements","kids","l","purge","removeChild","d","n","a","attributes","getCaret","el","selectionStart","selection","r","createRange","re","createTextRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","isAlmostInView","theElem","offset","getWindowHeight","getTouchedElement","elementFromPoint","centerLayer","getWindowWidth","centerElement","jquery","get","horz","w","getWidth","theWidth","vert","h","getHeight","theHeight","parseFunc","prefix","cssClasses","substring","cascadeElement","theBufferedWidth","parentWidth","horzOffset","number","theBufferedHeight","parentHeight","vertOffset","fitObjectIntoScreen","thisLeft","thisTop","thisWidth","thisHeight","sl","st","sw","sh","focusOn","selectAndFocusOn","renderHazeLayer","theBody","body","renderOverlay","scrollWidth","scrollHeight","overlayObject","createElement","appendChild","removeOverlay","reParent","newParent","getScrollLeftForAbsoluteParent","parentObj","scrollLeft","getScrollTopForAbsoluteParent","renderTransparentIFrame","iframe","frameBorder","Function","func","compose","argFunction","invokingFunction","overlayObjectStack","pushOverlayObject","elementId","pushOverlayObjectAtOffsets","pushTotalOverlayObject","popOverlayObject","pop","popAllOverlayObjects","disableSelection","KhtmlUserSelect","onselectstart","cancelBubble","MozUserSelect","enableSelection","theState","cursorDefault","cursorPointer","cursorWait","getCellAtColumn","cells","columnIndex","columnCount","colspan","getCellAtRow","rows","thisCell","rowspan","copyTable","fromT","toT","paramsAreTBody","fromBody","toBody","clearTable","html","copyTableJquery","myTable","all","deleteRow","scrollX","scrollY","scrollXToMiddle","excess","launchNewWindow","url","getIFrameDocument","iFrame","doc","contentWindow","contentDocument","getEvent","popEvent","cancelEventBubbling","triggerNativeEvent","ev","ie","documentElement","createEvent","initEvent","dispatchEvent","fireEvent","createEventObject","relatedTargetInElementSubtree","relatedTarget","descendantOf","cancelEventAndPreventDefault","enterKeyHit","charCode","whichKeyHit","keyCode","ctrlKey","shiftKey","getEventTarget","isNavigationInput","code","Keys","DOM_VK_LEFT","DOM_VK_RIGHT","DOM_VK_TAB","DOM_VK_BACK_SPACE","DOM_VK_ENTER","verifyIsDigitInput","DOM_VK_0","DOM_VK_9","verifyIsInputNumericDecimalSeparator","keyPad","String","fromCharCode","decimalSeparator","numberOfDecimals","someNumericValue","wordLen","charAt","macOSKeyboardRightClick","button","macOSMouseRightClick","buttonRightclick","keyboardClick","mouseClick","isLeftClick","macUsesAlt","altKey","metaKey","trim","thisStr","strip","startsWith","string1","string2","getTextAfterUnderscore","theText","getTextAfterSubstring","getTextBeforeUnderscore","getTextBeforeSubstring","extractNumber","str","theSubstring","ssIndex","removeTrailingSlash","theString","removeTrailingPound","removeChars","charArray","replaceAll","str1","str2","gsub","jsHash","ret","clazz","textCounter","field","maxlimit","saveAndClear","myString","saveString","escapeString","escapeChars","alwaysUseFirstPattern","firstPattern","escapeChar","formatString","string","indexes","parts","splitText","splitPosition","substr","redirectToUrl","referLink","href","click","location","downloadFileByUrl","targetIframeId","targetIframe","display","checkURLProtocol","urlString","enforcePrefix","commonProtocols","getSymbolToAppendNextParam","urlSoFar","lastChar","restoreDefaultCursor","encodeText","encodeURIComponent","decodeText","decodeURIComponent","constrain","lower","upper","fromElement","toElement","attribute","initLog","logIt","task","Date","getTime","debug","message","console","startTimer","key","time","stopTimer","timeEnd","response","status","inspect","myObj","properties","property","hasOwnProperty","toBlockNotation","dotNotationString","map","getAsFunction","functionName","toFunction","theFunction","blockReference","eval","BusyMonitor","waitTime","InPlaceEditor","editing","evaluateScripts","containerObj","scripts","script","globalEval","evaluateScript","scriptId","scriptText","loadJSFiles","scriptLibraryArray","thisFile","loadJSFile","unloadAllScripts","loadCSSFiles","cssFileArray","addToBody","loadCSSFile","unloadCSSFile","cssLink","escape","unloadCSSFiles","ex","alert","createCSSRule","cssString","getFirstMatch","cssSelector","dialogOnMouseDown","cancelEventDragTarget","Dragger","DragListener","run","args","functionToCall","cancel","makeEditable","self","inputId","inputValue","inputBox","Builder","onceSelected","hover","onblur","onblurFunction","onkeyPressFunction","KEY_TAB","mouseHandler","onclickFunction","ontouchend","onmousedown","onkeydown","KEY_ESC","onescFunction","makeNonEditable","firstDescendant","revertEdit","cancelEventDrag","encodeUriParameter","replaceHTML","insertBefore","gotoDefaultLocation","params","gotoFolderExplorer","folderUri","switchDesign","switchTo","thisUrl","hasDecParam","showDiv","divId","div","oldZindex","hideDiv","borderImage","color","borderColor","resetRadio","radio","changed","checked","launchAboutDlg","aboutPanel","hideAboutDlg","unescapeBackslash","times","tracer","nativeCodeEx","indentCount","tracing","traceMe","methodName","traceOn","startTime","indentString","info","prop","traceOff","traceAll","root","recurse","test","untraceAll","thisTracing","ValidationModule","validate","validationEntries","showError","that","validateEntry","valid","entry","validationEntry","msg","validator","validateLegacy","selector","_validateElement","stdnavAlerting","errorMessage","method","_runValidatorOnElement","validators","hideError","methods","res","isValid","attachOnEvent","_getMessage","customMessages","defaultMessages","fillPlaceholders","mandatory","tooSmall","tooBig","tooShort","tooLong","wordInvalidChars","shouldStartWithLetter","minMax","isNaN","minMaxLength","minLength","maxLength","resourceIdChars","initOptions","resourceIdNotSupportedSymbols","wordChars","search","startsWithLetter","isDecimal","isInteger","elemsWithErrors","onValid","onInvalid","_showMessage","containerClass","messageTypeClass","msgContainer","validatorMessageContainer","utilsCommonEnum","classes","detailsMessage","detailsBtn","dialogs","errorPopup","showDetails","showSuccess","successMessage","cleanMessage","hideSuccess","ClassNameBuilder","classNameBuilder","names","uniq","newNames","isString","newName","JSCookie","days","_getCookies","_setCookie","cookies","cookie","invoke","nv","decodeURI","getCookieTemplate","encodeURI","expires","_getExpiresDate","toGMTString","setTime","daysToExpiration","sessionManager","RESET_SESSION_MIN_TIME","resetSession","flowExecutionKey","_lastSessionResetTime","buildActionUrl","eventId","errorHandler","ajaxNonReturningUpdate","ajaxAgent","getResponseHeader","urlContext","paramsClone","$w","toQueryString","pageDimmer","DOM_ID","owner","dialogIndex","setZindex","zindex","fileSender","ajaxIframeDownload","onload","src","parseAsDate","parseAsDateTime","padNumber","toTimestampString","getUTCFullYear","getDate","getHours","getMinutes","getSeconds","upload","flowId","callback","uploadMultiple","inputs","action","enctype","fileInput","cloneNode","file","moveEventHandlers","inp","submit","fromEl","toEl","CACHE","cache","getUniqueElementID","registry","registryEntry","uniqueID","_prototypeUID","Storage","UID","frame","c","floor","random","loaded","onComplete","f","frames","sessionTimeoutHandler","metas","content","DOM_VK_PAGE_UP","DOM_VK_DOWN","DOM_VK_INSERT","DOM_VK_DELETE","DOM_VK_NUMPAD0","DOM_VK_NUMPAD9","DOM_VK_DECIMAL","DOM_VK_COMMA","DOM_VK_PERIOD","DOM_VK_CANCEL","DOM_VK_HELP","DOM_VK_CLEAR","DOM_VK_RETURN","DOM_VK_SHIFT","DOM_VK_CONTROL","DOM_VK_ALT","DOM_VK_PAUSE","DOM_VK_CAPS_LOCK","DOM_VK_ESCAPE","DOM_VK_SPACE","DOM_VK_PAGE_DOWN","DOM_VK_END","DOM_VK_HOME","DOM_VK_UP","DOM_VK_PRINTSCREEN","DOM_VK_1","DOM_VK_2","DOM_VK_3","DOM_VK_4","DOM_VK_5","DOM_VK_6","DOM_VK_7","DOM_VK_8","DOM_VK_SEMICOLON","DOM_VK_EQUALS","DOM_VK_A","DOM_VK_B","DOM_VK_C","DOM_VK_D","DOM_VK_E","DOM_VK_F","DOM_VK_G","DOM_VK_H","DOM_VK_I","DOM_VK_J","DOM_VK_K","DOM_VK_L","DOM_VK_M","DOM_VK_N","DOM_VK_O","DOM_VK_P","DOM_VK_Q","DOM_VK_R","DOM_VK_S","DOM_VK_T","DOM_VK_U","DOM_VK_V","DOM_VK_W","DOM_VK_X","DOM_VK_Y","DOM_VK_Z","DOM_VK_CONTEXT_MENU","DOM_VK_NUMPAD1","DOM_VK_NUMPAD2","DOM_VK_NUMPAD3","DOM_VK_NUMPAD4","DOM_VK_NUMPAD5","DOM_VK_NUMPAD6","DOM_VK_NUMPAD7","DOM_VK_NUMPAD8","DOM_VK_MULTIPLY","DOM_VK_ADD","DOM_VK_SEPARATOR","DOM_VK_SUBTRACT","DOM_VK_SUBTRACT_UNDERSCORE_IE","DOM_VK_DIVIDE","DOM_VK_F1","DOM_VK_F2","DOM_VK_F3","DOM_VK_F4","DOM_VK_F5","DOM_VK_F6","DOM_VK_F7","DOM_VK_F8","DOM_VK_F9","DOM_VK_F10","DOM_VK_F11","DOM_VK_F12","DOM_VK_F13","DOM_VK_F14","DOM_VK_F15","DOM_VK_F16","DOM_VK_F17","DOM_VK_F18","DOM_VK_F19","DOM_VK_F20","DOM_VK_F21","DOM_VK_F22","DOM_VK_F23","DOM_VK_F24","DOM_VK_NUM_LOCK","DOM_VK_SCROLL_LOCK","DOM_VK_SLASH","DOM_VK_BACK_QUOTE","DOM_VK_OPEN_BRACKET","DOM_VK_BACK_SLASH","DOM_VK_CLOSE_BRACKET","DOM_VK_QUOTE","DOM_VK_META","compileTemplate","templateSelector","oldSettings","interpolate"],"mappings":"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","file":"_chunks/chunk.2936.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            var actualX = offsets[0];\n            var actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([actualX, actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                actualX = evt.clientX;\n                actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.removeAttribute(\"id\");\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\n\nconst DEFAULT_CONTEXT = 'default';\n\nconst webHelpModule = {\n    currentContext: DEFAULT_CONTEXT,\n    displayWebHelp() {\n        // If webHelpModuleState is undefined doesn't display Web Help\n        const { webHelpModuleState } = jrsConfigs;\n        if (!webHelpModuleState) {\n            return;\n        }\n        const page = webHelpModuleState.contextMap[webHelpModule.currentContext];\n        const helpURL = `${webHelpModuleState.hostURL}/${webHelpModuleState.pagePrefix}${page}`;\n        window.name = '';\n        const runPopup = window.open(helpURL, 'MCWebHelp');\n        if (runPopup) {\n            runPopup.focus();\n        }\n    },\n    setCurrentContext(context) {\n        webHelpModule.currentContext = context;\n    }\n};\n\nexport default webHelpModule;\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport {Draggables, Draggable} from 'dragdropextra';\nimport {Template} from 'prototype';\nimport layoutModule from '../core/core.layout';\nimport buttonManager from '../core/core.events.bis';\nimport {\n    isNotNullORUndefined,\n    matchAny,\n    deepClone,\n    isArray,\n    isShiftHeld,\n    disableSelectionWithoutCursorStyle,\n    cloneCustomAttributes,\n    matchMeOrUp,\n    isMetaHeld,\n    isRightClick,\n    isSupportsTouch,\n    isIPad\n} from '../util/utils.common';\n\nimport TouchController from '../util/touch.controller';\nimport {JSTooltip} from \"./components.tooltip\";\nimport _ from 'underscore';\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport jQuery from 'jquery';\nimport stdnav from 'js-sdk/src/common/stdnav/stdnav';\n\nvar baseList = {\n    isResponsive: function (item) {\n        return jQuery(item).parent().hasClass(layoutModule.RESPONSIVE_CLASS);\n    },\n    isCollapsible: function (item) {\n        return jQuery(item).parent().hasClass(layoutModule.COLLAPSIBLE_CLASS);\n    },\n    selectItem: function (item) {\n        if (this._allowSelections) {\n            if (this.isItemDisabled(item)) {\n                return;\n            }\n            jQuery(item).addClass(layoutModule.SELECTED_CLASS);\n        }\n    },\n    deselectItem: function (item) {\n        jQuery(item).removeClass(layoutModule.SELECTED_CLASS);\n    },\n    isItemSelected: function (item) {\n        return jQuery(item).hasClass(layoutModule.SELECTED_CLASS);\n    },\n    disableItem: function (item) {\n        buttonManager.disable(item);\n    },\n    enableItem: function (item) {\n        buttonManager.enable(item);\n    },\n    isItemDisabled: function (item) {\n        return buttonManager.isDisabled(item);\n    },\n    openItem: function (item) {\n        jQuery(item).removeClass(layoutModule.CLOSED_CLASS).addClass(layoutModule.OPEN_CLASS)[0].isOpen = true;\n    },\n    isItemOpen: function (item) {\n        return jQuery(item).hasClass(layoutModule.OPEN_CLASS) || jQuery(item)[0].isOpen && !jQuery(item).hasClass(layoutModule.CLOSED_CLASS);\n    },\n    closeItem: function (item) {\n        jQuery(item).removeClass(layoutModule.OPEN_CLASS).addClass(layoutModule.CLOSED_CLASS)[0].isOpen = false;\n    }\n};    ///////////////////////////////////////////////////////\n// Global module for all list related code\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Global module for all list related code\n///////////////////////////////////////////////////////\nvar dynamicList = {\n    /**\n     * Map of all created lists on current page\n     */\n    lists: {},\n    /**\n     * Id of last active list\n     */\n    activeListId: null,\n    _templateHash: {},\n    messages: { 'listNItemsSelected': '#{count} items selected' },\n    /**\n     * @return {dynamicList}\n     */\n    getDynamicListForElement: function (element) {\n        var $list = jQuery(element)[0];\n        if (!jQuery($list).is('ul,ol')) {\n            $list = jQuery($list).parent('ul,ol');\n            if ($list.length === 0) {\n                return null;\n            }\n        }\n        return dynamicList.lists[$list.id];\n    }\n};    ///////////////////////////////////////////////////////\n// ListItem\n///////////////////////////////////////////////////////\n/**\n * Respond on events: dblclick, click, mouseover, mousedown, mouseup, key:down and key:up\n * Options:\n *      respondOnItemEvents - when false all event will be ignored\n *      excludeFromEventHandling - [selectorPattern1, selectorPattern2]\n *      excludeFromSelectionTriggers - []\n *\n * @param options\n */\n///////////////////////////////////////////////////////\n// ListItem\n///////////////////////////////////////////////////////\n/**\n * Respond on events: dblclick, click, mouseover, mousedown, mouseup, key:down and key:up\n * Options:\n *      respondOnItemEvents - when false all event will be ignored\n *      excludeFromEventHandling - [selectorPattern1, selectorPattern2]\n *      excludeFromSelectionTriggers - []\n *\n * @param options\n */\ndynamicList.ListItem = function (options) {\n    this._itemId = undefined;\n    this._list = undefined;\n    this.first = false;\n    this.last = false;\n    if (options) {\n        this.isIconClicked = true;\n        this._value = options.value ? options.value : {};\n        this._label = options.label ? options.label : '';\n        this._subList = options.subList;\n        this._cssClassName = 'cssClassName' in options ? options.cssClassName : undefined;\n        this._templateDomId = 'templateDomId' in options ? options.templateDomId : undefined;\n        this._respondOnItemEvents = !Object.isUndefined(options.respondOnItemEvents) ? options.respondOnItemEvents : true;\n        this._excludeFromEventHandling = 'excludeFromEventHandling' in options ? options.excludeFromEventHandling : undefined;\n        this._excludeFromSelectionTriggers = 'excludeFromSelectionTriggers' in options ? options.excludeFromSelectionTriggers : undefined;\n        this.FAVORITE_ICON_PATTERN= options.favoriteIconPattern ;\n        this.SCHEDULE_ICON_PATTERN= options.scheduleIconPattern ;\n\n    }\n};    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addVar('DEFAULT_TEMPLATE_DOM_ID', 'dynamicListItemTemplate');\ndynamicList.ListItem.addVar('DEFAULT_ITEM_ID_PREFIX', 'item');\ndynamicList.ListItem.addVar('DEFAULT_SUB_LIST_ID_SUFFIX', 'SubList');    ///////////////////////////////////////////////////////\n// Public ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets ID of the item, which is being generated by the list.\n * @return {Number} ID of the item\n */\n///////////////////////////////////////////////////////\n// Public ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets ID of the item, which is being generated by the list.\n * @return {Number} ID of the item\n */\ndynamicList.ListItem.addMethod('getId', function () {\n    return this._itemId;\n});    /*\n * Sets the list and generates new id in that list.\n * This method is used by the list to set reference on itself.\n *\n * @param list {{@see dynamicList.List}}\n */\n/*\n * Sets the list and generates new id in that list.\n * This method is used by the list to set reference on itself.\n *\n * @param list {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('setList', function (list) {\n    this._list = list;\n    // This function should no longer be used for this purpose.\n    // Use \"unsetList\" instead.\n    // FIXME: Turn this on when logging is added to this module!\n    // this.logger.warn(\"deprecated use case\");\n    if (this.getList()) {\n        this._itemId = this.getList().getNextItemId();\n    }\n});    /*\n * Explicitly clears the item's link to its previous list.\n * Use this function instead of setList(null) or setList(undefined).\n *\n * @param list {{@see dynamicList.List}}\n */\n/*\n * Explicitly clears the item's link to its previous list.\n * Use this function instead of setList(null) or setList(undefined).\n *\n * @param list {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('unsetList', function () {\n    this._list = null;    // listItem IDs depend on their assigned list.\n    // listItem IDs depend on their assigned list.\n    this._itemId = undefined;\n});    /*\n * Gets the list where this item is listed.\n *\n * @return {{@see dynamicList.List}}\n */\n/*\n * Gets the list where this item is listed.\n *\n * @return {{@see dynamicList.List}}\n */\ndynamicList.ListItem.addMethod('getList', function () {\n    return this._list;\n});    /**\n * Sets value of the item.\n *\n * @param {String}\n */\n/**\n * Sets value of the item.\n *\n * @param {String}\n */\ndynamicList.ListItem.addMethod('setValue', function (value) {\n    return this._value = value;\n});    /**\n * Gets value of the item.\n *\n * @return {String}\n */\n/**\n * Gets value of the item.\n *\n * @return {String}\n */\ndynamicList.ListItem.addMethod('getValue', function () {\n    return this._value;\n});    /**\n * Sets label defined by user.\n *\n * @param {Object}\n */\n/**\n * Sets label defined by user.\n *\n * @param {Object}\n */\ndynamicList.ListItem.addMethod('setLabel', function (label) {\n    return this._label = label;\n});    /**\n * Gets label of the item defined by user.\n *\n * @return {Object}\n */\n/**\n * Gets label of the item defined by user.\n *\n * @return {Object}\n */\ndynamicList.ListItem.addMethod('getLabel', function () {\n    return this._label;\n});    /**\n * Setter and getter for the style of the item.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n */\n/**\n * Setter and getter for the style of the item.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n */\ndynamicList.ListItem.addMethod('setCssClassName', function (cssClassName) {\n    this._cssClassName = cssClassName;\n}).addMethod('getCssClassName', function () {\n    return this._cssClassName;\n});    /**\n * Sets the ID of DOM element which will be used for rendering of mark up.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n *\n * @param templateDomId {String}\n */\n/**\n * Sets the ID of DOM element which will be used for rendering of mark up.\n * Changes of the style will be applied after call of method {@see dynamicList.ListItem#refresh}\n *\n * @param templateDomId {String}\n */\ndynamicList.ListItem.addMethod('setTemplateDomId', function (templateDomId) {\n    this._templateDomId = templateDomId;\n});    /**\n * Gets the ID of the current template of the item.\n *                                  Attr\n * @return {String}\n */\n/**\n * Gets the ID of the current template of the item.\n *                                  Attr\n * @return {String}\n */\ndynamicList.ListItem.addMethod('getTemplateDomId', function () {\n    return this._templateDomId;\n});    /**\n * Render the item specified container.\n * Use this method when you need re-render item.\n *\n * @param container {DOMElement}\n */\n/**\n * Render the item specified container.\n * Use this method when you need re-render item.\n *\n * @param container {DOMElement}\n */\ndynamicList.ListItem.addMethod('show', function (container) {\n    if (!container) {\n        return;\n    }\n    this._element = this.processTemplate(this._getTemplate());\n    this._getElement().setAttribute('id', this._generateId());\n    this._getElement().setAttribute('tabindex', -1);\n    this.first && this.getList().tabindex && jQuery(this._getElement()).attr('tabindex', this.getList().tabindex);\n    this.first && this.getValue().isLabel && jQuery('#'+this.getList().getId()).attr('aria-label', this.getLabel().split(':')[0]);\n    this._getElement().listItem = this;\n    this.refreshStyle();\n    let siblings = container.childElements();\n    let itemIndex = this.index();\n    let afterIndex = itemIndex - 1;\n\n    if(jQuery(this._element.children).attr('role') === 'row'){\n        jQuery(this._element).children('[role=\"row\"]').attr('aria-posinset',this.getId());\n        jQuery(this._element).children('[role=\"row\"]').attr('aria-level',1);\n        jQuery(this._element).children('[role=\"row\"]').attr('aria-setsize',-1);\n    }\n    if(this._list.isCompositeSubList){\n        let posinset = parseInt(jQuery(this._element).children('[role=\"row\"]').attr('aria-posinset'));\n        jQuery(this._element).children('[role=\"row\"]').attr('aria-level',posinset+1)\n        jQuery(this._element).children('[role=\"row\"]').attr('aria-setsize',-1);\n    }\n\n    afterIndex > -1 && afterIndex < siblings.length ? this._getElement().insert({ after: siblings[afterIndex] }) : jQuery(container)[0].insert(this._getElement());\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('refresh', function () {\n    var hadFocus = false;    // NOTE: _getElement is not just a simple accessor, and apparently has\n    // side-effects which are required elsewhere.\n    // NOTE: _getElement is not just a simple accessor, and apparently has\n    // side-effects which are required elsewhere.\n    if (!this._getElement()) {\n        return;\n    }\n    if (this.getList()) {\n        if (document.activeElement === this._getElement()) {\n            hadFocus = true;\n        }\n        this._element = this.processTemplate(this._getElement());\n        this.refreshStyle();\n        if (hadFocus) {\n            jQuery(this._getElement()).focus();\n        }\n    } else {\n        this._getElement().remove();\n        this._element = null;\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('refreshStyle', function () {\n    var element = this._getElement();    // List may not have been rendered yet.\n    // List may not have been rendered yet.\n    if (!element) {\n        return;\n    }\n    if (element.templateClassName) {\n        element.className = element.templateClassName;\n    }\n    if (this.first) {\n        jQuery(element).addClass(layoutModule.FIRST_CLASS);\n    }\n    if (this.last) {\n        jQuery(element).addClass(layoutModule.LAST_CLASS);\n    }\n    if (this.isSelected()) {\n        jQuery(element).addClass(layoutModule.SELECTED_CLASS);\n    }\n    if (this.isDisabled()) {\n        jQuery(element).addClass(layoutModule.DISABLED_CLASS);\n    }\n    if (this.getCssClassName()) {\n        jQuery(element).addClass(this.getCssClassName());\n    }    // Update cursor styles.  Note that cursor logic for composite items will\n    // be done after this call.\n    // Update cursor styles.  Note that cursor logic for composite items will\n    // be done after this call.\n    if (!this.isComposite) {\n        if (this === this.getList().cursor) {\n            jQuery(element).addClass('cursor');\n        }\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('isRendered', function () {\n    return isNotNullORUndefined(this._getElement());\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('disable', function () {\n    baseList.disableItem(this._getElement());\n}).addMethod('enable', function () {\n    baseList.enableItem(this._getElement());\n}).addMethod('isDisabled', function () {\n    return baseList.isItemDisabled(this._getElement());\n});    /**\n * Prepare mark up template of the item before render or process existing mark up when refresh the item.\n * If template was changed method should be overridden.\n *\n * @param {DOMElement} - current item element\n * @return {DOMElement} - element ready for use\n */\n/**\n * Prepare mark up template of the item before render or process existing mark up when refresh the item.\n * If template was changed method should be overridden.\n *\n * @param {DOMElement} - current item element\n * @return {DOMElement} - element ready for use\n */\ndynamicList.ListItem.addMethod('processTemplate', function (element) {\n    var wrapper = element.childElements()[0];\n    wrapper.cleanWhitespace();\n    var elementsCount = wrapper.childElements().length;\n    if (elementsCount == wrapper.childNodes.length) {\n        wrapper.insert(xssUtil.hardEscape(this.getLabel()));\n    } else {\n        wrapper.childNodes[elementsCount].data = this.getLabel();\n    }    //  $(wrapper.parentNode).writeAttribute(\"tabIndex\",-1);\n    //  $(wrapper.parentNode).writeAttribute(\"tabIndex\",-1);\n    return element;\n});    /**\n * focus on this node's element\n */\n/**\n * focus on this node's element\n */\ndynamicList.ListItem.addMethod('focus', function () {\n    this._getElement().focus();\n});    /**\n * Removes it self from the list.\n */\n/**\n * Removes it self from the list.\n */\ndynamicList.ListItem.addMethod('remove', function () {\n    this.getList().removeItems([this]);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('isSelected', function () {\n    return this.getList().isItemSelected(this);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('select', function () {\n    this.getList().selectItem(this, true);\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.ListItem.addMethod('deselect', function () {\n    this.getList().deselectItem(this);\n});\ndynamicList.ListItem.addMethod('index', function () {\n    this.getList().getItems().indexOf(this);\n});    ///////////////////////////////////////////////////////\n// Private ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets or looking for DOM element of this item.\n *\n * @return {DOMElement}\n */\n///////////////////////////////////////////////////////\n// Private ListItem methods\n///////////////////////////////////////////////////////\n/**\n * Gets or looking for DOM element of this item.\n *\n * @return {DOMElement}\n */\ndynamicList.ListItem.addMethod('_getElement', function () {\n    if (!this._element) {\n        var e = jQuery('#' + this._generateId())[0];\n        this._element = Object.isElement(e) ? e : undefined;\n    }\n    return this._element;\n});\ndynamicList.ListItem.addMethod('_getTemplate', function () {\n    var id = this._templateDomId;\n    if (!dynamicList._templateHash[id]) {\n        dynamicList._templateHash[id] = id;\n    }\n    var clone = document.getElementById(dynamicList._templateHash[id]).clone(true);\n    clone.templateId = id;\n    clone.templateClassName = clone.className;\n    return clone;\n});\ndynamicList.ListItem.addMethod('_generateId', function () {\n    // There are some weird situations where this can get called due to a\n    // refresh while deleting an item.  In these situations, the item may no\n    // longer be assigned to a list.  In this case, this function returns\n    // null.\n    if (!this.getList() || !this.getList().getId()) {\n        return null;\n    }\n    return this.getList().getId() + '_' + this.DEFAULT_ITEM_ID_PREFIX + this.getId();\n});\ndynamicList.ListItem.addMethod('_isElementInExcluded', function (event, item) {\n    var element = event.element();\n    return this._excludeFromEventHandling && matchAny(element, this._excludeFromEventHandling) != null;\n});\ndynamicList.ListItem.addMethod('_isExcludedFromSelectionTriggers', function (event) {\n    var element = event.target;\n    return this._excludeFromSelectionTriggers && matchAny(element, this._excludeFromSelectionTriggers) != null;\n});\ndynamicList.ListItem.addMethod('_isFavoriteHandler', function (element) {\n    return jQuery(element).is(this.FAVORITE_ICON_PATTERN);\n});\ndynamicList.ListItem.addMethod('_isScheduleHandler', function (element) {\n    return jQuery(element).is(this.SCHEDULE_ICON_PATTERN);\n})///////////////////////////////////////////////////////\n// Composite List Item\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Composite List Item\n///////////////////////////////////////////////////////\ndynamicList.CompositeItem = function (options) {\n    dynamicList.ListItem.call(this, options);\n    this.isComposite = true;\n    this._items = options.items;\n    this._openUp = options.openUp;\n    this._subList = null;\n    this._subListOptions = options.listOptions ? options.listOptions : {};\n    this._listTagName = 'ul';\n    this.FAVORITE_ICON_PATTERN = options.favoriteIconPattern ;\n    this.SCHEDULE_ICON_PATTERN = options.scheduleIconPattern;\n    this.OPEN_HANDLER_PATTERN = options.openHandlerPattern ? options.openHandlerPattern : this.OPEN_HANDLER_PATTERN;\n    this.CLOSE_HANDLER_PATTERN = options.closeHandlerPattern ? options.closeHandlerPattern : this.CLOSE_HANDLER_PATTERN;\n};\ndynamicList.CompositeItem.prototype = deepClone(dynamicList.ListItem.prototype);\ndynamicList.CompositeItem.addVar('OPEN_HANDLER_PATTERN', '[openHandler=openHandler]');\ndynamicList.CompositeItem.addVar('CLOSE_HANDLER_PATTERN', '[closeHandler=closeHandler]');\ndynamicList.CompositeItem.addMethod('getItems', function () {\n    return this._items;\n});\ndynamicList.CompositeItem.addMethod('setItems', function (items) {\n    this._items = items;\n});\ndynamicList.CompositeItem.addMethod('addItem', function (item) {\n    this._items.push(item);\n});\ndynamicList.CompositeItem.addMethod('removeItems', function (items) {\n    this._items = this._items.reject(function (item) {\n        return items.include(item);\n    });\n    this._subList.removeItems(items);\n});\ndynamicList.CompositeItem.addMethod('show', function (container) {\n    this._listTagName = container.tagName;\n    dynamicList.ListItem.prototype.show.call(this, container);\n    baseList.closeItem(this._getElement());\n    if (!this._items) {\n        return;\n    }\n    this._showSubList();\n});\ndynamicList.CompositeItem.addMethod('_showSubList', function () {\n    var id = this._getSubListId();\n    var subListElement = new Element(this._listTagName, { id: id });\n    this._getElement().insert(this._openUp ? { top: subListElement } : { bottom: subListElement });\n    var opts = this._subListOptions;\n    this._subList = new dynamicList.List(id, {\n        allowSelections: 'allowSelections' in opts ? opts.allowSelections : this.getList()._allowSelections,\n        responsive: 'responsive' in opts ? opts.responsive : this.getList()._responsive,\n        selectionDefaultsToCursor: 'selectionDefaultsToCursor' in opts ? opts.selectionDefaultsToCursor : this.getList()._selectionDefaultsToCursor,\n        collapsible: 'collapsible' in opts ? opts.collapsible : this.getList()._collapsible,\n        multiSelect: 'multiSelect' in opts ? opts.multiSelect : this.getList()._multiSelect,\n        cssClassName: 'cssClassName' in opts ? opts.cssClassName : this.getList()._cssClassName,\n        listTemplateDomId: 'listTemplateDomId' in opts ? opts.listTemplateDomId : this.getList()._listTemplateDomId,\n        itemTemplateDomId: 'itemTemplateDomId' in opts ? opts.itemTemplateDomId : this.getList()._itemTemplateDomId,\n        itemCssClassName: 'itemCssClassName' in opts ? opts.itemCssClassName : this.getList()._itemCssClassName,\n        comparator: 'comparator' in opts ? opts.comparator : this.getList()._comparator,\n        items: this._items,\n        isCompositeSubList: true\n\n    });\n    this._subList._initEvents = function () {\n    };\n    this._subList.show();\n    this._subList._parentList = this.getList();\n    this._subList.getItems().each(function (item) {\n        item.parentItem = this;\n    }.bind(this));\n});\ndynamicList.CompositeItem.addMethod('refresh', function () {\n    dynamicList.ListItem.prototype.refresh.call(this);\n    if (!this._items) {\n        return;\n    }\n    if (this._subList) {\n        this._subList.refresh();\n    } else {\n        this._showSubList();\n    }\n});\ndynamicList.CompositeItem.addMethod('getFirstChild', function () {\n    if (this._subList.getItems().length < 1) {\n        // No children, OR, children still loading.\n        return null;\n    }\n    return this._subList.getItems()[0];\n});\ndynamicList.CompositeItem.addMethod('refreshStyle', function () {\n    dynamicList.ListItem.prototype.refreshStyle.call(this);\n    if (!this._getElement()) {\n        // List has not been rendered yet.\n        return;\n    }\n    if (baseList.isItemOpen(this._getElement())) {\n        baseList.openItem(this._getElement());\n        if (this === this.getList().cursor) {\n            if (this._subList && this._subList.cursor) {\n                // Sublist is open, and an item is an active cursor.\n                jQuery(this._getElement()).addClass('supercursor');\n            } else {\n                // Sublist is open, but has no active cursor.\n                jQuery(this._getElement()).addClass('cursor');\n            }\n        }\n    } else {\n        baseList.closeItem(this._getElement());\n        if (this === this.getList().cursor) {\n            jQuery(this._getElement()).addClass('cursor');\n        }\n    }\n    if (!this._subList) {\n        return;\n    }\n    this._subList.refreshStyle();\n});\ndynamicList.CompositeItem.addMethod('_isOpenHandler', function (element) {\n    return jQuery(element).is(this.OPEN_HANDLER_PATTERN);\n}).addMethod('_isCloseHandler', function (element) {\n    return jQuery(element).is(this.CLOSE_HANDLER_PATTERN);\n}).addMethod('_isFavoriteHandler', function (element) {\n    return jQuery(element).is(this.FAVORITE_ICON_PATTERN);\n}).addMethod('_isScheduleHandler', function (element) {\n    return jQuery(element).is(this.SCHEDULE_ICON_PATTERN);\n});\ndynamicList.CompositeItem.addMethod('_getSubListId', function () {\n    return this._generateId() + '_' + this.DEFAULT_SUB_LIST_ID_SUFFIX;\n});    ///////////////////////////////////////////////////////\n// Templated list item - uses Mustache to process item content as a template. Takes fields of item.getValue() to fill the template\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// Templated list item - uses Mustache to process item content as a template. Takes fields of item.getValue() to fill the template\n///////////////////////////////////////////////////////\ndynamicList.TemplatedListItem = function (options) {\n    if (options) {\n        this.tooltipText = 'tooltipText' in options ? options.tooltipText : null;\n    }\n    dynamicList.ListItem.call(this, options);\n};\nvar tempFunc = function () {\n};\ntempFunc.prototype = dynamicList.ListItem.prototype;\ndynamicList.TemplatedListItem.prototype = new tempFunc();\ndynamicList.TemplatedListItem.prototype.constructor = dynamicList.TemplatedListItem;\ndynamicList.TemplatedListItem.prototype.processTemplate = function (element) {};\n// List element that is rendered from Underscore template string passed as an option\ndynamicList.UnderscoreTemplatedListItem = function (options) {\n    dynamicList.TemplatedListItem.call(this, options);\n    if (options) {\n        this._template = 'template' in options ? options.template : '';\n    }\n};\nvar tempFunction = function () {\n};\ntempFunction.prototype = dynamicList.TemplatedListItem.prototype;\ndynamicList.UnderscoreTemplatedListItem.prototype = new tempFunction();\ndynamicList.UnderscoreTemplatedListItem.prototype.constructor = dynamicList.UnderscoreTemplatedListItem;\ndynamicList.UnderscoreTemplatedListItem.prototype._getTemplate = function () {\n    return this._template;\n};\ndynamicList.UnderscoreTemplatedListItem.prototype.processTemplate = function () {\n    var element = jQuery(_.template(this._template, xssUtil.hardEscape(this.getValue())))[0];\n    element.templateClassName = element.className;\n    if (this.tooltipText != null) {\n        new JSTooltip(element, { text: xssUtil.hardEscape(this.tooltipText) });\n    }\n    return element;\n};    ///////////////////////////////////////////////////////\n// List Component\n///////////////////////////////////////////////////////\n/*\n * Dynamically creates items on specified UL element. Supports sorting and ...\n *\n * @param id {String} - ID of the UL element, this id will be used as ID of the list.\n * @param options {JSON Object}\n * <ul>\n * <li>items {Array} - array of {@link dynamicList.ListItem}, which need be shown when object is created</li>\n * </ul>\n */\n///////////////////////////////////////////////////////\n// List Component\n///////////////////////////////////////////////////////\n/*\n * Dynamically creates items on specified UL element. Supports sorting and ...\n *\n * @param id {String} - ID of the UL element, this id will be used as ID of the list.\n * @param options {JSON Object}\n * <ul>\n * <li>items {Array} - array of {@link dynamicList.ListItem}, which need be shown when object is created</li>\n * </ul>\n */\ndynamicList.List = function (id, options) {\n    this._id = id;\n    this._items = [];\n    this._selectedItems = [];\n    this._lastSelectedItem = null;\n    this.cursor = null;\n    this._nextId = 1;    // private static var\n    // private static var\n    this.draggables = [];\n    this._parentList = null;\n    this.listOrientation = null;\n    if (options) {\n        // Options with defaults.\n        this._selectionDefaultsToCursor = 'selectionDefaultsToCursor' in options ? options.selectionDefaultsToCursor : true;\n        this._allowSelections = 'allowSelections' in options ? options.allowSelections : true;\n        this._cssClassName = 'cssClassName' in options ? options.cssClassName : '';\n        this._excludeFromEventHandling = 'excludeFromEventHandling' in options ? options.excludeFromEventHandling : false;\n        this._excludeFromSelectionTriggers = 'excludeFromSelectionTriggers' in options ? options.excludeFromSelectionTriggers : false;\n        this._multiSelect = 'multiSelect' in options ? options.multiSelect : false;\n        this._selectOnMousedown = 'selectOnMousedown' in options ? options.selectOnMousedown : true;\n        this._setCursorOnMousedown = 'setCursorOnMousedown' in options ? options.setCursorOnMousedown : true;    // Options with no default other than \"undefined\".\n        // Options with no default other than \"undefined\".\n        this._listTemplateDomId = options.listTemplateDomId;\n        this._itemTemplateDomId = options.itemTemplateDomId;\n        this._itemCssClassName = options.itemCssClassName;\n        this._comparator = options.comparator;\n        this.listOrientation = options.listOrientation;\n        this.dragPattern = options.dragPattern;\n        this.scroll = options.scroll;    // An initial set of items may be passed in with the options hash.\n        // An initial set of items may be passed in with the options hash.\n        this.isCompositeSubList= options.isCompositeSubList;\n        this.setItems(options.items);\n    }\n    this._createFromTemplate();\n    this._registerCustomScroll();\n    dynamicList.activeListId = this.getId();\n    this._msgNItemsSelected = new Template(dynamicList.messages['listNItemsSelected']);\n    dynamicList.lists[this._id] = this;\n};\ndynamicList.List.addVar('Event', {\n    ITEM_SELECTED: 'item:selected',\n    ITEM_UNSELECTED: 'item:unselected',\n    ITEM_MOUSEUP: 'item:mouseup',\n    ITEM_MOUSEDOWN: 'item:mousedown',\n    ITEM_CLICK: 'item:click',\n    ITEM_DBLCLICK: 'item:dblclick',\n    ITEM_OPEN: 'item:open',\n    ITEM_CLOSED: 'item:closed',\n    ITEM_CONTEXTMENU: 'item:contextmenu',\n    ITEM_BEFORE_SELECT_OR_UNSELECT: 'item:beforeSelectOrUnselect'\n});\ndynamicList.List.addVar('DND_WRAPPER_TEMPLATE', 'column_two');\ndynamicList.List.addVar('DND_ITEM_TEMPLATE', 'column_two:resourceName');    ///////////////////////////////////////////////////////\n// List public methods\n///////////////////////////////////////////////////////\n///////////////////////////////////////////////////////\n// List public methods\n///////////////////////////////////////////////////////\ndynamicList.List.addMethod('getNextItemId', function () {\n    return this._nextId++;\n});    /**\n * Gets ID of the list which can be used to find this list in map {@see dynamicList.lists}\n *\n * @return {String} - ID for the list and DOM element\n */\n/**\n * Gets ID of the list which can be used to find this list in map {@see dynamicList.lists}\n *\n * @return {String} - ID for the list and DOM element\n */\ndynamicList.List.addMethod('getId', function () {\n    return this._id;\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getItems', function () {\n    return this._items;\n});    /**\n * Resets list items with new items and sorts items, if comparator is defined.\n * @param items {Array} - new array of {@link dynamicList.ListItem}\n */\n/**\n * Resets list items with new items and sorts items, if comparator is defined.\n * @param items {Array} - new array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('setItems', function (items) {\n    if (!items) {\n        return;\n    }    // If the list had a cursor, a new cursor will need to be assigned.\n    // Likewise, if focus is lost, focus will need to be reassigned to prevent\n    // missing blur events when elements are dropped.\n    // NOTE: Do NOT use getCursor here, as it will attempt to assign a cursor\n    // if none exists, which in turn may add the cursor to the selection set,\n    // depending on list options.  THAT, in turn, could fire user callbacks\n    // that appear to run on items that are about to be replaced.  That could\n    // (and did) cause Filter problems on the Search Results page.\n    // If the list had a cursor, a new cursor will need to be assigned.\n    // Likewise, if focus is lost, focus will need to be reassigned to prevent\n    // missing blur events when elements are dropped.\n    // NOTE: Do NOT use getCursor here, as it will attempt to assign a cursor\n    // if none exists, which in turn may add the cursor to the selection set,\n    // depending on list options.  THAT, in turn, could fire user callbacks\n    // that appear to run on items that are about to be replaced.  That could\n    // (and did) cause Filter problems on the Search Results page.\n    var oldCursor = this.cursor;\n    var listEl = this._getElement();\n    var hadFocus = false;\n    if (listEl && (listEl === document.activeElement || jQuery.contains(listEl, document.activeElement))) {\n        hadFocus = true;\n    }\n    this._items = [];\n    this.resetSelected();\n    this.addItems(items);\n    var newCursor;\n    if (oldCursor) {\n        // A new cursor will be assigned, if any items exist.\n        newCursor = this.getCursor();\n    }\n    if (hadFocus) {\n        if (newCursor && newCursor._getElement()) {\n            // NOTE: StdNav plugin for dynamicList will auto-promote focus when\n            // available (accessibility extensions are on) and possible (items\n            // exist), but this is more efficient.\n            jQuery(newCursor._getElement()).focus();\n        } else if (listEl) {\n            // No items, no suitable cursor, or cursor has not been rendered\n            // yet-- focus the list itself.\n            jQuery(listEl).focus();\n        }  // FIXME: Enable when logger is added\n        // this.logger.error(\"Focus has been abandoned; region tabindex may be lost\");\n        //console.error(\"Focus has been abandoned; region tabindex may be lost\");\n    }\n});    /**\n * Adds items to array items of list and sorts it, if comparator is defined.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Adds items to array items of list and sorts it, if comparator is defined.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('addItems', function (items) {\n    if (!items) {\n        return;\n    }\n    items = _.isArray(items) ? items : [items];\n    items.compact().each(function (item) {\n        this._prepareListItem(item);\n        this._items.push(item);\n    }.bind(this));\n    if (this._comparator) {\n        this._items = this._items.sort(this._comparator);\n    }\n});    /**\n * Inserts items to appropriate position in array items of list.\n *\n * WARNING: Using this function with sortable lists may cause unexpected results\n *\n * @param pos {int} - position of element after which new items will be inserted.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Inserts items to appropriate position in array items of list.\n *\n * WARNING: Using this function with sortable lists may cause unexpected results\n *\n * @param pos {int} - position of element after which new items will be inserted.\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('insertItems', function (pos, items) {\n    if (!items) {\n        return;\n    }\n    items = _.isArray(items) ? items : [items];\n    items = items.compact();\n    items.each(function (item) {\n        this._prepareListItem(item);\n    }.bind(this));\n    this._items.splice.apply(this._items, [\n        pos,\n        0\n    ].concat(items));\n    if (this._comparator) {\n        this._items = this._items.sort(this._comparator);\n    }\n});    /**\n * Prepare List Item for adding to list. Set List reference, template DOM ID and css class name.\n */\n/**\n * Prepare List Item for adding to list. Set List reference, template DOM ID and css class name.\n */\ndynamicList.List.addMethod('_prepareListItem', function (item) {\n    if (!item) {\n        return;\n    }\n    item.setList(this);\n    if (this._itemTemplateDomId && !item.getTemplateDomId()) {\n        // If list has specified template for all items and there is no other template\n        item.setTemplateDomId(this._itemTemplateDomId);\n    }\n    if (this._itemCssClassName && !item.getCssClassName()) {\n        // If list has specified CSS class for all items and the item don't has CSS class\n        item.setCssClassName(this._itemCssClassName);\n    }\n    if (this._excludeFromEventHandling && !item._excludeFromEventHandling) {\n        item._excludeFromEventHandling = this._excludeFromEventHandling;\n    }\n    if (this._excludeFromSelectionTriggers && !item._excludeFromSelectionTriggers) {\n        item._excludeFromSelectionTriggers = this._excludeFromSelectionTriggers;\n    }\n});    /**\n * Removes specified items from list\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\n/**\n * Removes specified items from list\n * @param items {Array} - array of {@link dynamicList.ListItem}\n */\ndynamicList.List.addMethod('removeItems', function (items) {\n    if (!items || !isArray(items)) {\n        return;\n    }    // The current cursor and/or browser focus may be lost as a result of this\n    // operation.  Deleting the current focus does NOT fire blur events!\n    // Therefore it is critical to MOVE focus prior to deleting the element, if\n    // it is focused.\n    // The current cursor and/or browser focus may be lost as a result of this\n    // operation.  Deleting the current focus does NOT fire blur events!\n    // Therefore it is critical to MOVE focus prior to deleting the element, if\n    // it is focused.\n    var newCursor = this.getCursor();\n    var lostFocus = false;    // Deselect items PRIOR to removal.\n    // Deselect items PRIOR to removal.\n    items.each(function (item) {\n        // Note that _removeItemFromSelected is used instead of deselectItem to\n        // avoid changing the cursor prematurely.  This avoids callers reacting\n        // to selection/deselection events (which occur as a result of the cursor\n        // change on lists with alwaysSelectCursor style) on items that do not\n        // exist by the time they attempt to handle those events.\n        this._removeItemFromSelected(item);\n        if (newCursor === item) {\n            // If we are removing the cursor (or the prospective new cursor),\n            // ensure a new cursor is assigned.\n            newCursor = this.getNextItem(item);\n            if (!newCursor) {\n                newCursor = this.getPreviousItem(item);\n            }\n        }\n    }.bind(this));\n    this._items = this._items.reject(function (item) {\n        return items.include(item);\n    });\n    items.each(function (item) {\n        // Sanity check; remove when tested.\n        if (newCursor === item) {\n        }    // FIXME: Turn this on once the logger is in use.\n        // logger.error(\"Focus has been abandoned\");\n        //console.error(\"Focus has been abandoned\");\n        item.unsetList();\n        item.refresh();\n    });    // Update the cursor, if needed.  Note that lists with NO cursor should\n    // continue to have no cursor.\n    // Update the cursor, if needed.  Note that lists with NO cursor should\n    // continue to have no cursor.\n    if (newCursor !== this.getCursor()) {\n        this.setCursor(newCursor);\n    }    // If focus has been lost, focus the new cursor.\n    // If focus has been lost, focus the new cursor.\n    if (lostFocus) {\n        if (this.getCursor() && this.getCursor()._getElement()) {\n            jQuery(this.getCursor()._getElement().focus());\n        } else if (this._getElement()) {\n            // No cursor, or cursor has not been rendered yet.\n            // Set focus to the list, if possible.\n            jQuery(this._getElement().focus());\n        }\n    }\n});    /**\n * @param comparator {Function} -\n */\n/**\n * @param comparator {Function} -\n */\ndynamicList.List.addMethod('sort', function (comparator) {\n    comparator && (this._comparator = comparator);\n    if (this._comparator) {\n        this.getItems().sort(this._comparator);\n    }\n});    /** Note that it is not possible to set the cursor to null to remove it.  All\n *  lists have cursors, and those cursors need to be set.  You may not think\n *  you need one, but you do-- this is how visually-disabled users read through\n *  your list entries.\n *\n *  If you really want to disable a visual cursor indication for a particular\n *  list, use an ID-based CSS style rule to do so.  If the user tabs into the\n *  list, they will still be able to navigate using the arrow keys, and will\n *  see the usual :focus and .subfocus visual cues when doing so.\n */\n/** Note that it is not possible to set the cursor to null to remove it.  All\n *  lists have cursors, and those cursors need to be set.  You may not think\n *  you need one, but you do-- this is how visually-disabled users read through\n *  your list entries.\n *\n *  If you really want to disable a visual cursor indication for a particular\n *  list, use an ID-based CSS style rule to do so.  If the user tabs into the\n *  list, they will still be able to navigate using the arrow keys, and will\n *  see the usual :focus and .subfocus visual cues when doing so.\n */\ndynamicList.List.addMethod('setCursor', function (newCursor) {\n    // Other parts of the UI may move the cursor without wanting to move focus;\n    // do not grab keyboard focus when this happens.\n    var hadFocus = false;\n    if (document.activeElement && jQuery.contains(this._getElement(), document.activeElement)) {\n        hadFocus = true;\n    }    // The old cursor, if any (and if rendered), needs the CSS class removed.\n    // The old cursor, if any (and if rendered), needs the CSS class removed.\n    if (this.cursor && this.cursor.getList() && this.cursor._getElement()) {\n        jQuery(this.cursor._getElement()).removeClass('cursor');\n    }    // Whether it's been rendered or not, this is the new cursor.\n    // Whether it's been rendered or not, this is the new cursor.\n    this.cursor = newCursor;    // Keep in mind the cursor may not have been assigned to list yet, or\n    // rendered yet.  If it has been, assign the CSS class.\n    // Keep in mind the cursor may not have been assigned to list yet, or\n    // rendered yet.  If it has been, assign the CSS class.\n    if (newCursor && newCursor.getList() && newCursor._getElement()) {\n        this.scrollUpTo(newCursor);\n        if (this._allowSelections && this._selectionDefaultsToCursor) {\n            if (this.getSelectedItems().length < 1) {\n                this.selectItem(newCursor);\n            }\n        }\n        if (hadFocus) {\n            jQuery(this.cursor._getElement()).focus();\n        }\n        jQuery(this.cursor._getElement()).addClass('cursor');\n    }\n});    /**\n */\n/**\n */\ndynamicList.List.addMethod('getCursor', function () {\n    if (this.cursor && this.cursor.getList() && this.cursor._getElement()) {\n        // When filtering results, we can wind up with cursors that aren't\n        // actually visible anymore, because the list has been refreshed with\n        // filtered results.  However, checking for that is deferred until this\n        // point, to avoid interrupting an extended rendering sequence in a\n        // detached subtree that has not yet been appended to the DOM.\n        //\n        // TODO: Evaluate whether this would more appropriately check for the\n        // visibility within the list container itself, rather than the overall\n        // document.  Ensure headless testing does not break, however.\n        if (jQuery(this.cursor._getElement()).closest('BODY').length > 0) {\n            return this.cursor;\n        }\n    }    // No suitable cursor; use the most recently selected item, if any.\n    // No suitable cursor; use the most recently selected item, if any.\n    if (this._selectedItems.length > 0) {\n        if (this._selectedItems[this._selectedItems.length - 1]._getElement()) {\n            this.setCursor(this._selectedItems[this._selectedItems.length - 1]);    // Again, as in the case above, this is only useful if the item has\n            // not been filtered out, although this should not occur.\n            // Again, as in the case above, this is only useful if the item has\n            // not been filtered out, although this should not occur.\n            if (jQuery(this.cursor._getElement()).closest('BODY').length > 0) {\n                return this.cursor;\n            }\n        }\n    }    // No cursor or selected items, or possibly, no items in the list.\n    // Promote the first list item, if one exists.\n    // No cursor or selected items, or possibly, no items in the list.\n    // Promote the first list item, if one exists.\n    if (this._items.length > 0) {\n        this.setCursor(this._items[0]);\n        return this.cursor;\n    }    // No items in the list.\n    // No items in the list.\n    return null;\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getCursorElement', function () {\n    // No items in the list, return null.\n    if (this.getCursor()) {\n        return this.getCursor()._getElement();\n    } else {\n        return null;\n    }\n});    /**\n * @return {Array}\n */\n/**\n * @return {Array}\n */\ndynamicList.List.addMethod('getSelectedItems', function () {\n    return this._selectedItems;\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('isItemSelected', function (item) {\n    return this.getSelectedItems().include(item);\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('selectItem', function (item, isCtrlHeld, isShiftKeyHeld, isContextMenu) {\n    var event = this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT, { item: item });\n    if (event.stopSelectOrUnselect) {\n        return;\n    }    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    if (this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeld || isShiftKeyHeld || isContextMenu)) {\n        return;\n    }\n    var isContextMenuOnSelected = this.isItemSelected(item) && isContextMenu;\n    var reset = !(this._multiSelect && isCtrlHeld) && !isContextMenuOnSelected;\n    var deselect = this.isItemSelected(item) && isCtrlHeld && !isContextMenuOnSelected;\n    var selectRange = this._multiSelect && !deselect && isNotNullORUndefined(this._lastSelectedItem) && isShiftKeyHeld;\n    var select = !deselect && !selectRange;\n    if (reset) {\n        this.resetSelected();\n    }\n    if (deselect && !reset) {\n        this._removeItemFromSelected(item);\n    }\n    if (selectRange) {\n        var start = this._items.indexOf(this._lastSelectedItem);\n        var end = this._items.indexOf(item);\n        var min = Math.min(start, end), max = Math.max(start, end);\n        if (min > -1) {\n            for (var i = min; i <= max; i++) {\n                this._addItemToSelected(this._items[i], false);\n            }\n        } else {\n            this._addItemToSelected(this._items[max], false);\n        }\n    }\n    if (select) {\n        this._addItemToSelected(item, !(isShiftKeyHeld && this._multiSelect));\n    }    // Move the cursor to the most recently selected or deselected item.\n    // Move the cursor to the most recently selected or deselected item.\n    this.setCursor(item);\n    jQuery(item._getElement()).children('[role=\"row\"]').attr(\"aria-selected\", \"true\");\n});    /**\n * @param item {dynamicList.ListItem} -\n */\n/**\n * @param item {dynamicList.ListItem} -\n */\ndynamicList.List.addMethod('deselectItem', function (item) {\n    this._removeItemFromSelected(item);    // Move the cursor to the most recently selected or deselected item.\n    // Move the cursor to the most recently selected or deselected item.\n    this.setCursor(item);\n});\ndynamicList.List.addMethod('deselectOthers', function (item, isCtrlHeld, isShiftKey, isContextMenu) {\n    var event = this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT, { item: item });\n    if (event.stopSelectOrUnselect) {\n        return;\n    }    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    // Fix for multiple DnD.\n    // If couple items selected and _selectOnMousedown enabled\n    // we need deselect items on mouse up to be able Drag them.\n    if (this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeld || isShiftKey || isContextMenu)) {\n        var items = this._selectedItems.findAll(function (i) {\n            return i != item;\n        });\n        items.each(function (i) {\n            this._removeItemFromSelected(i);\n        }.bind(this));\n    }\n});    /**\n *\n */\n/**\n *\n */\ndynamicList.List.addMethod('resetSelected', function (skipParent) {\n    var items = this._selectedItems;\n    let itemsLength = items.length;\n    if(!itemsLength && this.cursor){\n        let cursorEl = this.cursor._getElement();\n        jQuery(cursorEl).removeClass('selected');\n    }\n    this._selectedItems = [];\n    items.each(function (item) {\n        var thatList = item.getList();\n        if (thatList) {\n            if (thatList !== this) {\n                thatList.resetSelected(true);\n            }\n        }\n        item.refreshStyle();\n        this.fire(this.Event.ITEM_UNSELECTED, { item: item });\n        jQuery(item._getElement()).children('[role=\"row\"]').attr(\"aria-selected\", \"false\");\n    }.bind(this));\n    if (this._parentList && !skipParent) {\n        this._parentList.resetSelected();\n    }\n});    /** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n *\n */\n/** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n *\n */\ndynamicList.List.addMethod('scrollDownTo', function (item) {\n    var scrollEl = this._getElement().parentNode;\n    if (!scrollEl || !item || !item._getElement()) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        return;\n    }\n    var scrollTop = scrollEl.scrollTop;\n    var scrollPortHeight = scrollEl.offsetHeight;\n    var itemYPos = item._getElement().offsetTop;\n    var itemHeight = item._getElement().offsetHeight;    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    var correction = itemYPos + itemHeight - (scrollTop + scrollPortHeight);\n    if (correction > 0) {\n        scrollEl.scrollTop += correction;\n    }\n});    /** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n */\n/** Ensure the item is visible in the viewport, to avoid scroll jumps when it\n *  is focused.  If the item is fully visible, regardless of absolute position\n *  on the screen, nothing happens.  If the item is offscreen, or partially\n *  offscreen, the scrollbar position moves down just far enough to fully show\n *  the item.  If the item is actually larger than the viewport (which is\n *  presumed to be possible, if subitems are expanded), than the top of the\n *  item is scrolled to the top of the viewport.\n */\ndynamicList.List.addMethod('scrollUpTo', function (item) {\n    var scrollEl = this._getElement().parentNode;\n    if (!scrollEl || !item || !item._getElement()) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        return;\n    }\n    var scrollTop = scrollEl.scrollTop;\n    var itemYPos = item._getElement().offsetTop;  // Hack to try and deal with column headers.  The header should NOT have\n    // been included in the scrollable region.\n    // FIXME-- remove the header from the scrollable region, then remove this\n    // hack.  Note the potentially invalid assumption that the header has the\n    // same height as an item.\n    // Hack to try and deal with column headers.  The header should NOT have\n    // been included in the scrollable region.\n    // FIXME-- remove the header from the scrollable region, then remove this\n    // hack.  Note the potentially invalid assumption that the header has the\n    // same height as an item.\n    var headerHeight = item._getElement().offsetHeight;    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    // TODO: more work if the item is actually taller than the scroll viewport\n    // (might happen for expanded items with many subitems).\n    var correction = scrollTop + headerHeight - itemYPos;\n    if (correction > 0) {\n        scrollEl.scrollTop -= correction;\n    }\n});    /**\n * @param item - reference item\n */\n/**\n * @param item - reference item\n */\ndynamicList.List.addMethod('getNextItem', function (item) {\n    var items = this.getItems();\n    var currentIndex = items.indexOf(item);\n    return ~currentIndex ? this.getItems()[currentIndex + 1] : null;\n});    /**\n * @param item - reference item\n */\n/**\n * @param item - reference item\n */\ndynamicList.List.addMethod('getPreviousItem', function (item) {\n    var items = this.getItems();\n    var currentIndex = items.indexOf(item);\n    return ~currentIndex ? this.getItems()[currentIndex - 1] : null;\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectNext', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    var item = this.getCursor();\n    var subItem = null, nextItem = null;    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on the last subitem, in which case, fall through.\n    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on the last subitem, in which case, fall through.\n    if (item._subList && item._getElement() && jQuery(item._getElement()).hasClass(layoutModule.OPEN_CLASS)) {\n        // If we're moving into the sublist directly from the parent, ensure we\n        // go to the first item.\n        if (!jQuery(item._getElement()).hasClass('supercursor')) {\n            if (item._subList.getItems().length > 0) {\n                nextItem = item._subList.getItems()[0];\n                jQuery(item._getElement()).addClass('supercursor');\n                baseEvent.preventDefault();\n                baseEvent.stopPropagation();\n                item._subList.setCursor(nextItem);\n                jQuery(item._subList.cursor._getElement()).focus();\n                return;\n            }\n        }\n        subItem = item._subList.getCursor();\n        nextItem = subItem.getList().getNextItem(subItem);\n        if (nextItem) {\n            // Yes, another subitem is available.  Go deal with it.\n            return subItem.getList().selectNext(event);\n        }\n    }    // Either no sublist, sublist is closed,  or out of subitems; select next\n    // peer.\n    // Either no sublist, sublist is closed,  or out of subitems; select next\n    // peer.\n    jQuery(item._getElement()).removeClass('supercursor');\n    if (item._subList) {\n        item._subList.cursor = null;\n    }\n    nextItem = item.getList().getNextItem(item);\n    if (nextItem) {\n        if (this._multiSelect && isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(nextItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(nextItem, false);\n            }\n        } else {\n            this.resetSelected();\n            item.getList().selectItem(nextItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(nextItem);\n    }\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectPrevious', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    var item = this.getCursor();\n    var subItem = null, previousItem = null;    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on main item, in which case, fall through; or we\n    // were on the first subitem, in which case, move focus to the main item.\n    // See if there is a sublist open; if so, transfer responsibility there,\n    // unless we were already on main item, in which case, fall through; or we\n    // were on the first subitem, in which case, move focus to the main item.\n    if (jQuery(item._getElement()).hasClass('supercursor')) {\n        subItem = item._subList.getCursor();\n        previousItem = subItem.getList().getPreviousItem(subItem);\n        if (previousItem) {\n            // Yes, a previous subitem is available.  Go deal with it.\n            return subItem.getList().selectPrevious(event);\n        } else {\n            // No previous subitem is available.  Select the main item instead.\n            if (item._subList.cursor) {\n                if (item._subList.cursor._element) {\n                    jQuery(item._subList.cursor._element).removeClass('cursor');\n                }\n                item._subList.cursor = null;\n            }\n            if (!(isShiftHeld(baseEvent) && this._multiSelect)) {\n                item._subList.resetSelected();\n            }\n            jQuery(item._getElement()).removeClass('supercursor');\n            this.setCursor(item);\n            stdnav.forceFocus(jQuery(item._getElement()))\n        }\n    } else {\n        // Normal case-- no sublist, or main item selected.\n        previousItem = item.getList().getPreviousItem(item);\n        if (previousItem) {\n            if (this._multiSelect && isShiftHeld(baseEvent)) {\n                if (this.isItemSelected(previousItem)) {\n                    item.getList().deselectItem(item);\n                } else {\n                    this._addItemToSelected(previousItem, false);\n                }\n            } else {\n                const isLabelItem = previousItem.first && previousItem._value.isLabel;\n                if(isLabelItem) {\n                    return;\n                }\n                this.resetSelected();\n                item.getList().selectItem(previousItem);\n                // previous item has sublist and its open then iterate through it\n                if (previousItem?._subList?.getItems().length > 0 &&\n                    jQuery(previousItem._getElement()).hasClass(layoutModule.OPEN_CLASS)) {\n                    item = previousItem;\n                    previousItem = _.last(item._subList.getItems());\n                    jQuery(item._getElement()).addClass('supercursor');\n                    baseEvent.preventDefault();\n                    baseEvent.stopPropagation();\n                    item._subList.setCursor(previousItem);\n                    stdnav.forceFocus(jQuery(item._subList.cursor._getElement()))\n                    //jQuery(item._subList.cursor._getElement()).focus();\n                    return;\n                }\n\n            }// NOTE: Implies scroll, refresh, and possibly selection.\n            this.setCursor(previousItem);\n        }\n    }\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectPageDown', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n    var item = this.getCursor();    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    var headerHack = item._getElement().offsetHeight;    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    var scrollEl = this._getElement().parentNode;\n    var newScrollTop = scrollEl.scrollTop + (scrollEl.offsetHeight - headerHack);\n    if (newScrollTop > scrollEl.offsetHeight) {\n        newScrollTop = scrollEl.offsetHeight;\n    }\n    scrollEl.scrollTop = newScrollTop;\n    var iterItem = item, nextItem = null;\n    while (iterItem && iterItem._getElement().offsetTop + iterItem._getElement().offsetHeight < scrollEl.scrollTop + scrollEl.offsetHeight) {\n        nextItem = iterItem;\n        if (isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(nextItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(nextItem, false);\n            }\n        }\n        iterItem = nextItem.getList().getNextItem(nextItem);\n    }\n    if (nextItem) {\n        if (!(this._multiSelect && isShiftHeld(baseEvent))) {\n            this.resetSelected();\n            item.getList().selectItem(nextItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(nextItem);\n    }\n});\ndynamicList.List.addMethod('selectPageUp', function (event) {\n    var baseEvent = event.memo.targetEvent;\n    baseEvent.preventDefault();\n    baseEvent.stopPropagation();\n    var item = this.getCursor();    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    // FIXME-- the header is part of the scrollable region; it shouldn't be.\n    // Use the height of whatever item is handy to stand in for the header.\n    var headerHack = item._getElement().offsetHeight;    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    // Since items may vary in height, figure out the scroll offset of the next\n    // page disregarding the items, then figure out the most sensible item to\n    // reposition to.\n    var scrollEl = this._getElement().parentNode;\n    var newScrollTop = scrollEl.scrollTop + (scrollEl.offsetHeight - headerHack);\n    if (newScrollTop > scrollEl.offsetHeight) {\n        newScrollTop = scrollEl.offsetHeight;\n    }\n    scrollEl.scrollTop = newScrollTop;\n    var iterItem = item, previousItem = null;\n    while (iterItem && iterItem._getElement().offsetTop > scrollEl.scrollTop - scrollEl.offsetHeight) {\n        previousItem = iterItem;\n        if (this._multiSelect && isShiftHeld(baseEvent)) {\n            if (this.isItemSelected(previousItem)) {\n                item.getList().deselectItem(item);\n            } else {\n                this._addItemToSelected(previousItem, false);\n            }\n        }\n        iterItem = previousItem.getList().getPreviousItem(previousItem);\n    }\n    if (previousItem) {\n        if (!(this._multiSelect && isShiftHeld(baseEvent))) {\n            this.resetSelected();\n            item.getList().selectItem(previousItem);\n        }    // NOTE: Implies scroll, refresh, and possibly selection.\n        // NOTE: Implies scroll, refresh, and possibly selection.\n        this.setCursor(previousItem);\n    }\n});\ndynamicList.List.addMethod('selectFirst', function () {\n    if (this._items[0]) {\n        this.resetSelected();\n        this.setCursor(this._items[0]);\n    }\n});\n\n\ndynamicList.List.addMethod('selectLast', function () {\n    if (this._items[this._items.length - 1]) {\n        this.resetSelected();\n        this.setCursor(this._items[this._items.length - 1]);\n    }\n});\n\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectOutwards', function (event) {\n    let item = this.getSelectedItems()[0];\n\n    if (!item) {\n        item = this.cursor;\n    }\n\n    if (!item) {\n        return;\n    }\n\n    let element = item._getElement();\n    let outItem = !baseList.isItemOpen(element) && item.parentItem;\n\n    let source = event.target;\n    let isRoleRow = jQuery(source).attr(\"role\")===\"row\"\n\n    // Todo : fix  left key press on sublist focus move to parent list and collapse list\n\n    if(isRoleRow) {\n        if (outItem) {\n            // focus should go on parent on first press of right arrow\n            this.resetSelected();\n            outItem.select();\n            outItem._getElement().focus();\n            jQuery('.subfocus').removeClass('subfocus');\n            jQuery(outItem._getElement()).addClass('subfocus').addClass('focus-visible').removeClass(\"supercursor\");\n        } else {\n            let source = event.target;\n            jQuery(source).attr('aria-expanded', false);\n            baseList.closeItem(element);\n            item.getList().selectItem(item);\n            item._getElement().focus();\n            jQuery('.subfocus').removeClass('subfocus');\n            jQuery(item._getElement()).addClass('subfocus').addClass('focus-visible');\n            this.fire(this.Event.ITEM_CLOSED, {\n                targetEvent: event,\n                item: item\n            });\n        }\n    }else {\n        let gridItem;\n        let dataCellElement = jQuery(source).is('[data-cell]')? jQuery(source) : jQuery(source).closest('[data-cell]');\n        let currentCell = dataCellElement? parseInt(jQuery(dataCellElement).attr('data-cell')) : null;\n        let parent = jQuery(source).closest('[role =\"row\"]');\n        let isFirstCellVisible = jQuery(parent).find(\"[data-cell=0]\").first().css(\"visibility\") !== \"hidden\";\n        if (currentCell === 0 && isFirstCellVisible) {\n            gridItem = parent\n        } else if (currentCell === 1 && !isFirstCellVisible) {\n            gridItem = parent\n        } else {\n            do {\n                gridItem = jQuery(parent).find(`[data-cell='${--currentCell}']`).first();\n            } while (gridItem.length === 1 && gridItem.css(\"visibility\") === \"hidden\");\n        }\n        if (gridItem.length > 0) stdnav.forceFocus(gridItem);\n    }\n});    /**\n * @param event\n */\n/**\n * @param event\n */\ndynamicList.List.addMethod('selectInwards', function (event) {\n    /*\n      1.If there is no cursor for some reason (possibly during construction?)\n        then use the first selected item.  If there is neither a cursor nor any\n        selected items, abort.\n      2.if sublist exists and its not expanded then sublist will open first\n      3.if sublist is expaned then on next right click parentlist item get focused.\n\n      Note : refer right keyboard navigation treegrid sample :\n        https://www.w3.org/TR/wai-aria-practices-1.1/examples/treegrid/treegrid-1.html\n  */\n\n    let item = this.cursor;\n    let source =  event.target;\n\n    if (!item) {\n        if (this.getSelectedItems().length < 1) {\n            return;\n        }\n        item = this.getSelectedItems()[0];\n    }\n    let element = item._getElement();\n    if (item.isComposite && !baseList.isItemOpen(element)) {\n        baseList.openItem(element);\n\n        jQuery(source).attr('aria-expanded', true);\n        this.fire(this.Event.ITEM_OPEN, {\n            targetEvent: event,\n            item: item\n        });\n    }else{\n        let isRoleRow = jQuery(source).attr(\"role\")===\"row\";\n        let gridItem;\n\n        if (isRoleRow) {\n            gridItem = jQuery(source).find(\"[data-cell=0]\").css(\"visibility\") === \"hidden\" ?\n                jQuery(source).find(\"[data-cell=1]\").first() :\n                jQuery(source).find(\"[data-cell=0]\").first();\n        } else {\n            let dataCell = +jQuery(source).attr('data-cell');\n            let parent = jQuery(source).closest('[role =\"row\"]');\n\n            do {\n                gridItem =jQuery(parent).find(`[data-cell='${++dataCell}']`).first();\n            } while(gridItem.length === 1 && gridItem.css(\"visibility\") === \"hidden\");\n        }\n        if(gridItem.length > 0) stdnav.forceFocus(gridItem);\n\n    }\n});    /**\n * Render list items. Use this method when you need to re-render list.\n */\n/**\n * Render list items. Use this method when you need to re-render list.\n */\ndynamicList.List.addMethod('show', function () {\n    dynamicList.activeListId = this.getId();\n    this._getElement().update();\n    var items = this.getItems();\n    var itemsAmount = items.length;\n    items.each(function (item, index) {\n        item.first = index === 0;\n        item.last = index === itemsAmount - 1;\n        item.show(this._getElement());\n    }.bind(this));\n    this.draggables = [];\n    this.scroll && this.scroll.refresh();\n    this._initEvents();\n});    /**\n * Updates UI from value of the item and remove unused DOM elements (li elements)\n */\n/**\n * Updates UI from value of the item and remove unused DOM elements (li elements)\n */\ndynamicList.List.addMethod('refresh', function () {\n    if (!this._getElement()) {\n        // List has not been rendered yet.\n        return;\n    }\n    let elements = this._getElement().childElements(), itemElements = [];\n    this.getItems().each(function (item, index) {\n        item.first = index === 0;\n        item.last = index === this.getItems().length - 1;\n        if (item.isRendered()) {\n            if (item.index() != elements.indexOf(item._getElement())) {\n                var wasOpened = baseList.isItemOpen(item._getElement());\n                item._getElement().remove();\n                item.show(this._getElement());\n                if (wasOpened) {\n                    baseList.openItem(item._getElement());\n                }\n            } else {\n                item.refresh();\n            }\n        } else {\n            item.show(this._getElement());\n        }\n        itemElements.push(item._getElement());\n    }.bind(this));\n    elements.each(function (e) {\n        if (!itemElements.include(e) && e.parentNode) {\n            e.remove();\n        }\n    });\n    // Ensure that the list has a cursor.\n    this.getCursor();\n    // Get the current scroll offset, so it can be sustained after refreshing\n    // the list.\n    var scrollEl = this._getElement().parentNode, scrollTop;\n    if (!scrollEl) {\n        // Keep the testing framework happy; normally these would never be\n        // detatched from the DOM.\n        scrollTop = 0;\n    } else {\n        scrollTop = scrollEl.scrollTop;\n    }\n    this.refreshStyle();\n    let cursor = this.getCursor(), cursorWasFocus = false;\n    if (cursor && cursor.getList() && cursor._getElement()) {\n        if (document.activeElement === cursor._getElement() || jQuery.contains(cursor._getElement(), document.activeElement)) {\n            cursorWasFocus = true;\n        }\n    }\n    //this.scroll && this.scroll.refresh();\n    this.setCursor(cursor);    // Refresh can result in loss of focus under certain circumstances.\n    // Refresh can result in loss of focus under certain circumstances.\n    if (cursorWasFocus) {\n        jQuery(this.getCursorElement())[0].focus();\n    }\n    // Finally, restore the scroll offset.  This is necessary if the list was\n    // manually scrolled so that the cursor is no longer visible.\n    if (scrollEl) {\n        scrollEl.scrollTop = scrollTop;\n    }\n});    /**\n * Refreshing classname of the list\n */\n/**\n * Refreshing classname of the list\n */\ndynamicList.List.addMethod('refreshStyle', function (clean) {\n    var element = this._getElement();\n    if (!element) {\n        // List has not been rendered yet.\n        return;\n    }\n    if (element.templateClassName) {\n        element.className = element.templateClassName;\n    }\n    if (this._cssClassName) {\n        jQuery(element).addClass(this._cssClassName);\n    }\n});    /**\n * Generates custom event of the list.\n *\n * @param eventName\n */\n/**\n * Generates custom event of the list.\n *\n * @param eventName\n */\ndynamicList.List.addMethod('fire', function (eventName, memo) {\n    var element = jQuery(this._getElement())[0];\n    if (element) {\n        return element.fire(eventName, memo);\n    } else {\n        return null;\n    }\n});    /**\n * @param eventName\n */\n/**\n * @param eventName\n */\ndynamicList.List.addMethod('observe', function (eventName, handler) {\n    this._getElement().observe(eventName, handler);\n});    /**\n * @param eventName\n */\n/**\n * @param eventName\n */\ndynamicList.List.addMethod('stopObserving', function (eventName, handler) {\n    this._getElement().stopObserving(eventName, handler);\n});    ///////////////////////////////////////////////////////\n// List private methods\n///////////////////////////////////////////////////////\n/**\n * Gets list container\n * @return {DOMElement}\n */\n///////////////////////////////////////////////////////\n// List private methods\n///////////////////////////////////////////////////////\n/**\n * Gets list container\n * @return {DOMElement}\n */\ndynamicList.List.addMethod('_getElement', function () {\n    if (!this._element) {\n        // TODO: Improve performance by using a jQuery lookup specifically on\n        // the list subdom, rather than the whole page.\n        this._element = jQuery('#' + this.getId())[0];\n    }\n    return this._element;\n});    /**\n * Gets the item from the event in list\n *\n * @paran {Event}\n */\n/**\n * Gets the item from the event in list\n *\n * @paran {Event}\n */\ndynamicList.List.addMethod('getItemByEvent', function (event) {\n    if (event) {\n        var element = Event.element(event);    //event.originalTarget || event.srcElement;\n        //event.originalTarget || event.srcElement;\n        while (element && element.readAttribute && jQuery(element).attr('id') !== this.getId()) {\n            var item = element.listItem;\n            if (item && item.getList() != null) {\n                var itemList = item.getList(), idsAreEqual = itemList.getId() == this.getId(), parentListContainsChild = this._getElement().contains(itemList._getElement());\n                if (idsAreEqual || parentListContainsChild) {\n                    item._label = xssUtil.unescape(item._label);\n                    return item;\n                } else {\n                    break;\n                }\n            } else {\n                element = jQuery( element.parentNode)[0];\n            }\n        }\n    }\n    return null;\n});\ndynamicList.List.addMethod('_createFromTemplate', function () {\n    var tabindex = jQuery(this._getElement()).attr('tabindex');\n    this.tabindex = parseInt(tabindex && tabindex.length > 0 ? tabindex : -1);\n    this._getElement().insert({ after: this._getTemplateElement(this._getElement()) });\n    this._getElement().remove();\n    this._element = null;\n    this._getElement().update();\n    this.tabindex && this.tabindex.length > 0 && jQuery(this._getElement()).attr('tabindex', this.tabindex);\n    disableSelectionWithoutCursorStyle(this._getElement());\n});\ndynamicList.List.addMethod('_getTemplateElement', function (currentElement) {\n    var id = this._listTemplateDomId;\n    if (!dynamicList._templateHash[id]) {\n        dynamicList._templateHash[id] = id;\n    }\n    var clone = document.getElementById(dynamicList._templateHash[id]).clone(true);\n    jQuery(clone).attr('id', this.getId());    //clone.down().writeAttribute(\"tabIndex\", -1);\n    //clone.down().writeAttribute(\"tabIndex\", -1);\n    clone.templateId = id;\n    clone.templateClassName = clone.className;\n    cloneCustomAttributes(currentElement, clone);\n    return clone;\n});\ndynamicList.List.addMethod('_addItemToSelected', function (item, remember) {\n    if (item && !this.isItemSelected(item)) {\n        this._selectedItems.push(item);\n        if (remember) {\n            this._lastSelectedItem = item;\n        }    //        item.focus();\n        //        item.focus();\n        item.refreshStyle();\n        if (this._parentList) {\n            this._parentList._addItemToSelected(item, remember);\n        } else {\n            this.fire(this.Event.ITEM_SELECTED, { item: item });\n        }\n    }\n});\ndynamicList.List.addMethod('_removeItemFromSelected', function (item) {\n    if (item && this.isItemSelected(item)) {\n        this._selectedItems = this._selectedItems.without(item);\n        item.refreshStyle();\n        if (this._parentList) {\n            this._parentList._removeItemFromSelected(item);\n        } else {\n            this.fire(this.Event.ITEM_UNSELECTED, { item: item });\n        }\n    }\n});\ndynamicList.List.addMethod('_buildDnDOverlay', function (element) {\n    //    var wrapper = $(this.DND_WRAPPER_TEMPLATE).cloneNode(true), template = $(this.DND_ITEM_TEMPLATE).cloneNode(true);\n    element.setStyle({\n        width: null,\n        height: null\n    });\n    if (element.items.length > 1) {\n        element.update(this._msgNItemsSelected.evaluate({ count: element.items.length }));\n    } else if (element.items.length == 1) {\n        element.update(xssUtil.hardEscape(element.items[0].getLabel()));\n    }\n});\ndynamicList.List.addMethod('_registerCustomScroll', function () {\n    if (!this.scroll && this._getElement()) {\n        var scrollBar = this._getElement().up(layoutModule.SWIPE_SCROLL_PATTERN);\n        if (scrollBar) {\n            var scroll = layoutModule.scrolls.get(scrollBar.identify());\n            scroll && (this.scroll = scroll);\n        }\n    }\n});    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List DnD\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List DnD\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\ndynamicList.List.addMethod('createDraggableIfNeeded', function (event) {\n    //make draggable - test in this order - for efficiency\n    //test 1) does the tree have any drag patterns?\n    //test 2) is a draggable already created for the clicked element?\n    //test 3) does clicked element or its ancestors match any draggable patterns?\n    //test 4) is a draggable already created for the clicked element or matching ancestor?\n    //5) if it's complex markup then we go up to parent which matching pattern\n    var thisElem = event.element ? event.element() : event.target;\n    if (this.dragPattern && !this.draggables[thisElem.identify()]) {\n        var matchingElem = matchAny(thisElem, [this.dragPattern], true);\n        if (matchingElem) {\n            //matchingElem = matchingElem.up(this.dragPattern);\n            if (!matchingElem || this.draggables[matchingElem.identify()]) {\n                return;\n            }\n            var item = this.getItemByEvent(event);\n            this.draggables[matchingElem.identify()] = new Draggable(matchingElem, {\n                superghosting: true,\n                mouseOffset: true,\n                onStart: this.setDragStartState.bind(this, item),\n                onEnd: this.setDragEndState.bind(this, item)\n            });\n        }\n    }\n});\ndynamicList.List.addMethod('setDragStartState', function (item, draggable, event) {\n    var templateClassName = item._getElement().templateClassName;\n    if (templateClassName) {\n        jQuery(draggable.element).addClass(templateClassName);\n    }\n    jQuery(draggable.element).addClass(layoutModule.DRAGGING_CLASS).addClass(this.getId());\n    draggable.element.items = this.getSelectedItems().slice(0);\n    this._buildDnDOverlay(draggable.element);\n    draggable.options.scroll = this._getElement();\n    draggable.options.scrollSensitivity = layoutModule.SCROLL_SENSITIVITY;\n    Draggables.dragging = this.regionID || true;\n});\ndynamicList.List.addMethod('setDragEndState', function (draggable, event, item) {\n    Draggables.dragging = null;\n});    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List event handling\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// List event handling\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\ndynamicList.List.addMethod('_mouseupHandler', function (event) {\n    var element = event.target;\n    var item = matchMeOrUp(element, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    event.listEvent = true;\n    if (item._respondOnItemEvents && !event.isInvoked) {\n        this.fire(this.Event.ITEM_MOUSEUP, {\n            targetEvent: event,\n            item: item\n        });\n        if (!item._isExcludedFromSelectionTriggers(event)) {\n            var isCtrlHeldValue = isMetaHeld(event), isShiftHeldValue = isShiftHeld(event), isContextMenuValue = isRightClick(event);    // NOTE: See also comments and logic for drag-and-drop, as these\n            // functions overlap\n            // NOTE: See also comments and logic for drag-and-drop, as these\n            // functions overlap\n            var isSelect = !this._selectOnMousedown && !TouchController.element_scrolled && (!isSupportsTouch() || event.changedTouches.length >= 1);\n            isSelect && item.getList().selectItem(item, isCtrlHeldValue, isShiftHeldValue, isContextMenuValue);    // Fix for Shift key multiple selection if we change selection inside selected range.\n            // We need to remember the position of current item as last selected even if selectItem method\n            // did not do it. This will help to correctly determine select range start on next selectItem call.\n            // Fix for Shift key multiple selection if we change selection inside selected range.\n            // We need to remember the position of current item as last selected even if selectItem method\n            // did not do it. This will help to correctly determine select range start on next selectItem call.\n            if (!isSelect && this._multiSelect && this._selectedItems.length > 1 && this.isItemSelected(item) && !(isCtrlHeldValue || isShiftHeldValue || isContextMenuValue)) {\n                this._lastSelectedItem = item;\n            }\n            item.getList().deselectOthers(item, isMetaHeld(event), isShiftHeld(event), isRightClick(event));\n            if (this.twofingers) {\n                this.twofingers = false;\n                var li = jQuery(element).parents('li:first');\n                li.hasClass('selected') && document.fire(layoutModule.ELEMENT_CONTEXTMENU, {\n                    targetEvent: event,\n                    node: element\n                });\n            }\n        }\n        this.createDraggableIfNeeded(event);\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_mousedownHandler', function (event) {\n    event = event.type == 'dataavailable' ? event.memo.targetEvent : event;\n    var element = event.target;\n    var item = matchMeOrUp(element, layoutModule.BUTTON_PATTERN + ',' + layoutModule.LIST_ITEM_WRAP_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    event.listEvent = true;\n    let iconEvent = this._itemPreventEvent(item,event);\n    if (event.touches && event.touches.length == 2) {\n        this.twofingers = true;    //var li = jQuery(element).parents('li:first');\n        //li.hasClass('selected') && document.fire(layoutModule.ELEMENT_CONTEXTMENU, {targetEvent: event, node: element});\n        //return;\n    } else {\n        this.twofingers = false;\n    }\n    if (iconEvent){\n        // Do not focus items that have only had their expanders clicked--\n        // this will result in a fixFocus call to the current selection\n        // (clicking on the expander will not change the selection), which\n        // in turn will fix focus on the current selection, which may move\n        // the newly-expanded item out of view.  (Clicking on the actual\n        // item selects it prior to focusing, which avoids the problem.)\n        event.stopPropagation();\n        event.preventDefault();\n    }\n    else {\n        if (item._respondOnItemEvents && !event.isInvoked) {\n            this.fire(this.Event.ITEM_MOUSEDOWN, {\n                targetEvent: event,\n                item: item\n            });\n            if (!item._isExcludedFromSelectionTriggers(event)) {\n                // FIXME: See if this can be moved into setCursor\n                if (this._selectOnMousedown) {\n                    // && (!isSupportsTouch() || event.touches.length == 1);\n                    item.getList().selectItem(item, isMetaHeld(event), isShiftHeld(event), isRightClick(event));\n                }\n                if (this._setCursorOnMousedown && !isMetaHeld(event)) {\n                    item.getList().setCursor(item);\n                }\n            }\n            item.focus();\n        }\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_mouseoverHandler', function (event) {\n    matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.createDraggableIfNeeded(event);\n});\ndynamicList.List.addMethod('_clickHandler', function (event) {\n    var item = matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    if (!event.isInvoked) {\n        if (item._respondOnItemEvents) {\n            this.fire(this.Event.ITEM_CLICK, {\n                targetEvent: event,\n                item: item\n            });\n        }\n        if (!item.isComposite)\n            return;\n        var element = item._getElement(), source = event.target;\n        if (item._isCloseHandler(source) && baseList.isItemOpen(element)) {\n            jQuery(source).attr('aria-expanded', false);\n            baseList.closeItem(element);\n            this.fire(this.Event.ITEM_CLOSED, {\n                targetEvent: event,\n                item: item\n            });\n        } else if (item._isOpenHandler(source) && !baseList.isItemOpen(element)) {\n            jQuery(source).attr('aria-expanded', true);\n            baseList.openItem(element);\n            this.fire(this.Event.ITEM_OPEN, {\n                targetEvent: event,\n                item: item\n            });\n        }\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_dblclickHandler', function (event) {\n    var item = matchMeOrUp(event.target, layoutModule.BUTTON_PATTERN) && this.getItemByEvent(event);\n    if (!item || item._isElementInExcluded(event)) {\n        return;\n    }\n    if (item._respondOnItemEvents && !event.isInvoked) {\n        this.fire(this.Event.ITEM_DBLCLICK, {\n            targetEvent: event,\n            item: item\n        });\n    }\n    event.isInvoked = true;\n});\ndynamicList.List.addMethod('_initEvents', function () {\n    var container = this._getElement();\n    this.draggables = [];\n    if (isSupportsTouch()) {\n        container.stopObserving('touchstart').observe('touchstart', this._mousedownHandler.bindAsEventListener(this));    //scriptaculous stopped mousedown event but we made it throw this instead\n        //scriptaculous stopped mousedown event but we made it throw this instead\n        container.stopObserving('drag:touchstart').observe('drag:touchstart', this._mousedownHandler.bindAsEventListener(this));\n        container.stopObserving('touchend').observe('touchend', this._mouseupHandler.bindAsEventListener(this));\n    } else {\n        container.stopObserving('mouseup').observe('mouseup', this._mouseupHandler.bindAsEventListener(this));\n        container.stopObserving('mousedown').observe('mousedown', this._mousedownHandler.bindAsEventListener(this));    //scriptaculous stopped mousedown event but we made it throw this instead\n        //scriptaculous stopped mousedown event but we made it throw this instead\n        container.stopObserving('drag:mousedown').observe('drag:mousedown', this._mousedownHandler.bindAsEventListener(this));\n    }\n    if (!isIPad){\n        container.stopObserving('mouseover').observe('mouseover', this._mouseoverHandler.bindAsEventListener(this));\n    }\n    if (this.listOrientation === \"horizontal\"){\n        container.stopObserving('key:right').observe('key:right', this.selectNext.bindAsEventListener(this));\n        container.stopObserving('key:left').observe('key:left', this.selectPrevious.bindAsEventListener(this));\n    }else {\n        container.stopObserving('click').observe('click', this._clickHandler.bindAsEventListener(this));\n        container.stopObserving('dblclick').observe('dblclick', this._dblclickHandler.bindAsEventListener(this));\n        container.stopObserving('key:down').observe('key:down', this.selectNext.bindAsEventListener(this));\n        container.stopObserving('key:up').observe('key:up', this.selectPrevious.bindAsEventListener(this));\n        container.stopObserving('key:right').observe('key:right', this.selectInwards.bindAsEventListener(this));\n        container.stopObserving('key:left').observe('key:left', this.selectOutwards.bindAsEventListener(this));\n        container.stopObserving('key:pagedown').observe('key:pagedown', this.selectPageDown.bindAsEventListener(this));\n        container.stopObserving('key:pageup').observe('key:pageup', this.selectPageUp.bindAsEventListener(this));\n        container.stopObserving('key:home').observe('key:home', this.selectFirst.bindAsEventListener(this));\n        container.stopObserving('key:end').observe('key:end', this.selectLast.bindAsEventListener(this));\n    }\n});\ndynamicList.List.addMethod('_itemPreventEvent',function(item , event){\n    let isComposite = item.isComposite,\n        isFavIcon = item.isIconClicked,\n        isOpenOrCloseHandler = isComposite && (item._isOpenHandler(event.target) || item._isCloseHandler(event.target)),\n        isFavHandler;\n    if ( event.which !== 3 ) {\n        isFavHandler = item._isFavoriteHandler(event.target);\n    }\n\n    const compositeItemSelectable = isComposite && ( isOpenOrCloseHandler||isFavHandler);\n    const listItemSelectable = isFavIcon && isFavHandler;\n\n    return compositeItemSelectable || listItemSelectable ;\n});\n// List element that is rendered from Underscore template string passed as an option\n// List element that is rendered from Underscore template string passed as an option\ndynamicList.UnderscoreTemplatedList = function (id, options) {\n    if (options) {\n        this._template = 'template' in options ? options.template : '';\n    }\n    dynamicList.List.apply(this, arguments);\n};\nvar temporaryFunc = function () {\n};\ntemporaryFunc.prototype = dynamicList.List.prototype;\ndynamicList.UnderscoreTemplatedList.prototype = new temporaryFunc();\ndynamicList.UnderscoreTemplatedList.prototype.constructor = dynamicList.UnderscoreTemplatedList;\ndynamicList.UnderscoreTemplatedList.prototype._getTemplateElement = function (currentElement) {\n    var element = jQuery(_.template(this._template, {}))[0];\n    jQuery(element).attr('id', this.getId());\n    element.templateClassName = element.className;\n    cloneCustomAttributes(currentElement, element);\n    return element;\n};\n\nexport {dynamicList, baseList};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/* global __jrsConfigs__ */\n//JasperServer namespace  mess\n\n/*\n *  One of Jasperserver namespaces.\n */\nvar JRS = {\n    vars: {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null,\n        contextPath: __jrsConfigs__.contextPath\n    },\n    i18n: {}\n};\nvar Calendar = {};\nif (typeof isEncryptionOn === 'undefined') {\n    var isEncryptionOn = false;\n}\nfunction isProVersion() {\n    return __jrsConfigs__.isProVersion;\n}\nvar jaspersoft = {\n    components: {},\n    i18n: {}\n};\nif (typeof JRS == 'undefined') {\n    JRS = { Mocks: {} };\n}\nif (typeof JRS.vars == 'undefined') {\n    JRS.vars = {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null\n    };\n}    //TODO: move closer to Import/Export\n//TODO: move closer to Import/Export\nif (typeof JRS.Export == 'undefined') {\n    JRS.Export = {\n        i18n: {\n            'file.name.empty': 'export.file.name.empty',\n            'file.name.too.long': 'export.file.name.too.long',\n            'file.name.not.valid': 'export.file.name.not.valid',\n            'export.select.users': 'export.select.users',\n            'export.select.roles': 'export.select.roles',\n            'export.session.expired': 'export.session.expired',\n            'error.timeout': 'export.file.name.empty'\n        },\n        configs: {\n            TIMEOUT: 1200000,\n            DELAY: 3000\n        }\n    };\n}\nif (typeof window.localContext == 'undefined') {\n    window.localContext = {};\n}    //TODO: move to common module\n//TODO: move to common module\nif (__jrsConfigs__.calendar) {\n    JRS.i18n['bundledCalendarFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarFormat;\n    JRS.i18n['bundledCalendarTimeFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat;\n}\n\nwindow.JRS = JRS;\nwindow.jaspersoft = jaspersoft;\nwindow.isProVersion = isProVersion;\n\nexport {jaspersoft, JRS, isProVersion};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/**\n * A collection of Common Utilities.\n */\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// **IMPORTANT - PLEASE READ!!!****\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//\n// In order to keep this file organized and readable please consider which section to add your new function\n// Also check if there is already something there you can use or extend\n// Remember also we have prototype.js at our disposal\n//\n// These are the sections:\n//\n// Operating System check\n// Browser Sniffing\n// Generic Functions\n// DOM Navigation\n// Element Inspection\n// Element Positioning\n// Element Displaying and Effects\n// Element Overlays\n// Element Enabling\n// Mousepointer\n// Table Utils\n// Window Inspection\n// Window Positioning\n// Window Creation\n// IFRAME Utils\n// Event Utils\n// String Utils\n// URL Utils\n// Object Utils\n// Function Utils\n// Arithmetic Utils\n// Busy Monitor\n// In Place Editor\n// <Script> utils\n// CSS utils\n// CSS Selector utils\n// Dialog events\n// Ajax utils\n// Tracer Utils\n// Validation module\n// Cookie Util\n// Session management\n// Webflow utils\n// Page Dimmer\n// File upload method (Ajax IFrame Upload)\n// Touch Utils\n// Keyboard events\n// Encryption utils\n// Template utils\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/*global alert, escape */\n/* eslint no-array-constructor: \"off\", no-new-wrappers: \"off\", no-new-object: \"off\" */\nimport {Draggables} from 'dragdropextra';\nimport jQuery from 'jquery';\nimport _ from 'underscore';\nimport utilsCommonEnum from './utils.common.enum';\nimport Builder from 'scriptaculous/src/builder';\nimport {Dragger, DragListener} from './tools.drag';\nimport moment from 'moment';\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport {$, $w, Prototype, Position} from 'prototype';\nimport stdnavAlerting from 'js-sdk/src/common/stdnav/stdnavAlerting'\n\nvar log = '';    ///////////////////////////////////////////\n// Operating System check.\n///////////////////////////////////////////\n/**\n * Are we on a Mac?\n */\n///////////////////////////////////////////\n// Operating System check.\n///////////////////////////////////////////\n/**\n * Are we on a Mac?\n */\nfunction isMacOS() {\n    return isOS('mac');\n}    /**\n * Are we on a Windows PC?\n */\n/**\n * Are we on a Windows PC?\n */\nfunction isWindowsOS() {\n    return isOS('win');\n}    /**\n * Are we on a Linux PC?\n */\n/**\n * Are we on a Linux PC?\n */\nfunction isLinuxOS() {\n    return isOS('linux');\n}    /**\n * Generic Operating System tester\n * @param {Object} osName - string to test OS against\n */\n/**\n * Generic Operating System tester\n * @param {Object} osName - string to test OS against\n */\nfunction isOS(osName) {\n    return navigator.appVersion.toLowerCase().include(osName);\n}\nfunction isSupportsTouch() {\n    return isIPad() || isAndroid();\n}    ///////////////////////////////////////////\n// Browser Sniffing.\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Browser Sniffing.\n///////////////////////////////////////////\nfunction isMozilla() {\n    return navigator.appName === 'Netscape';\n}\nfunction isFirefox() {\n    return navigator.userAgent.toLowerCase().include('firefox');\n}\nfunction isWebKitEngine() {\n    return Prototype.Browser.WebKit;\n}\nfunction isChrome() {\n    return navigator.userAgent.toLowerCase().include('chrome');\n}\nfunction isIPad() {\n    return navigator.platform == 'iPad';\n}\nfunction isAndroid() {\n    return navigator.userAgent.toLowerCase().include('android');\n}\nfunction isIE() {\n    return navigator.appName === 'Microsoft Internet Explorer' || navigator.userAgent.indexOf('Trident/') >= 0;\n}\nfunction isIE6() {\n    return isIEVersion(6);\n}\nfunction isIE7() {\n    return isIEVersion(7);\n}\nfunction isIE8() {\n    return isIEVersion(8);\n}\nfunction isIE9() {\n    return isIEVersion(9);\n}\nfunction isIE10() {\n    return isIEVersion(10);\n}\nfunction isIE11() {\n    return isIEVersion(11);\n}\nfunction isIEVersion7Upwards() {\n    return getIEVersion() >= 7;\n}\nfunction isIEVersion(testVersion) {\n    return getIEVersion() === testVersion;\n}\nfunction getIEVersion() {\n    var version = 0;    // not IE\n    // not IE\n    if (getIEVersion.version >= 0) {\n        return getIEVersion.version;\n    }\n    if (isIE()) {\n        if (navigator.appName === 'Netscape') {\n            var ua = navigator.userAgent;\n            var re = new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})');\n            if (re.exec(ua) != null) {\n                version = parseFloat(RegExp.$1);\n            }\n        } else {\n            var msVersion = navigator.appVersion.split('MSIE')[1];\n            version = parseFloat(msVersion);\n        }\n    }\n    getIEVersion.version = version;\n    return version;\n}    /////////////////////////////////////////////\n// .prototype Overrides\n/////////////////////////////////////////////\n/**\n * Provide Function with a convenience method to add a new method to its prototype\n * With thanks to \"JavaScript: The Good Parts by Douglas Crockford. Copyright 2008 Yahoo! Inc., 978-0596-51774-8\"\n * @param {Object} name\n * @param {Object} func\n */\n/////////////////////////////////////////////\n// .prototype Overrides\n/////////////////////////////////////////////\n/**\n * Provide Function with a convenience method to add a new method to its prototype\n * With thanks to \"JavaScript: The Good Parts by Douglas Crockford. Copyright 2008 Yahoo! Inc., 978-0596-51774-8\"\n * @param {Object} name\n * @param {Object} func\n */\nFunction.prototype.addMethod = function (name, func) {\n    this.prototype[name] = func;\n    return this;\n};    /**\n * Provide Function with a convenience method to add a new var to its prototype\n * Identical to addMethod - but renaming for better semantics\n * @param {Object} name\n * @param {Object} func\n */\n/**\n * Provide Function with a convenience method to add a new var to its prototype\n * Identical to addMethod - but renaming for better semantics\n * @param {Object} name\n * @param {Object} func\n */\nFunction.prototype.addVar = function (name, value) {\n    this.prototype[name] = value;\n    return this;\n};\nFunction.prototype.compose = function (argFunction) {\n    var invokingFunction = this;\n    return function () {\n        return invokingFunction.call(this, argFunction.apply(this, arguments));\n    };\n};    ///////////////////////////////////////////\n// Generic Functions\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Generic Functions\n///////////////////////////////////////////\nfunction doNothing() {\n}    //what it says\n/**\n * Add data to form.\n * @param form Dom element form\n * @param postData Map where key is a parameter name and value is a value or array of values\n */\n/**\n * Add data to form.\n * @param form Dom element form\n * @param postData Map where key is a parameter name and value is a value or array of values\n */\nfunction addDataToForm(form, postData) {\n    var addHiddenInputToForm = function (parameterName, parameterValue) {\n        var input = jQuery('<input>').attr('type', 'hidden').attr('name', parameterName).val(parameterValue);\n        jQuery(form).append(jQuery(input));\n    };\n    _.each(postData, function (parameterValues, parameterName) {\n        if (_.isArray(parameterValues)) {\n            _.each(parameterValues, function (parameterValue) {\n                addHiddenInputToForm(parameterName, parameterValue);\n            });\n        } else {\n            addHiddenInputToForm(parameterName, parameterValues);\n        }\n    });\n}    /**\n * Change year and moth in specified date\n */\n/**\n * Change year and moth in specified date\n */\nfunction updateYearMonth(date, year, month) {\n    if (date) {\n        date.setFullYear(year);\n        date.setMonth(month);    // If we have 2012-12-31 and set Nov(11 - 1) then date will be 2012-12-01\n        // So we need to set it again\n        // If we have 2012-12-31 and set Nov(11 - 1) then date will be 2012-12-01\n        // So we need to set it again\n        if (date.getMonth() !== month) {\n            date.setMonth(month);\n        }\n    }\n    return date;\n}\n\nfunction getTZOffset(timezoneLabel, targetDateStr) {\n    if (!timezoneLabel) {\n        return 0;\n    }\n    var utc_offset;\n    var tzList = {\n        'africa/abidjan': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/accra': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/addis_ababa': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/algiers': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/asmara': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/asmera': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/bamako': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/bangui': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/banjul': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/bissau': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/blantyre': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/brazzaville': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/bujumbura': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/cairo': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/casablanca': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'africa/ceuta': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'africa/conakry': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/dakar': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/dar_es_salaam': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/djibouti': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/douala': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/el_aaiun': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/freetown': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/gaborone': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/harare': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/johannesburg': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/juba': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/kampala': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/khartoum': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/kigali': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/kinshasa': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lagos': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/libreville': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lome': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/luanda': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/lubumbashi': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/lusaka': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/malabo': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/maputo': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/maseru': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/mbabane': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/mogadishu': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/monrovia': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/nairobi': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'africa/ndjamena': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/niamey': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/nouakchott': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/ouagadougou': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/porto-novo': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/sao_tome': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/timbuktu': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'africa/tripoli': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'africa/tunis': {\n            utc: 1,\n            utc_dst: 1\n        },\n        'africa/windhoek': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'akst9akdt': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/adak': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'america/anchorage': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/anguilla': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/antigua': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/araguaina': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/buenos_aires': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/catamarca': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/comodrivadavia': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/cordoba': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/jujuy': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/la_rioja': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/mendoza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/rio_gallegos': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/salta': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/san_juan': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/san_luis': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/tucuman': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/argentina/ushuaia': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/aruba': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/asuncion': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/atikokan': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/atka': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'america/bahia': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/bahia_banderas': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/barbados': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/belem': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/belize': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/blanc-sablon': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/boa_vista': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/bogota': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/boise': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/buenos_aires': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cambridge_bay': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/campo_grande': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/cancun': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/caracas': {\n            utc: -4.5,\n            utc_dst: -4.5\n        },\n        'america/catamarca': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cayenne': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/cayman': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/chicago': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/chihuahua': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/coral_harbour': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/cordoba': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/costa_rica': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/creston': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/cuiaba': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/curacao': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/danmarkshavn': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'america/dawson': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/dawson_creek': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/denver': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/detroit': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/dominica': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/edmonton': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/eirunepe': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/el_salvador': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/ensenada': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/fort_wayne': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/fortaleza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/glace_bay': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/godthab': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/goose_bay': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/grand_turk': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/grenada': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/guadeloupe': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/guatemala': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/guayaquil': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/guyana': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/halifax': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/havana': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/hermosillo': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/indiana/indianapolis': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/knox': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/indiana/marengo': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/petersburg': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/tell_city': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/indiana/vevay': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/vincennes': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indiana/winamac': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/indianapolis': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/inuvik': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/iqaluit': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/jamaica': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/jujuy': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/juneau': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/kentucky/louisville': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/kentucky/monticello': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/knox_in': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/kralendijk': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/la_paz': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/lima': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/los_angeles': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/louisville': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/lower_princes': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/maceio': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/managua': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/manaus': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/marigot': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/martinique': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/matamoros': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/mazatlan': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/mendoza': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/menominee': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/merida': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/metlakatla': {\n            utc: -8,\n            utc_dst: -8\n        },\n        'america/mexico_city': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/miquelon': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/moncton': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/monterrey': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/montevideo': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/montreal': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/montserrat': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/nassau': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/new_york': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/nipigon': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/nome': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/noronha': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'america/north_dakota/beulah': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/north_dakota/center': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/north_dakota/new_salem': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/ojinaga': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/panama': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'america/pangnirtung': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/paramaribo': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/phoenix': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'america/port_of_spain': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/port-au-prince': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/porto_acre': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/porto_velho': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/puerto_rico': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/rainy_river': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/rankin_inlet': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/recife': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/regina': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/resolute': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/rio_branco': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/rosario': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/santa_isabel': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/santarem': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'america/santiago': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/santo_domingo': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/sao_paulo': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'america/scoresbysund': {\n            utc: -1,\n            utc_dst: 0\n        },\n        'america/shiprock': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'america/sitka': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/st_barthelemy': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_johns': {\n            utc: -3.5,\n            utc_dst: -2.5\n        },\n        'america/st_kitts': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_lucia': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_thomas': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/st_vincent': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/swift_current': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/tegucigalpa': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'america/thule': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'america/thunder_bay': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/tijuana': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/toronto': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'america/tortola': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/vancouver': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/virgin': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'america/whitehorse': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'america/winnipeg': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'america/yakutat': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'america/yellowknife': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'antarctica/casey': {\n            utc: 11,\n            utc_dst: 8\n        },\n        'antarctica/davis': {\n            utc: 5,\n            utc_dst: 7\n        },\n        'antarctica/dumontdurville': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'antarctica/macquarie': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'antarctica/mawson': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'antarctica/mcmurdo': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'antarctica/palmer': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'antarctica/rothera': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'antarctica/south_pole': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'antarctica/syowa': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'antarctica/vostok': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'arctic/longyearbyen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'asia/aden': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/almaty': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/amman': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/anadyr': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/aqtau': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/aqtobe': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/ashgabat': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/ashkhabad': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/baghdad': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/bahrain': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/baku': {\n            utc: 4,\n            utc_dst: 5\n        },\n        'asia/bangkok': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/beirut': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/bishkek': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/brunei': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/calcutta': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/choibalsan': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/chongqing': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/chungking': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/colombo': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/dacca': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/damascus': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/dhaka': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/dili': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/dubai': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/dushanbe': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/gaza': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/harbin': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/hebron': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/ho_chi_minh': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/hong_kong': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/hovd': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/irkutsk': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/istanbul': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/jakarta': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/jayapura': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/jerusalem': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/kabul': {\n            utc: 4.5,\n            utc_dst: 4.5\n        },\n        'asia/kamchatka': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/karachi': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/kashgar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kathmandu': {\n            utc: 5.75,\n            utc_dst: 5.75\n        },\n        'asia/katmandu': {\n            utc: 5.75,\n            utc_dst: 5.75\n        },\n        'asia/kolkata': {\n            utc: 5.5,\n            utc_dst: 5.5\n        },\n        'asia/krasnoyarsk': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuala_lumpur': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuching': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/kuwait': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/macao': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/macau': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/magadan': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'asia/makassar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/manila': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/muscat': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/nicosia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/novokuznetsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/novosibirsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/omsk': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/oral': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/phnom_penh': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/pontianak': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/pyongyang': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/qatar': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/qyzylorda': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/rangoon': {\n            utc: 6.5,\n            utc_dst: 6.5\n        },\n        'asia/riyadh': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'asia/saigon': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/sakhalin': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'asia/samarkand': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/seoul': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/shanghai': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/singapore': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/taipei': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/tashkent': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'asia/tbilisi': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'asia/tehran': {\n            utc: 3.5,\n            utc_dst: 4.5\n        },\n        'asia/tel_aviv': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'asia/thimbu': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/thimphu': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/tokyo': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'asia/ujung_pandang': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/ulaanbaatar': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/ulan_bator': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/urumqi': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'asia/vientiane': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'asia/vladivostok': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'asia/yakutsk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'asia/yekaterinburg': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'asia/yerevan': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'atlantic/azores': {\n            utc: -1,\n            utc_dst: 0\n        },\n        'atlantic/bermuda': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'atlantic/canary': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/cape_verde': {\n            utc: -1,\n            utc_dst: -1\n        },\n        'atlantic/faeroe': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/faroe': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/jan_mayen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'atlantic/madeira': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'atlantic/reykjavik': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'atlantic/south_georgia': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'atlantic/st_helena': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'atlantic/stanley': {\n            utc: -3,\n            utc_dst: -3\n        },\n        'australia/act': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/adelaide': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/brisbane': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/broken_hill': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/canberra': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/currie': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/darwin': {\n            utc: 9.5,\n            utc_dst: 9.5\n        },\n        'australia/eucla': {\n            utc: 8.75,\n            utc_dst: 8.75\n        },\n        'australia/hobart': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/lhi': {\n            utc: 10.5,\n            utc_dst: 11\n        },\n        'australia/lindeman': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/lord_howe': {\n            utc: 10.5,\n            utc_dst: 11\n        },\n        'australia/melbourne': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/north': {\n            utc: 9.5,\n            utc_dst: 9.5\n        },\n        'australia/nsw': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/perth': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'australia/queensland': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'australia/south': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'australia/sydney': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/tasmania': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/victoria': {\n            utc: 10,\n            utc_dst: 11\n        },\n        'australia/west': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'australia/yancowinna': {\n            utc: 9.5,\n            utc_dst: 10.5\n        },\n        'brazil/acre': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'brazil/denoronha': {\n            utc: -2,\n            utc_dst: -2\n        },\n        'brazil/east': {\n            utc: -3,\n            utc_dst: -2\n        },\n        'brazil/west': {\n            utc: -4,\n            utc_dst: -4\n        },\n        'canada/atlantic': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'canada/central': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'canada/eastern': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'canada/east-saskatchewan': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'canada/mountain': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'canada/newfoundland': {\n            utc: -3.5,\n            utc_dst: -2.5\n        },\n        'canada/pacific': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'canada/saskatchewan': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'canada/yukon': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'cet': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'chile/continental': {\n            utc: -4,\n            utc_dst: -3\n        },\n        'chile/easterisland': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'cst6cdt': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'cuba': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'eet': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'egypt': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'eire': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'est': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'est5edt': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'etc/gmt': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/gmt+0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/uct': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/universal': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/utc': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'etc/zulu': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'europe/amsterdam': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/andorra': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/athens': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/belfast': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/belgrade': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/berlin': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/bratislava': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/brussels': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/bucharest': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/budapest': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/chisinau': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/copenhagen': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/dublin': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/gibraltar': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/guernsey': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/helsinki': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/isle_of_man': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/istanbul': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/jersey': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/kaliningrad': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'europe/kiev': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/lisbon': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/ljubljana': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/london': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'europe/luxembourg': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/madrid': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/malta': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/mariehamn': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/minsk': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'europe/monaco': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/moscow': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/nicosia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/oslo': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/paris': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/podgorica': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/prague': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/riga': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/rome': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/samara': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/san_marino': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/sarajevo': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/simferopol': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/skopje': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/sofia': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/stockholm': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/tallinn': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/tirane': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/tiraspol': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/uzhgorod': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/vaduz': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vatican': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vienna': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/vilnius': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/volgograd': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'europe/warsaw': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/zagreb': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'europe/zaporozhye': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'europe/zurich': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'gb': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'gb-eire': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'gmt': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt+0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'gmt-0': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'greenwich': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'hongkong': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'hst': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'iceland': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'indian/antananarivo': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/chagos': {\n            utc: 6,\n            utc_dst: 6\n        },\n        'indian/christmas': {\n            utc: 7,\n            utc_dst: 7\n        },\n        'indian/cocos': {\n            utc: 6.5,\n            utc_dst: 6.5\n        },\n        'indian/comoro': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/kerguelen': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'indian/mahe': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'indian/maldives': {\n            utc: 5,\n            utc_dst: 5\n        },\n        'indian/mauritius': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'indian/mayotte': {\n            utc: 3,\n            utc_dst: 3\n        },\n        'indian/reunion': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'iran': {\n            utc: 3.5,\n            utc_dst: 4.5\n        },\n        'israel': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'jamaica': {\n            utc: -5,\n            utc_dst: -5\n        },\n        'japan': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'jst-9': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'kwajalein': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'libya': {\n            utc: 2,\n            utc_dst: 2\n        },\n        'met': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'mexico/bajanorte': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'mexico/bajasur': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'mexico/general': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'mst': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'mst7mdt': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'navajo': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'nz': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'nz-chat': {\n            utc: 12.75,\n            utc_dst: 13.75\n        },\n        'pacific/apia': {\n            utc: 13,\n            utc_dst: 14\n        },\n        'pacific/auckland': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'pacific/chatham': {\n            utc: 12.75,\n            utc_dst: 13.75\n        },\n        'pacific/chuuk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/easter': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'pacific/efate': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/enderbury': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/fakaofo': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/fiji': {\n            utc: 12,\n            utc_dst: 13\n        },\n        'pacific/funafuti': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/galapagos': {\n            utc: -6,\n            utc_dst: -6\n        },\n        'pacific/gambier': {\n            utc: -9,\n            utc_dst: -9\n        },\n        'pacific/guadalcanal': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/guam': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/honolulu': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/johnston': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/kiritimati': {\n            utc: 14,\n            utc_dst: 14\n        },\n        'pacific/kosrae': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/kwajalein': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/majuro': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/marquesas': {\n            utc: -9.5,\n            utc_dst: -9.5\n        },\n        'pacific/midway': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/nauru': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/niue': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/norfolk': {\n            utc: 11.5,\n            utc_dst: 11.5\n        },\n        'pacific/noumea': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/pago_pago': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/palau': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'pacific/pitcairn': {\n            utc: -8,\n            utc_dst: -8\n        },\n        'pacific/pohnpei': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/ponape': {\n            utc: 11,\n            utc_dst: 11\n        },\n        'pacific/port_moresby': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/rarotonga': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/saipan': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/samoa': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'pacific/tahiti': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'pacific/tarawa': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/tongatapu': {\n            utc: 13,\n            utc_dst: 13\n        },\n        'pacific/truk': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'pacific/wake': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/wallis': {\n            utc: 12,\n            utc_dst: 12\n        },\n        'pacific/yap': {\n            utc: 10,\n            utc_dst: 10\n        },\n        'poland': {\n            utc: 1,\n            utc_dst: 2\n        },\n        'portugal': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'prc': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'pst8pdt': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'roc': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'rok': {\n            utc: 9,\n            utc_dst: 9\n        },\n        'singapore': {\n            utc: 8,\n            utc_dst: 8\n        },\n        'turkey': {\n            utc: 2,\n            utc_dst: 3\n        },\n        'uct': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'universal': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'us/alaska': {\n            utc: -9,\n            utc_dst: -8\n        },\n        'us/aleutian': {\n            utc: -10,\n            utc_dst: -9\n        },\n        'us/arizona': {\n            utc: -7,\n            utc_dst: -7\n        },\n        'us/central': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'us/eastern': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/east-indiana': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/hawaii': {\n            utc: -10,\n            utc_dst: -10\n        },\n        'us/indiana-starke': {\n            utc: -6,\n            utc_dst: -5\n        },\n        'us/michigan': {\n            utc: -5,\n            utc_dst: -4\n        },\n        'us/mountain': {\n            utc: -7,\n            utc_dst: -6\n        },\n        'us/pacific': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'us/pacific-new': {\n            utc: -8,\n            utc_dst: -7\n        },\n        'us/samoa': {\n            utc: -11,\n            utc_dst: -11\n        },\n        'utc': {\n            utc: 0,\n            utc_dst: 0\n        },\n        'wet': {\n            utc: 0,\n            utc_dst: 1\n        },\n        'w-su': {\n            utc: 4,\n            utc_dst: 4\n        },\n        'zulu': {\n            utc: 0,\n            utc_dst: 0\n        }\n    };\n    timezoneLabel = timezoneLabel.toLowerCase();\n    if (typeof tzList[timezoneLabel] === 'undefined')\n        return 0;\n    utc_offset = tzList[timezoneLabel].utc;\n    if (moment(targetDateStr).isDST()) {\n        utc_offset = tzList[timezoneLabel].utc_dst;\n    }\n    return utc_offset;\n}\n//////////////////////////////////////////////////////////////////////////////////\n// Type checking\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// typically just apply the prototype methods in the imlementations below\n// directly to the objects - but these methods added for backwards compatability...\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// Type checking\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// typically just apply the prototype methods in the imlementations below\n// directly to the objects - but these methods added for backwards compatability...\n//////////////////////////////////////////////////////////////////////////////////\nfunction exists(obj) {\n    return !Object.isUndefined(obj);\n}\nfunction isArray(obj) {\n    return Object.isArray(obj);\n}\nfunction isNumber(obj) {\n    return Object.isNumber(obj);\n}    /**\n * Test to esure object is not null or undefined\n * @param object\n */\n/**\n * Test to esure object is not null or undefined\n * @param object\n */\nfunction isNotNullORUndefined(object) {\n    return typeof object !== 'undefined' && object != null;\n}    /*\n * Utility method had to be written because jquery.prop('disabled') fails in Chrome.\n */\n/*\n * Utility method had to be written because jquery.prop('disabled') fails in Chrome.\n */\nfunction hasDisabledAttributeSet(element) {\n    var disabled = element.getAttribute('disabled');\n    return !isNotNullORUndefined(disabled) ? false : disabled == '0' || disabled == 'false' ? false : true;\n}    ///////////////////////////////////////////\n// DOM Navigation\n///////////////////////////////////////////\n///////////////////////////////////////////\n// DOM Navigation\n///////////////////////////////////////////\nfunction getParentDiv(elem) {\n    return jQuery(elem).parent('div');\n}\nfunction getAbsoluteParent(child) {\n    var nextOne = child;\n    while (!nextOne.style || nextOne.style.position !== 'absolute') {\n        if (nextOne.tagName.toLowerCase() === 'body')\n            return null;\n        nextOne = jQuery(nextOne).parent();\n    }\n    return nextOne;\n}\nfunction getElementWithIdAndTagAndParent(id, tagName, parentElem) {\n    var elems = parentElem.getElementsByTagName(tagName);\n    for (var i = 0; i < elems.length; i++) {\n        if (elems[i].getAttribute('id') === id)\n            return elems[i];\n    }\n    return null;\n}    /**\n * uses prototype`s up() method\n * see http://www.prototypejs.org/api/element/up\n * @param {Object} cssRule\n */\n/**\n * uses prototype`s up() method\n * see http://www.prototypejs.org/api/element/up\n * @param {Object} cssRule\n */\nfunction getClosestAncestor(elem, cssRule) {\n    var result;\n    while (!result) {\n        result = jQuery('#' + elem).parent(cssRule);\n        if (!result) {\n            elem = elem.parentNode;\n            if (!elem || elem.tagName !== 'DIV') {\n                return null;    //reached root - no matches available\n            }\n        }\n    }\n    return result;\n}    /**\n * @deprecated - prototype does this too\n * @param {Object} child\n * @param {Object} parent\n */\n/**\n * @deprecated - prototype does this too\n * @param {Object} child\n * @param {Object} parent\n */\nfunction isDescendantOf(child, parent) {\n    while (child.tagName != 'BODY') {\n        if (child == parent) {\n            return true;\n        }\n        child = child.parentNode;\n    }\n    return false;\n}\nfunction getCellIndex(cell) {\n    return cell.cellIndex;\n}\nfunction getRowIndex(row) {\n    return row.rowIndex;\n}    ///////////////////////////////////////////\n// Element Inspection\n///////////////////////////////////////////\n/**\n * @param {Element} elem\n * @return true if elem or ancestor has disabled attribute\n */\n///////////////////////////////////////////\n// Element Inspection\n///////////////////////////////////////////\n/**\n * @param {Element} elem\n * @return true if elem or ancestor has disabled attribute\n */\nfunction isDisabled(elem) {\n    if (!elem.readAttribute) {\n        //e.g. document - which is never disabled\n        return false;\n    }    // fix issue when sizer worked incorrectly if quickly dragged on disabled element\n    // previously this method returned true and eventMouseUp handler was not called in dragdrop-1.9.0-patched.js\n    // which caused unexpected behavior of sizer\n    // fix issue when sizer worked incorrectly if quickly dragged on disabled element\n    // previously this method returned true and eventMouseUp handler was not called in dragdrop-1.9.0-patched.js\n    // which caused unexpected behavior of sizer\n    if (Draggables && Draggables.activeDraggable && Draggables.activeDraggable.dragging && matchAny(Draggables.activeDraggable.element, ['.sizer.dragging'], false)) {\n        return false;\n    }\n    var hasAttribute = !!jQuery(elem).attr('disabled') || elem.ancestors().any(function (s) {\n        return jQuery(s).attr('disabled');\n    });    //TODO className check is only temporary - all disabled elems should have disabled attribute\n    //TODO className check is only temporary - all disabled elems should have disabled attribute\n    var hasClassName = matchAny(elem, ['.disabled'], true);\n    return hasAttribute || hasClassName;\n}    /**\n * Return the element if it matches any of these css selectors\n * Optionally return matching ancestor as alternative\n * @param {Element} elem - the element (object or id)\n * @param {Array} array of Css Selector Patterns\n * @param {boolean} true if we are to return closest matching ancestor if no direct match\n */\n/**\n * Return the element if it matches any of these css selectors\n * Optionally return matching ancestor as alternative\n * @param {Element} elem - the element (object or id)\n * @param {Array} array of Css Selector Patterns\n * @param {boolean} true if we are to return closest matching ancestor if no direct match\n */\nfunction matchAny(elem, patterns, includeAncestors) {\n    if (!elem) {\n        return null;\n    }    //check direct hits first...\n    //check direct hits first...\n    for (var i = 0; i < patterns.length; ++i) {\n        if (elem.match && elem.match(patterns[i])) {\n            return elem;\n        }\n    }    //...then ancestors\n    //...then ancestors\n    if (includeAncestors) {\n        for (var j = 0; j < patterns.length; ++j) {\n            var upMatch = elem.up && elem.up(patterns[j]);\n            if (upMatch) {\n                return upMatch;\n            }\n        }\n    }\n    return null;\n}    /**\n * Return the element if it or any of its ancestors match given pattern\n * @param elem\n * @param css pattern\n * @return matching element\n */\n/**\n * Return the element if it or any of its ancestors match given pattern\n * @param elem\n * @param css pattern\n * @return matching element\n */\nfunction matchMeOrUp(elem, pattern) {\n    //return elem && ((elem.match(pattern) && elem) || elem.up(pattern));\n    var match;\n    while (elem && !match) {\n        match = elem.match && elem.match(pattern) && elem;\n        elem = elem.parentNode;\n    }\n    return match;\n}    /**\n * Do the given styles match\n * @param {Element} elem1 first Element (object or id)\n * @param {Element} elem2 second Element (object or id)\n */\n/**\n * Do the given styles match\n * @param {Element} elem1 first Element (object or id)\n * @param {Element} elem2 second Element (object or id)\n */\nfunction stylesMatch(elem1, elem2, styleName) {\n    return jQuery('#' + elem1)[0].getStyle(styleName) === jQuery('#' + elem2)[0].getStyle(styleName);\n}    /**\n * get the next sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the next sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getNextMatchingSibling(elem, pattern) {\n    elem = elem.nextSibling;\n\n    while (elem) {\n        if (elem.match && elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.nextSibling;\n    }\n    return null;\n}    /**\n * get the next sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the next sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getNextNonMatchingSibling(elem, pattern) {\n    elem = elem.nextSibling;\n\n    while (elem) {\n        if (elem.match && !elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.nextSibling;\n    }\n    return null;\n}    /**\n * get the previous sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the previous sibling that matches the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getPreviousMatchingSibling(elem, pattern) {\n    elem = elem.previousSibling;\n\n    while (elem) {\n        if (elem.match && elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.previousSibling;\n    }\n    return null;\n}    /**\n * get the previous sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\n/**\n * get the previous sibling that does not match the pattern\n * @param {Element} elem1 first Element (object or id)\n * @param {String} css pattern too match\n */\nfunction getPreviousNonMatchingSibling(elem, pattern) {\n    elem = elem.previousSibling;\n\n    while (elem) {\n        if (elem.match && !elem.match(pattern)) {\n            return elem;\n        }\n\n        elem = elem.previousSibling;\n    }\n    return null;\n}    /**\n * deprecated - use getBoxOffsets() below\n */\n/**\n * deprecated - use getBoxOffsets() below\n */\nfunction getAbsoluteOffsets(thisObj) {\n    var oLeft = thisObj.offsetLeft;\n    var oTop = thisObj.offsetTop;\n    var thisParent = thisObj.offsetParent;\n    while (thisParent.tagName.toUpperCase() != 'BODY' && thisParent.style.position != 'absolute') {\n        thisParent = thisParent.offsetParent;\n    }    //add co-ords of absolute parent\n    //add co-ords of absolute parent\n    if (thisParent.style.position == 'absolute') {\n        oLeft = oLeft + thisParent.offsetLeft;\n        oTop = oTop + thisParent.offsetTop;\n    }\n    if (isIE()) {\n        //minor adjustment because IE handles offset slightly differently;\n        //oLeft=oLeft+1;\n        oTop = oTop + 1;\n    }\n    return new Array(oLeft, oTop, oLeft + thisObj.offsetWidth, oTop + thisObj.offsetHeight);\n}    /**\n * deprecated - use getBoxOffsets()[1] below\n * but keep this as a fallthrough method\n */\n/**\n * deprecated - use getBoxOffsets()[1] below\n * but keep this as a fallthrough method\n */\nfunction getAbsoluteTopOffset(thisObj) {\n    var oTop = thisObj.offsetTop;\n    var thisParent = thisObj.offsetParent;\n    while (thisParent.tagName.toUpperCase() != 'BODY' && thisParent.style.position != 'absolute') {\n        var updatedTop = oTop + thisParent.offsetTop;\n        thisParent = thisParent.offsetParent;\n    }    //add co-ords of absolute parent\n    //add co-ords of absolute parent\n    if (thisParent.style.position == 'absolute') {\n        updatedTop = oTop + thisParent.offsetTop;\n    }\n    if (isIE()) {\n        //minor adjustment because IE handles offset slightly differently;\n        updatedTop = oTop + 1;\n    }\n    return updatedTop;\n}    /**\n * re-implemenation of getAbsoluteOffsets()\n * but leaving original for now in case results vary slightly\n * @param theObj - the element who`s offsets we are calculating\n * @param includeScrollOffsets - consider scrolling in results (origin will be outside viewport)\n */\n/**\n * re-implemenation of getAbsoluteOffsets()\n * but leaving original for now in case results vary slightly\n * @param theObj - the element who`s offsets we are calculating\n * @param includeScrollOffsets - consider scrolling in results (origin will be outside viewport)\n */\nfunction getBoxOffsets(thisObj, includeScrollOffsets) {\n    var offsets = $(thisObj).cumulativeOffset();\n    var posLeft = offsets[0];\n    var posTop = offsets[1];\n    if (includeScrollOffsets) {\n        var scrollOffsets = $(thisObj).cumulativeScrollOffset();\n        posLeft = posLeft - scrollOffsets[0];\n        posTop = posTop - scrollOffsets[1];\n    }\n    return new Array(posLeft, posTop);\n}\nfunction getInnerText(elem) {\n    return isNotNullORUndefined(elem.innerText) ? elem.innerText : elem.textContent;\n}\nfunction isPointOverlayingObject(x, y, obj) {\n    //    var offsets = getAbsoluteOffsets(obj);\n    //    //window.status = offsets[0]+'-'+x+'-'+offsets[2]+'-'+offsets[1]+'-'+y+'-'+offsets[3];\n    //    return x>offsets[0]&&x<offsets[2]&&y>offsets[1]&&y<offsets[3];\n    //TODO: this is deprecated in prototype but not yet replaced in scriptaculous\n    //using it for now - watch for changes in future prototype releases\n    return Position.within(obj, x, y);\n}\nfunction boxesOverlap(leftA, topA, rightA, bottomA, leftB, topB, rightB, bottomB) {\n    return !(topA > bottomB || bottomA < topB || leftA > rightB || rightA < leftB);\n}\nfunction boxesOverlapVertically(leftA, rightA, leftB, rightB) {\n    return !(leftA >= rightB || rightA <= leftB);\n}\nfunction boxesOverlapHorizontally(topA, bottomA, topB, bottomB) {\n    return !(topA >= bottomB || bottomA <= topB);\n}\nfunction getOuterHeight(elem) {\n    if (!elem.clientHeight) {\n        return 0;    //not visible\n    }\n    return new Number(elem.getStyle('height').replace(/[^\\d\\.]/g, '')) + getBufferHeight(elem, true);\n}\nfunction getOuterWidth(elem) {\n    if (!elem.clientWidth) {\n        return 0;    //not visible\n    }\n    return new Number(elem.getStyle('width').replace(/[^\\d\\.]/g, '')) + getBufferWidth(elem, true);\n}\nfunction getBufferHeight(elem, includeMargins) {\n    if (!elem.visible()) {\n        return 0;\n    }    //do new Number instead of parseInt to avoid rounding errors\n    //do new Number instead of parseInt to avoid rounding errors\n    var result = 0;\n    var digitRegex = /[^\\d\\.]/g;\n    if (includeMargins) {\n        var marginTop = elem.getStyle('marginTop');\n        var marginBottom = elem.getStyle('marginBottom');    //IE workaround\n        //IE workaround\n        marginTop = marginTop == null ? '0px' : marginTop;\n        marginBottom = marginBottom == null ? '0px' : marginBottom;\n        marginTop = marginTop.replace(digitRegex, '');\n        marginBottom = marginBottom.replace(digitRegex, '');\n        result = new Number(marginTop).ceil() + new Number(marginBottom).ceil();\n    }\n    result += new Number(elem.getStyle('borderBottomWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('borderTopWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingTop').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingBottom').replace(digitRegex, '')).ceil();\n    return result;\n}\nfunction getBufferWidth(elem, includeMargins) {\n    if (!elem.visible()) {\n        return 0;\n    }\n    //do new Number instead of parseInt to avoid rounding errors\n    var result = 0;\n    var digitRegex = /[^\\d\\.]/g;\n    if (includeMargins) {\n        var marginLeft = elem.getStyle('marginLeft');\n        var marginRight = elem.getStyle('marginRight');    //IE workaround\n        //IE workaround\n        marginLeft = marginLeft == null ? '0px' : marginLeft;\n        marginRight = marginRight == null ? '0px' : marginRight;\n        marginLeft = marginLeft.replace(digitRegex, '');\n        marginRight = marginRight.replace(digitRegex, '');\n        result = new Number(marginLeft).ceil() + new Number(marginRight).ceil();\n    }\n    result += new Number(elem.getStyle('borderLeftWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('borderRightWidth').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingLeft').replace(digitRegex, '')).ceil()\n        + new Number(elem.getStyle('paddingRight').replace(digitRegex, '')).ceil();\n    return result;\n}    /**\n * looks up any dimension style (left,top,width,height) in units of px or % and returns the px value\n * throws exception if unit is not % or px or parent unit is not px\n * @param {Object} element\n * @param {Object} dimension\n * @return {number} px value\n */\n/**\n * looks up any dimension style (left,top,width,height) in units of px or % and returns the px value\n * throws exception if unit is not % or px or parent unit is not px\n * @param {Object} element\n * @param {Object} dimension\n * @return {number} px value\n */\nfunction getDimensionInPx(element, dimension) {\n    var parentDimension = {\n        left: 'width',\n        right: 'width',\n        width: 'width',\n        top: 'height',\n        bottom: 'height',\n        height: 'height'\n    };\n    var measurement = element.getStyle(dimension);\n    if (measurement.include('%')) {\n        var parentNode = element.parentNode;\n        var parentMeasurement = parentNode.getStyle(parentDimension[dimension]);\n        if (!parentMeasurement.include('px')) {\n            throw 'cannot convert to px , because parent dimension not measured in px';\n        }\n        return parseInt(measurement) * parseInt(parentMeasurement) / 100;\n    }\n    if (measurement.include('px')) {\n        return parseInt(measurement);\n    }\n    throw 'cannot convert to px, because unit is neither px or %';\n}    /**\n * takes a style (width or height) for an element and returns the equivalent actual size\n * @param {Object} asStyle\n */\n/**\n * takes a style (width or height) for an element and returns the equivalent actual size\n * @param {Object} asStyle\n */\nfunction getActualDimension(elem, style) {\n    var conversion = {\n        'width': 'clientWidth',\n        'height': 'clientHeight'\n    };\n    return elem[conversion[style]];\n}    /**\n * nullify and remove all children\n * return true if succesful\n * @param {Object} elem\n */\n/**\n * nullify and remove all children\n * return true if succesful\n * @param {Object} elem\n */\nfunction purgeChildElements(elem) {\n    try {\n        var kids = elem && elem.children;\n        if (!kids) {\n            return;\n        }\n        for (var i = 0, l = kids.length; i < l; i++) {\n            purge(kids[i]);\n            purgeChildElements(kids[i]);\n            kids[i] = null;\n            kids[i] = elem.removeChild(kids[i]);\n        }\n        return elem.children.length == 0;\n    } catch (e) {\n    }    //debugger\n}\nfunction purge(d) {\n    var a = d.attributes, i, l, n;\n    if (a) {\n        l = a.length;\n        for (i = 0; i < l; i += 1) {\n            n = a[i].name;\n            if (typeof d[n] === 'function') {\n                d[n] = null;\n            }\n        }\n    }\n    a = d.childNodes;\n    if (a) {\n        l = a.length;\n        for (i = 0; i < l; i += 1) {\n            purge(d.childNodes[i]);\n        }\n    }\n}    /**\n * takes an element (input[type=text] or textarea and returns the position of the caret inside this element\n * @param {DOMElement} el\n */\n/**\n * takes an element (input[type=text] or textarea and returns the position of the caret inside this element\n * @param {DOMElement} el\n */\nfunction getCaret(el) {\n    if (!el)\n        return 0;\n    if (el.selectionStart) {\n        return el.selectionStart;\n    } else if (document.selection) {\n        el.focus();\n        var r = document.selection.createRange();\n        if (r == null) {\n            return 0;\n        }\n        var re = el.createTextRange(), rc = re.duplicate();\n        re.moveToBookmark(r.getBookmark());\n        rc.setEndPoint('EndToStart', re);\n        return rc.text.length;\n    }\n    return 0;\n}    ///////////////////////////////////////////\n// Element Detection\n///////////////////////////////////////////\n/**\n * Answer true if the DOM element is nearly scrolled into view\n * @param {Object} theElem - dom elem to check for\n * @param {Object} offset - how close is almost (in pixels)\n */\n///////////////////////////////////////////\n// Element Detection\n///////////////////////////////////////////\n/**\n * Answer true if the DOM element is nearly scrolled into view\n * @param {Object} theElem - dom elem to check for\n * @param {Object} offset - how close is almost (in pixels)\n */\nfunction isAlmostInView(theElem, offset) {\n    var theElemTop = parseInt(getBoxOffsets(theElem)[1]);\n    var pageTop = $(theElem).cumulativeScrollOffset()[1];\n    var viewableHeight = getWindowHeight();\n    return theElemTop < pageTop + viewableHeight + offset;\n}\nfunction getTouchedElement(evt) {\n    var touches = evt.changedTouches;\n    if (touches && touches.length > 0) {\n        return jQuery('#' + document.elementFromPoint(touches[0].clientX, touches[0].clientY))[0];\n    } else {\n        return evt.element();\n    }\n}    ///////////////////////////////////////////\n// Element Positioning\n///////////////////////////////////////////\n/**\n * @param {Object} obj\n * @deprecated Use centerElement\n */\n// Note assumes obj display is NOT none\n///////////////////////////////////////////\n// Element Positioning\n///////////////////////////////////////////\n/**\n * @param {Object} obj\n * @deprecated Use centerElement\n */\n// Note assumes obj display is NOT none\nfunction centerLayer(obj) {\n    obj.style.left = parseInt((getWindowWidth() - parseInt(obj.clientWidth)) / 2 + getScrollLeft()) + 'px';\n    obj.style.top = parseInt((getWindowHeight() - parseInt(obj.clientHeight)) / 2 + getScrollTop()) + 'px';\n}    /**\n * center the element  in the axis specified\n * must have appropraite\n * @param {Object} elem\n * @param {Object} options\n */\n/**\n * center the element  in the axis specified\n * must have appropraite\n * @param {Object} elem\n * @param {Object} options\n */\nfunction centerElement(elem, options) {\n    if (!elem) {\n        return;\n    }\n    if (elem.jquery) {\n        // Getting pure DOM element to be able to invoke this function from code based on jQuery.\n        elem = jQuery(elem.get(0))[0];\n    }\n    if (options.horz) {\n        if (!jQuery(elem).hasClass('centered_horz')) {\n            throw 'Element\\'s className ' + elem.className + ' must include \\'centered_horz\\' for function centerLayer to work with these arguments';\n        }\n        var w = elem.getWidth() || elem.getStyle('min-width');\n        if (w) {\n            var theWidth = parseInt(w);\n            var theBufferedWidth = theWidth + getBufferWidth(elem, true);\n            var parentWidth = jQuery(elem).parent()[0].getWidth();\n            //if >= parent width nothing to do\n            if (theBufferedWidth < parentWidth) {\n                elem.style.marginLeft = -(theWidth / 2) + 'px';\n                elem.style.left = '50%';\n            }\n        }\n    }\n    if (options.vert) {\n        if (!jQuery(elem).hasClass('centered_vert')) {\n            throw 'Element\\'s className ' + elem.className + ' must include \\'centered_vert\\' for function centerLayer to work with these arguments';\n        }\n        var h = elem.getHeight() || elem.getStyle('min-height');\n        if (h) {\n            var theHeight = parseInt(h);\n            var theBufferedHeight = theHeight + getBufferHeight(elem, true);\n            var parentHeight = jQuery(elem).parent()[0].getHeight();\n            //if >= parent height nothing to do\n            if (theBufferedHeight < parentHeight) {\n                elem.style.marginTop = -(theHeight / 2) + 'px';\n                elem.style.top = '50%';\n            }\n        }\n    }\n}\nfunction parseFunc(elem, prefix) {\n    var className = elem.className;\n    var index = className.indexOf(prefix);\n    if (index > -1) {\n        var cssClasses = className.substring(index).split(' ');\n        if (cssClasses.length > 0) {\n            var name = cssClasses[0].replace(prefix, '');\n            return typeof window[name] === 'function' ? window[name] : null;\n        }\n    }\n    return null;\n}\nfunction cascadeElement(elem, options) {\n    // Horizontal cascade\n    var theWidth = parseInt(elem.getStyle('width'));\n    var theBufferedWidth = theWidth + getBufferWidth(elem, true);\n    var parentWidth = jQuery(elem).parent()[0].getWidth();\n    var horzOffset = -(options.horzOffset * options.number / 2) + options.position * options.horzOffset;\n    if (theBufferedWidth < parentWidth) {\n        elem.style.left = (parentWidth - theBufferedWidth) / 2 + horzOffset + 'px';\n    }\n    var theHeight = parseInt(elem.getStyle('height'));\n    var theBufferedHeight = theHeight + getBufferHeight(elem, true);\n    var parentHeight = jQuery(elem).parent()[0].getHeight();\n    var vertOffset = -(options.vertOffset * options.number / 2) + options.position * options.vertOffset;\n    if (theBufferedHeight < parentHeight) {\n        elem.style.top = (parentHeight - theBufferedHeight) / 2 + vertOffset + 'px';\n    }\n}    //left, top, width, height are optional overrides\n//left, top, width, height are optional overrides\nfunction fitObjectIntoScreen(obj, thisLeft, thisTop, thisWidth, thisHeight) {\n    var l = thisLeft ? parseInt(thisLeft) : parseInt(obj.offsetLeft);\n    var t = thisTop ? parseInt(thisTop) : parseInt(obj.offsetTop);\n    var w = thisWidth ? parseInt(thisWidth) : parseInt(obj.clientWidth);\n    var h = thisHeight ? parseInt(thisHeight) : parseInt(obj.clientHeight);\n    var sl = getScrollLeft();\n    var st = getScrollTop();\n    var sw = getWindowWidth();\n    var sh = getWindowHeight();    //scrollbar adjustment\n    //scrollbar adjustment\n    w = w + 20;\n    h = h + 20;\n    if (t + h > st + sh)\n        t = st + sh - h;\n    if (t < st)\n        t = st;\n    if (l + w > sl + sw)\n        l = sl + sw - w;\n    if (l < sl)\n        l = sl;\n    obj.style.left = l + 'px';\n    obj.style.top = t + 'px';\n}\n///////////////////////////////////////////\n// Element Displaying and Effects\n///////////////////////////////////////////\nfunction focusOn(id) {\n    jQuery('#' + id)[0].focus();\n}\nfunction selectAndFocusOn(id) {\n    var el = jQuery('#' + id)[0];\n    el.select();\n    el.focus();\n}\n///////////////////////////////////////////\n// Element Overlays\n///////////////////////////////////////////\n//haze out the entire usable page\nfunction renderHazeLayer(left, top) {\n    var theBody = document.body;\n    return renderOverlay(left, top, theBody.scrollWidth, theBody.scrollHeight, 'haze');\n}\nfunction renderOverlay(left, top, width, height, style) {\n    var overlayObject = document.createElement('DIV');\n    overlayObject.className = style;\n    overlayObject.style.position = 'absolute';    //overlayObject.style.zIndex=80;\n    //overlayObject.style.zIndex=80;\n    overlayObject.style.left = left;\n    overlayObject.style.top = top;\n    overlayObject.style.width = width;\n    overlayObject.style.height = height;\n    document.body.appendChild(overlayObject);\n    return overlayObject;\n}\nfunction removeOverlay(overlayObject) {\n    if (overlayObject && overlayObject.parentNode) {\n        overlayObject.parentNode.removeChild(overlayObject);\n    }\n    if (overlayObject) {\n        overlayObject = null;\n    }\n}    /**\n * set obj as a child of the Parent\n * if parent already set do nothing\n * @param {Object} obj\n * @param {Object} newParent\n */\n/**\n * set obj as a child of the Parent\n * if parent already set do nothing\n * @param {Object} obj\n * @param {Object} newParent\n */\nfunction reParent(obj, newParent) {\n    if (!obj) {\n        return;\n    }\n    if (!obj.parentNode || obj.parentNode != newParent) {\n        newParent.appendChild(obj);\n    }\n}    /**\n * Use this for positioning an overlay parented by an absolute element (not body)\n * IE needs to take scroll into account, Mozilla doesn`t\n * @param {Object} target\n */\n/**\n * Use this for positioning an overlay parented by an absolute element (not body)\n * IE needs to take scroll into account, Mozilla doesn`t\n * @param {Object} target\n */\nfunction getScrollLeftForAbsoluteParent(parentObj) {\n    return isIE() ? parentObj.scrollLeft : 0;\n}\nfunction getScrollTopForAbsoluteParent(parentObj) {\n    return isIE() ? parentObj.scrollTop : 0;\n}\nfunction renderTransparentIFrame(left, top, width, height) {\n    var IFRAME_MARGIN = 5;\n    var iframe = document.createElement('IFRAME');\n    iframe.frameBorder = 0;\n    iframe.style['filter'] = 'alpha(opacity=0)';\n    iframe.style.position = 'absolute';\n    iframe.style.left = left - IFRAME_MARGIN;\n    iframe.style.top = top - IFRAME_MARGIN;\n    iframe.style.width = width - 2 * IFRAME_MARGIN;\n    iframe.style.height = height - 2 * IFRAME_MARGIN;\n    document.body.appendChild(iframe);\n    return iframe;\n}    /////////////////////////////////////////////////////////////////////////////////////\n// Overlay management form common-utils.js. Consolidate with above\n/////////////////////////////////////////////////////////////////////////////////////\n//make this non global\n/////////////////////////////////////////////////////////////////////////////////////\n// Overlay management form common-utils.js. Consolidate with above\n/////////////////////////////////////////////////////////////////////////////////////\n//make this non global\nvar overlayObjectStack = new Array();\nfunction pushOverlayObject(elementId, style, zIndex) {\n    var off = getAbsoluteOffsets(jQuery('#' + elementId)[0]);\n    pushOverlayObjectAtOffsets(off, style, zIndex);\n}\nfunction pushTotalOverlayObject(style, zIndex) {\n    var offsets = new Array(0, 0, document.body.scrollWidth, document.body.scrollHeight);\n    pushOverlayObjectAtOffsets(offsets, style, zIndex);\n}\nfunction pushOverlayObjectAtOffsets(off, style, zIndex) {\n    if (isIE()) {\n        //render a transparent IFrame to hide selects\n        var iframe = renderTransparentIFrame(off[0], off[1], off[2] - off[0], off[3] - off[1]);\n        overlayObjectStack.push(iframe);\n    }\n    var overlayObject = renderOverlay(off[0], off[1], off[2] - off[0], off[3] - off[1], style);\n    if (zIndex) {\n        overlayObject.style.zIndex = zIndex;\n    }\n    overlayObjectStack.push(overlayObject);\n}\nfunction popOverlayObject() {\n    if (overlayObjectStack.length > 0) {\n        var overlayObject = overlayObjectStack.pop();\n        removeOverlay(overlayObject);\n        if (isIE() && overlayObjectStack.length > 0) {\n            //remove the transparent IFrame\n            removeOverlay(overlayObjectStack.pop());\n        }\n    }\n}\nfunction popAllOverlayObjects() {\n    while (overlayObjectStack.length > 0) {\n        var overlayObject = overlayObjectStack.pop();\n        removeOverlay(overlayObject);\n    }\n}    //////////////////////////////////////\n// Element Enabling\n//////////////////////////////////////\n//////////////////////////////////////\n// Element Enabling\n//////////////////////////////////////\nfunction disableSelection(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //        target.style.KhtmlUserSelect = \"none\";\n            //        target.style.userSelect = \"none\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return false;\n            };\n        } else if (typeof target.onselectstart != 'undefined')\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return false;\n            };\n        else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined')\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = '-moz-none';\n        else\n            //All other route (ie: Opera)\n            ;    //target.onmousedown=function(){return false}\n        //target.onmousedown=function(){return false}\n        jQuery(target)[0].style.cursor = 'default';\n    }\n}\nfunction disableSelectionWithoutCursorStyle(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //        target.style.KhtmlUserSelect = \"none\";\n            //        target.style.userSelect = \"none\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return false;\n            };\n        } else if (typeof target.onselectstart != 'undefined')\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return false;\n            };\n        else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined')\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = '-moz-none';\n        else\n            //All other route (ie: Opera)\n            ;    //target.onmousedown=function(){return false}\n    }\n}\nfunction enableSelection(target) {\n    if (target) {\n        if (typeof jQuery(target)[0].style.KhtmlUserSelect != 'undefined') {\n            //Safari route\n            //            target.style.KhtmlUserSelect = \"text\";\n            //            target.style.userSelect = \"text\";\n            target.onselectstart = function (e) {\n                e.stopPropagation();\n                return true;\n            };\n        } else if (typeof target.onselectstart != 'undefined') {\n            //IE route\n            target.onselectstart = function (e) {\n                e = e ? e : window.event;\n                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n                return true;\n            };\n        } else if (typeof jQuery(target)[0].style.MozUserSelect != 'undefined') {\n            //Firefox route\n            jQuery(target)[0].style.MozUserSelect = 'text';\n        }    //All other route (e.g. Opera)\n        jQuery(target)[0].style.cursor = 'default';\n    }\n}    ///////////////////////////////////////////\n// Mousepointer\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Mousepointer\n///////////////////////////////////////////\nfunction setCursor(theState) {\n    document.body.style.cursor = theState;\n}\nfunction cursorDefault() {\n    setCursor('default');\n}\nfunction cursorPointer() {\n    setCursor('pointer');\n}\nfunction cursorWait() {\n    setCursor('wait');\n}    ///////////////////////////////////////////\n// Table Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Table Utils\n///////////////////////////////////////////\nfunction getCellAtColumn(cells, columnIndex) {\n    var columnCount = 0;\n    for (let i = 0; i < cells.length; i++) {\n        columnCount += cells.colspan;\n        if (columnCount >= columnIndex)\n            return cells[i];\n    }\n    return null;\n}    // columnIndex indicates which column (within the supplied rows) we are interested in\n// columnIndex indicates which column (within the supplied rows) we are interested in\nfunction getCellAtRow(rows, columnIndex, rowIndex) {\n    var rowCount = 0;\n    for (let i = 0; i < rows.length; i++) {\n        var thisCell = rows[i].cells[columnIndex];\n        rowCount += thisCell.rowspan;\n        if (rowCount >= rowIndex)\n            thisCell;\n    }\n    return null;\n}    //fromT and toT can be TABLE or TBODY\n//fromT and toT can be TABLE or TBODY\nfunction copyTable(fromT, toT, replace, paramsAreTBody) {\n    var fromBody = paramsAreTBody ? fromT : jQuery(fromT).find('tbody')[0];\n    var toBody = paramsAreTBody ? toT : jQuery(toT).find('tbody.copyTo')[0];    //copy to main tbody (class==body)\n    //copy to main tbody (class==body)\n    if (replace) {\n        clearTable(toT);\n    }\n    try {\n        toBody.insert(jQuery(fromBody).html());\n    } catch (e) {\n    }    //nothing to copy?\n}    //fromT would be a jQuery wrapped DOM element\n//toT would be a DOM element\n//fromT and toT can be TABLE or TBODY\n//fromT would be a jQuery wrapped DOM element\n//toT would be a DOM element\n//fromT and toT can be TABLE or TBODY\nfunction copyTableJquery(fromT, toT, replace, paramsAreTBody) {\n    var fromBody = paramsAreTBody ? fromT : fromT.find('tbody:first');\n    var toBody = paramsAreTBody ? toT : jQuery('tobody.copyTo:first', toT);    //copy to main tbody (class==body)\n    //copy to main tbody (class==body)\n    if (replace) {\n        clearTable(toT);\n    }\n    try {\n        jQuery(toBody).append(fromBody.html());\n    } catch (e) {\n    }    //nothing to copy?\n}\nfunction clearTable(myTable) {\n    if (document.all) {\n        while (myTable.rows[0]) {\n            myTable.deleteRow(0);\n        }\n    } else {\n        jQuery(myTable).html('');\n    }\n}    ///////////////////////////////////////////\n// Window Inspection\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Inspection\n///////////////////////////////////////////\nfunction getWindowWidth() {\n    var w = jQuery(window).width();\n    if (isIE9())\n        w = w + 17;\n    return w;\n}\nfunction getWindowHeight() {\n    var h = jQuery(window).height();\n    if (isIE9())\n        h = h + 17;\n    return h;\n}\nfunction getScrollLeft() {\n    return typeof window.scrollX === 'number' ? window.scrollX : document.body.scrollLeft;\n}\nfunction getScrollTop() {\n    return typeof window.scrollY === 'number' ? window.scrollY : document.body.scrollTop;\n}    ///////////////////////////////////////////\n// Window Positioning\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Positioning\n///////////////////////////////////////////\nfunction scrollXToMiddle(theBody) {\n    //scroll to half the difference between page width and window width (if any)\n    var excess = theBody.scrollWidth - getWindowWidth();\n    if (excess > 0)\n        theBody.scrollLeft = excess / 2;\n}    ///////////////////////////////////////////\n// Window Creation\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Window Creation\n///////////////////////////////////////////\nfunction launchNewWindow(url) {\n    window.open(url);\n}    ///////////////////////////////////////////\n// IFRAME Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// IFRAME Utils\n///////////////////////////////////////////\nfunction getIFrameDocument(iFrame) {\n    var doc = iFrame.contentWindow || iFrame.contentDocument;\n    if (doc.document) {\n        doc = doc.document;\n    }\n    return doc;\n}    ///////////////////////////////////////////\n// Event Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Event Utils\n///////////////////////////////////////////\nfunction getEvent(evt) {\n    return evt ? evt : window.event;\n}    //used to smother an event\n//used to smother an event\nfunction popEvent(e) {\n    cancelEventBubbling(e ? e : event);\n}\nfunction triggerNativeEvent(event, target) {\n    var ie = isIE(), ev;\n    target = target || (ie ? document.documentElement : window);\n    if (document.createEvent) {\n        // W3C\n        ev = document.createEvent('Event');\n        ev.initEvent(event, true, true);\n        target.dispatchEvent(ev);\n    } else {\n        // IE\n        target.fireEvent('on' + event, document.createEventObject());\n    }\n}\n\n/**\n * Is the related target of this event equal to, or descendant from the given element\n * @param {Object} event\n * @param {Object} element\n */\nfunction relatedTargetInElementSubtree(event, element) {\n    if (!event.relatedTarget) {\n        return false;\n    }\n    if (element === event.relatedTarget) {\n        return true;\n    }\n    return event.relatedTarget.descendantOf(element);\n}\nfunction cancelEventBubbling(evt) {\n    evt = getEvent(evt);\n    evt.cancelBubble = true;\n    if (evt.stopPropagation)\n        evt.stopPropagation();\n}\nfunction cancelEventAndPreventDefault(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction enterKeyHit(evt) {\n    var charCode = whichKeyHit(evt);\n    return charCode == 13 || charCode == 3;\n}\nfunction whichKeyHit(evt) {\n    evt = getEvent(evt);\n    var charCode = evt.charCode ? evt.charCode : evt.which ? evt.which : evt.keyCode;\n    return charCode;\n}\nfunction isCtrlHeld(evt) {\n    evt = getEvent(evt);\n    return !!(evt && evt.ctrlKey);\n}\nfunction isShiftHeld(evt) {\n    evt = getEvent(evt);\n    return !!(evt && evt.shiftKey);\n}\nfunction getEventTarget(evt) {\n    evt = getEvent(evt);\n    return evt && (evt.target || evt.srcElement);\n}\nfunction isNavigationInput(evt) {\n    evt = getEvent(evt);\n    var code = evt.keyCode ? evt.keyCode : evt.which;\n    return code == Keys.DOM_VK_LEFT || code == Keys.DOM_VK_RIGHT || code == Keys.DOM_VK_TAB || code == Keys.DOM_VK_BACK_SPACE || code == Keys.DOM_VK_ENTER;\n}\nfunction verifyIsDigitInput(evt) {\n    evt = getEvent(evt);\n    var code = evt.keyCode ? evt.keyCode : evt.which;    //ascii code check\n    //ascii code check\n    return code >= Keys.DOM_VK_0 && code <= Keys.DOM_VK_9 || isNavigationInput(evt);\n}\nfunction verifyIsInputNumericDecimalSeparator(evt) {\n    evt = getEvent(evt);\n    var keyPad = evt.keyCode ? evt.keyCode : evt.which;\n    var keyChar = String.fromCharCode(keyPad);\n    return keyChar === window.decimalSeparator;\n}\nfunction numberOfDecimals(someNumericValue) {\n    var wordLen = someNumericValue.length;\n    var count = 0;\n    for (var index = 0; index < wordLen; index++) {\n        if (someNumericValue.charAt(index) === window.decimalSeparator) {\n            count++;\n        }\n    }\n    return count;\n}    /**\n * This function checks to see if the event is a mac style right click action using the keyboard.\n * This supports clicking the right, left of middle buttons on a mouse\n * @param evt the event object\n */\n/**\n * This function checks to see if the event is a mac style right click action using the keyboard.\n * This supports clicking the right, left of middle buttons on a mouse\n * @param event the event object\n */\nfunction macOSKeyboardRightClick(event) {\n    var evt = getEvent(event);\n    if (evt.ctrlKey) {\n        return evt.button == 0 || evt.button == 1 || evt.button == 2;\n    } else {\n        return false;\n    }\n}    /**\n * This function check to see if the  macOS-style Rightmouseclick has been clicked.\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n */\n/**\n * This function check to see if the  macOS-style Rightmouseclick has been clicked.\n * @param evet the event object\n * @return boolean to indicate whether or not the key has been pressed.\n */\nfunction macOSMouseRightClick(event) {\n    var evt = getEvent(event);\n    var buttonRightclick = false;\n    evt = evt || window.event;\n    if (evt.which) {\n        buttonRightclick = evt.which == 3;\n    } else if (evt.button) {\n        buttonRightclick = evt.button == 2;\n    }\n    return buttonRightclick;\n}    /**\n * I implemented this right click function because prototype's isRightClick method didn't/doesn't work with Safari.\n * The reason for this is due to the way WebKit's engine deals with right click events. Accroding to the current\n * w3c spec of HTML the button events and codes are listed below.. (prototype works with this)\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n *\n * Microsoft (Trident) on the other hand uses the ff... (prototype works with this)\n * 1 - Left button\n * 4 - Middle button\n * 2 - Right button\n *\n * Safari (Webkit) for some reason intercepts the Right click event and prevents custom made context menus from coming up\n * to enable safari based context. To get around this, we can use the \"which\" property that belongs to mouse events.\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n * Note: All Mac browsers only detect the left button, even if the mouse has more than one button. @see http://www.quirksmode.org/dom/w3c_events.html#mousepos\n *\n *\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n *\n *\n **/\n/**\n * I implemented this right click function because prototype's isRightClick method didn't/doesn't work with Safari.\n * The reason for this is due to the way WebKit's engine deals with right click events. Accroding to the current\n * w3c spec of HTML the button events and codes are listed below.. (prototype works with this)\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n *\n * Microsoft (Trident) on the other hand uses the ff... (prototype works with this)\n * 1 - Left button\n * 4 - Middle button\n * 2 - Right button\n *\n * Safari (Webkit) for some reason intercepts the Right click event and prevents custom made context menus from coming up\n * to enable safari based context. To get around this, we can use the \"which\" property that belongs to mouse events.\n * 0 - Left button\n * 1 - Middle button\n * 2 - Right button\n * Note: All Mac browsers only detect the left button, even if the mouse has more than one button. @see http://www.quirksmode.org/dom/w3c_events.html#mousepos\n *\n *\n * @param evt the event object\n * @return boolean to indicate whether or not the key has been pressed.\n *\n *\n **/\nfunction isRightClick(evt) {\n    if (isMacOS()) {\n        var keyboardClick = macOSKeyboardRightClick(evt);\n        var mouseClick = macOSMouseRightClick(evt);\n        return keyboardClick || mouseClick;\n    } else {\n        return Event.isRightClick(evt);\n    }\n}\nfunction isLeftClick(evt) {\n    return Event.isLeftClick(evt);\n}    /**\n * This function is used to determine whether or not the control key on PC or the command key on Mac OS x has\n * been pressed.\n * @param evt The event being passed.\n * @param macUsesAlt soemtimes mac uses alt not command to map to ctrl (e.g for copy)\n * @return boolean to indicate whether or not the key has been pressed.\n */\n/**\n * This function is used to determine whether or not the control key on PC or the command key on Mac OS x has\n * been pressed.\n * @param event The event being passed.\n * @param macUsesAlt soemtimes mac uses alt not command to map to ctrl (e.g for copy)\n * @return boolean to indicate whether or not the key has been pressed.\n */\nfunction isMetaHeld(event, macUsesAlt) {\n    var evt = getEvent(event);\n    if (getEvent(evt)) {\n        if (isMacOS()) {\n            return macUsesAlt ? evt.altKey : evt.metaKey;\n        } else {\n            return isCtrlHeld(evt);\n        }\n    } else {\n        return false;\n    }\n}    ////////////////////////////////////////\n// String Utils\n////////////////////////////////////////\n////////////////////////////////////////\n// String Utils\n////////////////////////////////////////\nif (typeof String.prototype.trim !== 'function') {\n    String.prototype.trim = function () {\n        return this.strip();\n    };\n}\nfunction trim(thisStr) {\n    return thisStr.strip();\n}\nfunction startsWith(string1, string2) {\n    return string1.startsWith(string2);\n}\nfunction getTextAfterUnderscore(theText) {\n    return getTextAfterSubstring(theText, '_');\n}\nfunction getTextBeforeUnderscore(theText) {\n    return getTextBeforeSubstring(theText, '_');\n}\nfunction extractNumber(str) {\n    var result = str.match(/\\d/g);\n    result = result.join('');\n    return result;\n}\nfunction getTextAfterSubstring(theText, theSubstring) {\n    var ssIndex = theText.toLowerCase().indexOf(theSubstring.toLowerCase());\n    if (ssIndex == -1)\n        return null;\n    else\n        return theText.substring(ssIndex + theSubstring.length);\n}\nfunction getTextBeforeSubstring(theText, theSubstring) {\n    var ssIndex = theText.toLowerCase().indexOf(theSubstring.toLowerCase());\n    if (ssIndex == -1)\n        return theText;\n    else\n        return theText.substring(0, ssIndex);\n}\nfunction removeTrailingSlash(theString) {\n    var lastChar = theString.substring(theString.length - 1);\n    if (lastChar == '/') {\n        return theString.substring(0, theString.length - 1);\n    } else {\n        return theString;\n    }\n}\nfunction removeTrailingPound(theString) {\n    var lastChar = theString.substring(theString.length - 1);\n    if (lastChar == '#') {\n        return theString.substring(0, theString.length - 1);\n    } else {\n        return theString;\n    }\n}\nfunction removeChars(theString, charArray) {\n    var i = 0;\n    for (i; i < charArray.length; i++) {\n        while (theString.indexOf(charArray[i]) > -1) {\n            theString = theString.replace(charArray[i], '');\n        }\n    }\n    return theString;\n}    /**\n * replaces all instances of str1 in str with str2\n * note: assumes str2 does not contain str1!\n */\n/**\n * replaces all instances of str1 in str with str2\n * note: assumes str2 does not contain str1!\n */\nfunction replaceAll(str, str1, str2) {\n    str.gsub(str1, str2);\n}    /**\n * @deprecated - user protoype's hash\n * var h = new Hash({ a: 'apple', b: 'banana', c: 'coconut' });\n * h.get('a'); // -> 'apple'\n */\n// Used to create maps from JSON string, takes any even number of parameters\n// var a = Hash(key1, value1, key2, value2);\n/**\n * @deprecated - user protoype's hash\n * var h = new Hash({ a: 'apple', b: 'banana', c: 'coconut' });\n * h.get('a'); // -> 'apple'\n */\n// Used to create maps from JSON string, takes any even number of parameters\n// var a = Hash(key1, value1, key2, value2);\nfunction jsHash() {\n    var ret = new Array();\n    ret.clazz = 'Hash';\n    for (var i = 0; i < arguments.length; i += 2) {\n        if (typeof arguments[i + 1] != 'undefined') {\n            ret[arguments[i]] = arguments[i + 1];\n            ret.push(arguments[i]);\n        }\n    }\n    return ret;\n}\nfunction textCounter(field, maxlimit) {\n    if (field.value.length > maxlimit) {\n        field.value = field.value.substring(0, maxlimit);\n        return false;\n    }\n    return true;\n}    /**\n * This method is a convenience method that enables us save a value to a parameter and reset the original to \"\"\n * In this case, we are saving the value of saveString to myString and setting saveString to \"\"\n * @param myString\n * @param saveString\n */\n/**\n * This method is a convenience method that enables us save a value to a parameter and reset the original to \"\"\n * In this case, we are saving the value of saveString to myString and setting saveString to \"\"\n * @param myString\n * @param saveString\n */\nfunction saveAndClear(myString, saveString) {\n}    /**\n * Use this method to replace illegal characters in string by legal replacements.\n * Examples:\n * escapeString('/illegal string/', [/\\//g, /\\s/g], '_') -> '_illegal_string_';\n * escapeString('illegal string', 'illegal', 'legal') -> 'legal string';\n *\n * @param str - string to escape\n * @param patterns - regexp, string or array of regexp or strings to be replaced\n * @param escapeChars - string or array of string which will be used as replacements.\n *        If escapeChars is array and it's length is equal to patterns length then\n *        i-th pattern will be replaced with i-th replacement from escapeChars\n *        else first replacement from escapeChars always will be used.\n */\n/**\n * Use this method to replace illegal characters in string by legal replacements.\n * Examples:\n * escapeString('/illegal string/', [/\\//g, /\\s/g], '_') -> '_illegal_string_';\n * escapeString('illegal string', 'illegal', 'legal') -> 'legal string';\n *\n * @param str - string to escape\n * @param patterns - regexp, string or array of regexp or strings to be replaced\n * @param escapeChars - string or array of string which will be used as replacements.\n *        If escapeChars is array and it's length is equal to patterns length then\n *        i-th pattern will be replaced with i-th replacement from escapeChars\n *        else first replacement from escapeChars always will be used.\n */\nfunction escapeString(str, patterns, escapeChars) {\n    if (!str || !patterns || escapeChars === undefined || escapeChars === null) {\n        return str;\n    }\n    var alwaysUseFirstPattern = typeof escapeChars === 'string' || Object.isArray(escapeChars) && escapeChars.length < patterns.length;\n    var firstPattern = Object.isArray(escapeChars) ? escapeChars.first() : escapeChars;\n    if (!Object.isArray(patterns)) {\n        return str.replace(patterns, firstPattern);\n    }\n    patterns.each(function (pattern, index) {\n        var escapeChar = alwaysUseFirstPattern ? firstPattern : escapeChars[index];\n        str = str.replace(pattern, escapeChar);\n    });\n    return str;\n}    /**\n * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n *\n * @param string\n */\n/**\n * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n *\n * @param string\n */\nfunction formatString(string) {\n    var values = Array.prototype.slice.call(arguments, 1), indexes, parts, result = [], val;    // Simple implementation for number of substitute strings less than 3\n    // Simple implementation for number of substitute strings less than 3\n    if (values.length < 3) {\n        for (var index = 0; index < values.length; index++) {\n            string = string.replace('{' + index + '}', values[index]);\n        }\n        return string;\n    }    // Implementation that uses RegExp and String concatenation\n    // Implementation that uses RegExp and String concatenation\n    indexes = (string || '').match(/[{]\\d+[}]/g);\n    if (!indexes) {\n        return string;\n    }\n    parts = string.split(/[{]\\d+[}]/);\n    for (var i = 0; i < parts.length; i = i + 1) {\n        val = i < indexes.length ? values[indexes[i].slice(1, -1)] : '';\n        result.push(parts[i], val);\n    }\n    return result.join('');\n}\n/*\n * Splits text into two parts - left and right according to the given position\n */\n/*\n * Splits text into two parts - left and right according to the given position\n */\nfunction splitText(text, splitPosition) {\n    var ret = {\n        left: '',\n        right: text\n    };\n    splitPosition = parseInt(splitPosition, 10);\n    if (_.isNaN(splitPosition))\n        return ret;\n    if (splitPosition === 0)\n        return ret;\n    ret.left = text.substr(0, splitPosition);\n    ret.right = text.substr(splitPosition);\n    return ret;\n}    ///////////////////////////////////////////////////\n// URL utils\n///////////////////////////////////////////////////\n/*\n    Function which redirect to new URL and handles the issue when browsers doesn't set up the document.referrer variable\n */\n///////////////////////////////////////////////////\n// URL utils\n///////////////////////////////////////////////////\n/*\n    Function which redirect to new URL and handles the issue when browsers doesn't set up the document.referrer variable\n */\nfunction redirectToUrl(url) {\n    if (isIE8()) {\n        var referLink = document.createElement('a');\n        referLink.href = url;\n        document.body.appendChild(referLink);\n        referLink.click();\n    } else {\n        window.location.href = url;\n    }\n}\n\nfunction downloadFileByUrl(url) {\n    var targetIframeId = \"fileDownloadIframe\",\n        targetIframe = document.getElementById(targetIframeId);\n\n    if (!targetIframe) {\n        targetIframe = document.createElement(\"iframe\");\n\n        targetIframe.id = targetIframeId;\n        targetIframe.name = targetIframeId;\n        targetIframe.style.display = \"none\";\n\n        document.body.appendChild(targetIframe);\n    }\n\n    var referLink = document.createElement(\"a\");\n\n    referLink.href = url;\n    referLink.target = targetIframeId;\n\n    document.body.appendChild(referLink);\n    referLink.click();\n    document.body.removeChild(referLink);\n}\n\n/**\n * if no protocol specified assume http://\n */\n/**\n * if no protocol specified assume http://\n */\nfunction checkURLProtocol(urlString, enforcePrefix) {\n    if (!enforcePrefix) {\n        return urlString;\n    }\n    if (startsWith(urlString, '/')) {\n        //relative URL\n        return urlString;\n    }\n    var commonProtocols = new Array('http://', 'https://', 'file://', 'mailto://', 'ftp://');\n    for (var i = 0; i < commonProtocols.length; i++) {\n        if (startsWith(urlString, commonProtocols[i])) {\n            return urlString;\n        }\n    }    //no protocol specified so assume http://\n    //no protocol specified so assume http://\n    return commonProtocols[0] + urlString;\n}    /**\n * do we use a '?'or an '&' or nothing?\n */\n/**\n * do we use a '?'or an '&' or nothing?\n */\nfunction getSymbolToAppendNextParam(urlSoFar) {\n    var lastChar = urlSoFar.substring(urlSoFar.length - 1);\n    if (lastChar == '?' || lastChar == '&') {\n        return '';\n    }\n    if (urlSoFar.indexOf('?') > -1) {\n        return '&';\n    } else {\n        return '?';\n    }\n}\nfunction restoreDefaultCursor() {\n    document.body.style.cursor = '';\n}    // encoding function for text fields that we submit\n// encodeURIComponent() converts Unicode to UTF-8, then encodes those bytes in '%xx' hex format.\n// Tomcat will decode '%xx' into bytes, but it interprets those bytes as ISO-8859-1, not UTF-8.\n// In order to get around this, we double encode, so that the servlet will pass through the '%xx' format.\n// This can be decoded correctly inside AdhocAction, which handles all these requests.\n// encoding function for text fields that we submit\n// encodeURIComponent() converts Unicode to UTF-8, then encodes those bytes in '%xx' hex format.\n// Tomcat will decode '%xx' into bytes, but it interprets those bytes as ISO-8859-1, not UTF-8.\n// In order to get around this, we double encode, so that the servlet will pass through the '%xx' format.\n// This can be decoded correctly inside AdhocAction, which handles all these requests.\nfunction encodeText(str) {\n    return encodeURIComponent(encodeURIComponent(str));\n}\nfunction decodeText(str) {\n    return decodeURIComponent(str);\n}    ///////////////////////////////////////////\n// Arithmetic Utils\n///////////////////////////////////////////\n/**\n * return n or range limit\n */\n///////////////////////////////////////////\n// Arithmetic Utils\n///////////////////////////////////////////\n/**\n * return n or range limit\n */\nfunction constrain(n, lower, upper) {\n    if (n > upper) {\n        return upper;\n    }\n    if (n < lower) {\n        return lower;\n    }\n    return n;\n}    ///////////////////////////////////////////\n// Obejct Utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Obejct Utils\n///////////////////////////////////////////\nfunction deepClone(obj) {\n    if (obj == null) {\n        return null;\n    }\n    if (typeof obj != 'object') {\n        //cannot deep clone non-objects\n        return obj;\n    }\n    var clone = Object.isArray(obj) ? [] : {};\n    for (var i in obj) {\n        if (typeof obj[i] == 'object') {\n            clone[i] = deepClone(obj[i]);\n        } else {\n            clone[i] = obj[i];\n        }\n    }\n    return clone;\n}\nfunction cloneCustomAttributes(fromElement, toElement) {\n    var attributes = fromElement ? fromElement.attributes : {};\n    for (var attribute in attributes) {\n        var name = attributes[attribute] && attributes[attribute].name;\n        if (name && name.startsWith('data')) {\n            jQuery(toElement).attr(name, jQuery(fromElement).attr(name))[0];\n        }\n    }\n}    ///////////////////////////\n// Logginga\n////////////////////////////\n///////////////////////////\n// Logging\n////////////////////////////\nfunction initLog() {\n    log = '';\n}\nfunction logIt(task) {\n    log = log + '||' + task + '-' + new Date().getTime();\n}    /**\n * Common purpose debug function. Writes messages to Firebug, Chrome Safari or IE>7 console.\n *\n * @param {String} message Debug message.\n */\n/**\n * Common purpose debug function. Writes messages to Firebug, Chrome Safari or IE>7 console.\n *\n * @param {String} message Debug message.\n */\nfunction debug(message) {\n    /*eslint-disable-next-line no-console*/\n    window.console && window.console.debug(message);\n}\nvar timer = {};\nfunction startTimer(key) {\n    /*eslint-disable-next-line no-console*/\n    window.console && window.console.time ? console.time(key) : timer[key] = +new Date();\n}\nfunction stopTimer(key) {\n    /*eslint-disable-next-line no-console*/\n    if (window.console && window.console.timeEnd) {\n        /*eslint-disable-next-line no-console*/\n        console.timeEnd(key);\n    } else {\n        if (timer[key]) {\n            var response = key + ': ' + (+new Date() - timer[key]);\n            timer[key] = undefined;\n            /*eslint-disable-next-line no-console*/\n            window.console ? console.log(response) : window.status = response;\n        }\n    }\n}    ///////////////////////////////////////////\n// Object utils\n///////////////////////////////////////////\n/**\n * @return line-break delimited string of properties and values of myObj\n */\n///////////////////////////////////////////\n// Object utils\n///////////////////////////////////////////\n/**\n * @return line-break delimited string of properties and values of myObj\n */\nvar inspect = function (myObj) {\n    var properties = [];\n    for (var property in myObj) {\n        if (myObj.hasOwnProperty(property)) {\n            properties.push(property + ' = ' + myObj[property]);\n        }\n    }\n    return properties.join('\\n');\n};    ///////////////////////////////////////////\n// Function Utils\n///////////////////////////////////////////\n/**\n *\n * @param {String} dotNotationString e.g. \"aaa.bbb.ccc\"\n * @return {String} blockNotationString e.g. \"['aaa']['bbb']['ccc']\"\n */\n///////////////////////////////////////////\n// Function Utils\n///////////////////////////////////////////\n/**\n *\n * @param {String} dotNotationString e.g. \"aaa.bbb.ccc\"\n * @return {String} blockNotationString e.g. \"['aaa']['bbb']['ccc']\"\n */\nfunction toBlockNotation(dotNotationString) {\n    if (!dotNotationString) {\n        return '';\n    }\n    return dotNotationString.split('.').map(function (e) {\n        return '[\\'' + e + '\\']';\n    }).join('');\n}    //temp function until we make action models call toFunction directly\n//temp function until we make action models call toFunction directly\nvar getAsFunction = function (functionName) {\n    return toFunction(functionName) || toFunction('localContext.' + functionName);\n};    /**\n * @param {Object} context - optional - function context in dot notation\n * @param {Object} theFunction - function or functionName\n */\n/**\n * @param {Object} context - optional - function context in dot notation\n * @param {Object} theFunction - function or functionName\n */\nfunction toFunction(theFunction) {\n    if (typeof theFunction !== 'string') {\n        return theFunction;\n    } else {\n        var blockReference = toBlockNotation(theFunction);\n        /*eslint-disable-next-line no-eval*/\n        return eval('window' + blockReference);    //e.g. \"window['localContext']['addFieldAsColumn']\"\n    }\n}    /////////////////////////////////////////////////////////////////////////////////////\n// Busy Monitor\n/////////////////////////////////////////////////////////////////////////////////////\n/**\n * monitors for run requests, and only invokes function after specified quiet time\n */\n/////////////////////////////////////////////////////////////////////////////////////\n// Busy Monitor\n/////////////////////////////////////////////////////////////////////////////////////\n/**\n * monitors for run requests, and only invokes function after specified quiet time\n */\nfunction BusyMonitor(waitTime, theFunction) {\n    this.waitTime = waitTime;\n    this.theFunction = theFunction;\n    this.timer = null;\n}    /**\n * @param arguments - optionally pass in arguments to be used when function is invoked\n */\n/**\n * @param arguments - optionally pass in arguments to be used when function is invoked\n */\nBusyMonitor.prototype.run = function () {\n    var args = arguments;\n    if (this.timer != null) {\n        //recent activity - so start a new timeout\n        clearTimeout(this.timer);\n    }\n    var functionToCall = function () {\n        this.theFunction.apply(null, args);\n    };\n    this.timer = setTimeout(functionToCall.bind(this), this.waitTime);\n};\nBusyMonitor.prototype.cancel = function () {\n    this.timer && clearTimeout(this.timer);\n};    ////////////////////////////////////////\n// In Place Editor\n////////////////////////////////////////\n////////////////////////////////////////\n// In Place Editor\n////////////////////////////////////////\nfunction InPlaceEditor(elem) {\n    this.elem = jQuery(elem)[0];\n    this.id = elem.identify();    //id for both states\n    //id for both states\n    this.editing = false;\n    this.value = getInnerText(elem);\n}\nInPlaceEditor.prototype.makeEditable = function (options) {\n    var self = this;\n    var inputId = this.elem.id + 'Input';\n    var inputValue = this.value;\n    var inputBox = Builder.node('input', {\n        className: 'control input text',\n        id: inputId,\n        value: xssUtil.unescape(inputValue)\n    });\n    this.elem.update(inputBox);\n    this.editing = true;\n    var input = jQuery('#' + inputId);\n    if (isIE()) {\n        // This trick is for IE. \"Normally\" if mouse pointer is on input, then focus and selection is lost.\n        // Code below forces to select the input content if mouse pointer is on input.\n        var onceSelected = false;\n        input.hover(function () {\n            if (!onceSelected && inputValue && inputValue === this.value) {\n                this.select();\n                this.focus();\n                onceSelected = true;\n            }\n        }, function () {\n        });\n    }\n    input.focus();\n    input.select();\n    if (options) {\n        if (options['blur']) {\n            jQuery('#' + inputId).onblur = function (evt) {\n                evt = evt ? evt : window.event;\n                var onblurFunction = options['blur'];\n                var executable = getAsFunction(onblurFunction);\n                executable.call(self, evt);    //                Event.stop(evt);\n            };\n        }\n        if (options['onEnter'] || options['onTab']) {\n            jQuery('#' + inputId).on('keypress', function (evt) {\n                var onkeyPressFunction = null;\n                var executable = null;\n                evt = evt ? evt : window.event;\n                if (enterKeyHit(evt)) {\n                    onkeyPressFunction = options['onEnter'];\n                    executable = getAsFunction(onkeyPressFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                } else if (evt.keyCode == Event.KEY_TAB) {\n                    onkeyPressFunction = options['onTab'];\n                    executable = getAsFunction(onkeyPressFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            });\n        }\n        if (options['onMouseup']) {\n            var mouseHandler = function (evt) {\n                evt = evt ? evt : window.event;\n                if (jQuery(Event.element(evt))[0] != jQuery('#' + inputId)[0]) {\n                    var onclickFunction = options['onMouseup'];\n                    var executable = getAsFunction(onclickFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            };\n            if (isIPad()) {\n                document.body.ontouchend = mouseHandler;\n            } else {\n                document.body.onmousedown = mouseHandler;\n            }\n        }\n        if (options['onEsc']) {\n            document.body.onkeydown = function (evt) {\n                evt = evt ? evt : window.event;\n                if (evt.keyCode == Event.KEY_ESC) {\n                    var onescFunction = options['onEsc'];\n                    var executable = getAsFunction(onescFunction);\n                    executable.call(self, evt);    //                    Event.stop(evt);\n                }\n            };\n        }\n    }\n};\nInPlaceEditor.prototype.makeNonEditable = function () {\n    if (this.elem && this.elem.firstDescendant() && this.editing) {\n        var text = this.elem.firstDescendant().value;\n        this.elem.update(xssUtil.hardEscape(text));\n        this.editing = false;\n    }\n};\nInPlaceEditor.prototype.revertEdit = function () {\n    this.elem.update(xssUtil.hardEscape(this.value));\n    this.editing = false;\n};    //////////////////////////////////////////\n// <Script> utils\n//////////////////////////////////////////\n//@Deprecated Do not use because of XSS issues\n//////////////////////////////////////////\n// <Script> utils\n//////////////////////////////////////////\n//@Deprecated Do not use because of XSS issues\nfunction evaluateScripts(containerObj) {\n    var root;\n    if (!containerObj) {\n        root = document;\n    } else {\n        root = jQuery('#' + containerObj)[0];\n    }\n    var scripts = root.getElementsByTagName('SCRIPT');\n    if (scripts != null) {\n        for (var i = 0; i < scripts.length; i++) {\n            var script = scripts[i];\n            if (script && script.text) {\n                globalEval(script.text);\n            }\n        }\n    }\n}    //@Deprecated Do not use because of XSS issues\n//@Deprecated Do not use because of XSS issues\nfunction evaluateScript(scriptId) {\n    var script = jQuery('#' + scriptId)[0];\n    if (script && script.text) {\n        globalEval(script.text);\n    }\n}    //@Deprecated Do not use because of XSS issues\n//@Deprecated Do not use because of XSS issues\nfunction globalEval(scriptText) {\n    /*eslint-disable-next-line no-eval*/\n    window.eval.call(window, scriptText);\n}    /**\n * @param {Array} scriptLibraryArray\n */\n/**\n * @param {Array} scriptLibraryArray\n */\nfunction loadJSFiles(scriptLibraryArray) {\n    if (scriptLibraryArray && Object.isArray(scriptLibraryArray)) {\n        scriptLibraryArray.each(function (thisFile) {\n            loadJSFile(thisFile);\n        });\n    }\n}\nfunction loadJSFile(thisFile) {\n    //unload the old one if any (tags only - for clean up)...\n    if (jQuery('#' + thisFile)[0]) {\n        jQuery('#' + thisFile)[0].parentNode.removeChild(jQuery('#' + thisFile)[0]);\n    }\n    var script = new Element('script');\n    script.setAttribute('id', thisFile);\n    script.setAttribute('type', 'text/javascript');\n    script.setAttribute('src', thisFile);    //    $$(\"head\")[0].insert(script,'bottom');\n    //    $$(\"head\")[0].insert(script,'bottom');\n    jQuery('#head')[0].appendChild(script);\n}    /**\n * only unloads the script tag\n */\n/**\n * only unloads the script tag\n */\nfunction unloadAllScripts() {\n    var scripts = document.getElementsByTagName('SCRIPT');\n    if (scripts != null) {\n        for (var i = 0; i < scripts.length; i++) {\n            var script = scripts[i];\n            script.parentNode.removeChild(script);\n        }\n    }\n}    //////////////////////////////////////////\n// CSS utils\n//////////////////////////////////////////\n/**\n * @param {Array} cssFileArray\n * @param addToBody - if true appends CSS to body (if possible), if false to head\n */\n//////////////////////////////////////////\n// CSS utils\n//////////////////////////////////////////\n/**\n * @param {Array} cssFileArray\n * @param addToBody - if true appends CSS to body (if possible), if false to head\n */\nfunction loadCSSFiles(cssFileArray, addToBody) {\n    if (cssFileArray && Object.isArray(cssFileArray)) {\n        cssFileArray.each(function (thisFile) {\n            loadCSSFile(thisFile, addToBody);\n        });\n    }\n}\nfunction loadCSSFile(thisFile, addToBody) {\n    //unload existing versions of this file so that new ones are at bottom of file\n    unloadCSSFile(thisFile);\n    var cssLink = new Element('link');\n    cssLink.setAttribute('id', escape(thisFile));\n    cssLink.setAttribute('rel', 'stylesheet');\n    cssLink.setAttribute('type', 'text/css');\n    cssLink.setAttribute('href', thisFile);\n    if (addToBody && document.body) {\n        document.body.appendChild(cssLink);\n    } else {\n        jQuery('#head')[0].insert(cssLink, 'bottom');\n    }\n}    /**\n * @param {Array} cssFileArray\n */\n/**\n * @param {Array} cssFileArray\n */\nfunction unloadCSSFiles(cssFileArray) {\n    if (cssFileArray && Object.isArray(cssFileArray)) {\n        cssFileArray.each(function (thisFile) {\n            unloadCSSFile(thisFile);\n        });\n    }\n}\nfunction unloadCSSFile(thisFile) {\n    if (jQuery('#' + escape(thisFile))[0]) {\n        try {\n            jQuery('#' + escape(thisFile))[0].parentNode.removeChild(jQuery('#' + escape(thisFile))[0]);\n        } catch (ex) {\n            alert(ex);\n        }\n    }\n}\nfunction createCSSRule(cssString) {\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    jQuery(style).html(cssString);\n    document.getElementsByTagName('head')[0].appendChild(style);\n}    //////////////////////////////////////////\n// CSS selector utils\n//////////////////////////////////////////\n/**\n * return frist object to matych CSS selector or null\n * @param {Object} cssSelector\n */\n//////////////////////////////////////////\n// CSS selector utils\n//////////////////////////////////////////\n/**\n * return frist object to matych CSS selector or null\n * @param {Object} cssSelector\n */\nfunction getFirstMatch(cssSelector) {\n    return jQuery('#' + cssSelector)[0];\n}    ////////////////////////////\n// Dialog events\n////////////////////////////\n/**\n * NOTE: requires drag.js library\n * @param {Object} event\n */\n////////////////////////////\n// Dialog events\n////////////////////////////\n/**\n * NOTE: requires drag.js library\n * @param {Object} event\n */\nfunction dialogOnMouseDown(event) {\n    var evt = event != null ? event : window.event;    //if the target is the same as the one saved by cancelEventDrag(), do not initiate drag\n    //if the target is the same as the one saved by cancelEventDrag(), do not initiate drag\n    if (cancelEventDragTarget && cancelEventDragTarget == getEventTarget(evt)) {\n        return;\n    }\n    new Dragger(evt, [getAbsoluteParent(window.event ? evt.srcElement : evt.target)], true, true, 2, new DragListener());\n}    //used by cancelEventDrag() to save the target for which drag is to be cancelled\n//used by cancelEventDrag() to save the target for which drag is to be cancelled\nvar cancelEventDragTarget = null;\nfunction cancelEventDrag(event) {\n    //save the event target\n    cancelEventDragTarget = getEventTarget(event);\n}    ///////////////////////////////////////////\n// Ajax utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Ajax utils\n///////////////////////////////////////////\nfunction encodeUriParameter(string) {\n    return encodeURIComponent(encodeURIComponent(string));\n}\nfunction replaceHTML(container, html) {\n    if (isIE()) {\n        jQuery(container).html(html);\n        return;\n    }\n    container = jQuery('#' + container)[0];\n    var nextSibling = container.nextSibling;\n    var parent = container.parentNode;\n    parent.removeChild(container);\n    jQuery(container).html(html);\n    if (nextSibling) {\n        parent.insertBefore(container, nextSibling);\n    } else {\n        parent.appendChild(container);\n    }\n}    ///////////////////////////////////////////\n// Return to default flow\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Return to default flow\n///////////////////////////////////////////\nfunction gotoDefaultLocation(params) {\n    window.location.href = 'flow.html?_flowId=searchFlow' + (params ? '&' + params : '');\n}\nfunction gotoFolderExplorer(folderUri) {\n    window.location.href = 'flow.html?_flowId=searchFlow';\n    document.location = 'flow.html?_flowId=searchFlow&showFolder=' + folderUri;\n}    ///////////////////////////////////////////\n// Temp\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Temp\n///////////////////////////////////////////\nfunction switchDesign(switchTo) {\n    var thisUrl = document.location.href;\n    var hasDecParam = thisUrl.include('&decorator');\n    if (switchTo === 'old') {\n        if (hasDecParam) {\n            thisUrl = thisUrl.replace('main', 'mainOld');\n        } else {\n            thisUrl = thisUrl + '&decorator=mainOld&confirm=true';\n        }\n    } else {\n        if (hasDecParam) {\n            thisUrl = thisUrl.replace('mainOld', 'main');\n        } else {\n            thisUrl = thisUrl + '&decorator=main&confirm=true';\n        }\n    }\n    redirectToUrl(thisUrl);\n}    ///////////////////////////////////////////////////\n// importerd from jasperserver.js (merge these)\n///////////////////////////////////////////////////\n///////////////////////////////////////////////////\n// importerd from jasperserver.js (merge these)\n///////////////////////////////////////////////////\nfunction showDiv(divId) {\n    var div = document.getElementById(divId);\n    var oldZindex = div.style.zIndex;\n    div.style.zIndex = -100;\n    div.style.display = 'block';\n    centerLayer(div);\n    div.style.zIndex = oldZindex;\n}\nfunction hideDiv(divId) {\n    var div = document.getElementById(divId);\n    div.style.display = 'none';\n    return true;\n}\nfunction borderImage(which, color) {\n    //if IE 4+ or NS 6+\n    if (document.all || document.getElementById) {\n        which.style.borderColor = color;\n    }\n}\nfunction resetRadio(radio) {\n    var changed = false;\n    if (radio.length) {\n        for (var i = 0; i < radio.length; ++i) {\n            if (radio[i].checked) {\n                radio[i].checked = false;\n                changed = true;\n            }\n        }\n    } else {\n        if (radio.checked) {\n            radio.checked = false;\n            changed = true;\n        }\n    }\n    return changed;\n}\nfunction launchAboutDlg() {\n    var aboutPanel = document.getElementById('about');\n    aboutPanel.style.display = 'block';\n    centerLayer(aboutPanel);\n}\nfunction hideAboutDlg() {\n    var aboutPanel = document.getElementById('about');\n    aboutPanel.style.display = 'none';\n}\nfunction unescapeBackslash(str) {\n    return str ? str.replace(/\\\\\\\\/g, '\\\\') : str;\n}    /////////////////////////////////////////////////////////////////\n// Tracer utils IE8+, FF, Chrome, Safari\n//////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////\n// Tracer utils IE8+, FF, Chrome, Safari\n//////////////////////////////////////////////////////////////////\nString.prototype.times = function (count) {\n    return count < 1 ? '' : new Array(count + 1).join(this);\n};\nvar tracer = {\n    nativeCodeEx: /\\[native code\\]/,\n    indentCount: -4,\n    tracing: [],\n    traceMe: function (func, methodName) {\n        var traceOn = function () {\n            var startTime = +new Date();\n            var indentString = ' '.times(tracer.indentCount += 4);\n            /*eslint-disable-next-line no-console*/\n            console.info(indentString + methodName + '(' + Array.prototype.slice.call(arguments).join(', ') + ')');\n            var result = func.apply(this, arguments);\n            /*eslint-disable-next-line no-console*/\n            console.info(indentString + methodName, '-> ', result, '(', new Date() - startTime, 'ms', ')');\n            tracer.indentCount -= 4;\n            return result;\n        };\n        traceOn.traceOff = func;\n        for (var prop in func) {\n            traceOn[prop] = func[prop];\n        }\n        /*eslint-disable-next-line no-console*/\n        console.log('tracing ' + methodName);\n        return traceOn;\n    },\n    traceAll: function (root, recurse) {\n        if (root == window || !(typeof root == 'object' || typeof root == 'function')) {\n            return;\n        }\n        for (var key in root) {\n            if (root.hasOwnProperty(key) && root[key] != root) {\n                var thisObj = root[key];\n                if (typeof thisObj == 'function') {\n                    if (this != root && !thisObj.traceOff && !this.nativeCodeEx.test(thisObj)) {\n                        root[key] = this.traceMe(root[key], key);\n                        this.tracing.push({\n                            obj: root,\n                            methodName: key\n                        });\n                    }\n                }\n                recurse && this.traceAll(thisObj, true);\n            }\n        }\n    },\n    untraceAll: function () {\n        for (var i = 0; i < this.tracing.length; ++i) {\n            var thisTracing = this.tracing[i];\n            thisTracing.obj[thisTracing.methodName] = thisTracing.obj[thisTracing.methodName].traceOff;\n        }\n        /*eslint-disable-next-line no-console*/\n        console.log('tracing disabled');\n        tracer.tracing = [];\n    }\n};    ////////////////////////////////\n// Validation module\n////////////////////////////////\n////////////////////////////////\n// Validation module\n////////////////////////////////\nvar ValidationModule = {\n    /*\n     * Main entry point into validation system. You should call this method to validate your input elements.\n     *\n     * @param validationEntries array of validation entries or single validation entry. See validateEntry for format.\n     * @param showError (optional) should it display/hide an error. True by default\n     * @return true if valid, false if not valid\n     */\n    validate: function (validationEntries, showError) {\n        var that = this;\n        if (!isArray(validationEntries)) {\n            return this.validateEntry(validationEntries, showError);\n        }\n        var valid = true;\n        _.each(validationEntries, function (entry) {\n            valid = that.validateEntry(entry, showError) && valid;\n        });\n        return valid;\n    },\n    /*\n     * Performs validation specified by validationEntry\n     *\n     * @param validationEntry. Expected format:\n     * {element: (mandatory) element to attach,\n     *  selector: (optional) string selector for delegated validation,\n     *  validators: [{method: (mandatory) function(element, messages, options {validation code goes here.\n     *                                              Returns null on success, string with error on failure},\n     *                messages: (optionsl) object which overrides default messages,\n     *                options: (optional) anything which can be used by method as 'options' argument - object, array, etc.,\n     *                }, ...],\n     * method: ..., options: ..., messages: ... - can be used instead of 'validators' array if only 1 validator needed.\n     *                                          Either 'validators' array or 'method' function is mandatory.\n     * }\n     *\n     * also supports legacy format of validationEntry - see validateLegacy\n     *\n     * @reutrns is validation successful (true/false)\n     */\n    validateEntry: function (validationEntry, showError) {\n        var valid = true;\n        var msg;\n\n        if (validationEntry.validator) {\n            //legacy format\n            valid = this.validateLegacy(validationEntry, showError);\n        } else if (!validationEntry.selector) {\n            msg = this._validateElement(validationEntry.element, validationEntry, showError);\n            valid = msg == null;\n        } else {\n            var elements = jQuery(validationEntry.element).find(validationEntry.selector);\n            for (let i = 0; i < elements.length; i++) {\n                msg = this._validateElement(elements[i], validationEntry, showError);\n                valid = valid && msg == null;\n            }\n        }\n\n        // allow a screen-reader user to hear last validation message\n        stdnavAlerting.alert(msg);\n\n        return valid;\n    },\n    /**\n     * Performs validation of one element with validators specified by entry\n     *\n     * @returns null on success, validation message on failure\n     */\n    _validateElement: function (element, entry, showError) {\n        var errorMessage;\n        if (entry.method) {\n            errorMessage = this._runValidatorOnElement(entry.method, element, entry.messages, entry.options);\n        } else {\n            var validators = entry.validators;\n            for (var i = 0; i < validators.length; i++) {\n                var validator = validators[i];\n                errorMessage = this._runValidatorOnElement(validator.method, element, validator.messages, validator.options);\n                if (errorMessage != null) {\n                    break;    //TODO decide if we need multiple validation messages\n                }\n            }\n        }\n        if (showError !== false) {\n            if (errorMessage) {\n                this.showError(element, errorMessage);\n            } else {\n                this.hideError(element);\n            }\n        }\n        return errorMessage;\n    },\n    _runValidatorOnElement: function (validator, element, messages, options) {\n        if (_.isString(validator)) {\n            validator = this.methods[validator];\n        }\n        var res = validator.call(this, element.value, messages, options);\n        if (!_.isObject(res)) {\n            return res;\n        }\n        return !res.isValid ? res.errorMessage : null;\n    },\n    /**\n     * Attach validators on specific event, usually \"keyup\" or \"change\".\n     *\n     * @param eventName\n     * @param validationEntries can be array of entries or a single entry\n     */\n    attachOnEvent: function (eventName, validationEntries) {\n        if (!_.isArray(validationEntries)) {\n            validationEntries = [validationEntries];\n        }\n        _.each(validationEntries, function (entry) {\n            jQuery(entry.element).on(eventName, function (event) {\n                ValidationModule.validateEntry(entry);\n            });\n        });\n    },\n    /**\n     * Retrieve message by key and substitute placeholders with values array elements.\n     * Only key is mandatory parameter. defaultMessages can be skipped while still specifying values array -\n     * this case is detected by parameter types.\n     * Values should be specified as array, even if there is only one element.\n     */\n    _getMessage: function (key, customMessages, defaultMessages, values) {\n        if (_.isArray(defaultMessages) || defaultMessages === undefined) {\n            //called as key, customMessages, values\n            values = defaultMessages;\n            defaultMessages = this.defaultMessages;\n        }\n        var message = null;\n        if (customMessages) {\n            message = customMessages[key];\n        }\n        if (!message && defaultMessages) {\n            message = defaultMessages[key];\n        }\n        if (message && values) {\n            message = this.fillPlaceholders(message, values);\n        }\n        return message || key;\n    },\n    /**\n     * Replace placeholders like {0}, {1}, etc. by corresponding elements of values array\n     *\n     * @param string\n     * @param values\n     */\n    fillPlaceholders: function (string, values) {\n        //TODO move out of validation module, that's general purpose code\n        for (var i = 0; i < values.length; i++) {\n            string = string.replace('{' + i + '}', values[i]);\n        }\n        return string;\n    },\n    //TODO load predefined messages from .properties if someone needs default messages\n    defaultMessages: {\n        mandatory: 'Field is mandatory',\n        tooSmall: 'Value is too small, at least {0} required',\n        tooBig: 'Value is too big, at most {0} allowed',\n        tooShort: 'Value is too short, at least {0} characters required',\n        tooLong: 'Value is too long, at most {0} characters allowed',\n        wordInvalidChars: 'Value should contain only word characters (letters, digits and underscore)',\n        shouldStartWithLetter: 'Value should start with letter'\n    },\n    methods: {\n        //make sure field is not empty and contains not only space characters\n        mandatory: function (value, messages) {\n            if (!jQuery.trim(value)) {\n                return this._getMessage('mandatory', messages);\n            }\n            return null;\n        },\n        minMax: function (value, messages, options) {\n            var val = jQuery.trim(value);\n            if (!val) {\n                return null;    //don't validate if no value given\n            }\n            val = parseFloat(val);\n            if (isNaN(val)) {\n                return this._getMessage('notANumber', messages);\n            }\n            if (options.min !== undefined && val < options.min) {\n                return this._getMessage('tooSmall', messages, [options.min]);\n            }\n            if (options.max !== undefined && val > options.max) {\n                return this._getMessage('tooBig', messages, [options.max]);\n            }\n        },\n        minMaxLength: function (value, messages, options) {\n            if (options.minLength && value.length < options.minLength) {\n                return this._getMessage('tooShort', messages, [options.minLength]);\n            }\n            if (options.maxLength && value.length > options.maxLength) {\n                return this._getMessage('tooLong', messages, [options.maxLength]);\n            }\n        },\n        //if value contains only characters allowed in resource ID\n        resourceIdChars: function (value, messages) {\n            if (!window.localContext || !window.localContext.initOptions || !window.localContext.initOptions.resourceIdNotSupportedSymbols) {\n                throw 'There is no resourceIdNotSupportedSymbols property in init options.';\n            }\n            if (new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols, 'g').test(value)) {\n                return this._getMessage('resourceIdInvalidChars', messages);\n            }\n        },\n        //if value contains only word characters (letters, digits and underscore)\n        wordChars: function (value, messages) {\n            if (value.search(/\\W/) >= 0) {\n                return this._getMessage('wordInvalidChars', messages);\n            }\n        },\n        startsWithLetter: function (value, messages) {\n            if (!value.substr(0, 1).match(/[A-Za-z]/)) {\n                return this._getMessage('shouldStartWithLetter', messages);\n            }\n        },\n        isDecimal: function (value) {\n            return _.isNumber(value) || _.isString(value) && !isNaN(Number(value)) ? null : 'defaultErrorMessage';\n        },\n        isInteger: function (value) {\n            return _.isNumber(value) || _.isString(value) && /^[-+]?\\d+$/.test(value) ? null : 'defaultErrorMessage';\n        }\n    },\n    //end methods\n    /**\n     * Performs validation of validation entries, highlights invalid form elements and shows error message.\n     *\n     * @param validationEntries an object or array of validation entries. Each validation entry is JSON object with the\n     * following properties:\n     *  <ul>\n     *      <li>validator - the validator function. It performs validation and return JSON object with the\n     *      following properties:\n     *          <ul>\n     *              <li>isValid - <code>true</code> if the value is valid, <code>false</code> otherwise</li>\n     *              <li>errorMessage - an error message if isValid=false, otherwise it is empty</li>\n     *              <li>onValid - an callback if isValid=true</li>\n     *              <li>onInvalid - an callback if isValid=false</li>\n     *          </ul>\n     *      </li>\n     *      <li>element - the element for which validation should be done using specified validator</li>\n     *  </ul>\n     */\n    validateLegacy: function (validationEntries, showError) {\n        var isValid = true, elemsWithErrors = [];\n        validationEntries = isArray(validationEntries) ? validationEntries : [validationEntries];\n        showError = showError !== false;\n        validationEntries.each(function (validationEntry) {\n            var result = validationEntry.validator.call(ValidationModule, validationEntry.element.getValue());\n            result.isValid ? validationEntry.onValid && validationEntry.onValid(validationEntry) : validationEntry.onInvalid && validationEntry.onInvalid(validationEntry);\n            if (!result.isValid && !elemsWithErrors.include(validationEntry.element)) {\n                elemsWithErrors.push(validationEntry.element);\n                showError && ValidationModule.showError(validationEntry.element, result.errorMessage);\n                isValid = false;\n            } else if (!elemsWithErrors.include(validationEntry.element)) {\n                showError && ValidationModule.hideError(validationEntry.element, true);\n            }\n        });\n        return isValid;\n    },\n    /**\n     * Shows message for the specified form element.\n     *\n     * @param element the form element.\n     * @param message the error message.\n     * @param containerClass the CSS class name that will be added to the message container or control container.\n     * @param messageTypeClass CSS class names used to style message element,\n     *      must start from dot and dot separated if more than one, eg. '.message.warnig').\n     */\n    _showMessage: function (element, message, containerClass, messageTypeClass) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        var msg = jQuery(msgContainer).find(messageTypeClass)[0];\n        msg = msg || jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_PATTERN)[0];\n        if (!msg) {\n            msg = document.createElement('span');\n            msgContainer.appendChild(msg);\n        }\n        msg.className = '';\n        var classes = messageTypeClass.split('.');\n        for (var i = 0; i < classes.length; i++) {\n            jQuery(msg).addClass(classes[i].trim());\n        }\n        if (msg.children.length == 0) {\n            jQuery(msg).html(message);\n        } else {\n            jQuery(msg.children[0]).html(message);\n        }\n        jQuery(msgContainer).addClass(containerClass);\n    },\n    /**\n     * Shows error message for the specified form element.\n     *\n     * @param element the form element.\n     * @param errorMessage the error message.\n     * @param detailsMessage the error stacktrace or detailed message to be shown in dialog.\n     */\n    showError: function (element, errorMessage, detailsMessage) {\n        this._showMessage(element, errorMessage, utilsCommonEnum.ERROR_CLASS, utilsCommonEnum.MESSAGE_WARNING_PATTERN);\n        jQuery(element).attr('aria-invalid', 'true');\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        if (detailsMessage) {\n            var detailsBtn = jQuery(msgContainer).find(utilsCommonEnum.DETAILS_PATTERN)[0];\n            if (detailsBtn) {\n                detailsBtn.stopObserving('click').on('click', function () {\n                    window.dialogs.errorPopup.show(detailsMessage, true);\n                }.bindAsEventListener(this));\n            }\n        } else {\n            //hide Show Details link if there are no details\n            var showDetails = jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_WARNING_DETAILS_PATTERN)[0];\n            if (showDetails)\n                jQuery(showDetails).hide();\n        }\n    },\n    /**\n     * Shows success message for the specified form element.\n     *\n     * @param element the form element.\n     * @param successMessage the success message.\n     */\n    showSuccess: function (element, successMessage) {\n        this._showMessage(element, successMessage, utilsCommonEnum.SUCCESS_CLASS, utilsCommonEnum.MESSAGE_SUCCESS_PATTERN);\n    },\n    /**\n     * Hides error message for the specified form element.\n     *\n     * @param element the form element.\n     * @param cleanMessage a boolean to indicate what error message should be removed as well\n     */\n    hideError: function (element, cleanMessage) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;    // removing error class name\n        // removing error class name\n        jQuery(msgContainer).removeClass(utilsCommonEnum.ERROR_CLASS)[0];   // in some cases it's better to remove error message to prevent some errors.\n        // in some cases it's better to remove error message to prevent some errors.\n        if (cleanMessage) {\n            // find element which has message\n            var msg = jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_WARNING_PATTERN)[0] || jQuery(msgContainer).find(utilsCommonEnum.MESSAGE_PATTERN)[0];\n            if (msg) {\n                msg.update('');\n            }\n        }\n        jQuery(element).attr('aria-invalid', 'false');\n    },\n    /**\n     * Hides success message for the specified form element.\n     *\n     * @param element the form element.\n     */\n    hideSuccess: function (element) {\n        var msgContainer = element.validatorMessageContainer || element.parentNode;\n        jQuery('#' + msgContainer).removeClass(utilsCommonEnum.SUCCESS_CLASS);\n    }\n};    ///////////////////////////////////////////////\n// Class Name Builder - Please do not use\n//////////////////////////////////////////////\n///////////////////////////////////////////////\n// Class Name Builder - Please do not use\n//////////////////////////////////////////////\nvar ClassNameBuilder = function (element) {\n    this.element = jQuery('#' + element)[0];\n    if (this.element.classNameBuilder) {\n        return this.element.classNameBuilder;\n    }\n    this.names = this.element.className.split(' ');\n    this.names = this.names.compact().uniq();\n    this.element.classNameBuilder = this;\n};\nClassNameBuilder.addMethod('add', function (name) {\n    var newNames = [];\n    if (Object.isString(name)) {\n        newNames = name.split(' ');\n    } else if (isArray(name)) {\n        newNames = name;\n    } else {\n        return this;\n    }\n    newNames.each(function (newName) {\n        if (!this.names.include(newName)) {\n            this.names.push(newName);\n        }\n    }.bind(this));\n    return this;\n}).addMethod('remove', function (name) {\n    this.names = this.names.without(name);\n    return this;\n}).addMethod('clean', function () {\n    this.names = [];\n    return this;\n}).addMethod('toClassName', function () {\n    this.element.className = this.names.join(' ');\n    return this.element.className;\n});    ///////////////////////////////\n// Cookie util\n///////////////////////////////\n/**\n * This util can be used to store and retrieve cookie in the browser.\n *\n * Usage:\n *    new JSCookie(\"name\", \"value\", 5); - Create new cookie or updates current value. Cookie will be stored for 5 days\n *    new JSCookie(\"name\", \"value\"); - Create new cookie or updates current value. By default cookie will be stored for 30 days\n *    new JSCookie(\"name\").value; - retrieves value of the cookie\n *\n * @param name of the cookie\n * @param value  of the cookie\n * @param days  Store time in days\n */\n///////////////////////////////\n// Cookie util\n///////////////////////////////\n/**\n * This util can be used to store and retrieve cookie in the browser.\n *\n * Usage:\n *    new JSCookie(\"name\", \"value\", 5); - Create new cookie or updates current value. Cookie will be stored for 5 days\n *    new JSCookie(\"name\", \"value\"); - Create new cookie or updates current value. By default cookie will be stored for 30 days\n *    new JSCookie(\"name\").value; - retrieves value of the cookie\n *\n * @param name of the cookie\n * @param value  of the cookie\n * @param days  Store time in days\n */\nvar JSCookie = function (name, value, days) {\n    if (!Object.isString(name)) {\n        throw 'Invalid name';\n    }\n    this.name = name;\n    this.value = value;\n    if (Object.isUndefined(value)) {\n        this.value = this._getCookies()[name];\n    } else {\n        this._setCookie(this.name, this.value, days);\n    }\n};\nJSCookie.addVar('daysToExpiration', 30);\nJSCookie.addVar('getCookieTemplate', function () {\n    return _.template('{{- name}}={{- value}}; expires={{- expires}}; path=/;');\n});\nJSCookie.addMethod('_getCookies', function () {\n    var cookies = {};\n    document.cookie.split(';').invoke('strip').each(function (s) {\n        var nv = s.split('=');\n        cookies[nv[0].strip()] = decodeURI(nv[1]);\n    });\n    return cookies;\n});\nJSCookie.addMethod('set', function (value, days) {\n    this.value = value;\n    this._setCookie(this.name, this.value, days);\n});\nJSCookie.addMethod('get', function () {\n    return this.value;\n});\nJSCookie.addMethod('_setCookie', function (name, value, days) {\n    document.cookie = this.getCookieTemplate()({\n        name: name,\n        value: encodeURI(new String(value)),\n        expires: this._getExpiresDate(days).toGMTString()\n    });\n});\nJSCookie.addMethod('_getExpiresDate', function (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days ? days : this.daysToExpiration * 24 * 60 * 60 * 1000));\n    return date;\n});    ///////////////////////////////////////////\n// Session management\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Session management\n///////////////////////////////////////////\nvar sessionManager = {\n    RESET_SESSION_MIN_TIME: 1000,\n    resetSession: function (flowExecutionKey) {\n        var time = new Date().getTime();\n        if (this._lastSessionResetTime && time - this._lastSessionResetTime < this.RESET_SESSION_MIN_TIME) {\n            return;\n        }\n        this._lastSessionResetTime = time;\n        var url = buildActionUrl({\n            flowExecutionKey: flowExecutionKey,\n            eventId: 'resetSession'\n        });\n        var options = { errorHandler: this.errorHandler };\n        window.ajaxNonReturningUpdate(url, options);\n    },\n    errorHandler: function (ajaxAgent) {\n        var sessionTimeout = ajaxAgent.getResponseHeader('LoginRequested');\n        if (sessionTimeout) {\n            document.location = window.urlContext;\n            return true;\n        }\n    }\n};    ///////////////////////////////////////////\n// Webflow utils\n///////////////////////////////////////////\n///////////////////////////////////////////\n// Webflow utils\n///////////////////////////////////////////\nvar buildActionUrl = function (params) {\n    if (!params) {\n        return;\n    }\n    var paramsClone = deepClone(params);\n    $w('flowId flowExecutionKey eventId').each(function (key) {\n        if (paramsClone[key]) {\n            paramsClone['_' + key] = paramsClone[key];\n            delete paramsClone[key];\n        }\n    });\n    return 'flow.html?' + Object.toQueryString(paramsClone);\n};    ///////////////////////////////////////////\n// Page Dimmer object and methods\n///////////////////////////////////////////\n/**\n * Page dimmer is used to show/hide page dimmer.\n */\n///////////////////////////////////////////\n// Page Dimmer object and methods\n///////////////////////////////////////////\n/**\n * Page dimmer is used to show/hide page dimmer.\n */\nvar pageDimmer = {\n    /**\n     * The identifier of the DOM element.\n     */\n    DOM_ID: '#pageDimmer',\n    /**\n     * Shows page dimmer.\n     */\n    show: function (owner) {\n        jQuery(this.DOM_ID).removeClass('hidden');\n        if (owner && owner.match(utilsCommonEnum.DIALOG_PATTERN)) {\n            var dialogIndex = owner.getStyle('zIndex');\n            dialogIndex = dialogIndex ? parseInt(dialogIndex, 10) : 0;\n            dialogIndex > 0 && this.setZindex(dialogIndex - 1);\n        }\n    },\n    /**\n     * Hides page dimmer.\n     */\n    hide: function () {\n        jQuery(this.DOM_ID).addClass('hidden');\n    },\n    /**\n     * Update z-index of the dimmer\n     *\n     * @param zindex New z-index\n     */\n    setZindex: function (zindex) {\n        jQuery(this.DOM_ID).css({ zIndex: zindex });\n    }\n};    //////////////////////////////////////////////\n// IFRAME Ajax -> move to core.ajax.iframe\n/////////////////////////////////////////////\n/**\n*   Uses the AJAX IFRAME METHOD (AIM)\n*   http://www.webtoolkit.info/\n*   Copyright � 2006-2010 � webtoolkit\n*/\n//////////////////////////////////////////////\n// IFRAME Ajax -> move to core.ajax.iframe\n/////////////////////////////////////////////\n/**\n*   Uses the AJAX IFRAME METHOD (AIM)\n*   http://www.webtoolkit.info/\n*   Copyright � 2006-2010 � webtoolkit\n*/\nvar fileSender = {};    /**\n* Upload a file to the server.\n*\n* @param input - the file input object (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\n/**\n* Upload a file to the server.\n*\n* @param input - the file input object (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\nfileSender.upload = function (input, flowId, options, callback) {\n    return fileSender.uploadMultiple([input], flowId, options, callback);\n};    /**\n* Upload multiple files to the server.\n*\n* @param inputs - the file input array (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\n/**\n* Upload multiple files to the server.\n*\n* @param inputs - the file input array (<input type=file ...>)\n* @param flowId\n* @param options - these options will be sent to server along with the file.\n*   Required ones:\n*     options._eventId\n*     options._flowExecutionKey\n* @param callback - function is being invoked after the file is uploaded\n*\n*/\nfileSender.uploadMultiple = function (inputs, flowId, options, callback) {\n    var form = Builder.node('FORM', {\n        action: 'flow.html?_flowId=' + flowId,\n        method: 'post',\n        enctype: 'multipart/form-data'\n    });\n    for (var i = 0; i < inputs.length; i++) {\n        var input = inputs[i];\n        var fileInput = input.cloneNode(true);\n        jQuery(input).attr('id', null);\n        jQuery(input).addClass('hidden');\n        if (form.file) {\n            form.file.remove();\n        }    //Move event listeners to newly created object\n        //Move event listeners to newly created object\n        fileSender.moveEventHandlers(input, fileInput);\n        input.insert({ after: fileInput });\n        input.remove();\n        form.insert(input);\n        for (var key in options) {\n            var inp = Builder.node('INPUT', {\n                type: 'hidden',\n                name: key,\n                value: xssUtil.unescape(options[key])\n            });\n            form.insert(inp);\n        }\n    }\n    jQuery(form).addClass('hidden');\n    document.body.insert(form);\n    fileSender.submit(form, {\n        'onStart': null,\n        'onComplete': callback\n    });\n    form.submit();\n    return form;\n};\nfileSender.moveEventHandlers = function (fromEl, toEl) {\n    var CACHE = Event.cache, elementId = fileSender.getUniqueElementID(fromEl), registry = CACHE[elementId];\n    delete CACHE[elementId];\n    if (registry) {\n        _.each(registry, function (registryEntry, eventName) {\n            if (eventName !== 'element') {\n                _.each(registryEntry, function (entry) {\n                    toEl.observe(eventName, entry.handler);\n                });\n            }\n        });\n        registry = null;\n    }\n};    /**\n * Borrowed from Prototype 1.7.1\n * @param element\n * @returns {*}\n */\n/**\n * Borrowed from Prototype 1.7.1\n * @param element\n * @returns {*}\n */\nfileSender.getUniqueElementID = function (element) {\n    if (element === window)\n        return 0;\n    if ('uniqueID' in document.createElement('div')) {\n        if (element == document)\n            return 1;\n        return element.uniqueID;\n    }\n    if (typeof element._prototypeUID === 'undefined')\n        element._prototypeUID = Element.Storage.UID++;\n    return element._prototypeUID;\n};\nfileSender.frame = function (c) {\n    var n = 'f' + Math.floor(Math.random() * 99999);\n    var i = jQuery('#ajax-upload-iframe')[0].clone(true);\n    jQuery(i).attr('id', n);\n    jQuery(i).attr('name', n);\n    document.body.insert(i);\n    var loaded = function () {\n        fileSender.loaded(n);\n    };\n    i.observe('load', loaded);\n    if (c && typeof c.onComplete == 'function') {\n        i.onComplete = c.onComplete;\n    }\n    return n;\n};\nfileSender.form = function (f, name) {\n    f.setAttribute('target', name);\n};    /**\n* Use fileSender.submit(formElement, {'onStart' : startUpload, 'onComplete' : callback}) to prepare the form.\n* @param formElement - the DOM form object containing the file input\n* @param startUpload - function is being invoked before start uploading\n* @param callback - function is being invoked after file is uploaded\n*\n*/\n/**\n* Use fileSender.submit(formElement, {'onStart' : startUpload, 'onComplete' : callback}) to prepare the form.\n* @param formElement - the DOM form object containing the file input\n* @param startUpload - function is being invoked before start uploading\n* @param callback - function is being invoked after file is uploaded\n*\n*/\nfileSender.submit = function (f, c) {\n    fileSender.form(f, fileSender.frame(c));\n    if (c && typeof c.onStart == 'function') {\n        return c.onStart();\n    } else {\n        return true;\n    }\n};\nfileSender.loaded = function (id) {\n    var i = document.getElementById(id);\n    var d;\n    if (i.contentDocument) {\n        d = i.contentDocument;\n    } else if (i.contentWindow) {\n        d = i.contentWindow.document;\n    } else {\n        d = window.frames[id].document;\n    }\n    if (d.location.href == 'about:blank') {\n        return;\n    }\n    if (fileSender.sessionTimeoutHandler(d)) {\n        return;\n    }\n    if (typeof i.onComplete == 'function') {\n        i.onComplete(jQuery(d.body).html());\n    }\n};\nfileSender.sessionTimeoutHandler = function (doc) {\n    var metas = doc.getElementsByTagName('meta');\n    for (var i = 0; i < metas.length; i++) {\n        if (metas[i].name == 'pageHeading' && metas[i].content == 'LOGIN PAGE') {\n            document.location = '.';\n            return true;\n        }\n    }\n    return false;\n};    /**\n* Download a file using iframe as a receiving container.\n* If file is ready, browser will show Save As dialog.\n* If error occured, iframe will receive the error information\n* @param url - server URL to call for the file\n* @param options - an object with call parameters\n*                  options.onload is a function to call when iframe is loaded; use as error handler\n*/\n/**\n* Download a file using iframe as a receiving container.\n* If file is ready, browser will show Save As dialog.\n* If error occured, iframe will receive the error information\n* @param url - server URL to call for the file\n* @param options - an object with call parameters\n*                  options.onload is a function to call when iframe is loaded; use as error handler\n*/\nfunction ajaxIframeDownload(url, options) {\n    var iframe = jQuery('#ajax-download-iframe')[0];\n    if (options) {\n        iframe.onload = options.onload;\n    }\n    iframe.src = url;\n}    /*\n * Date util\n */\n/**\n * Parsing date string in format yyyy-mm-dd\n * @param input\n * @return {Date}\n */\n/*\n * Date util\n */\n/**\n * Parsing date string in format yyyy-mm-dd\n * @param input\n * @return {Date}\n */\nfunction parseAsDate(input) {\n    var parts = input.match(/(\\d+)/g);    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1] - 1, parts[2]);    // months are 0-based\n}    /**\n * Parsing date string in format yyyy-MM-dd HH:mm:ss\n * @param input\n * @return {Date}\n */\n/**\n * Parsing date string in format yyyy-MM-dd HH:mm:ss\n * @param input\n * @return {Date}\n */\nfunction parseAsDateTime(input) {\n    var parts = input.match(/(\\d+)/g);    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]);    // months are 0-based\n}\nfunction padNumber(number) {\n    var r = String(number);\n    if (r.length === 1) {\n        r = '0' + r;\n    }\n    return r;\n}\nfunction toTimestampString(date) {\n    return date.getUTCFullYear() + '-' + padNumber(date.getMonth() + 1) + '-' + padNumber(date.getDate()) + ' ' + padNumber(date.getHours()) + ':' + padNumber(date.getMinutes()) + ':' + padNumber(date.getSeconds());    //        + '.' + String( (date.getUTCMilliseconds()/1000).toFixed(3) ).slice( 2, 5 )\n    //        + 'Z';\n}\n//        + '.' + String( (date.getUTCMilliseconds()/1000).toFixed(3) ).slice( 2, 5 )\n//        + 'Z';\n/*\n* Keyboard events / codes\n*/\n/*\n* Keyboard events / codes\n*/\nvar Keys = new Object();\nKeys.DOM_VK_BACK_SPACE = 8;\nKeys.DOM_VK_ENTER = 13;\nKeys.DOM_VK_PAGE_UP = 33;\nKeys.DOM_VK_DOWN = 40;\nKeys.DOM_VK_INSERT = 45;\nKeys.DOM_VK_DELETE = 46;\nKeys.DOM_VK_0 = 48;\nKeys.DOM_VK_9 = 57;\nKeys.DOM_VK_NUMPAD0 = 96;\nKeys.DOM_VK_NUMPAD9 = 105;\nKeys.DOM_VK_DECIMAL = 110;\nKeys.DOM_VK_COMMA = 188;\nKeys.DOM_VK_PERIOD = 190;\nKeys.DOM_VK_CANCEL = 3;\nKeys.DOM_VK_HELP = 6;\nKeys.DOM_VK_TAB = 9;\nKeys.DOM_VK_CLEAR = 12;\nKeys.DOM_VK_RETURN = 13;\nKeys.DOM_VK_SHIFT = 16;\nKeys.DOM_VK_CONTROL = 17;\nKeys.DOM_VK_ALT = 18;\nKeys.DOM_VK_PAUSE = 19;\nKeys.DOM_VK_CAPS_LOCK = 20;\nKeys.DOM_VK_ESCAPE = 27;\nKeys.DOM_VK_SPACE = 32;\nKeys.DOM_VK_PAGE_DOWN = 34;\nKeys.DOM_VK_END = 35;\nKeys.DOM_VK_HOME = 36;\nKeys.DOM_VK_LEFT = 37;\nKeys.DOM_VK_UP = 38;\nKeys.DOM_VK_RIGHT = 39;\nKeys.DOM_VK_PRINTSCREEN = 44;\nKeys.DOM_VK_1 = 49;\nKeys.DOM_VK_2 = 50;\nKeys.DOM_VK_3 = 51;\nKeys.DOM_VK_4 = 52;\nKeys.DOM_VK_5 = 53;\nKeys.DOM_VK_6 = 54;\nKeys.DOM_VK_7 = 55;\nKeys.DOM_VK_8 = 56;\nKeys.DOM_VK_SEMICOLON = 59;\nKeys.DOM_VK_EQUALS = 61;\nKeys.DOM_VK_A = 65;\nKeys.DOM_VK_B = 66;\nKeys.DOM_VK_C = 67;\nKeys.DOM_VK_D = 68;\nKeys.DOM_VK_E = 69;\nKeys.DOM_VK_F = 70;\nKeys.DOM_VK_G = 71;\nKeys.DOM_VK_H = 72;\nKeys.DOM_VK_I = 73;\nKeys.DOM_VK_J = 74;\nKeys.DOM_VK_K = 75;\nKeys.DOM_VK_L = 76;\nKeys.DOM_VK_M = 77;\nKeys.DOM_VK_N = 78;\nKeys.DOM_VK_O = 79;\nKeys.DOM_VK_P = 80;\nKeys.DOM_VK_Q = 81;\nKeys.DOM_VK_R = 82;\nKeys.DOM_VK_S = 83;\nKeys.DOM_VK_T = 84;\nKeys.DOM_VK_U = 85;\nKeys.DOM_VK_V = 86;\nKeys.DOM_VK_W = 87;\nKeys.DOM_VK_X = 88;\nKeys.DOM_VK_Y = 89;\nKeys.DOM_VK_Z = 90;\nKeys.DOM_VK_CONTEXT_MENU = 93;\nKeys.DOM_VK_NUMPAD1 = 97;\nKeys.DOM_VK_NUMPAD2 = 98;\nKeys.DOM_VK_NUMPAD3 = 99;\nKeys.DOM_VK_NUMPAD4 = 100;\nKeys.DOM_VK_NUMPAD5 = 101;\nKeys.DOM_VK_NUMPAD6 = 102;\nKeys.DOM_VK_NUMPAD7 = 103;\nKeys.DOM_VK_NUMPAD8 = 104;\nKeys.DOM_VK_MULTIPLY = 106;\nKeys.DOM_VK_ADD = 107;\nKeys.DOM_VK_SEPARATOR = 108;\nKeys.DOM_VK_SUBTRACT = 109;\nKeys.DOM_VK_SUBTRACT_UNDERSCORE_IE = 189;\nKeys.DOM_VK_DIVIDE = 111;\nKeys.DOM_VK_F1 = 112;\nKeys.DOM_VK_F2 = 113;\nKeys.DOM_VK_F3 = 114;\nKeys.DOM_VK_F4 = 115;\nKeys.DOM_VK_F5 = 116;\nKeys.DOM_VK_F6 = 117;\nKeys.DOM_VK_F7 = 118;\nKeys.DOM_VK_F8 = 119;\nKeys.DOM_VK_F9 = 120;\nKeys.DOM_VK_F10 = 121;\nKeys.DOM_VK_F11 = 122;\nKeys.DOM_VK_F12 = 123;\nKeys.DOM_VK_F13 = 124;\nKeys.DOM_VK_F14 = 125;\nKeys.DOM_VK_F15 = 126;\nKeys.DOM_VK_F16 = 127;\nKeys.DOM_VK_F17 = 128;\nKeys.DOM_VK_F18 = 129;\nKeys.DOM_VK_F19 = 130;\nKeys.DOM_VK_F20 = 131;\nKeys.DOM_VK_F21 = 132;\nKeys.DOM_VK_F22 = 133;\nKeys.DOM_VK_F23 = 134;\nKeys.DOM_VK_F24 = 135;\nKeys.DOM_VK_NUM_LOCK = 144;\nKeys.DOM_VK_SCROLL_LOCK = 145;\nKeys.DOM_VK_SLASH = 191;\nKeys.DOM_VK_BACK_QUOTE = 192;\nKeys.DOM_VK_OPEN_BRACKET = 219;\nKeys.DOM_VK_BACK_SLASH = 220;\nKeys.DOM_VK_CLOSE_BRACKET = 221;\nKeys.DOM_VK_QUOTE = 222;\nKeys.DOM_VK_META = 224;    /*\n * Template utils\n */\n/**\n * Compile underscore template and return it.\n *\n * @param templateId id od template script tag in DOM\n */\n/*\n * Template utils\n */\n/**\n * Compile underscore template and return it.\n *\n * @param templateId id od template script tag in DOM\n */\nvar compileTemplate = function (templateSelector) {\n    if (!templateSelector) {\n        return;\n    }    //temporary replace default template settings\n    //temporary replace default template settings\n    var oldSettings = _.templateSettings;\n    _.templateSettings = {\n        evaluate: /\\{\\{([\\s\\S]+?)\\}\\}/g,\n        interpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n        escape: /\\{\\{-([\\s\\S]+?)\\}\\}/g\n    };\n    var template = _.template(jQuery(templateSelector).html());\n    _.templateSettings = oldSettings;\n    return template;\n};\n\nwindow.isIE = isIE;\n// JRS-20335 formatString is used from global scope in WEB-INF/jsp/jsTemplates/tableRows.jsp\nwindow.formatString = formatString;\n\nexport {\n    isMacOS,\n    isWindowsOS,\n    isLinuxOS,\n    isOS,\n    isSupportsTouch,\n    isMozilla,\n    isFirefox,\n    isWebKitEngine,\n    isChrome,\n    isIPad,\n    isAndroid,\n    isIE,\n    isIE6,\n    isIE7,\n    isIE8,\n    isIE9,\n    isIE10,\n    isIE11,\n    isIEVersion7Upwards,\n    isIEVersion,\n    getIEVersion,\n    doNothing,\n    addDataToForm,\n    getTZOffset,\n    exists,\n    isArray,\n    isNumber,\n    isNotNullORUndefined,\n    hasDisabledAttributeSet,\n    getParentDiv,\n    getAbsoluteParent,\n    getElementWithIdAndTagAndParent,\n    getClosestAncestor,\n    isDescendantOf,\n    getCellIndex,\n    getRowIndex,\n    isDisabled,\n    matchAny,\n    matchMeOrUp,\n    stylesMatch,\n    getNextMatchingSibling,\n    getNextNonMatchingSibling,\n    getPreviousMatchingSibling,\n    getPreviousNonMatchingSibling,\n    getAbsoluteOffsets,\n    getAbsoluteTopOffset,\n    getBoxOffsets,\n    getInnerText,\n    isPointOverlayingObject,\n    boxesOverlap,\n    boxesOverlapVertically,\n    boxesOverlapHorizontally,\n    getOuterHeight,\n    getOuterWidth,\n    getBufferHeight,\n    getBufferWidth,\n    getDimensionInPx,\n    getActualDimension,\n    purgeChildElements,\n    purge,\n    getCaret,\n    isAlmostInView,\n    getTouchedElement,\n    centerLayer,\n    centerElement,\n    parseFunc,\n    cascadeElement,\n    fitObjectIntoScreen,\n    focusOn,\n    selectAndFocusOn,\n    renderHazeLayer,\n    renderOverlay,\n    removeOverlay,\n    reParent,\n    getScrollLeftForAbsoluteParent,\n    getScrollTopForAbsoluteParent,\n    renderTransparentIFrame,\n    pushOverlayObject,\n    pushTotalOverlayObject,\n    pushOverlayObjectAtOffsets,\n    popOverlayObject,\n    popAllOverlayObjects,\n    disableSelection,\n    disableSelectionWithoutCursorStyle,\n    enableSelection,\n    setCursor,\n    cursorDefault,\n    cursorPointer,\n    cursorWait,\n    getCellAtColumn,\n    getCellAtRow,\n    copyTable,\n    copyTableJquery,\n    clearTable,\n    getWindowWidth,\n    getWindowHeight,\n    getScrollLeft,\n    getScrollTop,\n    scrollXToMiddle,\n    launchNewWindow,\n    getIFrameDocument,\n    getEvent,\n    popEvent,\n    triggerNativeEvent,\n    relatedTargetInElementSubtree,\n    cancelEventBubbling,\n    cancelEventAndPreventDefault,\n    enterKeyHit,\n    whichKeyHit,\n    isCtrlHeld,\n    isShiftHeld,\n    getEventTarget,\n    isNavigationInput,\n    verifyIsDigitInput,\n    verifyIsInputNumericDecimalSeparator,\n    numberOfDecimals,\n    macOSKeyboardRightClick,\n    macOSMouseRightClick,\n    isRightClick,\n    isLeftClick,\n    isMetaHeld,\n    trim,\n    startsWith,\n    getTextAfterUnderscore,\n    getTextBeforeUnderscore,\n    extractNumber,\n    getTextAfterSubstring,\n    getTextBeforeSubstring,\n    removeTrailingSlash,\n    removeTrailingPound,\n    removeChars,\n    replaceAll,\n    jsHash,\n    textCounter,\n    saveAndClear,\n    escapeString,\n    formatString,\n    splitText,\n    redirectToUrl,\n    checkURLProtocol,\n    getSymbolToAppendNextParam,\n    restoreDefaultCursor,\n    encodeText,\n    decodeText,\n    constrain,\n    deepClone,\n    cloneCustomAttributes,\n    initLog,\n    logIt,\n    debug,\n    startTimer,\n    stopTimer,\n    inspect,\n    toBlockNotation,\n    getAsFunction,\n    toFunction,\n    BusyMonitor,\n    InPlaceEditor,\n    evaluateScripts,\n    evaluateScript,\n    globalEval,\n    loadJSFiles,\n    loadJSFile,\n    unloadAllScripts,\n    loadCSSFiles,\n    loadCSSFile,\n    unloadCSSFiles,\n    unloadCSSFile,\n    createCSSRule,\n    getFirstMatch,\n    dialogOnMouseDown,\n    cancelEventDrag,\n    encodeUriParameter,\n    replaceHTML,\n    gotoDefaultLocation,\n    gotoFolderExplorer,\n    switchDesign,\n    showDiv,\n    hideDiv,\n    borderImage,\n    resetRadio,\n    launchAboutDlg,\n    hideAboutDlg,\n    unescapeBackslash,\n    tracer,\n    ValidationModule,\n    ClassNameBuilder,\n    JSCookie,\n    sessionManager,\n    buildActionUrl,\n    pageDimmer,\n    fileSender,\n    ajaxIframeDownload,\n    parseAsDate,\n    parseAsDateTime,\n    padNumber,\n    toTimestampString,\n    Keys,\n    compileTemplate,\n    downloadFileByUrl\n}\n"],"sourceRoot":""}