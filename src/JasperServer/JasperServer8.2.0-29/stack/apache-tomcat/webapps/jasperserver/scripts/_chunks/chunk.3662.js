(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[3662],{23662:(t,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>T});var e=n(74238),r=n(19698),a=n(72157),i=n.n(a),s=n(15892),c=n.n(s),l=n(97836),u=n.n(l),f=n(86209),m=n(44455),p=n(74906);const d=c().Model.extend({defaults:function(){return{id:null,groupType:"",groupName:"",dataType:"",forColumns:[],conditionalFormattingData:null,groupData:{}}},constructor:function(){this.format=new f.Z,this.conditions=new p.Z,c().Model.prototype.constructor.apply(this,arguments)},parse:function(t){return t.groupData&&(this.format.dataType=m.Z.dataTypeToSchemaFormat[t.dataType],this.format.set(this.format.parse(t.groupData),{silent:!0})),t.conditionalFormattingData&&(this.conditions.dataType=m.Z.dataTypeToSchemaFormat[t.dataType],this.conditions.conditionPattern=t.conditionalFormattingData.conditionPattern,this.conditions.reset(t.conditionalFormattingData.conditions,{silent:!0,parse:!0})),t},actions:{"change:format":function(){return{actionName:"editTextElement",editTextElementData:{applyTo:this.get("groupType"),tableUuid:this.parent.get("id"),columnIndex:this.get("forColumns")[0],groupName:this.get("groupName"),fontName:this.format.get("font").name,fontSize:this.format.get("font").size+"",fontBold:this.format.get("font").bold,fontItalic:this.format.get("font").italic,fontUnderline:this.format.get("font").underline,fontColor:this.format.get("font").color,formatPattern:this.format.toJiveFormat(),fontHAlign:this.format.get("align").charAt(0).toUpperCase()+this.format.get("align").slice(1),fontBackColor:"transparent"===this.format.get("backgroundColor")?"000000":this.format.get("backgroundColor"),mode:"transparent"===this.format.get("backgroundColor")?"Transparent":"Opaque"}}},"change:conditions":function(){var t=this.parent&&this.parent.config?this.parent.config.genericProperties:void 0;return{actionName:"conditionalFormatting",conditionalFormattingData:{applyTo:this.get("groupType"),tableUuid:this.parent.get("id"),columnIndex:this.get("forColumns")[0],groupName:this.get("groupName"),conditionPattern:this.get("conditionalFormattingData").conditionPattern,conditionType:this.get("conditionalFormattingData").conditionType,conditions:this.conditions.map((function(o){return o.toJiveFormat(t)}))}}}},updateFromReportComponentObject:function(t){t.format&&(t.format.font=u().extend({},this.format.get("font"),t.format.font||{}),u().isObject(this.format.get("pattern"))&&("Numeric"===this.get("dataType")&&m.Z.DURATION_PATTERN===t.format.pattern||(t.format.pattern=u().extend({},this.format.get("pattern"),t.format.pattern||{}))),t.format.backgroundColor&&"transparent"!==t.format.backgroundColor&&(t.format.backgroundColor=t.format.backgroundColor.toUpperCase()),t.format.font&&t.format.font.color&&(t.format.font.color=t.format.font.color.toUpperCase()),this.format.set(t.format)),t.conditions&&this.conditions.reset(t.conditions),this.set({})}});var g=null,h=c().Collection.extend({model:d});const T=e.Z.extend({defaults:function(){return{calendarPatterns:{},filterPatterns:{},fontSizes:[],fonts:{},operators:{},patterns:{},id:null,genericProperties:{},module:"jive.table",type:r.Z.TABLE,uimodule:"jive.interactive.column",hasFloatingHeader:null}},constructor:function(){this.columnGroups=new h,e.Z.prototype.constructor.apply(this,arguments)},initialize:function(t){this.config={id:null,allColumnsData:null},i().extend(this.config,t),t.genericProperties?g=t.genericProperties:this.config.genericProperties=g,this.columns=[],this.columnMap={}},parse:function(t){var o=this;return t.allColumnGroupsData&&(this.columnGroups.reset(t.allColumnGroupsData,{silent:!0,parse:!0}),this.columnGroups.each((function(t){t.parent=o}))),t},registerPart:function(t){t.parent=this,t.trigger("parentTableComponentAttached"),this.columns[t.get("columnIndex")]=t,this.columnMap[t.get("id")]=t},getId:function(){return this.config.id},handleServerError:function(t){this.trigger("serverError",t)},handleClientError:function(t){this.trigger("serverError",t)}})}}]);
//# sourceMappingURL=chunk.3662.js.map