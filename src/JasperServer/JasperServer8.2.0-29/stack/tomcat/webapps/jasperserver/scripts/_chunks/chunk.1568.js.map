{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/addResource/addinputcontrol.queryextra.js","webpack://jrs-ui/./src/addResource/inputControls/addInputControlQueryInformation.common.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/namespace/namespace.js","webpack://jrs-ui/./src/util/touch.controller.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["factory","define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","flowExecutionKey","messages","initialize","_stepDisplay","jQuery","_wizardNav","initEvents","on","event","elem","target","matchAny","attr","submit","nodeName","identify","id","setValue","bindAsEventListener","allowSubmit","getValue","blank","buttonManager","layoutModule","addListOfValues","JSTooltip","element","options","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","_fromAttribute","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","parseInt","initialZIndex","toArray","memo","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","timer","clearTimeout","setTimeout","show","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","getElementById","setAttribute","removeAttribute","reject","t","JRS","vars","element_scrolled","ajax_in_progress","current_flow","contextPath","__jrsConfigs__","i18n","isEncryptionOn","isProVersion","Mocks","Export","configs","TIMEOUT","DELAY","localContext","calendar","bundledCalendarFormat","bundledCalendarTimeFormat","jaspersoft","components","TouchController","children","hbar","vbar","absolute","style","useParent","observer","translate3d","forceLayout","use2Fingers","fit","debug","border","noInit3d","pos","webkitTransform","scrollbars","appendTo","computeBoundaries","dragging","drag_sensitivity","scale","maxX","maxY","startTouchY","startTouchX","contentOffsetX","contentOffsetY","addEventListener","prototype","handleEvent","e","type","onTouchStart","onTouchMove","onTouchEnd","hratio","vratio","minWidth","minHeight","maxWidth","maxHeight","scale_pre","touches","contentStartOffsetX","contentStartOffsetY","cy","cx","animateTo","isDragging","preventDefault","cX","cY","deltaX","deltaY","offsetX","offsetY","dx","dy","adx","abs","ady","shouldStartMomentum","reset","forceRefresh","isBottom","addPadding","padding","$id","w","right","h","bottom","Draggable","startDrag","delta","currentDelta","zindex","originalZ","Element","getStyle","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","tagName","body","appendChild","superghosting","prepare","pointer","Event","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","cumulativeOffset","r","realOffset","d","_isScrollChild","p","map","i","mouseOffset","offset","bind","snap","Object","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","stop","fire","targetEvent","Droppables","isAffected","drop","jo","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","finishDrag","success","isIE","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.1568.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.13.2\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\t\"use strict\";\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} )( function( $ ) {\n\"use strict\";\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport jQuery from 'jquery'\nimport {matchAny} from \"../util/utils.common\";\nimport buttonManager from '../core/core.events.bis';\nimport layoutModule from '../core/core.layout';\n\nvar STEP_DISPLAY_ID = 'stepDisplay';\nvar WIZARD_NAV_ID = 'wizardNav';\nvar FRAME_ID = 'frame';\nvar VALUE_ID_PATTERN = '#value';\nvar LABEL_ID_PATTERN = '#labelID';\nvar ADD_PATTERN = '#add';\nvar REMOVE_PATTERN = '#remove';\nvar CONTROLS_PATTERN = '#controls';\nvar addListOfValues = {\n    flowExecutionKey: '',\n    messages: [],\n    initialize: function () {\n        this._stepDisplay = jQuery('#' + STEP_DISPLAY_ID)[0];\n        this._wizardNav = jQuery('#' + WIZARD_NAV_ID)[0];\n        this.initEvents();\n    },\n    initEvents: function () {\n        jQuery('#' + FRAME_ID).on('click', function (event) {\n            var elem = event.target;\n            if (matchAny(elem, [ADD_PATTERN])) {\n                jQuery('#ar').attr('name', '_eventId_addItem');\n                jQuery('#extra')[0].submit();\n            }\n            if (elem.nodeName == 'A' && elem.identify() != 'add') {\n                var id = elem.identify();\n                jQuery('#itemToDelete')[0].setValue(id);\n                jQuery('#ar').attr('name', '_eventId_removeItem');\n                jQuery('#extra')[0].submit();\n            }\n        }.bindAsEventListener(this));\n        jQuery('#' + FRAME_ID).on('keyup', function (event) {\n            var elem = event.target;\n            if (matchAny(elem, [\n                VALUE_ID_PATTERN,\n                LABEL_ID_PATTERN\n            ])) {\n                this.allowSubmit();\n            }\n        }.bindAsEventListener(this));\n    },\n    allowSubmit: function () {\n        if (!jQuery('#labelID')[0].getValue().blank()) {\n            buttonManager.enable('save');\n            jQuery('#save').attr(layoutModule.DISABLED_ATTR_NAME, null);\n        } else {\n            buttonManager.disable('save');\n            jQuery('#save').attr(layoutModule.DISABLED_ATTR_NAME, layoutModule.DISABLED_ATTR_NAME);\n        }\n        if (!jQuery('#value')[0].getValue().blank()) {\n            buttonManager.enable('add');\n            jQuery('#add').attr(layoutModule.DISABLED_ATTR_NAME, null);\n        } else {\n            buttonManager.disable('add');\n            jQuery('#add').attr(layoutModule.DISABLED_ATTR_NAME, layoutModule.DISABLED_ATTR_NAME);\n        }\n    }\n};\n\nexport default addListOfValues;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport addListOfValues from '../../addResource/addinputcontrol.queryextra';\n\naddListOfValues.initialize();\naddListOfValues.allowSubmit();\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            var actualX = offsets[0];\n            var actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([actualX, actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                actualX = evt.clientX;\n                actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.removeAttribute(\"id\");\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/* global __jrsConfigs__ */\n//JasperServer namespace  mess\n\n/*\n *  One of Jasperserver namespaces.\n */\nvar JRS = {\n    vars: {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null,\n        contextPath: __jrsConfigs__.contextPath\n    },\n    i18n: {}\n};\nvar Calendar = {};\nif (typeof isEncryptionOn === 'undefined') {\n    var isEncryptionOn = false;\n}\nfunction isProVersion() {\n    return __jrsConfigs__.isProVersion;\n}\nvar jaspersoft = {\n    components: {},\n    i18n: {}\n};\nif (typeof JRS == 'undefined') {\n    JRS = { Mocks: {} };\n}\nif (typeof JRS.vars == 'undefined') {\n    JRS.vars = {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null\n    };\n}    //TODO: move closer to Import/Export\n//TODO: move closer to Import/Export\nif (typeof JRS.Export == 'undefined') {\n    JRS.Export = {\n        i18n: {\n            'file.name.empty': 'export.file.name.empty',\n            'file.name.too.long': 'export.file.name.too.long',\n            'file.name.not.valid': 'export.file.name.not.valid',\n            'export.select.users': 'export.select.users',\n            'export.select.roles': 'export.select.roles',\n            'export.session.expired': 'export.session.expired',\n            'error.timeout': 'export.file.name.empty'\n        },\n        configs: {\n            TIMEOUT: 1200000,\n            DELAY: 3000\n        }\n    };\n}\nif (typeof window.localContext == 'undefined') {\n    window.localContext = {};\n}    //TODO: move to common module\n//TODO: move to common module\nif (__jrsConfigs__.calendar) {\n    JRS.i18n['bundledCalendarFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarFormat;\n    JRS.i18n['bundledCalendarTimeFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat;\n}\n\nwindow.JRS = JRS;\nwindow.jaspersoft = jaspersoft;\nwindow.isProVersion = isProVersion;\n\nexport {jaspersoft, JRS, isProVersion};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nvar TouchController = function (element, parent, options) {\n    this.element = element;\n    this.parent = parent;\n    this.children = [];\n    this.hbar = null;\n    this.vbar = null;    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    options = options || {};\n    options.absolute ? this.element.style.position = 'absolute' : this.element.style.position = 'relative';\n    this.useParent = options.useParent ? this.observer = parent : this.observer = element;\n    this.translate3d = options.translate3d !== false ? true : false;\n    this.forceLayout = options.forceLayout !== true ? false : true;\n    this.use2Fingers = options.use2Fingers !== true ? false : true;\n    this.fit = options.fit;\n    if (options.debug) {\n        parent.style.border = 'solid 1px #f00';\n        element.style.border = 'solid 1px #00f';    //console.info('Px: ' + parent.clientWidth + ', Ex: ' + element.clientWidth + 'Dx: ' + (parent.clientWidth - element.clientWidth));\n        //console.info('Py: ' + parent.clientHeight + ', Ey: ' + element.clientHeight + 'Dy: ' + (parent.clientHeight - element.clientHeight));\n    }\n    if (this.translate3d && !options.noInit3d) {\n        var pos = $(element).position();\n        element.style.webkitTransform = 'translate3d(' + pos.left + 'px,' + pos.top + 'px,0)';\n        element.style.top = '';\n        element.style.left = '';\n    }\n    if (options.scrollbars === true) {\n        var hbar = $('<div style=\"position:absolute;bottom:4px;left:0;right:0;\"><div style=\"position:relative;background:#3fb8fa;min-height:4px;width:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        var vbar = $('<div style=\"position:absolute;top:0;bottom:0;right:4px;\"><div style=\"position:relative;background:#3fb8fa;min-width:4px;height:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        this.hbar = hbar.children().eq(0);\n        this.vbar = vbar.children().eq(0);\n    }\n    this.computeBoundaries();\n    this.dragging = false;\n    this.drag_sensitivity = 20;\n    this.scale = 1;\n    this.element.style.top = 0;\n    this.element.style.left = 0;\n    this.maxX = 0;\n    this.maxY = 0;\n    this.startTouchY = 0;\n    this.startTouchX = 0;\n    this.contentOffsetX = 0;\n    this.contentOffsetY = 0;\n    this.observer.addEventListener('touchstart', this, false);\n    this.observer.addEventListener('touchmove', this, false);\n    this.observer.addEventListener('touchend', this, false);\n};\nTouchController.prototype.handleEvent = function (e) {\n    switch (e.type) {\n    case 'touchstart':\n        this.onTouchStart(e);\n        break;\n    case 'touchmove':\n        this.onTouchMove(e);\n        break;\n    case 'touchend':\n        this.onTouchEnd(e);\n        break;\n    }\n};\nTouchController.prototype.computeBoundaries = function () {\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    this.maxX = this.maxX < 0 ? this.maxX : 0;\n    this.maxY = this.maxY < 0 ? this.maxY : 0;\n    if (this.hbar && this.maxX !== 0) {\n        this.hratio = this.parent.clientWidth / this.element.clientWidth;\n        this.hbar.width(this.hratio * this.parent.clientWidth);\n        this.hbar.show();\n    } else {\n        this.hbar && this.hbar.hide();\n    }\n    if (this.vbar && this.maxY !== 0) {\n        this.vratio = this.parent.clientHeight / this.element.clientHeight;\n        this.vbar.height(this.vratio * this.parent.clientHeight);\n        this.vbar.show();\n    } else {\n        this.vbar && this.vbar.hide();\n    }\n    if (this.maxX === 0 && this.maxY === 0) {\n        this.element.style.minWidth = this.parent.clientWidth + 'px';\n        this.element.style.minHeight = this.parent.clientHeight + 'px';\n        if (this.element.id === 'reportContainer') {\n            this.element.style.maxWidth = this.parent.clientWidth + 'px';\n            this.element.style.maxHeight = this.parent.clientHeight + 'px';\n        }\n    }\n};\nTouchController.prototype.onTouchStart = function (e) {\n    this.scale_pre = false;\n    this.computeBoundaries();\n    this.startTouchX = e.touches[0].clientX;\n    this.startTouchY = e.touches[0].clientY;\n    this.contentStartOffsetX = this.contentOffsetX;\n    this.contentStartOffsetY = this.contentOffsetY;\n};\nTouchController.prototype.onTouchMove = function (e) {\n    var cy = e.touches[0].clientY;\n    var cx = e.touches[0].clientX;\n    if (!this.use2Fingers || this.use2Fingers && e.touches.length == 2) {\n        if (this.dragging) {\n            this.animateTo(cx, cy);\n        } else {\n            if (this.isDragging(e)) {\n                TouchController.element_scrolled = true;\n                if (this.forceLayout) {\n                    this.element.style.top = 0;\n                    this.element.style.webkitTransform = 'translate3d(0,' + this.contentOffsetY + 'px,0)';\n                }\n                this.animateTo(cx, cy);\n            }\n        }\n    }\n};\nTouchController.prototype.onTouchEnd = function (e) {\n    if (this.dragging) {\n        if (this.forceLayout) {\n            this.element.style.webkitTransform = 'translate3d(0,0,0)';\n            this.element.style.top = this.contentOffsetY + 'px';\n        }\n        this.hbar && this.hbar.hide();\n        this.vbar && this.vbar.hide();\n        e.preventDefault();\n    }\n    this.dragging = false;\n};\nTouchController.prototype.animateTo = function (cX, cY) {\n    var deltaX = cX - this.startTouchX;\n    var deltaY = cY - this.startTouchY;\n    var offsetX = deltaX + this.contentStartOffsetX;\n    var offsetY = deltaY + this.contentStartOffsetY;\n    var pos = $(this.element).position();\n    if (this.translate3d) {\n        if (offsetX > 0)\n            offsetX = 0;\n        if (offsetY > 0)\n            offsetY = 0;\n        if (offsetX < this.maxX)\n            offsetX = this.maxX;\n        if (offsetY < this.maxY)\n            offsetY = this.maxY;\n    } else {\n        if (offsetX + pos.left > 0)\n            offsetX = -1 * pos.left;\n        if (offsetY + pos.top > 0)\n            offsetY = -1 * pos.top;\n        if (pos.left + offsetX < this.maxX)\n            offsetX = this.maxX - pos.left;\n        if (pos.top + offsetY < this.maxY)\n            offsetY = this.maxY - pos.top;\n    }\n    this.contentOffsetX = offsetX;\n    this.contentOffsetY = offsetY;\n    if (this.translate3d || this.use2Fingers) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n    } else {\n        this.element.style.top = pos.top + offsetY + 'px';\n        this.element.style.left = pos.left + offsetX + 'px';\n    }\n    this.hbar && this.hbar.css('left', -1 * offsetX * this.hratio + 'px');\n    this.vbar && this.vbar.css('top', -1 * offsetY * this.vratio + 'px');\n};\nTouchController.prototype.isDragging = function (e) {\n    var dx = e.touches[0].clientX - this.startTouchX;\n    var dy = e.touches[0].clientY - this.startTouchY;\n    var adx = Math.abs(dx);\n    var ady = Math.abs(dy);\n    this.dragging = adx > this.drag_sensitivity || ady > this.drag_sensitivity ? true : false;\n    return this.dragging;\n};\nTouchController.prototype.shouldStartMomentum = function () {\n    return false;\n};\nTouchController.prototype.reset = function () {\n    var offsetX = this.contentOffsetX;\n    var offsetY = this.contentOffsetY;\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    if (this.translate3d) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(0,0,0)';\n        this.contentOffsetX = 0;\n        this.contentOffsetY = 0;\n    } else {\n        this.element.style.top = 0;\n        this.element.style.left = 0;\n    }\n};\nTouchController.prototype.forceRefresh = function () {\n}    //this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,100px, 0)';\n//this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,0,0)';\n;\nTouchController.prototype.isBottom = function () {\n    if (this.maxY >= 0) {\n        return false;\n    } else {\n        return this.contentOffsetY - this.maxY < 10;\n    }\n};\nTouchController.prototype.addPadding = function (id, padding) {\n    var $id = $('#' + id);\n    var w = $id.width() + padding.right;\n    var h = $id.height() + padding.bottom;\n    this.element.style.width = w + 'px';\n    this.element.style.height = h + 'px';\n};    // TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\n// TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\nwindow.TouchController = TouchController;\nexport default TouchController;","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}