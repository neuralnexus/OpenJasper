(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[4463],{60107:(e,t,i)=>{"use strict";var n,s,o,l,a=i(72157),r=i.n(a),c=i(94277),h=i(97836),u=i.n(h),d=(i(59002),i(71914)),p=i(52687);n=c.hl.Controls,s=u(),o=c.hl.Controls,l=o.Base.extend({structureFormater:function(e){if(!e)return e;var t=s.map(e.inputControl,(function(e){return e.readOnly="true"==String(e.readOnly),e.uri=e.uri.replace("repo:",""),e})),i=s.map(t,(function(e){return e.state}));return i=s.compact(i),s.each(t,(function(e){delete e.state})),s.extend({structure:t},this.convertResponseToControlsState(i))},convertResponseToControlsState:function(e){var t={},i=e.inputControlState?e.inputControlState:e,n=function(e){var t={value:e.value,label:e.label};return"true"==String(e.selected)&&(t.selected=!0),t},o=function(e){return s.isUndefined(e.value)||s.isNull(e.value)?(t=e.options,s.isArray(t)?s.map(t,n):[]):e.value;var t};return s.each(i,(function(e){e&&e.uri&&(t[e.id]={error:s.isUndefined(e.error)?null:e.error,values:o(e)})})),{state:t}}}),n.DataConverter=l;c.hl.Controls;c.hl.Controls=function(e,t,i,n){function s(t){var s;try{try{s=e.parse(t.responseText)}catch(e){}if(s&&s.error)i.each(s.error,(function(e){var t=n.getViewModel(),i=e.inputControlUri.replace("repo:",""),s=t.find({uri:i});e.errorCode?s.set({error:e.errorCode}):e.defaultMessage&&s.set({error:e.defaultMessage})}));else if(t.getResponseHeader("LoginRequested")||401===t.status)document.location=d.Z.urlContext;else if([400,500].indexOf(t.status)>=0||t.getResponseHeader("JasperServerError")&&!t.getResponseHeader("SuppressError")){var o="";if(s){var l=s.message||"Unknown error";if(s.parameters&&s.parameters.length>0)o=i.template("<div><b>{{-message}}</b></div><p>{{ if (parameters) for (var i = 0; i < parameters.length; i++) { }}<div>{{-parameters[i]}}</div>{{ } }}</p>")({message:l,parameters:s.parameters});else o=l}else o=window.statusText;p.Z.errorPopup.show(o)}}catch(e){}}return i.extend(n,{DataTransfer:n.Base.extend({CONTROLS_STRUCTURE_TEMPLATE_URI:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}/values",constructor:function(e){this.dataConverter=e.dataConverter,this.initialize(e)},initialize:function(e){},setReportUri:function(e){this.currentReportUri=e},buildUrl:function(e,t,s){return t=i.isArray(t)?t.join(";"):t||"",n.TemplateEngine.renderUrl(s,{reportUri:e,controlIds:t})},sendRequest:function(n,o,l){var a={url:n,type:"GET",dataType:"json",cache:!1};i.isEmpty(o)||i.extend(a,{type:"POST",processData:!1,data:e.stringify(o),contentType:"application/json"});var r=i.defaults(l||{},a);return r.headers||(r.headers={}),i.defaults(r.headers,{"X-Suppress-Basic":"true","Accept-Language":d.Z.userLocale.replace(/_/g,"-")}),t.ajax(r).fail(s)},fetchControlsStructure:function(e,t){var s=this.buildUrl(this.currentReportUri,e,this.CONTROLS_STRUCTURE_TEMPLATE_URI),o=this.sendRequest(s,t).then(i.bind(this.dataConverter.structureFormater,this.dataConverter));return n.Utils.showLoadingDialogOn(o,null,!0),o},updateControlsStructure:function(e,t){var n=this.buildUrl(t||this.currentReportUri,null,this.CONTROLS_STRUCTURE_TEMPLATE_URI);return this.sendRequest(n,e,{type:"PUT"}).then(i.bind(this.dataConverter.structureFormater,this.dataConverter))},fetchInitialControlValues:function(e,t){var i=this.buildUrl(e,null,this.INITIAL_CONTROLS_VALUES_TEMPLATE_URL),s=this.sendRequest(i,t).then(this.dataConverter.convertResponseToControlsState);return n.Utils.showLoadingDialogOn(s,null,!0),s},fetchControlsUpdatedValues:function(e,s){var o=this.buildUrl(this.currentReportUri,e,this.CONTROLS_VALUES_TEMPLATE_URL),l=this.dataConverter;this.fullUpdateDeferred&&"pending"==this.fullUpdateDeferred.state()&&this.fullUpdateDeferred.reject();var a=new t.Deferred,r=n.Utils.wait(n.DataTransfer.FREQUENT_CHANGES_MIN_DELAY);return r.done(i.bind((function(){this.sendRequest(o,s).then(l.convertResponseToControlsState).done((function(e){"pending"==a.state()&&a.resolve(e)})).fail((function(){a.reject(this,arguments)}))}),this)),a.fail((function(){r.reject()})),n.Utils.showLoadingDialogOn(a,null,!0),this.fullUpdateDeferred=a,a}},{CONTROLS_STRUCTURE_TEMPLATE_URI:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:d.Z.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}/values",FREQUENT_CHANGES_MIN_DELAY:400})})}(JSON,r(),u(),c.hl.Controls);c.hl.Controls;var f=i(77684);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}c.hl.Controls=function(e,t,i){return t.extend(i,{BaseControl:i.Base.extend({id:null,elem:null,error:null,templateChunks:{},constructor:function(e){this.initialize.apply(this,arguments)},getElem:function(){return this.elem},setElem:function(e){this.elem=e},bindCustomEventListeners:function(){},isSingleSelect:function(){return!t.isArray(this.get("selection"))},isSingleValue:function(){return!t.isArray(this.get("values"))},getTemplateSection:function(e){return this.templateChunks[this.type+"_"+e]||(this.templateChunks[this.type+"_"+e]=i.TemplateEngine.createTemplateSection(e,this.type)),this.templateChunks[this.type+"_"+e]},initialize:function(){this.baseRender.apply(this,arguments),this.isVisible.apply(this,arguments)&&this.bindCustomEventListeners()},fireControlSelectionChangeEvent:function(t){e(document).trigger(i.CHANGE_CONTROL,{control:this,selection:t})},baseRender:function(n){n&&t.extend(this,n);var s=i.TemplateEngine.createTemplate(this.type);if(s){var o=e(s(this));this.setElem(o)}},setValue:function(e){},fetch:function(e){},clearFilter:function(){},render:function(){},get:function(e){return this[e]},isValid:function(){return null===this.error||this.error&&this.error instanceof String&&0===this.error.length},isVisible:function(e){return!e||void 0===e.visible||!0===e.visible},updateWarningMessage:function(){var e=null!=this.error?this.error:"";this.getElem()&&this.getElem().find(".warning").text(e)},reset:function(e){this.set(e);var t=this.get("values");this.isVisible(this)&&void 0===t&&this.setValue(t)},set:function(e,i){if(t.extend(this,e),void 0!==e.values){var n=e.values;this.isVisible(this)&&this.setValue(n),this.isSingleValue()?this.selection=n:this.isSingleSelect()?this.selection=n[0]:this.selection=n}if(void 0!==e.selection&&(this.isSingleValue()&&(this.values=e.selection),!i&&this.fireControlSelectionChangeEvent(e.selection)),void 0!==e.disabled&&!this.get("readOnly")){var s=e.disabled;i||(s?this.disable():this.enable())}void 0!==e.error&&(this.updateWarningMessage(),this.mandatory&&void 0===this.selection&&(this.selection=[]))},find:function(e){if(void 0!==e&&e&&"object"==m(e)){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.get("values"),(function(e){return e[i]===n}))}},enable:function(){this.getElem().find("input").prop("disabled",!1),this.getElem().find("select").prop("disabled",!1)},disable:function(){this.getElem().find("input").prop("disabled",!0),this.getElem().find("select").prop("disabled",!0)}},{merge:function(e,i){return t.isNull(e)||t.isUndefined(e)?i:t.isNull(i)||t.isUndefined(i)?e:t.isArray(i)?t.map(e,(function(e){return void 0!==t.find(i,(function(t){return t===e.value}))?e.selected=!0:delete e.selected,e})):this.merge(e,[i])}}),CHANGE_CONTROL:"changed:control"})}(r(),u(),c.hl.Controls);c.hl.Controls;var v;i(70819);!function(e){e.SELECTED_VALUES="selectedValues",e.NOTHING_SUBSTITUTION_VALUE="~NOTHING~"}(v||(v={}));const g=v;c.hl.Controls=function(e,t,i){var n,s,o=f.Z.isIE(),l=(s=(new Date).getTime(),function(){var t=(new Date).getTime(),i=this;t-s>400&&(s=t,e(this).trigger("scrollstart")),clearTimeout(n),n=setTimeout((function(){e(i).trigger("scrollstop")}),300)}),a=i.Base.extend({constructor:function(e){this.containerSelector=e&&e.containerSelector||i.ViewModel.DEFAULT_CONTAINER,this.controls={},i.getViewModel=t.bind((function(){return this}),this),t.bindAll(this,"registerEvents","onControlChange"),this.registerEvents()},registerEvents:function(){i.ignore("changed:control",this.onControlChange),i.listen({"changed:control":this.onControlChange})},onControlChange:function(t,n){var s=n.control,o=n.selection,l=function(e){var t=e.slaveDependencies;return!!t&&t.length>0}(s);e(document).trigger(i.ViewModel.CHANGE_SELECTION,[s.id,o,l]),l||e(document).trigger(i.ViewModel.CHANGE_VALUES,[this.state])}},{DEFAULT_CONTAINER:"#inputControlsContainer",CHANGE_VALUES:"viewmodel:values:changed",CHANGE_SELECTION:"viewmodel:selection:changed",CHANGE_ORDER:"viewmodel:order:changed",isSelectionChanged:function(e,i){var n=e?t(e).keys():[],s=i?t(i).keys():[];if(t.union(n,s).length===n.length){var o=e?t.flatten(t(e).values()):[],l=i?t.flatten(t(i).values()):[];return t.difference(o,l).length>0||t.difference(l,o).length>0}return!0}}),r={getControls:function(){return this.controls},instantiate:function(e,t){var i=this;this.controls={};var n=t.dataUri,s=t.inputControlsService,o=t.initialSelectedValues,l=t.paginatedValuesOptions;e.forEach((function(e){var t=e.id;i.createControl(e,{dataUri:n,inputControlsService:s,initialSelectedValues:o[t]||[],paginatedValuesOptions:l[t]||[]})}))},createControl:function(e,t){var n=function(e){for(var t in i)if(e.toLowerCase()===t.toLowerCase())return i[t]}(e.type);if(!n)throw new Error("Can not find implementation of the control type: "+e.type);return this.controls[e.id]=new n(e,t),this.controls[e.id]},removeControl:function(e){delete this.controls[e]},reorderControl:function(t,n){if(1!=this.structure.length){for(var s,o=t<n?1:-1,l=t<n?Math.min(t,n):Math.max(t,n),a=t<n?Math.max(t,n):Math.min(t,n),r=l;r!=a;r+=o)s=this.structure[r],this.structure[r]=this.structure[r+o],this.structure[r+o]=s;e(document).trigger(i.ViewModel.CHANGE_ORDER,[this.structure])}},set:function(n,s){if(n){t.extend(this,n);var o=n.structure,l=(n.controlsOptions||{}).initialSelectedValues;o&&(this.instantiate(o,n.controlsOptions),this.draw(o)),l&&(this.update(l),!s&&e(document).trigger(i.ViewModel.CHANGE_VALUES,l))}},get:function(e){if(e){if("selection"===e){var i={};return t.each(this.getControls(),(function(e){var n=e.get("selection");n instanceof Array?i[e.id]=i[e.id]=n.length>0?n:e.mandatory?[]:[g.NOTHING_SUBSTITUTION_VALUE]:t.isUndefined(n)||(i[e.id]=[n])})),i}return this[e]}},findControl:function(e){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.getControls(),(function(e){return e[i]===n}))},pluck:function(e){return t.pluck(this.getControls(),e)}},c={draw:function(e){var t=this,i=this.getContainer();if(i.empty(),o&&(i.attr("js-stdnav","false"),i.attr("js-navtype","none")),e.forEach((function(e){if(e.visible){var n=t.findControl({id:e.id});n.render(),i.append(n.getElem())}})),window.Report&&window.Report.icReorderEnabled){var n=window.Controls.layouts.LAYOUT_TOP_OF_PAGE===Report.reportControlsLayout;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||this._initSortable({container:i,horizontalLayout:n})}},update:function(e){var i=this;t.each(e,(function(e,t){i.findControl({id:t}).set({values:Array.isArray(e)?e.map((function(e){return e.value})):e,error:null})}))},getContainer:function(){return this.container&&1==this.container.length||(this.container=e(this.containerSelector)),this.container},removeValidationMessages:function(){t.each(this.getControls(),(function(e){e.set({error:null})}))},areAllControlsValid:function(){return t.isEmpty(t.filter(this.getControls(),(function(e){return!e.isValid()})))},setContainer:function(t){this.container=e(t)},reloadContainer:function(){return this.container=e(this.containerSelector),this.container},disable:function(){t.each(this.getControls(),(function(e){e.set({disabled:!0})}))},enable:function(){t.each(this.getControls(),(function(e){e.set({disabled:!1})}))},_initSortable:function(i){var n=i.container,s=i.horizontalLayout,a=!1,r=this,c=e(n).sortable({delay:200,placeholder:s?"verticalPlaceholder":"horizontalPlaceholder",axis:s?"x":"y",items:"> .leaf",cancel:"input,textarea,button,select,option,.list.inputSet,.jr-mSizer",start:function(e,t){t.item.data("oldIndex",t.item.index()),a=!0},stop:t.bind((function(e,t){var i=t.item.data("oldIndex"),n=t.item.index();i!=n&&this.reorderControl(i,n),a=!1}),this)});if(o){var h=i.parent||c.parent();h.off("scroll",l),h.off("scrollstart"),h.off("scrollstop"),h.on("scroll",l),h.on("scrollstart",(function(){if(!a)try{c.sortable("destroy")}catch(e){}})),h.on("scrollstop",(function(){!a&&r._initSortable({parent:h,container:n,horizontalLayout:s})}))}}};return t.extend(a.prototype,r,c),t.extend(i,{ViewModel:a})}(r(),u(),c.hl.Controls);c.hl.Controls;var b=i(46460);const C={activate:function(e,t){if("number"==typeof e)if(t=t||{},e>=this.get("bufferStartIndex")&&e<=this.get("bufferEndIndex")){var i=this.get("items")[e-this.get("bufferStartIndex")];i&&this.setActive(u().extend(t,{index:e,item:i}))}else{var n=this;this.getData({offset:e,limit:1}).done((function(i){n.setActive(u().extend(t,{index:e,item:i.data[0]}))})).fail(this.fetchFailed)}else this.setActive(u().extend({},t))},setActive:function(e){this.active&&e.index===this.active.index&&e.item.value===this.active.value||(this.active=e&&"number"==typeof e.index?{index:e.index,value:e.item.value,label:e.item.label}:void 0,e&&e.silent||(this.trigger("change"),this.trigger("active:changed",this.active)))},getActive:function(){return this.active}};var w=i(15892),S=i.n(w),y=function(e){return this.initialize(e),this};u().extend(y.prototype,{systemKeyCodes:[16,17,18,91],keydownHandlers:{38:"onUpKey",40:"onDownKey",13:"onEnterKey",27:"onEscKey",36:"onHomeKey",35:"onEndKey",9:"onTabKey",33:"onPageUpKey",34:"onPageDownKey"},preventKeydownHandlers:{33:"onPageUpKey",34:"onPageDownKey"},initialize:function(e){u().bindAll(this,"onKeydown"),e.keydownHandlers&&(this.keydownHandlers=e.keydownHandlers),this.stopPropagation=e.stopPropagation,this.keydownTimeout=e.keydownTimeout||200,this.context=e.context,this.deferredKeydownHandler=e.deferredKeydownHandler,this.immediateHandleCondition=e.immediateHandleCondition,this.immediateKeydownHandler=e.immediateKeydownHandler},onKeydown:function(e){this._isSystemKeyPressed(e)||(this._canImmediatelyHandleKeyboardEvent(e)?this._immediatelyHandleKeyboardEvent(e):this.deferredHandleKeyboardEvent(e),this.stopPropagation&&e.stopPropagation())},deferredHandleKeyboardEvent:function(e){this.deferredKeydownHandler&&(this.keydownTimeout>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(u().bind(this.deferredKeydownHandler,this.context,e),this.keydownTimeout)):this.deferredKeydownHandler.call(this.context,e))},_isSystemKeyPressed:function(e){return u().indexOf(this.systemKeyCodes,e.which)>-1},_immediateHandleCondition:function(e){return this.immediateHandleCondition&&this.immediateHandleCondition.call(this.context,e)},_canImmediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];return t&&"function"==typeof this.context[t]||this._immediateHandleCondition(e)},_immediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];t&&"function"==typeof this.context[t]?(this.context[t].call(this.context,e),this._immediatePreventdefaultHandler(e)):this._immediateHandleCondition(e)&&this.immediateKeydownHandler&&this.immediateKeydownHandler.call(this.context,e)},_immediatePreventdefaultHandler:function(e){this.preventKeydownHandlers[""+e.which]&&e.preventDefault()}});const V=y;var I=i(58523),_=I.Z.extend(C);const T=_=_.extend({setActive:function(e){C.setActive.call(this,u().extend(e,{silent:!0}));var t={};"number"==typeof e.index&&(t[e.index]=e.item.value),this.select(t)},_convertInitialArrayToSelection:function(e,t,i){for(var n=0;n<e.length;n++)t[e[n].value]&&(this._addToSelection(e[n].value,n),this.getActive()||C.setActive.call(this,{index:n,item:e[n],silent:!0}));this._triggerSelectionChange(i)},_convertSelectionObject:function(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]){var i=e[t];return{index:parseInt(t,10),value:i}}},_select:I.Z.prototype.select,select:function(e,t){var i,n=!1;if(!e||"string"==typeof e||u().isArray(e))C.setActive.call(this,{silent:!0});else if(i=this._convertSelectionObject(e)){var s=this.getActive();s&&i.value===s.value&&i.index===s.index||(n=!0)}else C.setActive.call(this,{silent:!0});return n?this.activate(i.index):this._select(e,t),this}});var j=i(75042);const E=S().View.extend({ListModel:j.Z,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px; min-height: 100px;"},initialize:function(e){return u().bindAll(this,"_fetchVisibleData"),this.model=e.model||new this.ListModel(e),this.chunksTemplate=u().template(e.chunksTemplate||'{{_.each(chunks, function(chunk) { }}\n<div class="jr-jViewPortChunk" style="height: {{- chunk.height}}px">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n{{ }); }}\n'),this.itemsTemplate=u().template(e.itemsTemplate||'<ul class="jr-mSelectlist jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>'),this.defaultChunkHeight=this.chunkHeight=e.chunkHeight||1e6,this.scrollTimeout=void 0!==e.scrollTimeout?e.scrollTimeout:50,this.manualScrollInterval=e.manualScrollInterval||50,this.lazy=e.lazy,this.defaultItemHeight=e.listItemHeight||21,this.listItemSelector=e.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(e){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData(),this.scrollPos=e&&e.target&&e.target.scrollTop},restoreScrollPos:function(){this.$el.scrollTop(this.scrollPos)},onModelChange:function(){this.renderData()},onFetchFailed:function(e,t){this.trigger("listRenderError",e,t)},postProcessChunkModelItem:function(e,t){e.index=this.model.get("bufferStartIndex")+t,void 0===e.label&&(e.label=e.value),e.label=r().trim(e.label)},_renderItems:function(){var e=this.model.get("bufferStartIndex"),t=this.model.get("bufferEndIndex"),i=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,n=this.itemsPerChunk?Math.ceil((t+1)/this.itemsPerChunk):1,s=this;this.$el.find(".jr-jViewPortChunk").each((function(o,l){var a=r()(l),c=s._getChunkModel({index:o+1,firstChunkWithData:i,lastChunkWithData:n,bufferStart:e,bufferEnd:t,total:s.totalItems,itemsPerChunk:s.itemsPerChunk,itemHeight:s.itemHeight,chunkHeight:s.chunkHeight,model:s.model}),h=c?s.itemsTemplate(c):"",u=l.children[0];u&&l.removeChild(u),a.append(h)}))},_renderViewChunks:function(e){var t=this;(this.totalItems!==this.model.get("total")||e)&&(this.totalItems=this.model.get("total"),Array.prototype.slice.call(this.$el[0].children).forEach((function(e){t.$el[0].removeChild(e)})),this.$el.append(this.chunksTemplate({_:u(),chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".jr-jViewPortChunk:first"))},_getViewChunksModel:function(){for(var e=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,t=e>0?this.itemHeight?this.totalItems*this.itemHeight-(e-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;n<e;n++)i.push({height:this.chunkHeight});return i.push({height:t}),i},_calcViewPortConstants:function(){this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=2?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},resizeViewPort:function(e){this.viewPortHeight=e,this.$el.outerHeight(this.viewPortHeight),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1,this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems()},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._calcViewPortConstants(),this.itemsPerView},_getChunkModel:function(e){var t=e.index;if(t<e.firstChunkWithData||t>e.lastChunkWithData)return null;var i=e.itemsPerChunk?Math.max(e.bufferStart,e.itemsPerChunk*(t-1)):e.bufferStart,n=e.itemsPerChunk?Math.min(e.bufferEnd,e.itemsPerChunk*t-1):e.bufferEnd,s=e.itemHeight?i*e.itemHeight-(t-1)*e.chunkHeight:0,o=Array.prototype.slice.call(e.model.get("items"),i-e.bufferStart,n-e.bufferStart+1);return u().each(o,(function(t,n){this.postProcessChunkModelItem(t,n+(i-e.bufferStart))}),this),{top:s,items:o}},_fetchVisibleData:function(){var e=this._getVisibleItems();this.model.fetch({top:e.top,bottom:e.bottom})},_getVisibleItems:function(){var e=this._getScrollPos(),t=this.model.get("total"),i=Math.min(t-this.itemsPerView,Math.floor(e/this.itemHeight));return{top:i,bottom:Math.min(t-1,i+this.itemsPerView+1)}},_getScrollPos:function(){this._calcViewPortConstants();var e=0;if(this.$firstViewChunk){var t=this.$el.offset(),i=this.$firstViewChunk.offset();t&&i&&(e=t.top-i.top)}return e},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?(this.trigger("before:render:data"),this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")):(this.lazy=null,this.model.fetch()),this},resize:function(){if(this.$el.is(":visible")){var e=this.$el.outerHeight();e!==this._componentHeight&&(this._componentHeight=e,this.viewPortConstantsInitialized=!1,this._calcViewPortConstants())}},fetch:function(e,t){var i;this.lazy=!1,(t=t||{}).keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0,lazy:!1}),this.model.once("change",(function(){t.keepPosition&&this.$el.scrollTop(i),e&&e.apply(this,arguments)}),this).fetch({force:!0})},reset:function(e){e=u().defaults(e||{},{lazy:!0}),this.$el.scrollTop(0),this.lazy=e.lazy,this.model.reset(e)},scrollTo:function(e){if("number"==typeof e){var t=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=e*this.itemHeight;n<t?i=n:n+this.itemHeight>t+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});var x={LEFT:"left",RIGHT:"right"};const k=E.extend({ListModel:I.Z,initialize:function(e){return u().bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=e.eventListenerPattern||"li",this.markerClass=e.markerClass?e.markerClass:"",this.selectedClass=e.selectedClass?e.selectedClass:"jr-isSelected",this._initSelection(e.selection),E.prototype.initialize.call(this,e)},delegateEvents:function(){var e=E.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,u().bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,u().bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,u().bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,u().bind(this.onItemEvent,this,this.$el)).on("click",this.eventListenerPattern,u().bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,u().bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,u().bind(this.onItemEvent,this,this.$el)),e},undelegateEvents:function(){var e=E.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mouseup").off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("click").off("mouseout").off("mouseover"),e},_initSelection:function(e){var t,i=null!==(t=(e=u().extend({allowed:{}},e)).allowed)&&void 0!==t?t:{},n=u().isObject(i)?i.left:i;this.selection={allowed:{left:void 0===n||n,right:void 0!==i.right&&i.right},multiple:void 0===e.multiple||e.multiple}},initListeners:function(){E.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),r()("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(e,t){E.prototype.postProcessChunkModelItem.call(this,e,t),e.selected=this.model.selectionContains&&this.model.selectionContains(e.value,e.index)},onMousedblclick:function(e){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var t=this._getDomItemData(e.currentTarget);this._singleSelect(e,t.value,t.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(e){return this._getDomItemData(e.currentTarget).item},onItemEvent:function(e,t){var i=t.type,n=this.getItemByEvent(t);this.trigger("list:item:"+i,n,t)},onMousedown:function(e){if(!this.getDisabled()&&(this.selection.allowed.left&&1===e.which||this.selection.allowed.right&&3===e.which)){var t=1===e.which?x.LEFT:x.RIGHT;this.selection.multiple&&(this[t+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(e));var i=this._getDomItemData(e.currentTarget);this.selection.multiple?this._multiSelect(e,i.value,i.index):this._singleSelect(e,i.value,i.index)}},onMousemove:function(e){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(e,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(e);var t=this._getDomItemData(e.currentTarget);this.model.selectionContains(t.value,t.index)||this.model.addRangeToSelection(t.value,t.index)}},onGlobalMouseup:function(e){var t=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(u().each(x,(function(e){t[e+"MouseButtonPressed"]=!1})),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(e){this._allowMouseMoveSelection()&&(this.mousePosY=e.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(e){this._selectItemByIndex(e.index),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(e){var t=this,i=Math.max(this.model.get("bufferStartIndex"),e.start),n=Math.min(this.model.get("bufferEndIndex"),e.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each((function(){var e=r()(this),s=parseInt(e.attr("data-index"),10);if(s>=i&&s<=n){var o=t.model.get("items")[s-t.model.get("bufferStartIndex")];t.model.selectionContains(o&&o.value,s)&&e.addClass(t.selectedClass)}})),this.selectionChanged=!0},deselectValue:function(e){this._deselectItemByIndex(e.index),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_selectItemByIndex:function(e){this.$el.find("li"+this.markerClass+"[data-index='"+e+"']:not(."+this.selectedClass+")").addClass(this.selectedClass)},_deselectItemByIndex:function(e){this.$el.find("li[data-index='"+e+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass)},_autoScroll:function(){var e,t=this.$el.offset().top,i=this.$el.scrollTop(),n=void 0!==this.scrollTop?this.scrollTop:i,s=!1;this.mousePosY<t?s=(e=n-3*this.itemHeight)<i:this.mousePosY>t+this.viewPortHeight&&(s=(e=n+3*this.itemHeight)>i),s&&(this.$el.scrollTop(e),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,e)},_selectRangeOnAutoScroll:function(e,t){var i;if(e<t?i=this._getVisibleItems().bottom:e>t&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(e,t,i){e.shiftKey?this.model.addRangeToSelection(t,i):e.ctrlKey||e.metaKey?this._singleSelect(e,t,i):this.model.toggleSelection(t,i)},_singleSelect:function(e,t,i){this.model.clearSelection().addValueToSelection(t,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(e){for(var t=r()(e),i=t.attr("data-index");void 0===i;)i=(t=t.parent()).attr("data-index");i=parseInt(i,10);var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];return{item:n,value:n&&n.value,index:i}},_mouseMoved:function(e,t){return Math.abs(t.x-e.clientX)+Math.abs(t.y-e.clientY)>=1},_getMousePos:function(e){return{x:e.clientX,y:e.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(e,t){return(t=t||{}).silent||t.modelOptions&&t.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),t=t.modelOptions,this.model.select(e,t),this},selectAll:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(e){return this.setValue({},e)},invertSelection:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(e){return this.disabled=e,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return r()("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),E.prototype.remove.call(this)}});const D=k.extend({canActivate:!0,initialize:function(e){e=e||{};var t=I.Z.extend(C);e.model=e.model||new t(e),k.prototype.initialize.call(this,e)},onMousemove:function(e){if(k.prototype.onMousemove.call(this,e),!this.mouseMovePos||this._mouseMoved(e,this.mouseMovePos)){this.mouseMovePos=this._getMousePos(e);var t=this._getDomItemData(e.currentTarget);this.activate(t.index)}},setCanActivate:function(e){this.canActivate=e},getCanActivate:function(){return this.canActivate&&!this.getDisabled()},activateFirst:function(){this.activate(0)},activateLast:function(){this.activate(Math.max(0,this.model.get("total")-1))},activateNext:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+1))},activatePrevious:function(){this.activate(Math.max(0,this._getActiveIndex()-1))},pageDown:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+this._getItemsPerView()))},pageUp:function(){this.activate(Math.max(0,this._getActiveIndex()-this._getItemsPerView()))},getActiveValue:function(){return this.model.getActive&&this.model.getActive()},activate:function(e,t){if(this.getCanActivate()){var i=this.getActiveValue();if(i&&i.index===e)return;if(!t||!t.silent){var n=this;this.model.once("active:changed",(function(){n.trigger("active:changed",n.getActiveValue())}))}this.model.activate(e,t)}},postProcessChunkModelItem:function(e,t){k.prototype.postProcessChunkModelItem.call(this,e,t);var i=this._getActiveIndex&&this._getActiveIndex();e.active=void 0!==i&&i===this.model.get("bufferStartIndex")+t},_getActiveIndex:function(){var e=this.getActiveValue();return e&&e.index}});const L=D.extend({events:u().extend({},D.prototype.events,{"mouseup li":"onMouseup"}),initialize:function(e){var t=e.model||new T(e);D.prototype.initialize.call(this,u().extend({model:t,lazy:!0,selection:{allowed:!0,multiple:!1}},e))},onMouseup:function(){this.trigger("item:mouseup")},activate:function(e){if(this.getCanActivate()){var t=this.getActiveValue();if(t&&t.index===e)return;this.model.once("selection:change",this._triggerSelectionChanged,this).activate(e)}}});var M=function(e){u().bindAll(this,"getData","_filterValues","_shouldFilter"),this.indexMapping={},this.internalGetData=e.getData};u().extend(M.prototype,{getData:function(e){var t=new(r().Deferred);if(e&&void 0!==e.criteria)return this.dataCache=null,this.criteria=e.criteria,t.resolve(),t.promise();var i=this;return i._shouldFilter()?(this.dataCache?this._resolvePromise(e,t):this.internalGetData().done((function(n){i.indexMapping={},i.reverseIndexMapping={},i.dataCache=i._filterValues(n.data),i._resolvePromise(e,t)})).fail(t.reject),t.promise()):(this.indexMapping=null,this.reverseIndexMapping=null,this.dataCache=null,this.internalGetData(e))},getIndexMapping:function(){return this.indexMapping},getReverseIndexMapping:function(){return this.reverseIndexMapping},_resolvePromise:function(e,t){var i=e&&e.offset?e.offset:0,n=e&&e.limit?i+e.limit:this.dataCache.length,s=this._getDataSegment(this.dataCache,i,n);t.resolve({data:s,total:this.dataCache.length})},_shouldFilter:function(){return this.criteria},_filterValues:function(e){for(var t=[],i=0,n=0;n<e.length;n++){var s=e[n];(void 0===s.label?s.value:s.label).toLowerCase().indexOf(this.criteria.toLowerCase())>-1&&(t[i]=s,this.indexMapping[i]=n,this.reverseIndexMapping[n]=i,i+=1)}return t},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],s=t;s<i;s++)n.push({label:e[s].label,value:e[s].value});return n}});const O=M;var P=r()("body"),A=function(e){return this.initialize(e),this};u().extend(A.prototype,{initialize:function(e){u().bindAll(this,"checkOffset","setNewOffset"),this.$dropDownEl=e.dropDownEl,this.calcOffset=e.calcOffset,this.isOffsetChanged=e.isOffsetChanged||this._isOffsetChanged,this.recalcInterval=e.recalcInterval||500,this.onOffsetChanged=e.onOffsetChanged},startCalc:function(){this.checkOffset(this.setNewOffset),clearInterval(this.recalcTimer),this.recalcTimer=setInterval(u().bind(this.checkOffset,this,this.onOffsetChanged),this.recalcInterval)},stopCalc:function(){clearInterval(this.recalcTimer)},checkOffset:function(e){var t=this.calcOffset(),i=this.$dropDownEl.position(),n=P.offset();(n.top||n.left)&&(i.top+=n.top,i.left+=n.left),this.$dropDownEl.width()!==t.width&&this.setNewOffset(t),this.isOffsetChanged(i,t)&&e&&e(t)},setNewOffset:function(e){this.$dropDownEl.css("top",e.top-P.offset().top).css("left",e.left-P.offset().left).css("width",e.width)},_isOffsetChanged:function(e,t){return Math.floor(e.top)!==Math.floor(t.top)||Math.floor(e.left)!==Math.floor(t.left)}});const H=A;var U=i(29562);let z;"ScalableInputControlsBundle"!==U.t?(U.h.ScalableInputControlsBundle=U.h.ScalableInputControlsBundle||{},z=U.h.ScalableInputControlsBundle):z=Object.keys(U.h).reduce(((e,t)=>({...e,...U.h[t]})),{});const R=z;var $=i(84612);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=r()("body");const F=S().View.extend({events:function(){return{keydown:this.keyboardManager.onKeydown,input:this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur",mousedown:"onMousedown",mouseup:"onMouseup","click .jr-mSingleselect-input":"onClickOnInput"}},initialize:function(e){u().bindAll(this,"onGlobalMouseup","onGlobalMousedown","onGlobalMousemove","onMousedown","calcOffsetForListView","collapse"),this.model||(this.model=new(S().Model)),this.model.set("expanded",!1,{silent:!0}),this.model.set("criteria","",{silent:!0}),this.model.set("value",{},{silent:!0});var t='<div class="jr-mSingleselect jr">\n\n    <js-templateNonce></js-templateNonce>\n    <a class="jr-mSingleselect-input jr">\n        <span class="jr-mSingleselect-input-placeholder jr">{{- i18n[\'sic.singleselect.select.one\'] }}</span>\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\n        <div class="jr-mSingleselect-input-expander jr"></div>\n    </a>\n    <div class="jr-mSingleselect-search jr">\n        <input type="text" placeholder="{{- i18n[\'sic.multiselect.search\'] }}" class="jr-mInput-search jr" value="{{- value}}">\n    </div>\n</div>\n';(f.Z.isIE10()||f.Z.isIE11())&&(t='<div class="jr-mSingleselect jr">\n\n    <js-templateNonce></js-templateNonce>\n    <a class="jr-mSingleselect-input jr">\n        <span class="jr-mSingleselect-input-placeholder jr">Click to select item...</span>\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\n        <div class="jr-mSingleselect-input-expander jr"></div>\n    </a>\n    <div class="jr-mSingleselect-search jr">\n        <input type="text" class="jr-mInput-search jr" value="{{- value}}">\n    </div>\n</div>\n'),this.dropUpDirection=!1,this.label=e.label,this.template=u().template(e.template||t),this.dropDownTemplate=u().template(e.dropDownTemplate||'<div class="jr-mSingleselect-dropdownContainer jr">\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mSingleselect-dropdown jr"></div>\n</div>\n'),this.keyboardManager=new V({keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.listView=this._createListView(e),this.render(),this.dropDownManager=new H({dropDownEl:this.$dropDownElContainer,calcOffset:this.calcOffsetForListView,isOffsetChanged:this.isDimensionsChangedForListView,onOffsetChanged:this.collapse}),this.initListeners(),this.setValue(e.value,{modelOptions:{silent:!0}})},_createListView:function(e){return new L({el:e.listElement||r()('<div class="jr-mScalablelist jr" draggable="false" ondragstart="return false" unselectable="on" onselectstart="return false">\n\n    <js-templateNonce></js-templateNonce>\n</div>'),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||'<ul class="jr-mSelectlist jr" style="top: {{- top}}px;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>',scrollTimeout:e.scrollTimeout})},_createListViewModel:function(e){return this.searcheableDataProvider=new O({getData:e.getData}),new T({getData:this._getGetData(),bufferSize:e.bufferSize,loadFactor:e.loadFactor})},_getGetData:function(){return this.searcheableDataProvider.getData},_getActiveValueIndex:function(e){var t=this.searcheableDataProvider.getIndexMapping();return t?t[e.index]:e.index},initListeners:function(){this.listenTo(this.listView,"selection:change",this.selectionChange,this),this.listenTo(this.listView,"item:mouseup",this.itemMouseup,this),this.listenTo(this.listView,"listRenderError",this.listRenderError,this),this.listenTo(this.model,"change:expanded",this.changeExpandedState,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),this.$dropDownEl.on("mousedown",this.onMousedown),B.on("mousedown",this.onGlobalMousedown).on("dataavailable",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},render:function(){var e=r()(this.template({label:this.label,isIPad:f.Z.isIPad(),value:this.model.get("value").label,expanded:this.model.get("expanded"),i18n:R}));return this.renderListView(),this.$el.empty(),this.$el.append(e),this.$singleSelect=e,this.$searchBlock=this.$el.find(".jr-mSingleselect-search"),this.$inputBlock=this.$el.find(".jr-mSingleselect-input"),this.$input=this.$searchBlock.find("input"),this},renderListView:function(){this.listRendered||(this.$dropDownElContainer=r()(this.dropDownTemplate({isIPad:"iPad"===navigator.platform})),this.$dropDownEl=this.$dropDownElContainer.find(".jr-mSingleselect-dropdown"),this.listView.undelegateEvents(),this.$dropDownEl.append(this.listView.$el),B.append(this.$dropDownElContainer),this.listView.delegateEvents(),this.listRendered=!0),this.$scalablelist=this.$dropDownElContainer.find(".jr-mScalablelist"),this.model.get("expanded")?this.$dropDownElContainer.show():this.$dropDownElContainer.hide()},renderData:function(){return this.listView.renderData(),this},listRenderError:function(e,t){this.trigger("listRenderError",e,t)},itemMouseup:function(){if(!this.model.get("disabled")){delete this.preventBlur,this.$input.focus();var e=this.model.get("activeValue");e.value!==this.model.get("value").value?(this.model.unset("activeValue"),this.model.set("value",e)):this.collapse()}},selectionChange:function(){var e=this.listView.getActiveValue();e?(this.listView.scrollTo(e.index),this.model.set("activeValue",{value:e.value,label:e.label,index:this._getActiveValueIndex(e)}),this.updateValueFromActive()):this.model.unset("activeValue")},onClickOnInput:function(){this.model.get("expanded")?this.collapse():this.expand()},onFocus:function(){this.model.get("expanded")||this.$inputBlock.addClass("jr-isFocused")},onBlur:function(){this.preventBlur||(this.collapse(),this.$inputBlock.removeClass("jr-isFocused"))},onMousedown:function(){this.preventBlur=!0},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.model.get("expanded")&&this.$input.focus())},changeExpandedState:function(e){e.get("expanded")?this.doExpand():this.doCollapse()},changeValue:function(){this.collapse(),this.updateControlLabel(),this.silent?delete this.silent:this.trigger("selection:change",this.model.get("value").value),this.$input.val(""),this.model.set("criteria","")},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$input.attr("disabled","disabled"),this.collapse()):this.$input.removeAttr("disabled"),this.listView.setDisabled(e)},onGlobalMousedown:function(e){if(this.model.get("expanded")){if(e.target===this.el||this.$el.find(e.target).length>0||e.target===this.$dropDownEl[0]||this.$dropDownEl.find(e.target).length>0)return void this.$input.focus();this.preventBlur=!1}this.onBlur()},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onUpKey:function(){if(this.model.get("expanded")){var e=this.listView.getActiveValue();if(!e||0===e.index)return void this.collapse();this.listView.activatePrevious()}else this.expand()},onDownKey:function(){this.model.get("expanded")?this.listView.getActiveValue()?this.listView.activateNext():this.listView.activateFirst():this.expand()},onEnterKey:function(e){e.preventDefault(),this.model.get("expanded")?this.model.get("activeValue")?this.itemMouseup():this.collapse():this.expand()},onEscKey:function(){this.model.get("expanded")&&this.collapse()},onHomeKey:function(){this.model.get("expanded")?this.listView.activateFirst():this.expand()},onEndKey:function(){this.model.get("expanded")?this.listView.activateLast():this.expand()},onPageUpKey:function(){this.model.get("expanded")?this.listView.pageUp():this.expand()},onPageDownKey:function(){this.model.get("expanded")?this.listView.pageDown():this.expand()},onTabKey:function(){},updateDropDirection:function(){var e=r()("html").scrollTop(),t=this.$el.offset(),i=this.$el.height(),n=this.$searchBlock.outerHeight(),s=t.top-e,o=r()(window).height()-s-i;this.dropUpDirection=s>o;var l=this.dropUpDirection?s:o;l-=n+i,this.$scalablelist.css("max-height",l+"px")},doExpand:function(){this.updateDropDirection(),this.dropUpDirection&&(this.$dropDownEl.addClass("jr-mSingleselect-dropdownTop"),this.$singleSelect.addClass("jr-mSingleselectTop")),this.$searchBlock.addClass("jr-isOpen"),this.$inputBlock.addClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isFocused"),this.$input.focus(),this.listView.onScroll(),this.expandListView(),this.listView.lazy?this.listView.fetch(u().bind(this.listView.resize,this.listView)):this.listView.resize(),void 0!==this.model.get("value").value&&this.setValueToList(),this.trigger("expand",this)},expandListView:function(){this.$dropDownElContainer.show(),this.dropDownManager.startCalc()},doCollapse:function(){this.model.unset("activeValue"),this.$searchBlock.removeClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isOpen"),this.$dropDownEl.removeClass("jr-mSingleselect-dropdownTop"),this.$singleSelect.removeClass("jr-mSingleselectTop"),this.$inputBlock.addClass("jr-isFocused"),this.$input.val(""),this.$dropDownElContainer.hide(),this.model.set("criteria",""),this.dropDownManager.stopCalc(),this.trigger("collapse",this)},calcOffsetForListView:function(){var e=this.$el.offset(),t=B.offset().left+e.left,i=this.$el.height();return{top:this.dropUpDirection?B.offset().top+e.top-this.$searchBlock.outerHeight():B.offset().top+e.top+i+this.$searchBlock.height(),left:t,width:this.el.getBoundingClientRect().width}},isDimensionsChangedForListView:function(e,t){return Math.abs(e.top-t.top)>2||Math.abs(e.left-t.left)>2},immediateHandleCondition:function(e){return!this.model.get("expanded")},immediateKeydownHandler:function(e){this.expand(),this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$input.val())},changeFilter:function(){var e=this;this._getGetData()({criteria:this.model.get("criteria")}).done((function(){e.listView.fetch((function(){e.setValueToList()}))}))},setValueToList:function(e){var t=this.model.get("value"),i=t.value;if(void 0!==t.index){var n=this.searcheableDataProvider.getReverseIndexMapping(),s=n?n[t.index]:t.index;i={},void 0!==s&&(i[s]=t.value)}this.listView.setValue(i,e)},convertExternalValueToInternalFormat:function(e){var t={};if(void 0!==e)if("string"==typeof e||null===e)t={value:e};else for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){t="object"===N(e[i])?{value:e[i].value,index:parseInt(i,10),label:e[i].label}:{value:e[i],index:parseInt(i,10)};break}return t},updateValueFromActive:function(){var e=this.model.get("value"),t=this.model.get("activeValue");e.value===t.value&&void 0===e.label&&(e.label=t.label,this.updateControlLabel())},updateControlLabel:function(){var e,t=this.model.get("value"),i=this.$inputBlock.find(".jr-mSingleselect-input-placeholder"),n=this.$inputBlock.find(".jr-mSingleselect-input-selection");u().isEmpty(t)||null==t.value?(i.removeClass("jr-isHidden"),this.render()):(e=this.getControlLabelByValue(t),i.addClass("jr-isHidden"),this.$inputBlock.attr("title",e),n.html($.Z.hardEscape(e)))},getControlLabelByValue:function(e){return null==e.label?e.value:e.label},fetch:function(e,t){return this.listView.fetch(e,t),this},reset:function(e){return this.listView.reset(e),this},expand:function(){if(!this.model.get("disabled"))return this.model.set("expanded",!0),this},collapse:function(){return this.model.set("expanded",!1),this},getValue:function(){return this.model.get("value").value},setValue:function(e,t){e=this.convertExternalValueToInternalFormat(e),t&&t.silent&&(this.silent=!0),this.model.set("value",e),this.setValueToList()},setDisabled:function(e){return this.model.set("disabled",e),this},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.$dropDownEl.off("mousedown",this.onMousedown).remove(),this.listView.remove(),this.$dropDownElContainer.remove(),S().View.prototype.remove.call(this),B.off("mousedown",this.onGlobalMousedown).off("dataavailable",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove)}});var K=i(36636);const G=K.Z.extend({initialize:function(e){K.Z.prototype.initialize.call(this,e),this.caseSensitiveSelection=void 0===e.caseSensitiveSelection||e.caseSensitiveSelection},_addToSelection:function(e,t){this.caseSensitiveSelection?this.selection[e]=!0:this.selection[e.toLowerCase()]=e},_removeFromSelection:function(e,t){this.caseSensitiveSelection||(e=e.toLowerCase()),delete this.selection[e]},_clearSelection:function(){this.selection={}},_selectionContains:function(e,t){return this.caseSensitiveSelection||(e=e.toLowerCase()),this.selection[e]},_getSelection:function(){return this.caseSensitiveSelection?u().keys(this.selection):u().values(this.selection)},select:function(e,t){if(this._clearSelection(),"string"==typeof e)this._addToSelection(e);else if(u().isArray(e))for(var i=0;i<e.length;i++)this._addToSelection(e[i]);else if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];void 0!==s&&this._addToSelection(s,n)}this._afterSelect&&this._afterSelect(e,t),this._triggerSelectionChange(t)}});var Z=G.prototype;const W=T.extend({initialize:function(e){T.prototype.initialize.call(this,e),this.caseSensitiveSelection=void 0===e.caseSensitiveSelection||e.caseSensitiveSelection},_addToSelection:Z._addToSelection,_removeFromSelection:Z._removeFromSelection,_clearSelection:Z._clearSelection,_selectionContains:Z._selectionContains,_getSelection:Z._getSelection,_calcSelectionStartIndex:void 0,_select:Z.select});function q(e,t){if(t&&"string"==typeof t&&!this.getActive()){var i=e(t);void 0!==i&&C.setActive.call(this,{index:i,item:{value:t},silent:!0})}}const Y=F.extend({initialize:function(e){u().bindAll(this,"_getSelectionIndex"),this.formatValue=e.formatValue,F.prototype.initialize.call(this,e)},_createListViewModel:function(e){if(this.getData=e.getData,e.model)return e.model;var t=new W(e);return u().extend(t,{_afterSelect:u().partial(q,this._getSelectionIndex)})},_getSelectionIndex:function(e){for(var t=this.listViewModel.get("bufferStartIndex"),i=this.listViewModel.get("items"),n=0;n<i.length;n++)if(e===i[n].value)return t+n},_getGetData:function(){return this.getData},_getActiveValueIndex:function(e){return this._getSelectionIndex(e.value)},changeFilter:function(){var e=this,t=this.model.get("criteria");this.listView.scrollTo(0),this._getGetData()({criteria:t,offset:0,limit:1}).done((function(){e.listView.fetch((function(){e.listView.resize(),e.setValueToList()}))}))},getControlLabelByValue:function(e){return null==e.label?this.formatValue?this.formatValue(e.value):e.value:e.label},setValue:function(e,t){e=this.convertExternalValueToInternalFormat(e),t&&t.silent&&(this.silent=!0),this.model.set("value",e),this.setValueToList(t),this.silent&&delete this.silent},setValueToList:function(e){var t=this.model.get("value"),i={};t&&t.index?i[t.index]=t.value:t&&(i=t.value),this.listView.setValue(i,e)}});var J=i(92772);const X=function(e){if(!e||!e.el)throw"Missing required option: el";if(u().defaults(e,{css:{},classes:"",container:"<div></div>",appendTo:"body",callback:function(){throw"no callback was defined"},alwaysClone:!1,cloneHandlers:!1}),u().defaults(e.css,{position:"absolute",left:"-9999px"}),!e.alwaysClone&&r()(e.el).is(":visible"))e.callback(r()(e.el));else{var t=r()(e.el).clone(),i=r()(e.container).css(e.css).addClass(e.classes).appendTo(r()(e.appendTo)).append(t);e.callback(t),i.remove()}};var Q=X;const ee={render:function(){return this._itemHeightSet||(this._calcItemHeight(),this._itemHeightSet=!0),this},_calcItemHeight:function(){var e=this;this._model=this.model,this._lazy=this.lazy,this._visibility=this.$el.css("visibility"),this._display=this.$el.css("display"),this.model=new j.Z({getData:function(){var e=new(r().Deferred);return e.resolve({total:1,data:[{value:"test value",label:"test label"}]}),e}}),this.$el.css({visibility:"hidden",display:"block"}),this.model.once("change",this.onModelChange,this),this.renderData(),Q({el:this.$el,css:{width:"100px"},classes:" jr "+(f.Z.isIPad()?"ipad":""),callback:function(t){e.itemHeight=t.find("li").outerHeight(!0),e.itemsPerChunk=Math.floor(e.defaultChunkHeight/e.itemHeight),e.chunkHeight=e.itemsPerChunk*e.itemHeight}}),this.$el.empty().css({visibility:this._visibility,display:this._display}),delete this._visibility,delete this._display,this.totalItems=void 0,this.$firstViewChunk=void 0,this.model=this._model,delete this._model,this.lazy=this._lazy,this._lazy&&delete this._lazy},_calcViewPortConstants:function(){if(!this.viewPortConstantsInitialized){if(!this._itemHeightSet)return;this._calcViewPortHeight(),this._renderViewChunks(!0),this._renderItems(),this.viewPortConstantsInitialized=!0}}},te='<div class="jr-mScalablelist jr j-scalable-list" onselectstart="return false" unselectable="on" ondragstart="return false" draggable="false">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n';var ie=X,ne=[{selector:".jr-jSelectAll",strings:[R["sic.multiselect.selectAll"],R["sic.multiselect.all"],""]},{selector:".jr-jSelectNone",strings:[R["sic.multiselect.deselectAll"],R["sic.multiselect.none"],""]},{selector:".jr-jInvert",strings:[R["sic.multiselect.inverse"],""]}];const se=S().View.extend({className:"jr-mMultiselect-listContainer jr-isActive jr",events:function(){return{"keydown input.jr-mInput-search":this.keyboardManager.onKeydown,"focus input.jr-mInput-search":"onFocus","blur input.jr-mInput-search":"onBlur","click .jr-jSelectAll":"onSelectAll","click .jr-jSelectNone":"onSelectNone","click .jr-jInvert":"onInvertSelection","click input.jr-mInput-search":"onClickOnInput","touchend input.jr-mInput-search":"onClickOnInput",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:u().extend({65:"onAKey"},V.prototype.keydownHandlers),initialize:function(e){var t;u().bindAll(this,"onGlobalMouseup","onGlobalMousedown","onResize","onGlobalMousemove","onMousedown","onMouseup","onEscKey","onSelectAll","onSelectNone","onInvertSelection"),this._debouncedOnResize=u().debounce(this.onResize,500),this.model||(this.model=new(S().Model)),this.model.set("criteria","",{silent:!0}),t=f.Z.isIE10()||f.Z.isIE11()?'<div class="jr-mMultiselect-search jr">\n\n    <js-templateNonce></js-templateNonce>\n    <input class="jr-mInput-search jr" type="text">\n</div>\n\n<div class="jr-mMultiselect-list jr"></div>\n\n<div class="jr-mMultiselect-buttonContainer jr">\n    <ul class="jr-mItemselector jr">\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-checkmark jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\n            </a>\n        </li>\n    </ul>\n</div>':'<div class="jr-mMultiselect-search jr">\n\n    <js-templateNonce></js-templateNonce>\n    <input class="jr-mInput-search jr" type="text" placeholder="{{- i18n[\'sic.multiselect.search\']}}">\n</div>\n\n<div class="jr-mMultiselect-list jr"></div>\n\n<div class="jr-mMultiselect-buttonContainer jr">\n    <ul class="jr-mItemselector jr">\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-checkmark jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\n            </a>\n        </li>\n    </ul>\n</div>\n',this.label=e.label,this.caseSensitiveSelection=e.caseSensitiveSelection,this.template=u().template(e.availableItemsTemplate||t),this.keyboardManager=new V({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.setValue(e.value,{silent:!0}),this.listView=this._createListView(e),this.render(),this.initListeners()},_createListViewModel:function(e){this.getData=e.getData;var t=G.extend(C);return e.listViewModel||new t({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,caseSensitiveSelection:e.caseSensitiveSelection})},_createListView:function(e){var t=e.listView||new D({el:e.listElement||r()(te),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate,scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"jr-isSelected",selection:{allowed:!0,multiple:!0}});return u().extend(t,ee),t},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.listView,"mousedown",this.onMousedown,this),this.listenTo(this.listView,"render:data",this.onRenderData,this),this.listenTo(this.listView,"listRenderError",this.listRenderError,this),this.listenTo(this.listViewModel,"change",this.onListViewModelChanged,this),this.listenTo(this.listViewModel,"selection:clear",this.selectionClear,this),this.listenTo(this.listViewModel,"selection:add",this.selectionAdd,this),this.listenTo(this.listViewModel,"selection:addRange",this.selectionAddRange,this),this.listenTo(this.listViewModel,"selection:remove",this.selectionRemove,this),this.listenTo(this.model,"change:totalValue",this.onChangeTotalValue,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),r()("body").on("mousedown",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove),r()(window).on("resize",this._debouncedOnResize)},render:function(){return this.$el.empty(),this.$el.append(r()(this.template(this.getModelForRendering()))),this.listView.undelegateEvents(),this.$el.find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.fetch(u().bind(this.listView.resize,this.listView)),this.listView.delegateEvents(),this._tuneCSS(),this.setBulkSelectionText(),this},_tuneCSS:function(){var e=this;this._paddingHeightsSet||(ie({el:this.$el,css:{width:"500px"},classes:"jr "+(f.Z.isIPad()?"ipad":""),callback:function(t){e.searchBarHeight=Math.round(t.find(".jr-mMultiselect-search").outerHeight()),e.buttonsContainerHeight=Math.round(t.find(".jr-mMultiselect-buttonContainer").outerHeight())}}),this._paddingHeightsSet=!0),this.$el.find(".jr-mMultiselect-list").css({height:"100%","padding-top":this.searchBarHeight,"padding-bottom":this.buttonsContainerHeight})},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e&&(this.activeChangedWithShift&&(delete this.activeChangedWithShift,this.listViewModel.addRangeToSelection(e.value,e.index)),this.listView.scrollTo(e.index))},selectionAdd:function(e){var t=this.model.get("value");this.caseSensitiveSelection?t[e.value]=!0:t[e.value.toLowerCase()]=e.value,this.model.trigger("change:value")},selectionAddRange:function(e){for(var t=e.selection,i=this.model.get("value"),n=0;n<t.length;n+=1){var s=t[n];this.caseSensitiveSelection?i[s]=!0:i[s.toLowerCase()]=s}this.model.trigger("change:value")},selectionRemove:function(e){var t=this.model.get("value");this.caseSensitiveSelection?delete t[e.value]:delete t[e.value.toLowerCase()],this.model.trigger("change:value")},selectionClear:function(){this.model.attributes.value={}},onSelectAll:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(u().bind(this.listView.selectAll,this.listView)))},onSelectNone:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(u().bind(this.listView.selectNone,this.listView)))},onInvertSelection:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(u().bind(this.listView.invertSelection,this.listView)))},onRenderData:function(){this.trigger("render:data")},listRenderError:function(e,t){this.trigger("listRenderError",e,t)},onListViewModelChanged:function(){if(void 0===this.model.get("totalValues")){var e=this.listViewModel.get("total");u().isNumber(e)&&!u().isNaN(e)&&this.model.set("totalValues",e)}},onChangeTotalValue:function(){this.listView.resize()},setBulkSelectionText:function(){if(this.$el.is(":visible")){var e=this.$el.outerWidth();if(e!==this._componentWidth){this._componentWidth=e;var t=this.$el.find(".jr-mMultiselect-buttonContainer"),i=t.outerWidth(),n=this.$el.hasClass("jr-isInactive");ie({el:t,css:{left:0-2*i+"px",width:i+"px"},classes:"jr "+(f.Z.isIPad()?"ipad":""),alwaysClone:!0,callback:function(e){u().each(ne,(function(i){var s=!1;u().each(i.strings,(function(o){if(!s){var l=e.find(i.selector),a=l.find(".jr-mItemselector-button-label span").text(o);(l[0].getBoundingClientRect().right-a[0].getBoundingClientRect().right>=3||""===o||n)&&(s=!0,t.find(i.selector+" .jr-mItemselector-button-label span").text(o))}}))}))}})}}},changeValue:function(){this.trigger("selection:change",this.getValue())},changeDisabled:function(){var e=this.model.get("disabled");e?this.$el.find("input[type='text']").attr("disabled","disabled"):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(e)},onClickOnInput:function(){this.onFocus()},onFocus:function(){var e=this.$el.find("input");e.val()==e.attr("placeholder")&&(e.val(""),e.removeClass("jr-mMultiselect-input-placeholder"))},onBlur:function(){var e=this.$el.find("input");if(""!==e.val()&&e.val()!==e.attr("placeholder")||(e.addClass("jr-mMultiselect-input-placeholder"),e.val(e.attr("placeholder"))),this.preventBlur)return!1},onMousedown:function(){f.Z.isIPad()||(this.preventBlur=!0)},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.$el.find("input.jr-mInput-search").focus())},onGlobalMousedown:function(e){this.preventBlur&&e.target!==this.el&&0===this.$el.find(e.target).length&&(delete this.preventBlur,this.onBlur())},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onResize:function(){this.resize()},onUpKey:function(e){var t=this;this._onUpDownNavigation(e,(function(){t.listView.activatePrevious()}),(function(){t.listView.activateLast()}))},onDownKey:function(e){var t=this;this._onUpDownNavigation(e,(function(){t.listView.activateNext()}),(function(){t.listView.activateFirst()}))},_onUpDownNavigation:function(e,t,i){var n=this.listView.getActiveValue();n?(e.shiftKey&&(this.activeChangedWithShift=!0),t(),this.listView.getActiveValue().index===n.index&&i()):i()},onEnterKey:function(e){e.preventDefault();var t=this.listView.getActiveValue();t&&(e.shiftKey?this.listViewModel.addRangeToSelection(t.value,t.index):e.ctrlKey||e.metaKey?(this.listViewModel.clearSelection(),this.listViewModel.addValueToSelection(t.value,t.index)):this.listViewModel.toggleSelection(t.value,t.index))},onEscKey:function(){},onHomeKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateFirst()},onEndKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateLast()},onPageUpKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageUp()},onPageDownKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){e.ctrlKey||e.metaKey?(e.stopPropagation(),this.onSelectAll()):this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$el.find("input.jr-mInput-search").val())},changeFilter:function(e){var t=this,i=this.model.get("criteria");void 0!==i&&""!==i||this.model.unset("totalValues",{silent:!0}),this.listView.scrollTo(0),t.listView.activate(null,{silent:!0}),this.getData({criteria:i,offset:0,limit:this.listView.model.bufferSize}).done((function(){t.listViewModel.once("change",e&&"function"==typeof e?e:function(){t.listView.setValue(u().keys(t.model.get("value")),{silent:!0}),t.listView.activate(0)}),t.listView.fetch()}))},clearFilter:function(e){this.model.get("criteria")?(this.$el.find("input").val(""),this.model.set("criteria","",{silent:!0}),this.changeFilter(e)):(this.model.unset("totalValues",{silent:!0}),e&&e())},processSelectionThroughApi:function(e,t){var i={};this.selectionClear();for(var n=0;n<e.length;n+=1){var s=e[n];this.caseSensitiveSelection?i[s]=!0:i[s.toLowerCase()]=s}this.model.attributes.value=i,t&&t.silent||this.model.trigger("change:value")},convertSelectionForListViewModel:function(e){return e},getModelForRendering:function(){return{label:this.label,isIPad:f.Z.isIPad(),disabled:this.model.get("disabled"),i18n:R}},fetch:function(e,t){var i=this.model.get("criteria");void 0!==i&&""!==i||this.model.unset("totalValues",{silent:!0}),this.listView.fetch(e,t)},resize:function(){this.listView.resize(),this.setBulkSelectionText()},reset:function(e){var t=this;this.clearFilter((function(){t.listView.reset(e)}))},getValue:function(){var e=this.model.get("value");return this.caseSensitiveSelection?Object.keys(e):Object.values(e)},setValue:function(e,t){t=t||{},this.listViewModel.once("selection:change",(function(){this.selectionClear();for(var e=this.listViewModel.getSelection(),i=0;i<e.length;i++){var n=e[i];this.caseSensitiveSelection?this.model.attributes.value[n]=!0:this.model.attributes.value[n.toLowerCase()]=n}t&&t.silent||this.changeValue()}),this),u().isArray(e)||"string"==typeof e||(e=this.convertSelectionForListViewModel(e)),this.listViewModel.select(e,t.modelOptions)},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),S().View.prototype.remove.call(this),r()("body").off("mousedown",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),r()(window).off("resize",this._debouncedOnResize)}});const oe=D.extend({_multiSelect:function(e,t,i){r()(e.target).hasClass("jr-mSelectlist-item-delete")?this.model.selectionContains(t,i)||this._singleSelect(e,t,i):D.prototype._multiSelect.call(this,e,t,i)}});const le=S().View.extend({className:"jr-mMultiselect-listContainer jr-isInactive jr",events:function(){return{"keydown input":this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur","mouseup .jr-mSelectlist-item-delete":"onMouseupOnDeleteButton",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:u().extend({65:"onAKey",8:"onDeleteKey",46:"onDeleteKey"},V.prototype.keydownHandlers),initialize:function(e){this.model||(this.model=new(S().Model)),this.model.set("focused",!1,{silent:!0}),this.template=u().template('\x3c!--\nthis input only for technical purposes:\nit allows selected items list to get focus\nand have proper tab position\n(simple tabindex="0" on DOM element will broke tab index sequence)\n--\x3e\n\n    <js-templateNonce></js-templateNonce>\n<div class="jr-mMultiselect-list jr">\n    <input type="text" style="position: absolute; left: -9999px" {{ if (disabled) { }}disabled="disabled"{{ } }}>\n    \x3c!-- list position --\x3e\n    <div class="jr-mMultiselect-list-message jr-isHidden jr">\n        {{- i18n[\'sic.multiselect.noSelection\'] }}\n    </div>\n</div>'),this.keyboardManager=new V({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0});var t=I.Z.extend(C);this.listViewModel=e.listViewModel||new t({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor}),this.listView=e.listView||u().extend(new oe({el:e.listElement||r()(te),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||'<ul class="jr-mSelectlist jr-mSelectlistSelected jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item jr-isSelected {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-delete jr"></a>\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>\n',scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"is-selected",selection:{allowed:!0,multiple:!1}}),ee),this.initListeners(),this.render().resize()},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.model,"change:focused",this.focusStateChanged,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.listViewModel,"change",this.onModelChange,this)},render:function(){this.listView.undelegateEvents();var e=r()(this.template({disabled:this.model.get("disabled"),i18n:R}));return this.$el.empty().append(e).find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.delegateEvents(),this},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e?this.listView.scrollTo(e.index):this.listViewModel.clearSelection()},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$el.find("input[type='text']").attr("disabled","disabled"),this.listView.setValue({}),this.listView.activate(void 0)):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(e)},focusStateChanged:function(){this.model.get("focused")?this.$el.find(".mSelect-svListPlaceholder").addClass("focused"):this.$el.find(".mSelect-svListPlaceholder").removeClass("focused")},onModelChange:function(){this.listViewModel.get("total")?this.listView.$el.show():this.listView.$el.hide()},onFocus:function(){this.model.set("focused",!0)},onBlur:function(){this.preventBlur||this.model.set("focused",!1)},onMouseupOnDeleteButton:function(e){this.onDeleteKey(e)},onMousedown:function(){f.Z.isIPad()||(this.preventBlur=!0,this.model.get("focused")||this.$el.find("input").focus())},onMouseup:function(){this.preventBlur&&(this.$el.find("input").focus(),delete this.preventBlur)},onUpKey:function(e){this.listView.activatePrevious()},onDownKey:function(e){this.listView.getActiveValue()?this.listView.activateNext():this.listView.activateFirst()},onEnterKey:function(e){},onHomeKey:function(e){this.listView.activateFirst()},onEndKey:function(e){this.listView.activateLast()},onPageUpKey:function(e){this.listView.pageUp()},onPageDownKey:function(e){this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){},onDeleteKey:function(e){var t=this.listViewModel.getSelection();if(t&&0!==t.length){var i=!0;for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]){i=!1;break}i||this.trigger("selection:remove",t)}},fetch:function(e,t){this.listView.setValue({}),this.listView.activate(void 0),this.listView.fetch(e,t)},resize:function(){this.listView.resize()},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),S().View.prototype.remove.call(this)}});var ae=function(e){u().bindAll(this,"getData","getAllCachedData"),this.data=e||[]};u().extend(ae.prototype,{setData:function(e){this.data=e||[]},getAllCachedData:function(){return this.data},getData:function(e){var t=new(r().Deferred),i=e&&e.offset?e.offset:0,n=e&&e.limit?i+e.limit:this.data.length,s=this._getDataSegment(this.data,i,n);return t.resolve({data:s,total:this.data.length}),t.promise()},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],s=t;s<i;s++)n.push({label:e[s].label,value:e[s].value});return n}});const re=ae;var ce=function(e){e=e||{},u().defaults(e,{sortFunc:this._sortFunc,formatLabel:this._formatLabel}),this.sortFunc=e.sortFunc,this.formatLabel=e.formatLabel,re.call(this,e.data)};u().extend(ce.prototype,re.prototype),u().extend(ce.prototype,{setData:function(e){e=this._convertToStandardData(e),e=this._sortData(e),re.prototype.setData.call(this,e)},_sortFunc:function(e,t){return e.label.localeCompare(t.label)},_formatLabel:function(e){return e},_sortData:function(e){return(e=e||[]).sort(this.sortFunc)},_convertToStandardData:function(e){var t=this;return u().map(e,(function(e){return{value:e,label:t.formatLabel(e)}}))}});const he=ce;var ue=i(62287),de=(i(31794),ue.Z.register("Sizer"));const pe=S().View.extend({template:u().template('<div class="jr-mSizer jr-mSizerVertical ui-resizable-s jr">\n\n    <js-templateNonce></js-templateNonce>\n    <span class="ui-icon ui-icon-grip-solid-horizontal"></span>\n</div>\n'),el:function(){return this.template()},initialize:function(e){this.container=e.container,this.sizerOptions=u().clone(e),delete this.sizerOptions.container,this.$container=r()(this.container),this.render()},render:function(){return u().defaults(this.sizerOptions,{minHeight:this.$container.height(),handles:{s:this.$el}}),this.$container.resizable(this.sizerOptions),this},show:function(){return this.$el.removeClass("jr-isInvisible"),this},hide:function(){return this.$el.addClass("jr-isInvisible"),this},updateMinMax:function(e){this.$container.resizable("option","minHeight",e.minHeight),this.$container.resizable("option","maxHeight",e.maxHeight)},remove:function(){try{this.$container.resizable("destroy")}catch(e){de.debug(e)}S().View.prototype.remove.apply(this,arguments)}});var fe=X,me=new J.Z;const ve=S().View.extend({className:"jr-mMultiselect jr",events:function(){return{"click  .jr-mMultiselect-toggle":"toggleLists"}},initialize:function(e){this.template=u().template('<div class="jr-mMultiselect-toggleContainer jr">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleAvailable jr-isActive jr" title="">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleSelected jr-isInactive jr">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n</div>\n'),this.i18n={selected:R["sic.multiselect.toggle.selected"],available:R["sic.multiselect.toggle.available"]},this.heightAutoAdjustment=!!u().isUndefined(e.heightAutoAdjustment)||e.heightAutoAdjustment,this.availableItemsListModel=this._createAvailableItemsListModel(e),this.availableItemsList=this._createAvailableItemsList(e),this.selectedItemsDataProvider=this._createSelectedItemsListDataProvider(e),this.selectedItemsList=this._createSelectedItemsList(e),this.height=e.height,this.resizable=e&&e.resizable,this.caseSensitiveSelection=e.caseSensitiveSelection,this.initListeners(),void 0!==e.value&&(this.silent=!0,this.availableItemsList.setValue(e.value)),e&&e.resizable&&(this.sizer=new pe({container:this.$el,stop:u().bind((function(){this.resize()}),this)})),this.render()},_createAvailableItemsListModel:function(e){return new(S().Model)},_createAvailableItemsList:function(e){return e.availableItemsList||new se({model:this.availableItemsListModel,getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout,keydownTimeout:e.keydownTimeout,caseSensitiveSelection:e.caseSensitiveSelection})},_createSelectedItemsListDataProvider:function(e){return e.selectedItemsDataProvider||new he(e.selectedListOptions)},_createSelectedItemsList:function(e){return this.formatValue=e.formatValue,new le({getData:this.selectedItemsDataProvider.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout})},initListeners:function(){this.listenTo(this.availableItemsList,"selection:change",this.selectionChange,this),this.listenTo(this.availableItemsList,"listRenderError",this.listRenderError,this),this.listenTo(this.availableItemsListModel,"change:totalValues",this._availableItemsTotalCountChange,this),this.listenTo(this.selectedItemsList,"selection:remove",this.selectionRemoved,this)},render:function(){return this.sizer&&this.sizer.$el.detach(),this.$el.html(r()(this.template({i18n:R}))),this.$toggleContainer=this.$el.find(".jr-mMultiselect-toggleContainer"),this.availableItemsList.undelegateEvents(),this.selectedItemsList.undelegateEvents(),this.selectedItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.render(),this.selectedItemsList.render(),this._updateAvailableItemsCountLabel(),this._updateSelectedItemsCountLabel(),this.availableItemsList.delegateEvents(),this.selectedItemsList.delegateEvents(),this._tuneCSS(),this._renderSizer(),this},_renderSizer:function(){this.sizer&&(this.heightAutoAdjustment&&this._handleHeight(),this.$el.append(this.sizer.$el))},_tuneCSS:function(){var e=this;this._cssDepententSizesSet||(fe({el:this.$el,css:{width:"500px"},classes:"jr",alwaysClone:!0,callback:function(t){var i;e.toggleContainerHeight=t.find(".jr-mMultiselect-toggleContainer").outerHeight(),e._tuneCSSInternal(t),t.find(".jr-mScalablelist").css({height:"0"}),e._emptyContainerHeight=t.outerHeight(),i=e.height?e.height:e._calcHeightByItemsCount(10),e.$el.css("height",i)}}),this._cssDepententSizesSet=!0),this._tuneCSSInternal(this.$el)},_tuneCSSInternal:function(e){var t=this.toggleContainerHeight;f.Z.isIPad()&&this.$el.addClass("ipad"),e.find(".jr-mMultiselect-listContainer").css("padding-top",t)},listRenderError:function(e,t){this.trigger("listRenderError",e,t)},toggleLists:function(e){e.stopPropagation(),r()(e.currentTarget).hasClass("jr-isActive")||(this.$el.find(".jr-mMultiselect-toggle").toggleClass("jr-isActive jr-isInactive"),this.$el.find(".jr-mMultiselect-listContainer").toggleClass("jr-isActive jr-isInactive"),f.Z.isIPad()||this.$el.find(".jr-mMultiselect-listContainer.jr-isActive input").focus())},selectionChange:function(e){clearTimeout(this.selectionChangeTimeout),this.selectionChangeTimeout=setTimeout(u().bind(this.selectionChangeInternal,this,e),300)},selectionRemoved:function(e){for(var t,i=this.availableItemsList.model.get("value"),n=0;n<e.length;n+=1){var s=e[n];s&&(this.caseSensitiveSelection||(s=s.toLowerCase()),delete i[s])}t=this.caseSensitiveSelection?Object.keys(i):Object.values(i),this.availableItemsList.setValue(t)},selectionChangeInternal:function(e){var t=this,i=this.selectedItemsList.listView.getActiveValue(),n=this.selectedItemsList.listView.$el.scrollTop();this.selectedItemsDataProvider.setData(e),this.selectedItemsList.fetch((function(){if(t._updateSelectedItemsCountLabel(),t.selectedItemsList.resize(),t.selectedItemsList.listView.$el.scrollTop(n),i&&t.selectedItemsList.$el.hasClass("j-active")){var e=t.selectedItemsList.listView.model.get("total");e&&e>i.index?t.selectedItemsList.listView.activate(i.index):e&&t.selectedItemsList.listView.activate(i.index-1)}})),this.silent?delete this.silent:this.triggerSelectionChange()},_setToggleLabel:function(e,t,i){var n=i+": "+me.formatNumber(t);this.$el.find(e+" .jr-mMultiselect-toggle-label").text(n).attr("title",$.Z.hardEscape(n))},_handleHeight:function(){var e=this.availableItemsList.model.get("totalValues")||0;if(this._cssDepententSizesSet&&e){var t=this.$el.height(),i=this.$el.height(),n=this._calcHeightByItemsCount(3),s=this._calcHeightByItemsCount(e);e<=10?n=s=i=this._calcHeightByItemsCount(Math.max(3,e)):t>s&&(i=this._calcHeightByItemsCount(e)),this.$el.css("height",i+"px"),this._updateSizerVisibility({minHeight:n,maxHeight:s})}},_updateSizerVisibility:function(e){this.sizer&&(this.sizer.updateMinMax(e),e.minHeight===e.maxHeight?this.sizer.hide():this.sizer.show())},_calcHeightByItemsCount:function(e){return e*this.availableItemsList.listView.itemHeight+this._emptyContainerHeight},_availableItemsTotalCountChange:function(){this._updateAvailableItemsCountLabel(),this.heightAutoAdjustment&&this._handleHeight()},_updateAvailableItemsCountLabel:function(){var e=this.availableItemsList.model.get("totalValues")||0;this._setToggleLabel(".jr-mMultiselect-toggleAvailable",e||0,this.i18n.available)},_updateSelectedItemsCountLabel:function(){var e=this.$el.find(".jr-mMultiselect-list-message"),t=this.selectedItemsList.listView.model.get("total")||0;this._setToggleLabel(".jr-mMultiselect-toggleSelected",t,this.i18n.selected),0===t?e.removeClass("jr-isHidden"):e.addClass("jr-isHidden")},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue())},renderData:function(){return this.availableItemsList.renderData(),this.selectedItemsList.renderData(),this},fetch:function(e,t){this.availableItemsList.fetch(e,t)},reset:function(e){this.availableItemsList.reset(e)},resize:function(){u().debounce(u().bind((function(){this.availableItemsList.resize(),this.selectedItemsList.resize()}),this),500)()},setValue:function(e,t){t&&t.silent&&(this.silent=!0),delete t.silent,this.availableItemsList.setValue(e,t)},getValue:function(){var e=this.availableItemsList.getValue(),t=[],i=0;for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[i++]=e[n]);return t},setDisabled:function(e){return this.availableItemsList.setDisabled(e),this.selectedItemsList.setDisabled(e),this},getDisabled:function(){return this.availableItemsList.getDisabled()},remove:function(){this.availableItemsList.remove(),this.selectedItemsList.remove(),this.sizer&&this.sizer.remove(),S().View.prototype.remove.call(this)},clearFilter:function(){this.availableItemsList.clearFilter()}});var ge=i(12197);const be=function(e){return function(t,i){return t.label===e?-1:i.label===e?1:t.label.localeCompare(i.label)}};var Ce=i(55149);function we(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputControlsService=void 0,this.controlId=void 0,this.additionalParams=void 0,this.controlId=t.controlId,this.inputControlsService=t.inputControlsService,this.additionalParams={}}var t,i,n;return t=e,(i=[{key:"getData",value:function(e,t){var i=this;return this.inputControlsService.getInputControlsPaginatedValues(e,t).then((function(e){var t=(e&&e.inputControlState?e.inputControlState:[]).find((function(e){return e.id===i.controlId}))||{id:"",uri:"",options:[],totalCount:"0"};return{data:t.options&&t.options.map((function(e){return Object.assign({},e)})),total:parseInt(t.totalCount,10)}}))}}])&&we(t.prototype,i),n&&we(t,n),e}();function ye(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputControlsDataProvider=void 0,this.dataLabelHash=void 0,this.dataLabelHash={},this.inputControlsDataProvider=t.inputControlsDataProvider}var t,i,n;return t=e,(i=[{key:"getData",value:function(e,t){var i=this;return this.inputControlsDataProvider.getData(e,t).then((function(e){var t=e.data,n=e.total;return t.forEach((function(e){i.dataLabelHash[e.value]=e.label})),{data:t,total:n}}))}},{key:"getLabelByValue",value:function(e){return this.dataLabelHash[e]}}])&&ye(t.prototype,i),n&&ye(t,n),e}(),Ie=i(72012);function _e(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}const Te=function(e){var t=e.paginatedValuesOptions,i=_e(e,["paginatedValuesOptions"]);return t&&t.length>0?t.map((function(e){return e.name===i.name?Object.assign({},e,i):e})):[Object.assign({},i)]};var je=i(11129);function Ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xe=function(e){return e.reduce((function(e,t){return e[t.value]=t.label||t.value,e}),{})};c.hl.Controls=function(e,t,i){function n(e){var t=i.BaseControl.prototype.get.call(this,"selection");t&&t[0]===e||this.set({selection:[e]})}function s(e){return e.toUpperCase().replace(/([\s]+$|^[\s]+)/g,"").replace(/[\s]*(\+|\-)[\s]*/g,"$1")}return t.extend(i,{Bool:i.BaseControl.extend({setValue:function(e){var t=this.getElem().find("input");"true"==e?t.prop("checked",!0):t.prop("checked",!1)},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",t.bind((function(e){var t=null==e.target.getValue()?"false":"true";this.set({selection:[t]})}),this))}}),SingleValueText:i.BaseControl.extend({setValue:function(e){var t=e==b.hp.NULL_SUBSTITUTION_VALUE?b.hp.NULL_SUBSTITUTION_LABEL:e,i=this.getElem();i&&(i.find("input").attr("value",t),i.find("input").val(t))},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",t.bind((function(e){var t=e.target.value,i=t==b.hp.NULL_SUBSTITUTION_LABEL?b.hp.NULL_SUBSTITUTION_VALUE:t;this.set({selection:[i]})}),this))}}),SingleValueNumber:i.BaseControl.extend({setValue:function(e){this.getElem().find("input").attr("value",e),this.getElem().find("input").val(e)},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",t.bind((function(e){this.set({selection:[e.target.value]})}),this))}}),SingleValueDate:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.getElem()&&this.setupCalendar()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return Ce.Z.localizedDateToIsoDate(t)},set:function(e,t){e.values&&(e.values=Ce.Z.isoDateToLocalizedDate(e.values)),i.BaseControl.prototype.set.call(this,e,t)},setupCalendar:function(){var i=this.getElem().find("input");this.picker=new ge.Z({el:i,showOn:"button",dateFormat:c.hl.i18n.bundledCalendarFormat,disabled:i[0].disabled,onSelect:t.bind(n,this)}),i.change(t.bind((function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())}),this)),i.after("&nbsp;"),this.getElem().find("button").wrap(b.hp.CALENDAR_ICON_SPAN).empty()},setValue:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueDatetime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.getElem()&&this.setupCalendar()},getInput:function(){var e=this.getElem();return e&&e.find("input")},destroyCalendar:function(){this.getInput().off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),o=this.getInput();this.destroyCalendar(),this.picker=new ge.Z({el:o[0],showOn:"button",dateFormat:c.hl.i18n.bundledCalendarFormat,timeFormat:c.hl.i18n.bundledCalendarTimeFormat,disabled:o[0].disabled,onSelect:t.bind(n,this)}),o.change(t.bind((function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())}),this)),o.after("&nbsp;"),i.find("button").wrap(b.hp.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return Ce.Z.localizedTimestampToIsoTimestamp(t)},set:function(e,t){e.values&&(e.values=Ce.Z.isoTimestampToLocalizedTimestamp(e.values)),e.values||e.selection||!this.getInput()||this.setupCalendar(),i.BaseControl.prototype.set.call(this,e,t)},setValue:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueTime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.getElem()&&this.setupCalendar()},getInput:function(){var e=this.getElem();return e&&e.find("input")},destroyCalendar:function(){this.getInput().off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),o=this.getInput();this.destroyCalendar(),this.picker=new ge.Z({el:o[0],showOn:"button",timeFormat:c.hl.i18n.bundledCalendarTimeFormat,disabled:o[0].disabled,onClose:t.bind(n,this)}),o.change(t.bind((function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())}),this)),o.after("&nbsp;"),i.find("button").wrap(b.hp.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return Ce.Z.localizedTimeToIsoTime(t)},set:function(e,t){e.values&&(e.values=Ce.Z.isoTimeToLocalizedTime(e.values)),e.values||e.selection||!this.getInput()||this.setupCalendar(),i.BaseControl.prototype.set.call(this,e,t)},setValue:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleSelect:i.BaseControl.extend({initialize:function(e){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.initialSelectedValues;this.dataUri=s.dataUri,this.inputControlsService=s.inputControlsService,this.paginatedValuesOptions=s.paginatedValuesOptions,this.singleSelect||(this.inputControlsDataProviderWithDataLabelHash=new Ve({inputControlsDataProvider:new Se({controlId:e.id,inputControlsService:this.inputControlsService})}),this.dataProviderWithCache=new Ie.Z({pageSize:100,maxSearchCacheSize:1,saveLastCriteria:!0,request:function(e){e=Te(Object.assign({name:n.id,paginatedValuesOptions:n.paginatedValuesOptions},e));var t=n.inputControlsDataProviderWithDataLabelHash.getData(n.dataUri,e);return i.Utils.showLoadingDialogOn(t,null,!0),t}}),this.initialSelectedValuesToLabelMap=xe(o),this.singleSelect=new Y(Ee({getData:this.dataProviderWithCache.getData,keydownTimeout:b.hp.KEY_DOWN_TIMEOUT,formatValue:function(e){var t;return null!==(t=n.inputControlsDataProviderWithDataLabelHash.getLabelByValue(e))&&void 0!==t?t:n.initialSelectedValuesToLabelMap[e]}},"keydownTimeout",b.hp.KEY_DOWN_TIMEOUT)).setDisabled(e.readOnly),e&&t.extend(this,e))},render:function(){var t=i.TemplateEngine.createTemplate(this.type);if(t){this.singleSelect.undelegateEvents();var n=e(t(this));this.singleSelect.render().renderData(),n.find(".ssPlaceholder").append(this.singleSelect.el),this.setElem(n),this.singleSelect.delegateEvents(),this.makeResizable&&this.makeResizable(),this.isVisible(this)&&this.bindCustomEventListeners()}},setValue:function(e){this.singleSelect.setValue(e,{silent:!0})},updateSelectionOnOptionChange:function(e){this.initialSelectedValuesToLabelMap=xe(e)},fetch:function(t,i){var n=this;this.dataUri=t,this.paginatedValuesOptions=i;var s=e.Deferred();return this.singleSelect.off("listRenderError").once("listRenderError",(function(e){(0,je.le)(e.responseJSON.message),s.reject(e),n.bindCustomEventListeners()})),this.dataProviderWithCache.clear(),this.singleSelect.fetch((function(){s.resolve.apply(s,arguments)})),s},bindCustomEventListeners:function(){this.singleSelect.off("selection:change").on("selection:change",(function(e){this.fireControlSelectionChangeEvent([e])}),this),this.singleSelect.off("listRenderError").on("listRenderError",(function(e){(0,je.le)(e.responseJSON.message)}))}}),MultiSelect:i.BaseControl.extend({initialize:function(e){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.initialSelectedValues;this.dataUri=s.dataUri,this.inputControlsService=s.inputControlsService,this.paginatedValuesOptions=s.paginatedValuesOptions,this.multiSelect||(this.inputControlsDataProviderWithDataLabelHash=new Ve({inputControlsDataProvider:new Se({controlId:e.id,inputControlsService:this.inputControlsService})}),this.dataProviderWithCache=new Ie.Z({pageSize:100,maxSearchCacheSize:1,saveLastCriteria:!0,request:function(e){e=Te(Object.assign({name:n.id,paginatedValuesOptions:n.paginatedValuesOptions},e));var t=n.inputControlsDataProviderWithDataLabelHash.getData(n.dataUri,e);return i.Utils.showLoadingDialogOn(t,null,!0),t}}),this.initialSelectedValuesToLabelMap=xe(o),this.multiSelect=new ve({getData:this.dataProviderWithCache.getData,selectedListOptions:{formatLabel:function(e){var t;return null!==(t=n.inputControlsDataProviderWithDataLabelHash.getLabelByValue(e))&&void 0!==t?t:n.initialSelectedValuesToLabelMap[e]},sortFunc:be(b.hp.NULL_SUBSTITUTION_LABEL)},resizable:!0,keydownTimeout:b.hp.KEY_DOWN_TIMEOUT}),this.multiSelect.setDisabled(e.readOnly),this._resize=t.debounce(t.bind(this.multiSelect.resize,this.multiSelect),500),e&&t.extend(this,e))},render:function(){var t=i.TemplateEngine.createTemplate(this.type);if(t){this.multiSelect.undelegateEvents();var n=e(t(this));this.multiSelect.render().renderData(),n.find(".msPlaceholder").append(this.multiSelect.el),this.setElem(n),this.multiSelect.delegateEvents(),this.makeResizable&&this.makeResizable(),this.isVisible(this)&&this.bindCustomEventListeners()}},setValue:function(e){e=t.isArray(e)&&t.first(e)===g.NOTHING_SUBSTITUTION_VALUE?[]:e,this.multiSelect.setValue(e,{silent:!0}),this._resize()},updateSelectionOnOptionChange:function(e){this.initialSelectedValuesToLabelMap=xe(e)},fetch:function(t,i){var n=this,s=e.Deferred();return this.dataUri=t,this.paginatedValuesOptions=i,this.dataProviderWithCache.clear(),this.multiSelect.off("listRenderError").once("listRenderError",(function(e){(0,je.le)(e.responseJSON.message),s.reject(e),n.bindCustomEventListeners()})),this.multiSelect.fetch((function(){s.resolve.apply(s,arguments)})),s},clearFilter:function(){this.multiSelect.clearFilter()},bindCustomEventListeners:function(){this.multiSelect.off("selection:change").on("selection:change",(function(e){this.fireControlSelectionChangeEvent(e)}),this),this.multiSelect.off("listRenderError").on("listRenderError",(function(e){(0,je.le)(e.responseJSON.message)}))},get:function(e){var i=this[e];return"selection"===e&&t.isEmpty(i)?[]:i},makeResizable:function(){var e=this.multiSelect.$el.find(".jr-mSizer");e.length&&e.detach().insertAfter(this.getElem()&&this.getElem().find(".resizeOverlay"))}}),SingleSelectRadio:i.BaseControl.extend({initialize:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&t.extend(this,e),this.dataUri=i.dataUri,this.inputControlsService=i.inputControlsService,this.paginatedValuesOptions=i.paginatedValuesOptions,this.inputControlsDataProvider=new Se({controlId:e.id,inputControlsService:this.inputControlsService})},render:function(){var t=i.TemplateEngine.createTemplate(this.type);if(t){var n=e(t(this));this.setElem(n),this.makeResizable&&this.makeResizable(),this.isVisible(this)&&this.bindCustomEventListeners()}return this.fetch(this.dataUri,this.paginatedValuesOptions)},fetch:function(e,t){var i=this;return this._fetchData(e,t).then((function(e){i._renderData(e.data)}))},_fetchData:function(e,t){this.dataUri=e,this.paginatedValuesOptions=t;var i=Te({name:this.id,paginatedValuesOptions:this.paginatedValuesOptions,offset:0});return this.inputControlsDataProvider.getData(this.dataUri,i)},_renderData:function(n){var s=this,o=this.getElem()&&this.getElem().find("ul")[0];if(o){var l=n.map((function(e){var i=t.clone(e);return i.readOnly=s.readOnly,i.name=s.getOptionName(),i.uuid=t.uniqueId(s.id),i})),a=this.getTemplateSection("data");i.Utils.setInnerHtml(o,a,{data:l}),(o=e(o)).html(o.html()+"&nbsp;"),o.find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))}},getOptionName:function(){return this.id+"_option"},bindCustomEventListeners:function(){var e=this;this.getElem().on("change","input",(function(t){var i=t.target.value;setTimeout((function(){e.set({selection:[i]})}))}))},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".jr-mSizer").removeClass("hidden");t.addClass("ui-resizable-s"),e.resizable({handles:{s:t}})}}),MultiSelectCheckbox:i.BaseControl.extend({initialize:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&t.extend(this,e),this.dataUri=i.dataUri,this.inputControlsService=i.inputControlsService,this.paginatedValuesOptions=i.paginatedValuesOptions,this.inputControlsDataProvider=new Se({controlId:e.id,inputControlsService:this.inputControlsService})},render:function(){var t=i.TemplateEngine.createTemplate(this.type);if(t){var n=e(t(this));this.setElem(n),this.makeResizable&&this.makeResizable(),this.isVisible(this)&&this.bindCustomEventListeners()}return this.fetch(this.dataUri,this.paginatedValuesOptions)},fetch:function(e,t){var i=this;return this._fetchData(e,t).then((function(e){i._renderData(e.data)}))},_fetchData:function(e,t){this.dataUri=e,this.paginatedValuesOptions=t;var i=Te({name:this.id,paginatedValuesOptions:this.paginatedValuesOptions,offset:0});return this.inputControlsDataProvider.getData(this.dataUri,i)},_renderData:function(n){var s=this,o=n.map((function(e){var i=t.clone(e);return i.readOnly=s.readOnly,i.uuid=t.uniqueId(s.id),i})),l=this.getElem()&&this.getElem().find("ul")[0];if(l){var a=this.getTemplateSection("data");i.Utils.setInnerHtml(l,a,{data:o}),e(l).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))}},getSelection:function(){var i=this.getElem().find(":checkbox").filter(":checked");return t.map(i,(function(t){return e(t).val()}))},bindCustomEventListeners:function(){var i=this;this.getElem().on("change","input",(function(e){var t=i.getSelection();setTimeout((function(){i.set({selection:t})}))})),this.getElem().on("click","a",(function(n){var s=i.getElem().find("input"),o=e(n.target)[0].name;"multiSelectAll"===o||"multiSelectNone"===o?t.each(s,(function(e){e.checked="multiSelectAll"===o})):"multiSelectInverse"===o&&t.each(s,(function(e){e.checked=!e.checked})),i.getElem().find("input").change()}))},get:function(e){var i=this[e];return"selection"===e&&t.isEmpty(i)?[]:i},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".jr-mSizer").removeClass("hidden");t.addClass("ui-resizable-s"),e.resizable({handles:{s:t}})}})})}(r(),u(),c.hl.Controls);c.hl.Controls;i(58464);var ke=i(12473);function De(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.request=void 0,this.request=t.request||ke.Z}var t,i,n;return t=e,(i=[{key:"getInputControlsSelectedValues",value:function(e){return this.request({type:"GET",url:"".concat(d.Z.urlContext,"/rest_v2/reports").concat(e,"/inputControls/selectedValues"),headers:{Accept:"application/json"}})}},{key:"getInputControlsMetadata",value:function(e){return this.request({type:"GET",url:"".concat(d.Z.urlContext,"/rest_v2/reports").concat(e,"/inputControls?exclude=state"),headers:{Accept:"application/json"}})}},{key:"getInputControlsValues",value:function(e,t){return this.request({type:"GET",url:"".concat(d.Z.urlContext,"/rest_v2/reports").concat(e,"/inputControls/").concat(t.join(";"),"/values?freshData=false&includeTotalCount=true"),headers:{Accept:"application/json"}})}},{key:"getInputControlsOnlySelectedValue",value:function(e,t){var i=Object.keys(t).map((function(e){return e})).join(";");return this.request({type:"POST",url:"".concat(d.Z.urlContext,"/rest_v2/reports").concat(e,"/inputControls/").concat(i,"/values?freshData=false&selectedOnly=true"),data:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"getInputControlsPaginatedValues",value:function(e,t){var i=t.map((function(e){return e.name})).join(";");return this.request({type:"POST",url:"".concat(d.Z.urlContext,"/rest_v2/reports").concat(e,"/inputControls/").concat(i,"/values/pagination?freshData=false&includeTotalCount=true"),data:JSON.stringify({reportParameter:t}),headers:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"getReportRawParameterValues",value:function(e){return this.request({type:"GET",url:"".concat(d.Z.urlContext,"/rest_v2/reportExecutions/").concat(e,"/rawParameterValues"),headers:{Accept:"application/json"}})}}])&&De(t.prototype,i),n&&De(t,n),e}();function Me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oe=function(e,t){return u().sortBy(t,"name").reduce((function(e,t){var i=[t.name,t.offset,t.limit].concat(t.criteria||[]).concat(t.value||[]).concat(t.select||[]);return"".concat(e," ").concat(JSON.stringify(i))}),"".concat(e))},Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputControlsService=void 0,this.cache=void 0,this.cache={},this.inputControlsService=t.inputControlsService}var t,i,n;return t=e,(i=[{key:"getInputControlsSelectedValues",value:function(e){return this.inputControlsService.getInputControlsSelectedValues(e)}},{key:"getInputControlsMetadata",value:function(e){return this.inputControlsService.getInputControlsMetadata(e)}},{key:"getInputControlsValues",value:function(e,t){return this.inputControlsService.getInputControlsValues(e,t)}},{key:"getReportRawParameterValues",value:function(e){return this.inputControlsService.getReportRawParameterValues(e)}},{key:"getInputControlsOnlySelectedValue",value:function(e,t){return this.inputControlsService.getInputControlsOnlySelectedValue(e,t)}},{key:"getInputControlsPaginatedValues",value:function(e,t){var i=this,n=Oe(e,t),s=this.cache[n],o=r().Deferred();return s?o.resolve(s):this.inputControlsService.getInputControlsPaginatedValues(e,t).then((function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var l=t[0];i.cache[n]=l,o.resolve(l)}),(function(){o.reject.apply(o,arguments)})),o}},{key:"setCacheValueForControlPaginatedValues",value:function(e,t,i){var n=Oe(e,t);this.cache[n]=i}},{key:"clearCache",value:function(){this.cache={}}}])&&Me(t.prototype,i),n&&Me(t,n),e}();const Ae=function(e){return e.inputControl.map((function(e){return Object.assign({},e,{uri:e.uri.replace("repo:","")})}))};var He;!function(e){e.BOOL="bool",e.SINGLE_VALUE_TEXT="singleValueText",e.SINGLE_VALUE_NUMBER="singleValueNumber",e.SINGLE_VALUE_DATE="singleValueDate",e.SINGLE_VALUE_DATE_TIME="singleValueDatetime",e.SINGLE_VALUE_TIME="singleValueTime",e.SINGLE_SELECT="singleSelect",e.SINGLE_SELECT_RADIO="singleSelectRadio",e.MULTI_SELECT="multiSelect",e.MULTI_SELECT_CHECKBOX="multiSelectCheckbox"}(He||(He={}));const Ue=He;var ze;function Re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $e=function(e){return u().omit(e,["limit"])},Ne=(Re(ze={},Ue.SINGLE_SELECT_RADIO,(function(e){return $e(e)})),Re(ze,Ue.MULTI_SELECT_CHECKBOX,(function(e){return $e(e)})),ze);const Be=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({name:e,offset:0,limit:100},i),s=Ne[t];return s?s(n):n};var Fe=[Ue.SINGLE_SELECT,Ue.MULTI_SELECT,Ue.SINGLE_SELECT_RADIO,Ue.MULTI_SELECT_CHECKBOX];const Ke=function(e){var t=e.controls;return Object.keys(t).map((function(e){return Object.assign({},Be(e,t[e].type,t[e].value?u().pick(t[e],["value"]):u().pick(t[e],["select"])))}))};function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,s=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done)&&(i.push(l.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function We(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ye=function(e,t,i,n){return e.reduce((function(e,s){if(function(e){return Fe.indexOf(e.type)>-1}(s)){var o=Object.assign({},e,qe({},s.id,Ke({controlId:s.id,controls:t}).map(i)));return void 0!==n&&n(o[s.id]),o}return e}),{})},Je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputControlsService=void 0,this.inputControlsService=t.inputControlsService}var t,i,n;return t=e,(i=[{key:"fetchInputControlsInitialState",value:function(e,t){var i=this;return this.inputControlsService.getInputControlsMetadata(e).then((function(n){if(n){var s=Ae(n);return i.fetchInitialInputControlsValuesByUriAndStructure(e,s,t)}return r().Deferred().resolve(n)}))}},{key:"fetchInitialInputControlsValuesByUri",value:function(e,t,i){return this.fetchInitialInputControlsValuesByUriAndStructure(e,t,i)}},{key:"fetchInputControlsOptionsBySelectionAndUri",value:function(e,t,i){var n=i.reduce((function(e,t){return Object.assign({},e,qe({},t.id,t))}),{}),s=u().map(e,(function(t,i){return Be(i,n[i].type,{value:t&&0===t.length?[g.NOTHING_SUBSTITUTION_VALUE]:e[i]||[]})})),o=Ye(i,n,(function(t){return Object.assign({},t,{value:e[t.name]||[]})}));return this.fetchInputControlsOptionsByPaginatedValuesOptionsAndUri({paginationOptions:s,paginationOptionsPerControl:o,uri:t}).then((function(e){return r().Deferred().resolve(e,s,o)}))}},{key:"fetchInputControlsValuesOnControlSelectionChange",value:function(e){var t=e.controlId,i=e.value,n=e.uri,s=e.structure,o=e.selection,l=function(e){var t=e.controlId,i=e.value,n=e.controls,s=e.selection,o=u().reduce(n,(function(e,n){var o={};return o=n.id===t?{value:i.length>0?i:[g.NOTHING_SUBSTITUTION_VALUE]}:{value:s[n.id],select:g.SELECTED_VALUES},Object.assign({},e,qe({},n.id,Object.assign({masterDependencies:n.masterDependencies||[],slaveDependencies:n.slaveDependencies||[],type:n.type},o)))}),{});return Ke({controlId:t,controls:o})}({controlId:t,value:i,selection:o,controls:s.reduce((function(e,t){return Object.assign({},e,qe({},t.id,t))}),{})}),a=Object.assign({},o),c=u().pick(a,u().pluck(l,"name"));c[t]=i;var h=this.inputControlsService.getInputControlsOnlySelectedValue(n,c);return this.fetchInputControlsOptionsByPaginatedValuesOptionsAndUri({paginationOptions:l,uri:n}).then((function(e){return r().when(h).then((function(t){var i=t.inputControlState,n=i&&i.reduce((function(e,t){return Object.assign({},e,qe({},t.id,t.options?u().pluck(t.options,"value")||[]:t.value))}),{});return r().Deferred().resolve(e,n,l)}))}))}},{key:"fetchInitialInputControlsValuesByUriAndStructure",value:function(e,t,i){var n=this,s=function(e,t){var i=u().pluck(e,"id"),n=u().keys(t),s={},o=u().intersection(i,n);return o.length>0&&o.forEach((function(e){s[e]=t[e]})),s}(t,i),o=t.map((function(e){return Be(e.id,e.type,s[e.id]?{value:s[e.id]}:{select:g.SELECTED_VALUES})})),l=this.inputControlsService.getInputControlsPaginatedValues(e,o),a=this.inputControlsService.getInputControlsSelectedValues(e);return r().when(l,a).then((function(i,o){var l=Ge(o,1)[0],a=i instanceof Array?i[0]:i,c={};c=l?l.selectedValue.reduce((function(e,t){return Object.assign({},e,qe({},t.id,t.options||[]))}),{}):{};var h=t.reduce((function(e,t){return Object.assign({},e,qe({},t.id,s[t.id]?Object.assign({},t,{value:s[t.id]}):Object.assign({},t,{select:g.SELECTED_VALUES})))}),{}),d=Ye(t,h,(function(e){return s[e.name]?Object.assign({},e,{value:s[e.name]}):Object.assign({},e,{select:g.SELECTED_VALUES})}),(function(t){n.inputControlsService.setCacheValueForControlPaginatedValues(e,t,a)}));if(!u().isEmpty(s)){var p=Object.assign({},c),f={};Object.keys(p).forEach((function(e){f[e]=u().pluck(p[e],"value")})),f=Object.assign({},f,s);var m=n.inputControlsService.getInputControlsOnlySelectedValue(e,f);return r().when(m).then((function(e){var i=e.inputControlState;return c=i&&i.reduce((function(e,t){return Object.assign({},e,qe({},t.id,t.options?t.options.map((function(e){return u().omit(e,"selected")}))||[]:[{value:t.value,label:t.value}]))}),{}),r().Deferred().resolve({structure:t,selection:c,paginationOptionsPerControl:d,paginatedValuesResponse:a})}))}return r().Deferred().resolve({structure:t,selection:c,paginationOptionsPerControl:d,paginatedValuesResponse:a})}))}},{key:"fetchReportRawParameterValues",value:function(e){return this.inputControlsService.getReportRawParameterValues(e).then((function(e){return e}))}},{key:"fetchInputControlsOptionsByPaginatedValuesOptionsAndUri",value:function(e){var t=this,i=e.paginationOptions,n=e.paginationOptionsPerControl,s=void 0===n?{}:n,o=e.uri;return this.inputControlsService.clearCache(),this.inputControlsService.getInputControlsPaginatedValues(o,i).then((function(e){return i.forEach((function(i){var n=i.name;s[n]&&t.inputControlsService.setCacheValueForControlPaginatedValues(o,s[n],e)})),e}))}}])&&We(t.prototype,i),n&&We(t,n),e}();function Xe(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var et=function(e,t){var i=e&&e.inputControlState?e.inputControlState:[],n=!0;return i.forEach((function(e){var i=t[e.id];i&&i.get("error")&&i.set({error:null}),e.error&&(i.set({error:e.error}),n=!1),!e.error&&i&&Ue.SINGLE_VALUE_NUMBER===i.type&&e.value&&i.set({values:[e.value]})})),n};!function(e,t,i){t.extend(i,{Controller:i.Base.extend({constructor:function(e){var n=this;t.bindAll(this,"getViewModel","resetControlsToSelection","validate"),this.inputControlsService=new Pe({inputControlsService:new Le({request:ke.Z})}),this.inputControlsReportViewerService=new Je({inputControlsService:this.inputControlsService}),this.viewModel=e&&e.viewModel?e.viewModel:new i.ViewModel,this.initialize(e),i.ignore("reportoptions:selection:changed"),i.listen({"viewmodel:selection:changed":function(){n._onViewModelSelectionChange.apply(n,arguments)},"reportoptions:selection:changed":function(){n._onReportOptionsSelectionChanged.apply(n,arguments)}}),i.getController=t.bind((function(){return this}),this);var s=new CustomEvent("controls:initialized",{detail:this.getViewModel()});document.dispatchEvent(s)},_onViewModelSelectionChange:function(n,s,o,l){var a=this,r=this.getViewModel(),c=r.getControls();if(o&&l){var h=this.inputControlsReportViewerService.fetchInputControlsValuesOnControlSelectionChange({controlId:s,value:o,uri:this.dataUri,structure:r.structure,selection:r.get("selection"),initialSelectedValues:r.controlsOptions.initialSelectedValues}).then((function(t,i,n){var o=n.map((function(e){var t=e.name;return c[t].paginatedValuesOptions=n,s!==t&&c[t].fetch(a.dataUri,n)}));return e.when.apply(e,Xe(o)).then((function(){return e.Deferred().resolve(i,t)}))})).then((function(e,i){e=Object.assign({},e,function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},s,o)),t.each(e,(function(e,t){c[t].set({values:e})})),et(i,c)})).catch((function(t){var i=c[s];return i.set({values:i.selection}),(0,je.le)(t.responseJSON.message),e.Deferred().reject(t)}));i.Utils.showLoadingDialogOn(h,null,!0)}else s&&this.viewModel.controls[s].set({selection:o},!0)},_onReportOptionsSelectionChanged:function(n,s){var o=this,l=s.reportOption,a=s.previousReportOption,r=this.viewModel,c=r.getControls();this.dataUri=l&&l.uri||this.dataUri;var h=this.inputControlsReportViewerService.fetchInitialInputControlsValuesByUri(this.dataUri,r.structure,s.selectedData).then((function(i){var n=i.selection,s=i.paginatedValuesResponse,l=i.paginationOptionsPerControl,a=t.map(l,(function(e,t){var i=c[t];return i.updateSelectionOnOptionChange&&i.updateSelectionOnOptionChange(n[t]||[]),i.fetch(o.dataUri,e)}));return e.when.apply(e,Xe(a)).then((function(){return e.Deferred().resolve(n,s)}))})).then((function(e,i){t.each(c,(function(i,n){i.set({values:t.pluck(e[n],"value")})})),et(i,c)})).catch((function(t){return(0,je.le)(t.responseJSON.message),i.reportOptions.set({selection:a},!0),e.Deferred().reject(t)}));i.Utils.showLoadingDialogOn(h,null,!0)},initialize:function(e){this.dataUri=e.reportOptionUri||e.reportUri},fetchReportRawParameterValues:function(t){var n=this.inputControlsReportViewerService.fetchReportRawParameterValues(t).then((function(t){return e.Deferred().resolve(t)}));return i.Utils.showLoadingDialogOn(n,null,!0),n},fetchAndSetInputControlsState:function(t){var n=this,s=this.inputControlsReportViewerService.fetchInputControlsInitialState(this.dataUri,t).then((function(t){if(t){n.viewModel.set({structure:t.structure,controlsOptions:{dataUri:n.dataUri,inputControlsService:n.inputControlsService,initialSelectedValues:t.selection,paginatedValuesOptions:t.paginationOptionsPerControl,paginatedValuesResponse:t.paginatedValuesResponse}});var i=n.getViewModel().getControls();et(t.paginatedValuesResponse,i)}return e.Deferred().resolve(t)}));return i.Utils.showLoadingDialogOn(s,null,!0),s},getViewModel:function(){return this.viewModel},resetControlsToSelection:function(i){var n=this,s=this.getViewModel(),o=s.getControls();return i||(i=s.get("selection")),this.inputControlsReportViewerService.fetchInputControlsOptionsBySelectionAndUri(i,this.dataUri,s.structure).then((function(t,i,s){var l=i.map((function(e){var t=o[e.name];return t.clearFilter(),t.fetch(n.dataUri,s[e.name]||i)}));return e.when.apply(e,Xe(l)).then((function(){return t}))})).then((function(e){et(e,o),t.each(o,(function(e,t){var n,s=i[t];n=s?{values:s}:{error:null,values:void 0,selection:void 0},e.reset(n)}))}))},validate:function(){var t=this.getViewModel(),n=t.getControls(),s=t.get("selection"),o=this.inputControlsReportViewerService.fetchInputControlsOptionsBySelectionAndUri(s,this.dataUri,t.structure).then((function(t){var i=et(t,n);return e.Deferred().resolve(i)}));return i.Utils.showLoadingDialogOn(o,null,!0),o}})})}(r(),u(),c.hl.Controls);c.hl.Controls},29437:(e,t,i)=>{"use strict";var n=i(94277);n.hl.Log=void(window.console||(window.console={log:function(){},debug:function(){},error:function(){}}));n.hl.Log},11129:(e,t,i)=>{"use strict";i.d(t,{le:()=>a,m0:()=>r,Po:()=>c,mr:()=>h});var n=i(52687),s=i(94277),o=i(72157),l=i.n(o);function a(e,t){(e&&e.indexOf("sessionAttributeMissingException"))>-1?n.Z.clusterErrorPopup.show(e):n.Z.errorPopup.show(e,!1,t)}function r(e){if(500==e.status)return a(e.responseText),!0;if(e.getResponseHeader("LoginRequested")){return document.location=".",!0}if(e.getResponseHeader("JasperServerError")){if(!e.getResponseHeader("SuppressError"))if(1==l()(".dashboardViewFrame").length)l()(document.body).html(e.responseText),l()("#"+s.hl.fid,window.parent.document).removeClass("hidden").show();else a(e.responseText);return!0}return!1}function c(){}function h(){}},59272:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(72157),s=i.n(n),o=i(71914),l=i(97836),a=i.n(l),r=i(64155),c=i(84612);const h="tibco-jrs-scheduler-back-url",u=9999,d="",p=5e3;var f=i(70682);const m={el:s()(a().template("<iframe class='schedulerOverlayIframe'>\n    <js-templateNonce></js-templateNonce>\n</iframe>\n\n",{i18n:f.Z})),SCHEDULER_BACK_URL_STORAGE_NAME:h,getParamsFromUri:function(){var e={},t=document.location.search.substr(1).split("&");a().each(t,(function(t){var i=t.split("="),n=i[0],s=i[1];""!==s&&(e[n]=decodeURIComponent(s))}));var i=document.location.hash.substr(1);0===i.indexOf("runInBackground@")&&(i=i.replace("runInBackground@",""));var n=i.split("@@");return e.reportUri=n.shift(),a().each(n,(function(t){var i=t.split("="),n=i[0],s=i[1];""!==s&&(e[n]=decodeURIComponent(s))})),e},saveCurrentLocation:function(){-1===document.referrer.indexOf("login.html")&&window.localStorage&&localStorage.setItem(this.SCHEDULER_BACK_URL_STORAGE_NAME,encodeURIComponent(document.referrer))},getBackToPreviousLocation:function(){var e=encodeURIComponent(document.location.href),t=window.localStorage?localStorage.getItem(this.SCHEDULER_BACK_URL_STORAGE_NAME):"";if(t&&t!==e){var i=decodeURIComponent(t);if(i)return void(0,r.nLk)(i)}(0,r.nLk)(o.Z.contextPath+"/flow.html?_flowId=searchFlow")},_scheduleDashboard:function(e,t){a().bindAll(this,"_onWindowResize"),s()(window).on("resize",this._onWindowResize);var i=this._getIframeUrl(e,t);if(t){var n=s()("body"),o=s()("body").find("> #banner").outerHeight(!0)||0;this._addDimmer(),this.el.attr("src",i).css({width:"100%",height:n.find("> #frame").height()-o,"z-index":u,position:"absolute",top:2*o+"px"}).show(),n.append(this.el)}},_getIframeUrl:function(e,t){var i=this._serializeParams(e,true)?"?"+this._serializeParams(e,true):"",n=o.Z.contextPath+t+(s().isEmptyObject(e)?"":i);return c.Z.softHtmlEscape(n)},_serializeParams:function(e,t){var i=d;for(var n in e)Object.isUndefined(n)||(i+="&"+n+"="+(t?encodeURIComponent(e[n]):e[n]));return i=i!==d?i.substring(1):d},_ParamMapping:function(e){this._scheduleDashboard(e,"/scheduler/main.html")},_closeScheduleOverlay:function(){s()(".schedulerAccelerator").slideUp("slow",(function(){window.parent.document.getElementsByClassName("schedulerOverlayIframe")[0].hide(),window.parent.document.getElementById("dialogDimmer").hide()}))},_addDimmer:function(){s()("#dialogDimmer").length?!this.$dimmer&&(this.$dimmer=s()("#dialogDimmer")):(this.$dimmer=s()("<div id='dialogDimmer' class='dimmer hidden' style='z-index:"+p+"; display: none;'></div>"),s()("body").append(this.$dimmer)),this.$dimmer.removeClass("hidden").show()},_onWindowResize:function(){var e=s()("body"),t=s()("body").find("> #banner").outerHeight(!0)||0;this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(a().bind((function(){this.el&&this.el.height(e.find("> #frame").height()-t),this.el&&this.el.width(e.width())}),this),100)},_detachEvents:function(){s()(window).off("resize",this._onWindowResize),this.el.css("display","none")}}},29338:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(97836),s=i.n(n),o=i(89560),l=i(77325),a=i(18580);const r=o.Z.extend({constructor:function(e){e||(e={}),this.confirmDialogTemplate=e.confirmDialogTemplate||s().template(l.Z),o.Z.prototype.constructor.call(this,{modal:!0,additionalCssClasses:e.additionalCssClasses||"confirmationDialog",title:e.title||a.Z["dialog.confirm.title"],content:this.confirmDialogTemplate({text:e.text}),buttons:e.buttons||[{label:e.yesLabel||a.Z["button.yes"],action:"yes",primary:!0},{label:e.noLabel||a.Z["button.no"],action:"no",primary:!1}]})},initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this.on("button:yes",this.close),this.on("button:no",this.close)},setContent:function(e){o.Z.prototype.setContent.call(this,this.confirmDialogTemplate({text:e}))}})},57443:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(97836),s=i.n(n),o=0;const l={getScrollbarWidth:function(){if(o)return o;var e=document.createElement("div");return e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e),o},hasScrollBar:function(e,t){var i=!!e[t="vertical"===t?"scrollTop":"scrollLeft"];return i||(e[t]=1,i=!!e[t],e[t]=0),i},isScrollable:function(e){var t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;if(t)return"scroll"==t.overflow||"auto"==t.overflow||"scroll"==t.overflowX||"auto"==t.overflowX||"scroll"==t.overflowY||"auto"==t.overflowY},getElementOffset:function(e){var t=0,i=0;if(e.offsetParent)for(t=e.offsetLeft,i=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop;return{left:t,top:i}},getMargins:function(e){var t={top:parseInt(e.css("margin-top"),10),right:parseInt(e.css("margin-right"),10),bottom:parseInt(e.css("margin-bottom"),10),left:parseInt(e.css("margin-left"),10)};return s().each(t,(function(e,i){isNaN(t[i])&&(t[i]=0)})),t},getPaddings:function(e){var t={top:parseInt(e.css("padding-top"),10),right:parseInt(e.css("padding-right"),10),bottom:parseInt(e.css("padding-bottom"),10),left:parseInt(e.css("padding-left"),10)};return s().each(t,(function(e,i){isNaN(t[i])&&(t[i]=0)})),t},disableBackForwordCache:function(){window.onpageshow=function(){event.persisted&&window.location.reload()}}}},12197:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(15892),s=i.n(n),o=i(72157),l=i.n(o),a=i(97836),r=i.n(a);var c=i(62287),h=(i(68453),{stepHour:1,stepMinute:1,stepSecond:1,showSecond:!0,changeMonth:!0,changeYear:!0,showButtonPanel:!0,onChangeMonthYear:null,constrainInput:!1}),u={showSecond:!0,constrainInput:!1},d=c.Z.register("DateAndTimePicker");l().timepicker.log=function(e){d.warn(e)};const p=s().View.extend({constructor:function(e){this.pickerOptions=r().clone(e),this.pickerOptions.hasOwnProperty("dateFormat")&&!r().isString(this.pickerOptions.dateFormat)&&delete this.pickerOptions.dateFormat,this.pickerOptions.hasOwnProperty("timeFormat")&&!r().isString(this.pickerOptions.timeFormat)&&delete this.pickerOptions.timeFormat,this.inline=!!this.pickerOptions.el||!1,this.skipMoving=this.pickerOptions.skipMoving||!1,delete this.pickerOptions.el,delete this.pickerOptions.skipMoving,this.pickerType=f(this.pickerOptions),this.pickerOptions=m(this.pickerOptions,this.pickerType),this.pickerOptions=v(this.pickerOptions,this.skipMoving),this.log=e.log?e.log:d,s().View.apply(this,arguments)},initialize:function(){var e=this;this.$el[this.pickerType](this.pickerOptions),this._callPickerAction=function(t){e.$el[e.pickerType](t)}},getDate:function(){return"timepicker"!==this.pickerType?this.$el[this.pickerType].getDate():this.$el[this.pickerType].getTime()},setDate:function(e){if(!e)return this;try{r().isString(e)&&("datetimepicker"===this.pickerType?e=l().datepicker.parseDateTime(this.pickerOptions.dateFormat,this.pickerOptions.timeFormat,e):"datepicker"===this.pickerType&&(e=l().datepicker.parseDate(this.pickerOptions.dateFormat,e))),"datepicker"===this.pickerType?this.$el[this.pickerType]("setDate",e):"timepicker"===this.pickerType?this.$el[this.pickerType]("setTime",e):"datetimepicker"===this.pickerType&&(this.$el[this.pickerType]("setTime",e),this.$el[this.pickerType]("setDate",e))}catch(e){this.log.debug(e)}return this},show:function(){return this._callPickerAction("show"),this},hide:function(){return this._callPickerAction("hide"),this},remove:function(){this._callPickerAction("destroy"),this.inline?(this.$el.empty().off(),this.stopListening()):s().View.prototype.remove.apply(this,arguments)}},{setDefaults:function(e){l().datepicker.regional[e.locale]=e.date,l().datepicker.setDefaults(e.date),l().timepicker.setDefaults(e.time)},Helpers:{fixPopupPositionAndStyling:v,movePickerRelativelyToTriggerIcon:g,stylePopupContainer:b,discoverPickerType:f,provideDefaultPickerOptions:m}});function f(e){var t="datetimepicker";return e.dateFormat&&e.timeFormat||(e.dateFormat?t="datepicker":e.timeFormat&&(t="timepicker")),t}function m(e,t){var i=e;return"datetimepicker"==t||"datepicker"==t?i=r().defaults(e,h):"timepicker"==t&&(i=r().defaults(e,u)),i}function v(e,t){var i=e.beforeShow;return e.beforeShow=function(){b.apply(this,arguments),t||g.apply(this,arguments),i&&i.apply(this,arguments)},e.afterInject=function(){b.apply(this,[this.$input[0],this.inst])},e}function g(e,t){var i=l()(e).offset().left,n=parseFloat(t.dpDiv.css("width").replace("px","")),s=i+e.offsetWidth+n<l()(window).width();t.dpDiv.css({marginLeft:s?e.offsetWidth+"px":0})}function b(e,t){var i,n=t.dpDiv,s=n.parent();s&&s.is("body")&&(i=n.detach(),(n=l()('<div class="jr-jDatepickerPopupContainer jr">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n')).append(i),l()("body").append(n))}},77325:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n="<p class='confirmationText'>\n\n    <js-templateNonce></js-templateNonce>\n    {{ print(_.xssSoftEscape(text)) }}\n</p>"},70682:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(29562);let s;"all"!==n.t?(n.h.all=n.h.all||{},s=n.h.all):s=Object.keys(n.h).reduce(((e,t)=>({...e,...n.h[t]})),{});const o=s}}]);
//# sourceMappingURL=chunk.4463.js.map