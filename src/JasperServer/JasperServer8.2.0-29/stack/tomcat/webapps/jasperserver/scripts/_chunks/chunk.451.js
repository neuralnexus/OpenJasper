(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[451],{80451:function(t,e,n){t.exports=function(t,e){var n,i=e.Epoxy={},o=Array.prototype,r=t.isUndefined,s=t.isFunction,c=t.isObject,u=t.isArray,h=function(t){return t instanceof e.Model},a=function(t){return t instanceof e.Collection},l=function(){},f={mixin:function(t){for(var e in t=t||{},this.prototype)"bindings"===e&&t.bindings||this.prototype.hasOwnProperty(e)&&"constructor"!==e&&(t[e]=this.prototype[e]);return t}};function d(t,e,n){return t._super.prototype[e].apply(t,n)}var p=["computeds"];function g(e,n,i,o){for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];if(e.hasComputed(r)){if(o.length&&t.contains(o,r))throw"Recursive setter: "+o.join(" > ");(s=e.c()[r].set(s))&&c(s)&&(i=g(e,s,i,o.concat(r)))}else i[r]=s}return i}function v(e,n,i,o){(i=i||{}).get&&s(i.get)&&(i._get=i.get),i.set&&s(i.set)&&(i._set=i.set),delete i.get,delete i.set,t.extend(this,i),this.model=e,this.name=n,this.deps=this.deps||[],o||this.init()}i.Model=e.Model.extend({_super:e.Model,constructor:function(e,n){t.extend(this,t.pick(n||{},p)),d(this,"constructor",arguments),this.initComputeds(e,n)},getCopy:function(e){return t.clone(this.get(e))},get:function(t){return n&&n.push(["change:"+t,this]),this.hasComputed(t)?this.c()[t].get():d(this,"get",arguments)},set:function(e,n,i){var o=e;o&&!c(o)?(o={})[e]=n:i=n,i=i||{};var r=this._setting=[];i.unset||(o=g(this,o,{},[])),delete this._setting;var s=d(this,"set",[o,i]);return i.silent||(!this.hasChanged()&&r.length&&this.trigger("change",this),t.each(r,(function(t){this.trigger.apply(this,t)}),this)),s},toJSON:function(e){var n=d(this,"toJSON",arguments);return e&&e.computed&&t.each(this.c(),(function(t,e){n[e]=t.value})),n},destroy:function(){return this.clearComputeds(),d(this,"destroy",arguments)},c:function(){return this._c||(this._c={})},initComputeds:function(e,n){this.clearComputeds();var i=t.result(this,"computeds")||{};i=t.extend(i,t.pick(e||{},t.keys(i))),t.each(i,(function(t,e){t._init=1,this.addComputed(e,t)}),this),t.invoke(this.c(),"init")},addComputed:function(t,e,n){this.removeComputed(t);var i=e,r=i._init;if(s(e)){var c=2;(i={})._get=e,s(n)&&(i._set=n,c++),i.deps=o.slice.call(arguments,c)}return this.c()[t]=new v(this,t,i,r),this},hasComputed:function(t){return this.c().hasOwnProperty(t)},removeComputed:function(t){return this.hasComputed(t)&&(this.c()[t].dispose(),delete this.c()[t]),this},clearComputeds:function(){for(var t in this.c())this.removeComputed(t);return this},modifyArray:function(t,e,n){var i=this.get(t);if(u(i)&&s(o[e])){var r=o.slice.call(arguments,2),c=o[e].apply(i,r);return(n=n||{}).silent||this.trigger("change:"+t+" change",this,o,n),c}return null},modifyObject:function(t,e,n,i){var o=this.get(t),s=!1;return c(o)?(i=i||{},r(n)&&o.hasOwnProperty(e)?(delete o[e],s=!0):o[e]!==n&&(o[e]=n,s=!0),s&&!i.silent&&this.trigger("change:"+t+" change",this,o,i),o):null}},f),t.extend(v.prototype,e.Events,{init:function(){var e={},i=n=[];this.get(!0),n=null,i.length&&(t.each(i,(function(n){var i=n[0],o=n[1];e[i]?t.contains(e[i],o)||e[i].push(o):e[i]=[o]})),t.each(e,(function(e,n){for(var i=0,o=e.length;i<o;i++)this.listenTo(e[i],n,t.bind(this.get,this,!0))}),this))},val:function(t){return this.model.get(t)},get:function(e){if(!0===e&&this._get){var n=this._get.apply(this.model,t.map(this.deps,this.val,this));this.change(n)}return this.value},set:function(t){if(this._get){if(this._set)return this._set.apply(this.model,arguments);throw"Cannot set read-only computed attribute."}return this.change(t),null},change:function(e){if(!t.isEqual(e,this.value)){this.value=e;var n=["change:"+this.name,this.model,e];this.model._setting?this.model._setting.push(n):(n[0]+=" change",this.model.trigger.apply(this.model,n))}},dispose:function(){this.stopListening(),this.off(),this.model=this.value=null}});var m={optionText:"label",optionValue:"value"},w={};function y(e){return s(e)?e():(c(e)&&(e=t.clone(e),t.each(e,(function(t,n){e[n]=y(t)}))),e)}function b(t){return s(t)?{set:t}:t}var _={attr:b((function(t,e){t.attr(e)})),checked:b({get:function(e,n){var i=!!e.prop("checked"),o=e.val();if(this.isRadio(e))return o;if(u(n)){n=n.slice();var r=t.indexOf(n,o);return i&&r<0?n.push(o):!i&&r>-1&&n.splice(r,1),n}return i},set:function(e,n){var i=!!n;this.isRadio(e)?i=n==e.val():u(n)&&(i=t.contains(n,e.val())),e.prop("checked",i)},isRadio:function(t){return"radio"===t.attr("type").toLowerCase()}}),classes:b((function(e,n){t.each(n,(function(t,n){e.toggleClass(n,!!t)}))})),collection:b({init:function(t,e,n,i){if(this.i=i.itemView?this.view[i.itemView]:this.view.itemView,!a(e))throw'Binding "collection" requires a Collection.';if(!s(this.i))throw'Binding "collection" requires an itemView.';this.v={}},set:function(e,n,i){var o,r=this.v,s=this.i,c=n.models,u=x;if(x=null,h(i=i||n))if(r.hasOwnProperty(i.cid))r[i.cid].remove(),delete r[i.cid];else{r[i.cid]=o=new s({model:i,collectionView:this.view});var l=t.indexOf(c,i),f=e.children();l<f.length?f.eq(l).before(o.$el):e.append(o.$el)}else if(a(i)){var d=c.length===t.size(r)&&n.every((function(t){return r.hasOwnProperty(t.cid)}));e.children().detach();var p=document.createDocumentFragment();d?n.each((function(t){p.appendChild(r[t.cid].el)})):(this.clean(),n.each((function(t){r[t.cid]=o=new s({model:t,collectionView:this.view}),p.appendChild(o.el)}),this)),e.append(p)}x=u},clean:function(){for(var t in this.v)this.v.hasOwnProperty(t)&&(this.v[t].remove(),delete this.v[t])}}),css:b((function(t,e){t.css(e)})),disabled:b((function(t,e){t.prop("disabled",!!e)})),enabled:b((function(t,e){t.prop("disabled",!e)})),html:b((function(t,e){t.html(e)})),options:b({init:function(t,e,n,i){this.e=i.optionsEmpty,this.d=i.optionsDefault,this.v=i.value},set:function(e,n){var i=this,o=y(i.e),r=y(i.d),s=y(i.v),c=a(n)?n.models:n,u=c.length,h=!0,l="";u||r||!o?(r&&(c=[r].concat(c)),t.each(c,(function(t,e){l+=i.opt(t,u)}))):(l+=i.opt(o,u),h=!1),e.html(l).prop("disabled",!h).val(s);var f=e.val();i.v&&!t.isEqual(s,f)&&i.v(f)},opt:function(t,e){var n=t,i=t,o=m.optionText,r=m.optionValue;return c(t)&&(n=h(t)?t.get(o):t[o],i=h(t)?t.get(r):t[r]),['<option value="',i,'">',n,"</option>"].join("")},clean:function(){this.d=this.e=this.v=0}}),template:b({init:function(e,n,i){var o=e.find("script,template");if(this.t=t.template(o.length?o.html():e.html()),u(n))return t.pick(i,n)},set:function(t,e){e=h(e)?e.toJSON({computed:!0}):e,t.html(this.t(e))},clean:function(){this.t=null}}),text:b({get:function(t){return t.text()},set:function(t,e){t.text(e)}}),toggle:b((function(t,e){t.toggle(!!e)})),value:b({get:function(t){return t.val()},set:function(t,e){try{t.val()+""!=e+""&&t.val(e)}catch(t){}}})};function C(e){return function(){var n=arguments,i=s(e)?e:e.get,o=e.set;return function(e){return r(e)?i.apply(this,t.map(n,y)):n[0]((o||i).call(this,e))}}}var x,$={all:C((function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(!t[e])return!1;return!0})),any:C((function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(t[e])return!0;return!1})),length:C((function(t){return t.length||0})),none:C((function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(t[e])return!1;return!0})),not:C((function(t){return!t})),format:C((function(t){for(var e=arguments,n=1,i=e.length;n<i;n++)t=t.replace(new RegExp("\\$"+n,"g"),e[n]);return t})),select:C((function(t,e,n){return t?e:n})),csv:C({get:function(t){return(t=String(t))?t.split(","):[]},set:function(t){return u(t)?t.join(","):t}}),integer:C((function(t){return t?parseInt(t,10):0})),decimal:C((function(t){return t?parseFloat(t):0}))},O={events:1,itemView:1,optionsDefault:1,optionsEmpty:1};i.binding={allowedParams:O,addHandler:function(t,e){_[t]=b(e)},addFilter:function(t,e){$[t]=C(e)},config:function(e){t.extend(m,e)},emptyCache:function(){w={}}};var k=["viewModel","bindings","bindingFilters","bindingHandlers","bindingSources","computeds"];function V(e,n,i,o,r){if(e=t.result(e,o))return h(e)?(r=r?r+"_":"",n["$"+o]=function(){return x&&x.push([e,"change"]),e},t.each(e.toJSON({computed:!0}),(function(t,o){n[r+o]=function(t){return P(e,o,t,i)}}))):a(e)&&(n["$"+o]=function(){return x&&x.push([e,"reset add remove sort update"]),e}),e}function P(e,n,i,o){if(x&&x.push([e,"change:"+n]),!r(i)){if(!c(i)||u(i)||t.isDate(i)){var s=i;(i={})[n]=s}return o&&o.save?e.save(i,o):e.set(i,o)}return e.get(n)}function B(t,e){if(":el"===e)return t.$el;var n=t.$(e);return t.$el.is(e)&&(n=n.add(t.$el)),n}function E(e,n,i,o,r,s){try{var c=(w[i]||(w[i]=new Function("$f","$c","with($f){with($c){return{"+i+"}}}")))(s,o)}catch(t){throw'Error parsing bindings: "'+i+'"\n>> '+t}var u=t.map(t.union(c.events||[],["change"]),(function(t){return t+".epoxy"})).join(" ");t.each(c,(function(t,i){if(r.hasOwnProperty(i))e.b().push(new F(e,n,r[i],t,u,o,c));else if(!O.hasOwnProperty(i))throw'binding handler "'+i+'" is not defined.'}))}function j(t,e,n){if(t&&t.hasOwnProperty(e))return r(n)?y(t[e]):t[e](n)}function S(t,e){var n=[];if(e&&t)for(var i=0,o=e.length;i<o;i++)n.push(e[i]in t?t[e[i]]():null);return n}function F(e,n,i,o,r,c,u){var h=this,a=n[0].tagName.toLowerCase(),l="input"==a||"select"==a||"textarea"==a||"true"==n.prop("contenteditable"),f=[],d=function(t){h.$el&&h.set(h.$el,y(o),t)};if(h.view=e,h.$el=n,h.evt=r,t.extend(h,i),o=h.init(h.$el,y(o),c,u)||o,x=f,d(),x=null,l&&i.get&&s(o)&&h.$el.on(r,(function(t){o(h.get(h.$el,y(o),t))})),f.length)for(var p=0,g=f.length;p<g;p++)h.listenTo(f[p][0],f[p][1],d)}return i.View=e.View.extend({_super:e.View,constructor:function(e){t.extend(this,t.pick(e||{},k)),d(this,"constructor",arguments),this.applyBindings()},b:function(){return this._b||(this._b=[])},bindings:"data-bind",setterOptions:null,applyBindings:function(){this.removeBindings();var n=this,i=t.clone(t.result(n,"bindingSources")),o=n.bindings,u=n.setterOptions,h=t.clone(_),a=t.clone($),l=n._c={};t.each(t.result(n,"bindingHandlers")||{},(function(t,e){h[e]=b(t)})),t.each(t.result(n,"bindingFilters")||{},(function(t,e){a[e]=C(t)})),n.model=V(n,l,u,"model"),n.viewModel=V(n,l,u,"viewModel"),n.collection=V(n,l,u,"collection"),n.collection&&n.collection.view&&(n.itemView=n.collection.view),i&&(t.each(i,(function(t,e){i[e]=V(i,l,u,e,e)})),n.bindingSources=i),t.each(t.result(n,"computeds")||{},(function(t,e){var i=s(t)?t:t.get,o=t.set,c=t.deps;l[e]=function(t){return!r(t)&&o?o.call(n,t):i.apply(n,S(n._c,c))}})),c(o)?t.each(o,(function(t,e){var i=B(n,e);i.length&&E(n,i,t,l,h,a)})):B(n,"["+o+"]").each((function(){var t=e.$(this);E(n,t,t.attr(o),l,h,a)}))},getBinding:function(t){return j(this._c,t)},setBinding:function(t,e){return j(this._c,t,e)},removeBindings:function(){if(this._c=null,this._b)for(;this._b.length;)this._b.pop().dispose()},remove:function(){this.removeBindings(),d(this,"remove",arguments)}},f),t.extend(F.prototype,e.Events,{init:l,get:l,set:l,clean:l,dispose:function(){this.clean(),this.stopListening(),this.$el.off(this.evt),this.$el=this.view=null}}),i}(n(97836),n(15892))}}]);
//# sourceMappingURL=chunk.451.js.map