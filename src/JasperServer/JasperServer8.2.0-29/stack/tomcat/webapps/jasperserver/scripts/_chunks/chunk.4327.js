(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[4327],{72012:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var r=i(97836),a=i.n(r),n=i(72157),s=i.n(n),o=2147483647,h=function(t){a().bindAll(this,"getData"),t=t||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=t.pageSize||999,this.criteriaKey=t.searchKey||"criteria",this.maxSearchCacheSize=t.maxSearchCacheSize||50,this.getDataByCriteriaHolder={},this.criteriaValuesCache=[],this.controlGetTotal=void 0!==t.controlGetTotal&&t.controlGetTotal,this.dataConverter=t.dataConverter,this.saveLastCriteria=void 0!==t.saveLastCriteria&&t.saveLastCriteria,this.lastCriteria=null,this.serialRequestsDelay=void 0!==t.serialRequestsDelay?t.serialRequestsDelay:50,this.serialRequestsDelayedPromise=null,this.request=t.request};a().extend(h.prototype,{getData:function(t){if((t=t||{})[this.criteriaKey])return this._getDataByCriteria(t[this.criteriaKey])(t);if(void 0===t[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(t);this.lastCriteria=null;var e=s().Deferred(),i=this._getPagesToLoad(t);return i?this._requestData(t,i,e):this._resolveDeferredUsingDataFromCache(e,t),e.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.criteriaValuesCache=[],this.lastCriteria=null},_requestData:function(t,e,i){var r=(e[e.length-1]-e[0]+1)*this.pageSize,n=a().extend({},t,{offset:e[0]*this.pageSize,limit:r});this.controlGetTotal&&(n.skipGetTotal=!0),r>=o/this.pageSize*this.pageSize&&delete n.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete n.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(a().bind(this._requestDataDeferred,this,t,n,i),this.serialRequestsDelay)):this._requestDataDeferred(t,n,i)},_requestDataDeferred:function(t,e,i){this._getPagesToLoad(t)?this.serialRequestsDelayedPromise&&a().isEqual(e,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(i.resolve).fail(i.reject):(this.serialRequestsDelayedPromise={promise:i.promise(),query:e},this.request(e).done(a().bind(this._requestDone,this,t,e,i)).fail(i.reject)):this._resolveDeferredUsingDataFromCache(i,t)},_requestDone:function(t,e,i,r){this._putDataToCache(e,r),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(i,t)},_resolveDeferredUsingDataFromCache:function(t,e){var i=this._getDataFromCache(e);t.resolve({total:this.dataCacheTotal,data:i})},_getPagesToLoad:function(t){var e,i=this._convertLimitOffsetToFirstLast(t),r=this._findPageIndex(i.first),a=this._findPageIndex(i.last),n=[];for(e=r;e<=a;e++)if(!this.dataCachePages[e]){n.push(e);break}for(e=a;e>=r;e--)if(!this.dataCachePages[e]){n.push(e);break}return n.length>0?n:null},_findPageIndex:function(t){return Math.floor(t/this.pageSize)},_convertLimitOffsetToFirstLast:function(t){var e=t&&t.offset?t.offset:0,i=t&&t.limit?e+t.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:o;return this.dataCacheTotal&&i>this.dataCacheTotal-1&&(i=this.dataCacheTotal-1),{first:e,last:i}},_getDataFromCache:function(t){t=a().defaults(t,{offset:0,limit:o});var e=Math.max(0,t.offset),i=Math.min(e+t.limit,this.dataCacheTotal);return this.dataCache.slice(e,i)},_putDataToCache:function(t,e){var i;for(void 0!==e.total&&(this.dataCacheTotal=e.total),t.limit=t.limit||o,i=0;i<e.data.length;i++)this.dataCache[i+t.offset]=this.dataConverter?this.dataConverter(e.data[i]):e.data[i];var r=t.offset/this.pageSize,a=Math.floor((Math.min(t.limit,e.data.length)+t.offset-1)/this.pageSize);for(i=r;i<=a;i++)this.dataCachePages[i]=!0},_getDataByCriteria:function(t){if(!this.getDataByCriteriaHolder[t]){var e,i=Number.MAX_VALUE,r=0,a=0;for(var n in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(n)){a+=1;var s=this.getDataByCriteriaHolder[n];s.index<i&&(i=s.index,e=n),s.index>r&&(r=s.index)}a>=this.maxSearchCacheSize&&(delete this.getDataByCriteriaHolder[e],this.criteriaValuesCache=[]),this.getDataByCriteriaHolder[t]={getData:this._createDataProviderForCriteria(t),index:r+1},this.criteriaValuesCache.push(t)}return this.lastCriteria=t,this.getDataByCriteriaHolder[t].getData},_createDataProviderForCriteria:function(t){var e=this.request,i=this,r=new h({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(r){var n=a().extend({},r);return n[i.criteriaKey]=t,e(n)}}),n=r.getData;return r.getData=function(t){var e=a().extend({},t);return delete e[i.criteriaKey],n.call(r,e)},r.getData}});const l=h},81180:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var r=i(97836),a=i.n(r),n=i(15892);const s={100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"},o="unexpected.error";var h=i.n(n)().Model.extend({initialize:function(){this.on("error",h.unifyServerErrors)},serialize:function(){return a().clone(this.attributes)}},{unifyServerErrors:function(t,e){var i=s[e.status],r=h.createServerError(e);t.trigger("error:"+i,t,r,e),t.trigger("error:all",t,r,e)},createServerError:function(t){var e;try{e=JSON.parse(t.responseText)}catch(t){e={message:"Can't parse server response",errorCode:o,parameters:[]}}return e}});const l=h},92772:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var r=i(97836),a=i.n(r),n=function(t){function e(t){return"."===t?t="\\.":" "===t&&(t="\\s"),t}t=t||{},this.DECIMAL_SEPARATOR=t.decimalSeparator||".",this.GROUPING_SEPARATOR=t.groupingSeparator||",",this.decimalSeparator=e(this.DECIMAL_SEPARATOR),this.groupingSeparator=e(this.GROUPING_SEPARATOR),this.DECIMAL_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*("+this.decimalSeparator+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+this.decimalSeparator+"[0-9]+)?|0("+this.decimalSeparator+"[0-9]+)?)$"),this.INTEGER_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$")},s=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER+1:9007199254740992,o=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER-1:-9007199254740992;n.prototype.number_format=function(t,e,i,r){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var a,n,s,o=isFinite(+t)?+t:0,h=isFinite(+e)?Math.abs(e):0,l=void 0===r?",":r,c=void 0===i?".":i,u=(h?(a=o,n=h,s=Math.pow(10,n),""+(Math.round(a*s)/s).toFixed(n)):""+Math.round(o)).split(".");return u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(u[1]||"").length<h&&(u[1]=u[1]||"",u[1]+=new Array(h-u[1].length+1).join("0")),u.join(c)},n.prototype.isInt=function(t){return this.isNumberInt(t)||this.isStringInt(t)},n.prototype.isNumberInt=function(t){return a().isNumber(t)&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY&&(t===+t&&t===(0|t)||t%1==0)},n.prototype.isStringInt=function(t){return a().isString(t)&&this.INTEGER_NUMBER_PATTERN.test(t)},n.prototype.isInt32=function(t){return this.isInt(t)&&this.parseNumber(t)>=-2147483648&&this.parseNumber(t)<=2147483647},n.prototype.isDecimal=function(t){return a().isNumber(t)&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY||a().isString(t)&&this.DECIMAL_NUMBER_PATTERN.test(t)},n.prototype.parseNumber=function(t){if(a().isNumber(t))return t;if(a().isString(t)&&this.DECIMAL_NUMBER_PATTERN.test(t)){var e=1*(t=t.replace(new RegExp(this.groupingSeparator,"g"),"").replace(new RegExp(this.decimalSeparator,"g"),"."));return e>=s||e<=o?(window.console&&window.console.warn(t+" is out of the ["+(o+1)+", "+(s-1)+"] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):e}},n.prototype.formatNumber=function(t,e){e=e||{};var i=t.toString().split(".")[1],r=i?i.length:0;a().isUndefined(e.decimalPlacesAmount)||(r=e.decimalPlacesAmount);try{return this.number_format(t,r,e.decimalSeparator||this.DECIMAL_SEPARATOR,e.groupingSeparator||this.GROUPING_SEPARATOR)}catch(e){return t.toString()}},n.prototype.MaxRange=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER+1:9007199254740992,n.prototype.MinRange=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER-1:-9007199254740992;const h=n},36636:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(97836),a=i.n(r),n=i(75042);const s=n.Z.extend({initialize:function(t){n.Z.prototype.initialize.call(this,t),this.select(t.value,{silent:!0})},_addToSelection:function(t,e){throw"Not implemented"},_removeFromSelection:function(t,e){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(t,e){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(t){t&&t.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(t,e,i){for(var r=0;r<t.length;r++)this._addToSelection(t[r].value,r+e);this.trigger("selection:addRange",{start:e,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(t,e){return this.getData().done((function(i){for(var r=0;r<i.data.length;r++)t(i.data[r].value,r);e&&e()})).fail(this.fetchFailed),this},addValueToSelection:function(t,e){return this.selectionStartIndex=e,this._addToSelection(t,e),this.trigger("selection:add",{value:t,index:e})},addRangeToSelection:function(t,e){if(void 0!==this.selectionStartIndex){if(this.selectionStartIndex!==e){var i=Math.min(this.selectionStartIndex,e),r=Math.max(this.selectionStartIndex,e);if(this.selectionStartIndex=e,i>=this.get("bufferStartIndex")&&r<=this.get("bufferEndIndex")){var a=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),r-this.get("bufferStartIndex")+1);this._addRangeToSelection(a,i,r)}else{var n=this;this.getData({offset:i,limit:r-i+1}).done((function(t){n._addRangeToSelection(t.data,i,r)})).fail(this.fetchFailed)}}}else this.addValueToSelection(t,e)},removeValueFromSelection:function(t,e){this._removeFromSelection(t,e),this.trigger("selection:remove",{value:t,index:e})},toggleSelection:function(t,e){this.selectionContains(t,e)?this.removeValueFromSelection(t,e):this.addValueToSelection(t,e)},selectionContains:function(t,e){return this._selectionContains(t,e)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(t,e){throw"Not implemented"},selectAll:function(){var t=this,e=!0;this._fetchAllDataAndModifySelection((function(i,r){e&&(t._clearSelection(),e=!1),t._addToSelection(i,r)}),a().bind(this._triggerSelectionChange,this))},invertSelection:function(){var t=this;this._fetchAllDataAndModifySelection((function(e,i){t._selectionContains(e,i)?t._removeFromSelection(e,i):t._addToSelection(e,i)}),a().bind(this._triggerSelectionChange,this))}})},58523:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(97836),a=i.n(r),n=i(36636);const s=n.Z.extend({initialize:function(t){n.Z.prototype.initialize.call(this,t),this.caseSensitiveSelection=void 0===t.caseSensitiveSelection||t.caseSensitiveSelection},_addToSelection:function(t,e){this.selection[e]=t},_removeFromSelection:function(t,e){this.selection[e]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(t,e){return this.caseSensitiveSelection?this.selection[e]===t:this.selection[e].toLowerCase()===t.toLowerCase()},_getSelection:function(){return this.selection},_isSelectionEmpty:function(t){if(!t)return!0;if(a().isArray(t)&&0===t.length)return!0;if(a().isArray(t)||"string"==typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&void 0!==t[e])return!1;return!0},_selectPendingSelection:function(t,e){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),t,e);else{var i=this;this.getData().done((function(r){i._convertInitialArrayToSelection(r.data,t,e)})).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(t,e,i){for(var r=0;r<t.length;r++)e[t[r].value]&&this._addToSelection(t[r].value,r);this._triggerSelectionChange(i)},_triggerSelectionChange:function(t){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),n.Z.prototype._triggerSelectionChange.call(this,t)},_calcSelectionStartIndex:function(){if(void 0===this.selectionStartIndex)for(var t in this.selection)if(this.selection.hasOwnProperty(t)&&void 0!==this.selection[t]){this.selectionStartIndex=parseInt(t,10);break}},select:function(t,e){if(this._clearSelection(),this._isSelectionEmpty(t))this._triggerSelectionChange(e);else if(a().isArray(t)||"string"==typeof t){var i={};if("string"==typeof t)i[t]=!0;else for(var r=0;r<t.length;r++)i[t[r]]=!0;this._selectPendingSelection(i,e)}else{for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];void 0!==s&&this._addToSelection(s,n)}this._triggerSelectionChange(e)}}})},75042:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var r=i(15892),a=i.n(r),n=i(97836),s=i.n(n);const o=a().Model.extend({initialize:function(t){t=t||{},s().bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=t.getData,this.bufferSize=t.bufferSize||100,this.loadFactor=t.loadFactor||.95},_fetchComplete:function(t){this.attributes.total=t.total,this.set({items:t.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+t.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(t.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(t.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(t,e){if(void 0===this.get("bufferStartIndex")||void 0===this.get("bufferEndIndex"))return!0;if(t>=0&&t<this.get("bufferStartIndex")||e<this.get("total")&&e>this.get("bufferEndIndex"))return!0;if(t===this.get("bufferStartIndex")&&e===this.get("bufferEndIndex"))return!1;var i=1-(t-this.get("bufferStartIndex"))/this.bufferSize,r=1-(this.get("bufferEndIndex")-e)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&r>=this.loadFactor},afterFetchComplete:function(t,e){},fetchFailed:function(t,e){this.trigger("fetchFailed",t,e)},fetch:function(t){if((t=s().extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},t)).force||this._isBufferReloadNecessary(t.top,t.bottom)){if(t.top!==this.attributes.bufferStartIndex||t.bottom!==this.attributes.bufferEndIndex||t.force){var e=t.top+Math.floor((t.bottom-t.top)/2),i=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,e-i),this.get("total")&&!t.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this.afterFetchComplete&&this.afterFetchComplete(this.get("items"),this.get("total"))},reset:function(t){this.attributes={},this.set({items:[]},{silent:!0}),t&&t.silent||this.trigger("change",this)}})}}]);
//# sourceMappingURL=chunk.4327.js.map