{"version":3,"sources":["webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/resource/resource.locate.js","webpack://jrs-ui/./src/resource/resource.report.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["JSTooltip","element","options","this","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","length","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","jQuery","css","initialZIndex","parents","toArray","memo","parent","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","position","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","layoutModule","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","attr","timer","clearTimeout","setTimeout","show","on","evt","clientX","clientY","enableTooltips","forEach","tooltip","enable","disableTooltips","disable","hide","off","testId","document","getElementById","setAttribute","removeAttribute","reject","t","resourceLocator","CONTENT_REPOSITORY","LOCAL","NONE","FILE_SYSTEM","LOCATE_EVENT","ALLOWED_FILE_RESOURCE_EXTENSIONS","initialize","get","resourceUri","resourceInput","browseButton","filePath","fileUploadInput","fakeFilePath","fakeFileUploadInput","fakeFileInput","fakeFileUploadInputText","newResourceLink","_initFileSelector","e","_initEvents","_clickHandler","providerId","_nextClickHandler","_uploadChangeHandler","event","hasClass","preventDefault","validFileName","match","extension","message","resource","find","html","_updateResourceSelectorState","target","classes","_switchElementClasses","fileSelector","picker","uriTextboxId","browseButtonId","title","dialogTitle","remove","SET_UP_PAGE_ID","LABEL_ID","RESOURCE_ID_ID","DESCRIPTION_ID","FILE_PATH_ID","RESOURCE_URI_ID","FILE_SYSTEM_SOURCE_ID","CONTENT_REPOSITORY_SOURCE_ID","RESOURCE_NAME_ID","EDIT_RESOURCE_BUTTON_ID","REMOVE_RESOURCE_BUTTON_ID","ADD_RESOURCE_BUTTON_ID","EDIT_CONTROL_BUTTON_ID","REMOVE_CONTROL_BUTTON_ID","ADD_CONTROL_BUTTON_ID","FILE_NAME_ID","FILE_UPLOAD_BUTTON_ID","SAVE_BUTTON_ID","JRXML_FILE_PATH_COOKIE","_canGenerateId","_setUpPage","_form","_label","_resourceId","_description","_filePath","_resourceUri","_fileName","_fileSystemSource","_contentRepositorySource","_saveButton","_isEditMode","isEditMode","_initialSource","checked","_jrxmlFileResourceAlreadyUploaded","jrxmlFileResourceAlreadyUploaded","validator","_filePathValidator","bind","_resourceUriValidator","_adjustFileSelectorPosition","resourceOptions","uploadButton","treeId","selectLeavesOnly","type","self","click","trigger","_isDataValid","ValidationModule","getValue","setValue","observe","isIE","toLowerCase","substring","files","name","elementsToValidate","file","isValid","errorMessage","blank","fp","isIE7","isIE8","isIE9","isIE10","opacity","right","editResource","resourceName","removeResource","addResource","editControl","removeControl","addControl","Draggable","prototype","startDrag","isDragging","dragging","delta","currentDelta","zindex","originalZ","Element","getStyle","style","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","tagName","body","appendChild","superghosting","prepare","pointer","Event","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","pos","cumulativeOffset","r","realOffset","deltaX","deltaY","d","_isScrollChild","p","map","i","mouseOffset","offset","snap","Object","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","touches","isLeftClick","tag_name","toUpperCase","activate","countdown","DEFAULT_TOLERANCE","stop","fire","targetEvent","Droppables","isAffected","drop","jo","w","h","p0","p1","positioned_within","$","_containers","isContained","accept","classNames","detect","finishDrag","success","onmousemove","quiet","relativize","dropped","onDropped","revert","reverteffect","endeffect","deactivate","reset","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","observer","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.5095.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            var actualX = offsets[0];\n            var actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([actualX, actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                actualX = evt.clientX;\n                actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.removeAttribute(\"id\");\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\r\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\r\n * http://www.jaspersoft.com.\r\n *\r\n * Unless you have purchased a commercial license agreement from Jaspersoft,\r\n * the following license terms apply:\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\n\r\n/**\r\n * @version: $Id$\r\n */\r\n\r\nimport jQuery from 'jquery';\r\nimport _ from 'underscore';\r\nimport resource from './resource.base';\r\nimport picker from '../components/components.pickers';\r\n\r\nvar resourceLocator = {\r\n    CONTENT_REPOSITORY : 'CONTENT_REPOSITORY',\r\n    LOCAL : 'LOCAL',\r\n    NONE : 'NONE',\r\n    FILE_SYSTEM : 'FILE_SYSTEM',\r\n    LOCATE_EVENT : 'resource:locate',\r\n    ALLOWED_FILE_RESOURCE_EXTENSIONS: [\r\n        \"css\", //css\r\n        \"ttf\", //font\r\n        \"jpg\", \"jpeg\", \"gif\", \"bmp\", \"png\", //img\r\n        \"jar\", //jar\r\n        \"jrxml\", //jrxml\r\n        \"properties\", //properties\r\n        \"jrtx\", //jrtx\r\n        \"xml\", \"agxml\", //xml\r\n        \"docx\", \"doc\", \"ppt\", \"pptx\", \"xls\", \"xlsx\", \"ods\", \"odt\", \"odp\", \"pdf\", \"rtf\", \"html\" //contentResource\r\n    ],\r\n\r\n    /*\r\n     * Initializes Resource Locator common logic.\r\n     * @param options Object with following properties:\r\n     *     options = {\r\n     *          fileUploadInput : 'filePath',\r\n     *          resourceInput : 'resourceUri',\r\n     *          browseButton : 'browser_button',\r\n     *          newResourceLink : 'link_id',\r\n     *          treeId : 'resourceBrowserTreeId',\r\n     *          providerId : 'treeProviderId',\r\n     *          dialogTitle : 'Select Resource From Repository'\r\n     *      }\r\n     *\r\n     */\r\n    initialize: function(options) {\r\n        var get = function(element) {\r\n            return _.isObject(element) ? element : jQuery('#' + element)[0];\r\n        };\r\n\r\n        this.resourceUri = get(options.resourceInput);\r\n        this.browseButton = get(options.browseButton);\r\n        this.filePath = get(options.fileUploadInput);\r\n        this.fakeFilePath = get(options.fakeFileUploadInput);\r\n        this.fakeFileInput = get(options.fakeFileUploadInputText);\r\n        this.newResourceLink = get(options.newResourceLink);\r\n\r\n        try {\r\n            this._initFileSelector(options);\r\n        } catch(e) {\r\n            /* bypass logging to console */\r\n        } finally {\r\n            this._initEvents(options);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    _initEvents: function(options) {\r\n        jQuery(document).on(\"click\", \"#CONTENT_REPOSITORY, #FILE_SYSTEM, #NONE, #LOCAL\", this._clickHandler);\r\n        if (options.providerId === \"fileResourceTreeDataProvider\") {\r\n            jQuery(\"#next\").on(\"click\", resourceLocator._nextClickHandler);\r\n            jQuery(\"#filePath\").on(\"change\", resourceLocator._uploadChangeHandler);\r\n        }\r\n    },\r\n\r\n    _nextClickHandler: function(event) {\r\n        if (jQuery(\"#fileUpload\").hasClass(\"error\")) {\r\n            event.preventDefault();\r\n        }\r\n    },\r\n\r\n    _uploadChangeHandler: function(event) {\r\n        jQuery(\"#fileUpload\").removeClass(\"error\");\r\n\r\n        var validFileName = true;\r\n\r\n        var fileName = jQuery(\"#filePath\")[0].value;\r\n        if (fileName) {\r\n            var match = jQuery(\"#filePath\")[0].value.match(/.*\\.([^\\.]+)$/);\r\n            if (match) {\r\n                var extension = match[1];\r\n                if (_.indexOf(resourceLocator.ALLOWED_FILE_RESOURCE_EXTENSIONS, extension) < 0) {\r\n                    validFileName = false;\r\n                }\r\n            } else {\r\n                validFileName = false;\r\n            }\r\n        } else {\r\n            validFileName = false;\r\n        }\r\n\r\n        if (!validFileName) {\r\n            var message =\r\n                resource.messages['resource.report.unsupportedFileType.error'] +\r\n                    \" \" +resourceLocator.ALLOWED_FILE_RESOURCE_EXTENSIONS.join(\", \");\r\n\r\n            jQuery(\"#fileUpload\").addClass(\"error\").find(\"span.warning\")\r\n                .html(message);\r\n        }\r\n    },\r\n\r\n    _clickHandler : function(event) {\r\n        resourceLocator._updateResourceSelectorState(event.target.id);\r\n    },\r\n\r\n    _updateResourceSelectorState : function(id) {\r\n        // Update File upload component state.\r\n        resource.switchButtonState(this.filePath, id === this.FILE_SYSTEM);\r\n        resource.switchButtonState(this.fakeFilePath, id === this.FILE_SYSTEM);\r\n        resource.switchButtonState(this.fakeFileInput, id === this.FILE_SYSTEM);\r\n        // Update Resource selector component state: button + text input.\r\n        resource.switchButtonState(this.browseButton, id === this.CONTENT_REPOSITORY);\r\n        resource.switchDisableState(this.resourceUri, id !== this.CONTENT_REPOSITORY);\r\n        // Update Create new resource link state.\r\n        var classes = id === this.LOCAL ? ['disabled', 'launcher'] : [];\r\n        this._switchElementClasses(this.newResourceLink, classes);\r\n    },\r\n\r\n    _initFileSelector : function(options) {\r\n        this.fileSelector = new picker.FileSelector(_.extend({}, options, {\r\n            uriTextboxId: this.resourceUri,\r\n            browseButtonId: this.browseButton,\r\n            title: options.dialogTitle\r\n        }));\r\n    },\r\n\r\n    remove : function(options) {\r\n        this.fileSelector.remove();\r\n    },\r\n\r\n    ///////////////////////////\r\n    // Utility methods.\r\n    ///////////////////////////\r\n    _switchElementClasses : function(element, classes) {\r\n        element && classes && jQuery(element).removeClass(classes[0]).addClass(classes[1]);\r\n    }\r\n};\r\n\r\nexport default resourceLocator;\r\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n\nimport resource from './resource.base';\nimport resourceLocator from './resource.locate';\nimport {ValidationModule, isIE, isIE7, isIE8, isIE9, isIE10} from \"../util/utils.common\";\nimport jQuery from 'jquery';\nimport layoutModule from \"../core/core.layout\";\n\nvar resourceReport = {\n    SET_UP_PAGE_ID: 'addReport_SetUp',\n    LABEL_ID: 'label',\n    RESOURCE_ID_ID: 'resourceID',\n    DESCRIPTION_ID: 'reportUnit\\\\.description',\n    FILE_PATH_ID: 'filePath',\n    RESOURCE_URI_ID: 'resourceUri',\n    FILE_SYSTEM_SOURCE_ID: 'FILE_SYSTEM',\n    CONTENT_REPOSITORY_SOURCE_ID: 'CONTENT_REPOSITORY',\n    RESOURCE_NAME_ID: 'resourceName',\n    EDIT_RESOURCE_BUTTON_ID: 'editResourceButton',\n    REMOVE_RESOURCE_BUTTON_ID: 'removeResourceButton',\n    ADD_RESOURCE_BUTTON_ID: 'addResourceButton',\n    EDIT_CONTROL_BUTTON_ID: 'editControlButton',\n    REMOVE_CONTROL_BUTTON_ID: 'removeControlButton',\n    ADD_CONTROL_BUTTON_ID: 'addControlButton',\n    FILE_NAME_ID: 'fileName',\n    FILE_UPLOAD_BUTTON_ID: 'fake_upload_button',\n    SAVE_BUTTON_ID: 'done',\n    JRXML_FILE_PATH_COOKIE: 'jrxmlFilePath',\n\n    _canGenerateId: true,\n    initialize: function (options) {\n        this._setUpPage = jQuery('#' + this.SET_UP_PAGE_ID)[0];\n\n        if (this._setUpPage) {\n            this._form = jQuery('#' + layoutModule.PAGE_BODY_ID).find('form')[0];\n            this._label = jQuery('#' + this.LABEL_ID)[0];\n            this._resourceId = jQuery('#' + this.RESOURCE_ID_ID)[0];\n            this._description = jQuery('#' + this.DESCRIPTION_ID)[0];\n            this._filePath = jQuery('#' + this.FILE_PATH_ID)[0];\n            this._resourceUri = jQuery('#' + this.RESOURCE_URI_ID)[0];\n            this._fileName = jQuery('#' + this.FILE_NAME_ID)[0];\n\n            this._fileSystemSource = jQuery('#' + this.FILE_SYSTEM_SOURCE_ID)[0];\n            this._contentRepositorySource = jQuery('#' + this.CONTENT_REPOSITORY_SOURCE_ID)[0];\n\n            this._saveButton = jQuery('#' + this.SAVE_BUTTON_ID);\n\n            this._isEditMode = options ? options.isEditMode : false;\n            this._initialSource = this._fileSystemSource.checked ? this._fileSystemSource : this._contentRepositorySource;\n            this._jrxmlFileResourceAlreadyUploaded = options.jrxmlFileResourceAlreadyUploaded;\n            this._label.validator = resource.labelValidator.bind(this);\n            this._resourceId.validator = resource.resourceIdValidator.bind(this);\n            this._description.validator = resource.descriptionValidator.bind(this);\n            this._filePath.validator = this._filePathValidator.bind(this);\n            this._resourceUri.validator = this._resourceUriValidator.bind(this);\n\n            this._initEvents();\n            this._adjustFileSelectorPosition();\n            this._fileName.value = this._jrxmlFileResourceAlreadyUploaded;\n        }    // Resource locator.\n        // Resource locator.\n        var resourceOptions = {\n            fileUploadInput: 'filePath',\n            fakeFileUploadInput: 'fake_upload_button',\n            fakeFileUploadInputText: 'fileName',\n            resourceInput: 'resourceUri',\n            browseButton: 'browser_button',\n            uploadButton: 'upload_button',\n            treeId: 'resourceTreeRepoLocation',\n            dialogTitle: resource.messages['resource.Report.Title'],\n            selectLeavesOnly: true\n        };\n        if (options && jQuery('#' + resourceOptions.browseButton)[0]) {\n            if (options.type == 'fileResource') {\n                resourceOptions.providerId = 'fileResourceTreeDataProvider';\n            } else if (options.type == 'jrxml') {\n                resourceOptions.providerId = 'jrxmlTreeDataProvider';\n            } else if (options.type == 'olapMondrianSchema') {\n                resourceOptions.providerId = 'olapSchemaTreeDataProvider';\n            } else if (options.type == 'folder') {\n                resourceOptions.treeId = 'addFileTreeRepoLocation';\n                resourceOptions.providerId = 'repositoryExplorerTreeFoldersProvider';\n                resourceOptions.resourceInput = 'folderUri';\n            }\n            resourceLocator.initialize(resourceOptions);\n            resourceLocator._updateResourceSelectorState(jQuery('input[type=radio]:checked').attr('id'));\n        }\n    },\n    _initEvents: function () {\n        var self = this;    //opens file upload selection dialog, when user clicks on ordinary button\n        //opens file upload selection dialog, when user clicks on ordinary button\n        jQuery('#' + this.FILE_UPLOAD_BUTTON_ID).click(function (e) {\n            e.preventDefault();\n            jQuery('#' + self.FILE_PATH_ID).trigger('click');\n        });\n        this._saveButton.on('click', function (e) {\n            if (!self._isDataValid()) {\n                e.preventDefault();\n            }\n        });\n        jQuery(this._form).on('keyup', function (e) {\n            var element = e.target;\n            var targetElements = [\n                self._label,\n                self._resourceId,\n                self._description\n            ];\n            if (targetElements.include(element)) {\n                ValidationModule.validate(resource.getValidationEntries([element]));\n                if (element == self._resourceId && self._resourceId.getValue() != resource.generateResourceId(self._label.getValue())) {\n                    self._canGenerateId = false;\n                }\n\n                if (element == self._label && !self._isEditMode && self._canGenerateId) {\n                    self._resourceId.setValue(resource.generateResourceId(self._label.getValue()));\n\n                    ValidationModule.validate(resource.getValidationEntries([self._resourceId]));\n                }\n            }\n        });\n        this._filePath.observe('change', function () {\n            if (isIE()) {\n                //IE can for security reasons change real patch to file on 'c:\\fakepath\\'\n                //is should not be shown to user, in this case show only filename\n                if (this.value.toLowerCase().indexOf('c:\\\\fakepath\\\\') != -1) {\n                    self._fileName.value = this.value.substring('c:\\\\fakepath\\\\'.length, this.value.length);\n                } else {\n                    self._fileName.value = this.value;\n                }\n            } else {\n                self._fileName.value = this.files[0].name;\n            }\n            jQuery('#' + 'fileUpload').removeClass('error');\n            self._adjustFileSelectorPosition();\n        });\n    },\n    _isDataValid: function () {\n        var elementsToValidate = [\n            this._label,\n            this._resourceId,\n            this._description,\n            this._filePath,\n            this._resourceUri\n        ];\n        if (isIE()) {\n            this.file = this._filePath.value;\n        } else {\n            this.file = this._filePath.files[0];\n        }\n        this.html = jQuery(this._filePath).html();\n\n        return ValidationModule.validate(resource.getValidationEntries(elementsToValidate));\n    },\n    _filePathValidator: function (value) {\n        var isValid = true;\n        var errorMessage = '';\n        if (this._fileSystemSource.checked && value.blank() && (!this._isEditMode || this._initialSource != this._fileSystemSource) && !this._jrxmlFileResourceAlreadyUploaded) {\n            errorMessage = resource.messages['filePathIsEmpty'];\n            isValid = false;\n        }\n        if (isValid)\n            ValidationModule.hideError(jQuery('#' + 'fileName')[0]);\n        else\n            ValidationModule.showError(jQuery('#' + 'fileName')[0], errorMessage);\n        return {\n            isValid: isValid,\n            errorMessage: errorMessage\n        };\n    },\n    _resourceUriValidator: function (value) {\n        var isValid = true;\n        var errorMessage = '';\n        if (this._contentRepositorySource.checked && value.blank()) {\n            errorMessage = resource.messages['resourceUriIsEmpty'];\n            isValid = false;\n        }\n\n        return {\n            isValid: isValid,\n            errorMessage: errorMessage\n        };\n    },\n    _adjustFileSelectorPosition: function () {\n        var fp = jQuery('#filePath');\n        if (isIE7() || isIE8() || isIE9() || isIE10()) {\n            var top = 20, right = 0, width = 95, height = 30, hasError = fp.parents('label').hasClass('error');\n            if (hasError) {\n                // adjust the position because of the error message\n                top += 13;\n            }\n            fp.css({\n                opacity: '0',\n                position: 'absolute',\n                right: right,\n                top: top,\n                width: width,\n                height: height\n            });\n        } else {\n            fp.css({\n                position: 'fixed',\n                right: '-1000px',\n                top: '-1000px'\n            });\n        }\n    },\n    editResource: function (resourceName) {\n        jQuery('#' + this.RESOURCE_NAME_ID)[0].setValue(resourceName);\n        jQuery('#' + this.EDIT_RESOURCE_BUTTON_ID)[0].click();\n    },\n\n    removeResource: function(resourceName) {\n        jQuery('#' + this.RESOURCE_NAME_ID)[0].setValue(resourceName);\n        jQuery('#' + this.REMOVE_RESOURCE_BUTTON_ID)[0].click();\n    },\n\n    addResource: function() {\n        jQuery('#' + this.ADD_RESOURCE_BUTTON_ID)[0].click();\n    },\n\n    editControl: function(resourceName) {\n        jQuery('#' + this.RESOURCE_NAME_ID)[0].setValue(resourceName);\n        jQuery('#' + this.EDIT_CONTROL_BUTTON_ID)[0].click();\n    },\n\n    removeControl: function(resourceName) {\n        jQuery('#' + this.RESOURCE_NAME_ID)[0].setValue(resourceName);\n        jQuery('#' + this.REMOVE_CONTROL_BUTTON_ID)[0].click();\n    },\n\n    addControl: function() {\n        jQuery('#' + this.ADD_CONTROL_BUTTON_ID)[0].click();\n    }\n};\n\n\nexport default resourceReport;\n\n","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}