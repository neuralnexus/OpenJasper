{"version":3,"sources":["webpack://jrs-ui/./src/attributes/enum/attributesTypesEnum.js","webpack://jrs-ui/./src/attributes/factory/confirmationDialogFactory.js","webpack://jrs-ui/./src/attributes/factory/errorFactory.js","webpack://jrs-ui/./src/attributes/view/AttributesDesigner.js","webpack://jrs-ui/./src/serverSettingsCommon/templates/buttonTemplate.htm","webpack://jrs-ui/./src/serverSettingsCommon/view/traits/buttonsTrait.js","webpack://jrs-ui/./src/attributes/attributesFilter/AttributesFilterCollectionView.js","webpack://jrs-ui/./src/attributes/attributesFilter/view/AttributesFilterView.js","webpack://jrs-ui/./src/attributes/attributesFilter/template/attributesFilterViewTemplate.htm","webpack://jrs-ui/./src/attributes/view/trait/designerFilterTrait.js","webpack://jrs-ui/./src/attributes/attributesFilter/template/attributesFilterCollectionViewTemplate.htm","webpack://jrs-ui/./src/attributes/view/trait/designerInheritedTrait.js","webpack://jrs-ui/./src/attributes/view/trait/designerPermissionTrait.js","webpack://jrs-ui/./src/attributes/factory/attributesDesignerFactory.js","webpack://jrs-ui/./src/serverSettingsCommon/enum/serverSettingGroupsEnum.js","webpack://jrs-ui/./src/attributes/enum/levelIdEnum.js","webpack://jrs-ui/./src/attributes/collection/AttributesCollection.js","webpack://jrs-ui/./src/i18n/CommonBundle.properties.js","webpack://jrs-ui/../js-sdk/src/common/component/baseTable/behaviors/TooltipRowBehavior.js","webpack://jrs-ui/../js-sdk/src/common/component/baseTable/childView/BaseRow.js","webpack://jrs-ui/./src/attributes/factory/rowTemplatesFactory.js","webpack://jrs-ui/./src/attributes/templates/rowViewTemplate.htm","webpack://jrs-ui/./src/attributes/templates/emptyDesignerTemplate.htm","webpack://jrs-ui/./src/attributes/templates/rowDesignerEditTemplate.htm","webpack://jrs-ui/./src/attributes/templates/rowDesignerViewTemplate.htm","webpack://jrs-ui/./src/attributes/view/RowView.js","webpack://jrs-ui/./src/serverSettingsCommon/behaviors/DeleteConfirmBehavior.js","webpack://jrs-ui/./src/attributes/enum/permissionMasksEnum.js","webpack://jrs-ui/./src/attributes/view/DesignerRowView.js","webpack://jrs-ui/./src/attributes/view/DesignerEmptyView.js","webpack://jrs-ui/./src/attributes/view/viewWithPermissionTrait.js","webpack://jrs-ui/./src/i18n/AttributeBundle.properties.js","webpack://jrs-ui/./src/attributes/enum/validationRulesEnum.js","webpack://jrs-ui/./src/attributes/model/validation/baseProfileAttributeValidation.js","webpack://jrs-ui/./src/attributes/model/AttributeModel.js","webpack://jrs-ui/./src/attributes/enum/roleEnum.js","webpack://jrs-ui/./src/attributes/model/modelWithPermissionTrait.js","webpack://jrs-ui/./src/attributes/factory/attributesViewOptionsFactory.js","webpack://jrs-ui/./src/attributes/templates/tooltipTemplate.htm","webpack://jrs-ui/./src/attributes/factory/tableTemplatesFactory.js","webpack://jrs-ui/./src/attributes/templates/emptyViewerTemplate.htm","webpack://jrs-ui/./src/attributes/templates/attributesViewerTemplate.htm","webpack://jrs-ui/./src/attributes/templates/attributesDesignerTemplate.htm","webpack://jrs-ui/./src/attributes/trait/attributesViewScrollEventTrait.js","webpack://jrs-ui/../js-sdk/src/common/component/baseTable/BaseTable.js","webpack://jrs-ui/./src/attributes/view/AttributesViewer.js","webpack://jrs-ui/./src/serverSettingsCommon/enum/confirmDialogTypesEnum.js","webpack://jrs-ui/./src/i18n/AttributesBundle.properties.js"],"names":["USER","TENANT","SERVER","typeToConfirmDialogOptionsMap","defaultConfirm","title","i18n","confirmDialogTypesEnum","text","_","errorCodeToMessageMap","unknownError","getPermissionMask","code","response","responseJSON","errorCode","parameters","responseStatus","status","msgObj","paramsArray","paramsObj","param","index","field","fn","getParamsObject","AttributesViewer","className","ui","addNewBtn","events","childEvents","initialize","options","type","this","notification","Notification","alertDialog","AlertDialog","model","Backbone","changedModels","overriddenInheritedModels","arguments","childViewOptions","emptyViewOptions","_initConfirmationDialogs","_initFilters","buttons","buttonsContainer","_initButtons","_initEvents","render","hideFilters","_renderFilters","hide","_resetFilters","saveChildren","self","deletedModels","_filterChangeList","updatedModels","saveDfD","$","_validateNotAcceptedChildView","done","containsUnsavedItems","collection","save","_successAjaxCallback","fail","_errorAjaxCallback","resolve","reject","validationDfD","currentChildView","runValidation","dfd","revertChanges","revertDfd","toggleActive","i","length","isDeleted","revertViewRemoval","isNew","_removeModel","reset","setState","getState","_resetChangedList","getTemplate","tableTemplatesFactory","removeView","view","_findChildrenByModel","indexOf","get","_saveRemovedOverriddenInheritedModelToList","_saveChildViewToChangedList","indexInCollection","models","_deleteViewFromChangedList","add","at","remove","window","off","_onPageLeave","_removeConfirmationDialogs","on","confirmationDialogs","confirmationDialog","confirmationDialogFactory","listenTo","_onDeleteConfirm","_onNameConfirm","_revertChangedModelProperty","_onEditConfirm","_initPermissionConfirmEvents","data","show","message","_sendSearchRequest","_searchForInherited","renamedModels","then","_postProcessItems","_isServerLevel","_deletedRenamedModels","propertyName","property","attributes","attribute","name","_onSaveSuccess","setMessage","errorFactory","open","_toggleAddNewItemButton","$addNewItem","_checkCurrentAttribute","e","preventDefault","event","returnValue","cancel","validateDfD","childView","modelName","isInherited","isRenamed","_revertInheritedRemoval","attributesTypesEnum","getContext","id","_addNewChildView","addNew","_scrollToChildView","$parentElement","$el","closest","parentElementHeight","height","$childViewEl","childViewElHeight","childViewPosition","position","scrollTo","top","scrollTop","animate","_successValidationCallback","_filterInheritedViews","validateIfSecure","toggleIfModelIsValid","_removeInheritedView","_addInheritedView","_showPermissionConfirm","splice","_findModelsWhere","findWhere","children","findByModel","_triggerChangeEvent","toggleButtons","trigger","_activeChildView","active","_setCurrentChildView","modelChanged","push","invokeFiltration","_openConfirm","set","confirmDialog","openConfirm","setContent","_validateChildView","modelIsOriginallyInherited","isOriginallyInherited","successCallback","groupSearch","getChangedProperties","_sendValidateSearchRequest","validateSearch","modelWithSameNameWasDeleted","deletedModel","changedModelsWithSameName","changedModel","nextCurrentChildView","currentChildViewModel","isStateConfirmed","OptionContainer","el","contextName","optionTemplate","disable","enable","optionView","removeClass","DEFAULT_FILTER","BOOLEAN_VALUES","AttributesFilterCollectionView","Marionette","templateHelpers","constructor","_initCurrentCriteria","targetCollection","epoxifyView","initEvents","addItemToFilterCollection","removeItemFromFilterCollection","_initFilterCollection","filter","criteria","currentCriteria","filtered","defaultFilter","filterCollection","where","find","prop","applyEpoxyBindings","delegateEvents","removeEpoxyBindings","val","_onCurrentFilterChange","splittedValue","target","split","JSON","parse","prototype","epoxyViewMixin","template","rawModel","onRender","unwrap","setElement","filters","AttributesFilterView","childViewContainer","currentFilter","$filterEl","prepend","_findOriginallyInheritedModelByName","filteredInheriteds","filterInheritedAttributes","_findInheriteds","inherited","inheritedModel","search","addItemsToCollection","resetField","_onPermissionConfirm","_onPermissionCancel","changedChildViewModel","triggerModelValidation","hasChanged","designerByType","traits","mainTrait","AttributesDesigner","trait","designerButtonsTrait","designerPermissionTrait","designerFilterTrait","designerInheritedTrait","HOLDERS","defaultUrlPUTTemplate","defaultUrlGETTemplate","groupsEnum","context","urlGETTemplate","urlPUTTemplate","setContext","forceRefresh","fetch","cache","headers","Accept","url","urlTemplate","levelIdEnum","escapeLevelId","TemplateEngine","encodeURIComponent","replace","allModels","updatedModelsJSON","_modelsToJSON","contentType","request","_concatNames","stringify","newModels","omitId","groupsSearch","groups","_concatGroups","_successSearchCallback","recursive","dataType","getHolder","tenantId","userName","omitValue","toJSON","defaultModel","modelHolder","holder","attr","group","nameStr","getNameParameter","bundle","Object","keys","reduce","acc","key","_onMouseOver","_onMouseOut","BaseRow","behaviors","Tooltip","behaviorClass","readOnly","empty","editMode","SECURE_VALUE_SUBSTITUTION","rowTemplatesFactory","i18n2","types","encrypted","computeds","encrypt","value","setBinding","_onDeleteClick","RowView","tagName","passwordInput","modelEvents","DeleteConfirm","deps","permissionMask","isReadOnly","permissionMasksEnum","disableRemove","_onViewInitialize","_onViewRender","showRowViewTemplate","toggleMode","slideDown","slideUp","validateModel","confirmState","css","triggerConfirmOpening","openPermissionConfirmOrValidate","permissionConfirmShouldBeShown","_openPermissionConfirm","_embedded","trimAttrs","modelIsValid","isValid","confirm","toggleValue","$input","inputValue","isValueSecured","isOkButton","relatedTarget","hasClass","isClick","_isPermissionLimited","nameChanged","validateSecureValue","setId","_onModelChange","modelIsChanged","changedAttributes","originalModelAttributes","modelIsNew","originalAttribute","secure","validate","maskMap","1","2","32","0","_onPermissionChange","embeddedPermission","getPermission","embeddedPermissionMask","mask","prevAll","isPermissionLimited","confirmedState","i18nMessage","i18nMessageUtil","required","msg","maxLength","validationRulesEnum","doesNotContainSymbols","MAX_LENGTH","MAX_VALUE_LENGTH","AttributeModel","Epoxy","defaults","undefined","description","_initModelWithPermissionDefaults","validateSameNames","safeId","validation","baseProfileAttributeValidation","concat","attributesLength","toggleSameNamesValidation","state","originalState","isOverridden","compareAttribute","attrs","attrValue","stateConfirmed","isEmptyValue","isSecure","BackboneValidation","permissionEmbedded","permission","recipient","roleEnum","AttributesCollection","modelWithPermissionTrait","commonOptions","tooltip","$container","container","designer","DesignerRowView","viewWithPermissionTrait","emptyView","DesignerEmptyView","selected","viewer","label","action","primary","initScrollEvent","instance","parent","addNewAttributeLink","scroll","scrollLeft","detachScrollEvent","attachTo","contentTemplate","BaseTable","_initTooltipEvents","append","refreshAttributes","_onChildViewMouseOver","_onChildViewMouseOut","$parentTableColumn","CANCEL_CONFIRM","DELETE_CONFIRM","PERMISSION_CONFIRM","NAME_CONFIRM","EDIT_CONFIRM"],"mappings":"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","file":"_chunks/chunk.5249.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    USER: 'user',\n    TENANT: 'tenant',\n    SERVER: 'server'\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport confirmDialogTypesEnum from '../../serverSettingsCommon/enum/confirmDialogTypesEnum';\nimport confirmationDialog from 'js-sdk/src/common/component/dialog/ConfirmationDialog';\n\nvar typeToConfirmDialogOptionsMap = {};\nvar defaultConfirm = {title: i18n['attributes.confirm.dialog.title']};\ntypeToConfirmDialogOptionsMap[confirmDialogTypesEnum.DELETE_CONFIRM] = defaultConfirm;\ntypeToConfirmDialogOptionsMap[confirmDialogTypesEnum.NAME_CONFIRM] = {\n    title: i18n['attributes.confirm.dialog.title'],\n    text: i18n['attributes.confirm.name.dialog.text']\n};\ntypeToConfirmDialogOptionsMap[confirmDialogTypesEnum.CANCEL_CONFIRM] = {\n    title: i18n['attributes.confirm.dialog.title'],\n    text: i18n['attributes.confirm.cancel.dialog.text.custom']\n};\ntypeToConfirmDialogOptionsMap[confirmDialogTypesEnum.PERMISSION_CONFIRM] = defaultConfirm;\ntypeToConfirmDialogOptionsMap[confirmDialogTypesEnum.EDIT_CONFIRM] = _.extend({}, {text: i18n['attributes.confirm.edit.dialog.text']}, defaultConfirm);\nexport default function (type) {\n    return typeToConfirmDialogOptionsMap[type] && new confirmationDialog(typeToConfirmDialogOptionsMap[type]);\n}","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport _ from 'underscore';\n\nvar errorCodeToMessageMap = {};\nvar unknownError = [i18n['attributes.error.message.unknown.error']];\nerrorCodeToMessageMap['access.denied'] = [\n    i18n['attributes.error.message.access.denied'],\n    ['name']\n];\nerrorCodeToMessageMap[401] = [i18n['attributes.error.message.not.authenticated']];\nerrorCodeToMessageMap['illegal.parameter.value.error'] = [i18n['attributes.illegal.parameter.value.error']];\nerrorCodeToMessageMap['attribute.invalid.permission.order'] = [\n    i18n['attributes.error.message.invalid.permission.order'],\n    [\n        'name',\n        {\n            field: 'strongerPermission',\n            fn: getPermissionMask\n        },\n        {\n            field: 'inheritedPermission',\n            fn: getPermissionMask\n        }\n    ]\n];\nerrorCodeToMessageMap['attribute.duplicate.server.level'] = [\n    i18n['attributes.error.message.duplicate.server.level'],\n    ['name']\n];\n\nfunction getParamsObject(paramsArray, parameters) {\n    var paramsObj = {};\n    _.each(paramsArray, function (param, index) {\n        if (!_.isObject(param)) {\n            paramsObj[param] = parameters[index];\n        } else {\n            paramsObj[param.field] = param.fn(parameters[index]);\n        }\n    });\n    return paramsObj;\n}\n\nfunction getPermissionMask(code) {\n    return i18n['attributes.attribute.permissionMask.' + code];\n}\n\nexport default function (response) {\n    var responseJSON = response.responseJSON || {}, errorCode = responseJSON.errorCode,\n        parameters = responseJSON.parameters, responseStatus = response.status,\n        msgObj = errorCodeToMessageMap[errorCode ? errorCode : responseStatus] || unknownError, msg;\n    msg = _.template(msgObj[0])(msgObj[1] ? getParamsObject(msgObj[1], parameters) : {});\n    return msg;\n}","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport Backbone from 'backbone';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport confirmDialogTypesEnum from '../../serverSettingsCommon/enum/confirmDialogTypesEnum';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport confirmationDialogFactory from '../../attributes/factory/confirmationDialogFactory';\nimport tableTemplatesFactory from '../../attributes/factory/tableTemplatesFactory';\nimport errorFactory from '../../attributes/factory/errorFactory';\nimport AttributesViewer from '../../attributes/view/AttributesViewer';\nimport Notification from 'js-sdk/src/common/component/notification/Notification';\nimport AlertDialog from 'js-sdk/src/common/component/dialog/AlertDialog';\n\nvar AttributesDesigner = AttributesViewer.extend({\n    className: 'attributesDesigner',\n    ui: {addNewBtn: '.addNewItem'},\n    events: {\n        'click @ui.addNewBtn': '_addNewChildView',\n        'mousedown .filterItems, .actions.table-column button, .permission.table-column select, .secure.table-column input': '_checkCurrentAttribute',\n        'focus .filterItems, .actions.table-column button, .permission.table-column select, .secure.table-column input': '_checkCurrentAttribute'\n    },\n    childEvents: {\n        'active': '_activeChildView',\n        'changed': '_saveChildViewToChangedList',\n        'open:confirm': '_openConfirm',\n        'validate': '_validateChildView'\n    },\n    initialize: function (options) {\n        options = options || {};\n        var type = {type: options.type};\n        this.notification = new Notification();\n        this.alertDialog = new AlertDialog();\n        this.model = new Backbone.Model();\n        this.changedModels = [];\n        this.overriddenInheritedModels = [];\n        AttributesViewer.prototype.initialize.apply(this, arguments);\n        this.childViewOptions = _.extend({}, options.childViewOptions, type);\n        this.emptyViewOptions = _.extend({}, options.emptyViewOptions, type);\n        this._initConfirmationDialogs();\n        this._initFilters && this._initFilters(options);\n        !_.isEmpty(options.buttons) && options.buttonsContainer && this._initButtons && this._initButtons(options);\n        this._initEvents();\n    },\n    render: function (hideFilters) {\n        AttributesViewer.prototype.render.apply(this, arguments);\n        this._renderFilters && this._renderFilters(hideFilters);\n        return this;\n    },\n    hide: function () {\n        this._resetFilters && this._resetFilters();\n        AttributesViewer.prototype.hide.apply(this, arguments);\n    },\n    saveChildren: function () {\n        var self = this, deletedModels = this._filterChangeList('isDeleted'),\n            updatedModels = _.difference(this.changedModels, deletedModels);\n        this.saveDfD = new $.Deferred();\n        this._validateNotAcceptedChildView().done(function () {\n            self.containsUnsavedItems() ? self.collection.save(self.changedModels, updatedModels).done(_.bind(self._successAjaxCallback, self)).fail(_.bind(self._errorAjaxCallback, self)) : self.saveDfD.resolve();\n        }).fail(function () {\n            self.saveDfD.reject();\n        });\n        return this.saveDfD;\n    },\n    _validateNotAcceptedChildView: function () {\n        var validationDfD = new $.Deferred();\n        this.currentChildView ? this.currentChildView.runValidation(null, {dfd: validationDfD}) : validationDfD.resolve();\n        return validationDfD;\n    },\n    revertChanges: function () {\n        this.revertDfd = new $.Deferred();\n        var self = this, dfd = new $.Deferred(), model;\n        this.currentChildView ? this.currentChildView.toggleActive().done(dfd.resolve) : dfd.resolve();\n        dfd.done(function () {\n            var length = self.changedModels.length;\n            for (var i = length - 1; i >= 0; i--) {\n                model = self.changedModels[i];\n                if (!model.isDeleted) {\n                    !model.isNew() ? model.reset().setState('confirmedState', model.getState()) : self._removeModel(model);\n                } else {\n                    self.revertViewRemoval(model);\n                }\n            }\n            self._resetChangedList();\n            self.revertDfd.resolve();\n        });\n        return this.revertDfd;\n    },\n    getTemplate: function () {\n        return _.template(tableTemplatesFactory());\n    },\n    containsUnsavedItems: function () {\n        return !!this.changedModels.length;\n    },\n    removeView: function (model) {\n        var view = this._findChildrenByModel(model);\n        model.isDeleted = {index: this.collection.indexOf(model)};\n        !model.get('inherited') ? this._saveChildViewToChangedList(view, !model.isNew()) : this._saveRemovedOverriddenInheritedModelToList(model);\n        this._removeModel(model);\n    },\n    revertViewRemoval: function (model) {\n        var index = model.isDeleted && model.isDeleted.index,\n            indexInCollection = _.isNumber(index) ? index : this.collection.models.length;    //TODO: Check if this row could be removed\n        //TODO: Check if this row could be removed\n        this._deleteViewFromChangedList(model);\n        model.reset();\n        this.collection.add(model, {at: indexInCollection});\n        delete model.isDeleted;\n    },\n    remove: function () {\n        $(window).off('beforeunload', this._onPageLeave);\n        this._removeConfirmationDialogs();\n        this.notification && this.notification.remove();\n        this.alertDialog && this.alertDialog.remove();\n        AttributesViewer.prototype.remove.apply(this, arguments);\n    },\n    /*******************/\n    /* Private methods */\n    /*******************/\n    _initEvents: function () {\n        $(window).on('beforeunload', _.bind(this._onPageLeave, this));\n    },\n    _initConfirmationDialogs: function () {\n        this.confirmationDialogs = {};\n        _.each(confirmDialogTypesEnum, function (type) {\n            this.confirmationDialogs[type] = confirmationDialogFactory(type);\n        }, this);\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.DELETE_CONFIRM], 'button:yes', this._onDeleteConfirm);\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.NAME_CONFIRM], 'button:yes', this._onNameConfirm);\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.NAME_CONFIRM], 'button:no', _.bind(this._revertChangedModelProperty, this, 'name'));\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.CANCEL_CONFIRM], 'button:yes', this.revertChanges);\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.EDIT_CONFIRM], 'button:yes', this._onEditConfirm);\n        this._initPermissionConfirmEvents && this._initPermissionConfirmEvents();\n    },\n    _removeConfirmationDialogs: function () {\n        _.each(this.confirmationDialogs, function (confirmationDialog) {\n            confirmationDialog.remove();\n        }, this);\n    },\n    _successAjaxCallback: function (data) {\n        this.notification.show({\n            message: i18n['attributes.notification.message.saved'],\n            type: 'success'\n        });\n        this._sendSearchRequest() ? this._searchForInherited(_.union(this.deletedModels, this.renamedModels)).then(this.saveDfD.resolve, this.saveDfD.reject) : this.saveDfD.resolve();\n        data && this._postProcessItems(data);\n        this._resetChangedList();\n    },\n    _sendSearchRequest: function () {\n        return !this._isServerLevel() && this._searchForInherited && this._deletedRenamedModels();\n    },\n    _deletedRenamedModels: function () {\n        this.deletedModels = this._filterChangeList('isDeleted');\n        this.renamedModels = this._filterChangeList('isRenamed');\n        return this.deletedModels.length || this.renamedModels.length;\n    },\n    _filterChangeList: function (propertyName) {\n        var property;\n        return _.compact(_.filter(this.changedModels, function (model) {\n            property = model[propertyName];\n            if (!model.get('inherited')) {\n                return !_.isFunction(property) ? property : model[propertyName]();\n            }\n        }));\n    },\n    _postProcessItems: function (data) {\n        var attributes = data.attribute, view;\n        _.each(attributes, function (attribute) {\n            view = this._findChildrenByModel(attribute.name);\n            view && view._onSaveSuccess();\n        }, this);\n    },\n    _errorAjaxCallback: function (response) {\n        this.alertDialog.setMessage(errorFactory(response));\n        this.alertDialog.open();\n        this.saveDfD.reject();\n    },\n    _toggleAddNewItemButton: function (show) {\n        var $addNewItem = $(this.ui.addNewBtn);\n        show ? $addNewItem.show() : $addNewItem.hide();\n    },\n    _checkCurrentAttribute: function (e) {\n        if (this.currentChildView) {\n            e.preventDefault();\n            this.confirmationDialogs[confirmDialogTypesEnum.EDIT_CONFIRM].open();\n        }\n    },\n    _onPageLeave: function (e) {\n        if (this.containsUnsavedItems()) {\n            (e || window.event).returnValue = i18n['attributes.dialog.unsaved.changes'];\n            return i18n['attributes.dialog.unsaved.changes'];\n        }\n    },\n    _onEditConfirm: function () {\n        this.currentChildView.cancel();\n    },\n    _onNameConfirm: function () {\n        this.validateDfD && this.validateDfD.resolve();\n    },\n    _onDeleteConfirm: function () {\n        var childView = this.model.get('changedChildView'), model = childView.model, modelName = model.get('name');\n        if (childView.isInherited() && !model.isRenamed()) {\n            model.reset();\n        } else {\n            this.removeView(model);\n            this._revertInheritedRemoval && this._revertInheritedRemoval(modelName);\n        }\n    },\n    _isServerLevel: function () {\n        return this.type === attributesTypesEnum.SERVER || this.collection.getContext().id === null;\n    },\n    /***********************/\n    /* Child views methods */\n    /***********************/\n    _revertChangedModelProperty: function (property) {\n        var childView = this.model.get('changedChildView') || this.currentChildView;\n        childView.model.reset(property, 'confirmedState');\n    },\n    _addNewChildView: function () {\n        var model = this.collection.addNew();\n        var view = this._findChildrenByModel(model);\n        this._saveChildViewToChangedList(view, true);\n        view.toggleActive();\n    },\n    _scrollToChildView: function (childView) {\n        var $parentElement = this.$el.closest('.body'), parentElementHeight = $parentElement.height(),\n            $childViewEl = childView.$el, childViewElHeight = $childViewEl.height(),\n            childViewPosition = $childViewEl.position(),\n            scrollTo = parentElementHeight < childViewPosition.top + childViewElHeight && {scrollTop: $parentElement.scrollTop() + (childViewPosition.top + childViewElHeight - parentElementHeight)};\n        scrollTo && $parentElement.animate(scrollTo, 900);\n    },\n    _successValidationCallback: function (childView, dfd, data) {\n        var self = this, model = childView.model;\n        this._filterInheritedViews && this._filterInheritedViews(data);\n        childView.validateIfSecure();\n        childView.toggleIfModelIsValid().done(function () {\n            self._removeInheritedView && self._removeInheritedView(model);\n            self._addInheritedView && self._addInheritedView(model);\n            self._showPermissionConfirm && self._showPermissionConfirm(childView);\n            self._resetFilters && self._resetFilters();\n            dfd.resolve();\n        });\n    },\n    _deleteViewFromChangedList: function (model) {\n        var index = _.indexOf(this.changedModels, model);\n        index !== -1 && this.changedModels.splice(index, 1);\n    },\n    _removeModel: function (model) {\n        this.collection.remove(model);\n    },\n    _findModelsWhere: function (attributes) {\n        return this.collection.findWhere(attributes);\n    },\n    _findChildrenByModel: function (model) {\n        model = _.isString(model) ? this._findModelsWhere({name: model}) : model;\n        return model && this.children.findByModel(model);\n    },\n    _resetChangedList: function () {\n        this.changedModels.length = 0;\n        this.overriddenInheritedModels.length = 0;\n        this._triggerChangeEvent();\n    },\n    _triggerChangeEvent: function () {\n        this.toggleButtons && this.toggleButtons();\n        this.trigger('change');\n    },\n    /******************************/\n    /*  Child view event handlers */\n    /******************************/\n    _activeChildView: function (childView, active, dfd) {\n        this._setCurrentChildView(active ? childView : null);\n        this._scrollToChildView(childView);\n        dfd && dfd.resolve();\n    },\n    _saveChildViewToChangedList: function (childView, modelChanged) {\n        var model = childView.model;\n        _.contains(this.changedModels, model) ? !modelChanged && this._deleteViewFromChangedList(model) : modelChanged && this.changedModels.push(model);\n        childView.invokeFiltration() && this._resetFilters && this._resetFilters();\n        this._triggerChangeEvent();\n    },\n    _saveRemovedOverriddenInheritedModelToList: function (model) {\n        !_.contains(this.overriddenInheritedModels, model) && this.overriddenInheritedModels.push(model);\n    },\n    _openConfirm: function (childView, type, options) {\n        this.validateDfD = options.dfd;\n        this.model.set('changedChildView', childView);\n        var confirmDialog = this.confirmationDialogs[type],\n            openConfirm = type !== confirmDialogTypesEnum.CANCEL_CONFIRM ? true : this.containsUnsavedItems();\n        switch (type) {\n        case confirmDialogTypesEnum.DELETE_CONFIRM:\n            confirmDialog.setContent(_.template(i18n['attributes.confirm.delete.dialog.text'], {name: childView.model.get('name')}));\n            break;\n        case confirmDialogTypesEnum.PERMISSION_CONFIRM:\n            confirmDialog.setContent(i18n['attributes.confirm.permission.dialog.text']);\n            break;\n        }\n        openConfirm && confirmDialog.open();\n    },\n    _validateChildView: function (childView, options) {\n        options = options || {};\n        var model = childView.model, dfd = options.dfd ? options.dfd : new $.Deferred(),\n            modelIsOriginallyInherited = !model.isOriginallyInherited(),\n            successCallback = _.bind(this._successValidationCallback, this, childView, dfd),\n            groupSearch = this._isServerLevel();\n        childView.getChangedProperties('name') && !this._sendValidateSearchRequest(model) ? this.collection.validateSearch(model, this.changedModels, modelIsOriginallyInherited, groupSearch).then(successCallback) : successCallback();\n        return dfd;\n    },\n    _sendValidateSearchRequest: function (model) {\n        var deletedModels = this._filterChangeList('isDeleted'),\n            modelWithSameNameWasDeleted = _.filter(deletedModels, function (deletedModel) {\n                return model.get('name') === deletedModel.get('name');\n            }).length, changedModelsWithSameName = _.filter(this.changedModels, function (changedModel) {\n                return model.get('name') === changedModel.get('name');\n            }).length;\n        return modelWithSameNameWasDeleted && !model.isDeleted && changedModelsWithSameName <= 2;\n    },\n    _setCurrentChildView: function (nextCurrentChildView) {\n        this._toggleAddNewItemButton(!nextCurrentChildView);\n        var currentChildView = this.currentChildView;\n        if (currentChildView) {\n            var currentChildViewModel = currentChildView.model,\n                removeModel = currentChildViewModel.isNew() && !currentChildView.isStateConfirmed();\n            removeModel && this.removeView(currentChildViewModel);\n        }\n        this.currentChildView = nextCurrentChildView;\n    }\n});\nexport default AttributesDesigner;","export default \"<button class=\\\"button action up {{= primary ? 'primary' : ''}}\\\">\\n\\n    <span class=\\\"wrap\\\">{{- label }}<span class=\\\"icon\\\"></span></span>\\n</button>\\n\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport OptionContainer from 'js-sdk/src/common/component/base/OptionContainer';\nimport confirmDialogTypesEnum from '../../enum/confirmDialogTypesEnum';\nimport buttonTemplate from '../../templates/buttonTemplate.htm';\n\nexport default {\n    _initButtons: function (options) {\n        this.buttons = new OptionContainer({\n            options: options.buttons,\n            el: options.buttonsContainer,\n            contextName: 'button',\n            optionTemplate: buttonTemplate\n        });\n        this.buttons.disable();\n        this.listenTo(this.buttons, 'button:save', this.saveChildren);\n        this.listenTo(this.buttons, 'button:cancel', _.bind(this._openConfirm, this, null, confirmDialogTypesEnum.CANCEL_CONFIRM));\n    },\n    toggleButtons: function () {\n        var buttons = this.buttons;\n        if (this.containsUnsavedItems()) {\n            buttons.enable();\n        } else {\n            // removes buttons selection before disabling it.\n            _.each(buttons.options, function (optionView) {\n                optionView.$el.removeClass('over');\n            });\n            buttons.disable();\n        }\n    }\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @author: Taras Bidyuk\n * @version: $Id$\n */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport epoxyViewMixin from 'js-sdk/src/common/view/mixin/epoxyViewMixin';\n\nvar DEFAULT_FILTER = \"defaultFilter\",\n    BOOLEAN_VALUES = [\"true\", \"false\"];\n\nvar AttributesFilterCollectionView = Marionette.CompositeView.extend({\n    className: \"filtersContainer\",\n\n    events: {\n        \"change select\": \"_onCurrentFilterChange\"\n    },\n\n    templateHelpers: function() {\n        return {\n            i18n: i18n\n        };\n    },\n\n    constructor: function(options) {\n        this._initCurrentCriteria();\n\n        Marionette.CompositeView.apply(this, arguments);\n    },\n\n    initialize: function(options) {\n        this.targetCollection = (options && options.targetCollection) || [];\n\n        this.epoxifyView();\n\n        this.initEvents();\n    },\n\n    initEvents: function() {\n        this.listenTo(this.targetCollection, \"add\", this.addItemToFilterCollection);\n        this.listenTo(this.targetCollection, \"remove\", this.removeItemFromFilterCollection);\n        this.listenTo(this.targetCollection, \"sync\", this._initFilterCollection);\n    },\n\n    filter: function(criteria) {\n        var currentCriteria = criteria || this.currentCriteria,\n            filtered = currentCriteria.defaultFilter ?\n                this.filterCollection.models :\n                this.filterCollection.where(currentCriteria);\n\n        this.targetCollection.reset(filtered);\n    },\n\n    reset: function() {\n        if (!this.currentCriteria[DEFAULT_FILTER]) {\n            this.$el.find(\"option[value='\" + DEFAULT_FILTER + \"::true']\").prop(\"selected\", true);\n            this._initCurrentCriteria();\n            this.filter();\n        }\n    },\n\n    addItemToFilterCollection: function(model) {\n        this.filterCollection.add(model);\n    },\n\n    removeItemFromFilterCollection: function(model) {\n        this.filterCollection.remove(model);\n    },\n\n    render: function() {\n        Marionette.CompositeView.prototype.render.apply(this, arguments);\n\n        this.applyEpoxyBindings();\n        this.delegateEvents(this.events);\n\n        return this;\n    },\n\n    remove: function() {\n        this.removeEpoxyBindings();\n\n        Marionette.CompositeView.prototype.remove.apply(this, arguments);\n    },\n\n    _initCurrentCriteria: function(prop, val) {\n        prop = prop || DEFAULT_FILTER;\n        val = !_.isUndefined(val) ? val : true;\n\n        this.currentCriteria = {};\n        this.currentCriteria[prop] = val;\n    },\n\n    _initFilterCollection: function() {\n        this.filterCollection = new Backbone.Collection(this.targetCollection.models);\n    },\n\n    _onCurrentFilterChange: function(e) {\n        var splittedValue = $(e.target).val().split(\"::\"),\n            prop = splittedValue[0],\n            val = splittedValue[1];\n\n        if (_.indexOf(BOOLEAN_VALUES, val) !== -1) {\n            this._initCurrentCriteria(prop, JSON.parse(val));\n            this.filter();\n        }\n    }\n});\n\n_.extend(AttributesFilterCollectionView.prototype, epoxyViewMixin);\n\nexport default AttributesFilterCollectionView;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport attributesFilterTemplate from '../../../attributes/attributesFilter/template/attributesFilterViewTemplate.htm';\nimport Marionette from 'backbone.marionette';\n\nvar AttributesFilterView = Marionette.ItemView.extend({\n    template: function (rawModel) {\n        return _.template(attributesFilterTemplate)({model: rawModel});\n    },\n    onRender: function () {\n        this.$el = this.$el.children();\n        this.$el.unwrap();\n        this.setElement(this.$el);\n    }\n});\nexport default AttributesFilterView;","export default \"<option value=\\\"{{- model.field + '::' + model.value}}\\\" {{ if(model.selected) { }}selected=\\\"selected\\\"{{ } }} >{{- model.title }}</option>\\n\\n    <js-templateNonce></js-templateNonce>\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport AttributesFilterCollectionView from '../../../attributes/attributesFilter/AttributesFilterCollectionView';\nimport AttributesFilterView from '../../../attributes/attributesFilter/view/AttributesFilterView';\nimport attributesFilterCollectionViewTemplate\n    from '../../../attributes/attributesFilter/template/attributesFilterCollectionViewTemplate.htm';\n\nexport default {\n    _initFilters: function (options) {\n        this.filters = new AttributesFilterCollectionView({\n            collection: new Backbone.Collection(options.filters || []),\n            childView: AttributesFilterView,\n            childViewContainer: 'select',\n            template: _.template(attributesFilterCollectionViewTemplate),\n            model: new Backbone.Model({currentFilter: null}),\n            targetCollection: this.collection\n        });\n    },\n    _renderFilters: function (hideFilters) {\n        var $filterEl = this.filters.render().el;\n        return !hideFilters && this.$el.prepend($filterEl);\n    },\n    _resetFilters: function () {\n        this.filters.reset();\n    }\n};","export default \"<span>\\n\\n    <js-templateNonce></js-templateNonce>\\n    {{- i18n[\\\"attributes.table.filters.filter.by\\\"]}}</span>\\n<select class=\\\"filterItems\\\"></select>\\n\\n\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\n\nexport default {\n    _findOriginallyInheritedModelByName: function (models, name) {\n        return _.find(models, function (model) {\n            return model.isOriginallyInherited() && model.get('name') === name;\n        });\n    },\n    _filterInheritedViews: function (data) {\n        this.filteredInheriteds = this.collection.filterInheritedAttributes(data);\n    },\n    _findInheriteds: function (name) {\n        return this._findModelsWhere({\n            name: name,\n            inherited: true\n        });\n    },\n    _revertInheritedRemoval: function (name) {\n        if (!this._findInheriteds(name)) {\n            var inheritedModel = this._findOriginallyInheritedModelByName(_.union(this.changedModels, this.overriddenInheritedModels), name);\n            inheritedModel && this.revertViewRemoval(inheritedModel);\n        }\n    },\n    _searchForInherited: function (models) {\n        var self = this;\n        return this.collection.search(models).done(function (data) {\n            if (data) {\n                self._filterInheritedViews(data);\n                self.collection.addItemsToCollection(self.filteredInheriteds);\n            }\n        });\n    },\n    _removeInheritedView: function (model) {\n        var inheritedModel = this._findInheriteds(model.get('name'));\n        inheritedModel && this.removeView(inheritedModel);\n    },\n    _addInheritedView: function (model) {\n        if (this.filteredInheriteds && this.filteredInheriteds.length) {\n            model.resetField('id');\n            this.collection.addItemsToCollection(this.filteredInheriteds);\n        }\n    }\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport confirmDialogTypesEnum from '../../../serverSettingsCommon/enum/confirmDialogTypesEnum';\n\nexport default {\n    _initPermissionConfirmEvents: function () {\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.PERMISSION_CONFIRM], 'button:yes', this._onPermissionConfirm);\n        this.listenTo(this.confirmationDialogs[confirmDialogTypesEnum.PERMISSION_CONFIRM], 'button:no', this._onPermissionCancel);\n    },\n    _onPermissionConfirm: function () {\n        var changedChildViewModel;\n        if (this.currentChildView) {\n            this.currentChildView.triggerModelValidation({dfd: this.validateDfD});\n        } else {\n            changedChildViewModel = this.model.get('changedChildView').model;\n            changedChildViewModel.setState('confirmedState');\n            changedChildViewModel.hasChanged('inherited') && this._resetFilters && this._resetFilters();\n        }\n    },\n    _onPermissionCancel: function () {\n        this._revertChangedModelProperty('_embedded');\n    },\n    _showPermissionConfirm: function (childView) {\n        childView._showPermissionConfirm(false);\n    }\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport AttributesDesigner from '../../attributes/view/AttributesDesigner';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport designerButtonsTrait from '../../serverSettingsCommon/view/traits/buttonsTrait';\nimport designerFilterTrait from '../../attributes/view/trait/designerFilterTrait';\nimport designerInheritedTrait from '../../attributes/view/trait/designerInheritedTrait';\nimport designerPermissionTrait from '../../attributes/view/trait/designerPermissionTrait';\n\nvar designerByType = {};\ndesignerByType[attributesTypesEnum.SERVER] = [\n    designerButtonsTrait,\n    designerPermissionTrait\n];\ndesignerByType[attributesTypesEnum.TENANT] = [\n    designerFilterTrait,\n    designerInheritedTrait,\n    designerPermissionTrait\n];\ndesignerByType[attributesTypesEnum.USER] = [\n    designerFilterTrait,\n    designerInheritedTrait\n];\n\nfunction combineTraits(traits) {\n    var mainTrait = {};\n    _.each(traits, function (trait) {\n        _.extend(mainTrait, trait);\n    });\n    return mainTrait;\n}\n\nexport default function (type, options) {\n    var designer = AttributesDesigner.extend(combineTraits(designerByType[type]));\n    return new designer(options);\n}","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    'CUSTOM': 'custom',\n    'LOG4J': 'log4j',\n    'MONDRIAN': 'mondrian',\n    'AWS': 'aws',\n    'JDBC': 'jdbc',\n    'ADHOC': 'adhoc',\n    'JI': 'ji',\n    'CUSTOM_SERVER_SETTINGS': 'customServerSettings'\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default [\n    'tenantId',\n    'id',\n    'userName'\n];","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport Backbone from 'backbone';\nimport request from 'js-sdk/src/common/transport/request';\nimport TemplateEngine from '../../components/components.templateengine';\nimport groupsEnum from '../../serverSettingsCommon/enum/serverSettingGroupsEnum';\nimport levelIdEnum from '../../attributes/enum/levelIdEnum';\n\nvar HOLDERS = {\n    TENANT: 'tenant:/',\n    USER: 'user:/'\n};\nvar AttributesCollection = Backbone.Collection.extend({\n    initialize: function (models, options) {\n        options = options || {};\n        var defaultUrlPUTTemplate = 'rest_v2/attributes?_embedded=permission',\n            defaultUrlGETTemplate = defaultUrlPUTTemplate + '&group=' + groupsEnum.CUSTOM,\n            context = options.context || {};\n        this.urlGETTemplate = context.urlGETTemplate || defaultUrlGETTemplate;\n        this.urlPUTTemplate = context.urlPUTTemplate || defaultUrlPUTTemplate;\n    },\n    /**\n     * Parses server responce. It is called by Backbone.\n     * @instance\n     * @memberof Attributes\n     * @param data received JavaScript object\n     * @return error code\n     */\n    parse: function (data) {\n        return data && data.attribute ? data.attribute : [];\n    },\n    setContext: function (context, forceRefresh) {\n        context = context || {\n            urlGETTemplate: this.urlGETTemplate,\n            urlPUTTemplate: this.urlPUTTemplate\n        };\n        var dfd = new $.Deferred();\n        if (_.isEqual(this.context, context) && !forceRefresh) {\n            dfd.resolve();\n        } else {\n            this.context = context;\n            this.fetch({\n                cache: false,\n                reset: true,\n                headers: {Accept: 'application/attributes.collection.hal+json'}\n            }).done(dfd.resolve);\n        }\n        return dfd;\n    },\n    getContext: function () {\n        return this.context;\n    },\n    /**\n     * Returns url of collection.\n     * @instance\n     * @param {string} [type] - type of request\n     * @return url of representing collection\n     */\n    url: function (type) {\n        var data = _.extend({}, this.context), urlTemplate = type === 'PUT' ? this.urlPUTTemplate : this.urlGETTemplate;\n        _.each(levelIdEnum, function (id) {\n            data[id] && (data[id] = this.escapeLevelId(data[id]));\n        }, this);\n        return TemplateEngine.renderUrl(urlTemplate, data, false);\n    },\n    escapeLevelId: function (id) {\n        return encodeURIComponent(id).replace(/'/g, '%27');\n    },\n    save: function (allModels, updatedModels) {\n        var type = 'PUT', updatedModelsJSON = this._modelsToJSON(updatedModels, true),\n            contentType = 'application/hal+json';\n        return request({\n            url: this.url(type) + this._concatNames(allModels),\n            type: 'PUT',\n            cache: false,\n            contentType: contentType,\n            headers: {Accept: contentType},\n            data: JSON.stringify({'attribute': updatedModelsJSON})\n        });\n    },\n    validateSearch: function (model, newModels, omitId, groupsSearch) {\n        var recursive = '&recursive=true', groups = groupsSearch && this._concatGroups();\n        return this.search(model, newModels, recursive, omitId, groups).done(_.bind(this._successSearchCallback, this, model, newModels));\n    },\n    filterInheritedAttributes: function (data) {\n        var attributes = data && data.attribute;\n        return data ? _.filter(attributes, function (attribute) {\n            return attribute.inherited && !this.findWhere({\n                name: attribute.name,\n                inherited: true\n            });\n        }, this) : null;\n    },\n    search: function (models, newModels, recursive, omitId, groups) {\n        recursive = recursive || '';\n        groups = groups || '';\n        var contentType = 'application/attributes.collection.hal+json';\n        return request({\n            url: this.url() + this._concatNames(models, omitId) + recursive + groups,\n            type: 'GET',\n            dataType: 'json',\n            cache: false,\n            contentType: contentType,\n            headers: {Accept: contentType}\n        });\n    },\n    getHolder: function () {\n        return this.context.id ? HOLDERS.TENANT + this.context.id : this.context.tenantId ? HOLDERS.USER + this.context.tenantId + '/' + this.context.userName : HOLDERS.TENANT;\n    },\n    addItemsToCollection: function (attributes) {\n        !_.isArray(attributes) && (attributes = [attributes]);\n        _.each(attributes, function (attribute) {\n            this.addNew(attribute);\n        }, this);\n    },\n    addNew: function (attribute) {\n        attribute = attribute || {};\n        var model = new this.model(attribute);\n        this.add(model);\n        return model;\n    },\n    _modelsToJSON: function (models, omitValue) {\n        return _.map(models, function (model) {\n            return model.toJSON({omitValue: omitValue});\n        });\n    },\n    _successSearchCallback: function (models, newModels, data) {\n        models = _.isArray(models) ? models : [models];\n        newModels = this._modelsToJSON(newModels);\n        var holder = this.getHolder(), defaultModel, modelHolder;\n        _.each(models, function (model) {\n            modelHolder = holder ? holder : model.holder;\n            model.holder = modelHolder;\n            if (data && data.attribute.length) {\n                model.attr = data.attribute;\n            }\n            if (newModels && _.where(newModels, {\n                name: model.get('name'),\n                inherited: false\n            }).length > 1) {\n                defaultModel = {holder: modelHolder};\n                model.attr ? model.attr.push(defaultModel) : model.attr = [defaultModel];\n            }\n        }, this);\n    },\n    _concatGroups: function () {\n        var groups = '';\n        _.each(_.omit(groupsEnum, 'CUSTOM'), function (group) {\n            groups += '&group=' + group;\n        });\n        return groups;\n    },\n    _concatNames: function (models, omitId) {\n        models = _.isArray(models) ? models : [models];\n        var nameStr = '', self = this, getNameParameter = function (name) {\n                return '&name=' + self.escapeLevelId(name);\n            }, id;\n        _.each(models, function (model) {\n            id = model.get('id');\n            !omitId && model.isRenamed() && id && (nameStr += getNameParameter(id));\n            nameStr += getNameParameter(model.get('name'));\n        }, this);\n        return nameStr;\n    }\n});\nexport default AttributesCollection;","\n        import {store, MERGED_BUNDLES_NAME} from 'bundleStore';\n        \n        let bundle;\n        \n        if ('CommonBundle' !== MERGED_BUNDLES_NAME) {\n            store['CommonBundle'] = store['CommonBundle'] || {};\n            bundle = store['CommonBundle'];\n        } else {\n            bundle = Object.keys(store).reduce((acc, key) => {\n                return {\n                    ...acc,\n                    ...store[key]\n                }\n            }, {});\n        }\n                                     \n        export default bundle;\n    ","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Marionette from 'backbone.marionette';\nexport default Marionette.Behavior.extend({\n    events: {\n        'mouseover': '_onMouseOver',\n        'mouseout': '_onMouseOut'\n    },\n    _onMouseOver: function (e) {\n        this.view.trigger('mouseover', this.view.model, e);\n    },\n    _onMouseOut: function (e) {\n        this.view.trigger('mouseout', this.view.model, e);\n    }\n});","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport Marionette from 'backbone.marionette';\nimport epoxyViewMixin from '../../../view/mixin/epoxyViewMixin';\nimport Tooltip from '../behaviors/TooltipRowBehavior';\nvar BaseRow = Marionette.ItemView.extend({\n    behaviors: { Tooltip: { behaviorClass: Tooltip } },\n    initialize: function () {\n        this.epoxifyView();\n    },\n    render: function () {\n        Marionette.ItemView.prototype.render.apply(this, arguments);\n        this.applyEpoxyBindings();\n        return this;\n    },\n    remove: function () {\n        this.removeEpoxyBindings();\n        Marionette.ItemView.prototype.remove.apply(this, arguments);\n    }\n});\n_.extend(BaseRow.prototype, epoxyViewMixin);\nexport default BaseRow;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport rowDesignerEditTemplate from '../../attributes/templates/rowDesignerEditTemplate.htm';\nimport rowDesignerViewTemplate from '../../attributes/templates/rowDesignerViewTemplate.htm';\nimport emptyDesignerTemplate from '../../attributes/templates/emptyDesignerTemplate.htm';\nimport rowViewTemplate from '../../attributes/templates/rowViewTemplate.htm';\n\nexport default function (options) {\n    options = options || {};\n    if (options.readOnly) {\n        return rowViewTemplate;\n    } else {\n        return !options.empty ? !options.editMode ? rowDesignerViewTemplate : rowDesignerEditTemplate : emptyDesignerTemplate;\n    }\n}","export default \"<div class=\\\"name table-column viewer\\\" data-tooltip=\\\"true\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <div class=\\\"item\\\">\\n        <p data-bind=\\\"text:name\\\"></p></div>\\n</div>\\n<div class=\\\"value table-column viewer\\\"\\n     data-tooltip=\\\"true\\\">\\n    <div class=\\\"item\\\">\\n        <input readonly type=\\\"password\\\" data-bind=\\\"toggle:secure, value:encrypt\\\"/>\\n\\n        <p data-bind=\\\"toggle:not(secure), text:value\\\"></p>\\n    </div>\\n</div>\\n<div class=\\\"secure table-column viewer\\\">\\n    <div class=\\\"item\\\">\\n        <span name=\\\"secure\\\" data-bind=\\\"text:secure\\\"></span>\\n    </div>\\n</div>\\n{{ if (type !== types.SERVER) { }}\\n<div class=\\\"inherited table-column viewer\\\">\\n    <div class=\\\"item\\\">\\n        <span data-bind=\\\"text:inherited\\\"></span>\\n    </div>\\n</div>\\n{{ } if (type !== types.USER) { }}\\n<div class=\\\"permission table-column viewer\\\">\\n    <div class=\\\"item\\\">\\n        <select data-bind=\\\"value:integer(permissionEmbedded)\\\" disabled=\\\"disabled\\\">\\n            <option value=\\\"1\\\">{{- i18n[\\\"attributes.attribute.permissionMask.1\\\"]}}</option>\\n            <option value=\\\"2\\\">{{- i18n[\\\"attributes.attribute.permissionMask.2\\\"]}}</option>\\n            <option value=\\\"32\\\">{{- i18n[\\\"attributes.attribute.permissionMask.32\\\"]}}</option>\\n            <option value=\\\"0\\\">{{- i18n[\\\"attributes.attribute.permissionMask.0\\\"]}}</option>\\n        </select>\\n    </div>\\n</div>\\n{{ } }}\\n\\n\\n\\n\";","export default \"<div class=\\\"table-column name\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n</div>\\n<div class=\\\"table-column value\\\"></div>\\n<div class=\\\"table-column secure\\\"></div>\\n{{ if (type !== types.SERVER) { }}<div class=\\\"table-column inherited\\\"></div>\\n{{ } if (type !== types.USER) { }} <div class=\\\"table-column permission\\\"></div> {{ } }}\\n<div class=\\\"table-column actions\\\"></div>\\n\";","export default \"<div class=\\\"editMode\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <span class=\\\"control firstInputGroup\\\">\\n        <span class=\\\"name editMode control\\\" data-bind=\\\"validationErrorClass:name\\\">\\n            <div class=\\\"wrap\\\">{{- i18n[\\\"attributes.name\\\"]}}:</div>\\n            <input type=\\\"text\\\" data-bind=\\\"value:name, events:['keyup'], disabled:inherited\\\" />\\n            <span class=\\\"message warning\\\" data-bind=\\\"validationErrorText:name\\\" ></span>\\n        </span>\\n        <span class=\\\"value editMode control\\\" data-bind=\\\"validationErrorClass:value\\\">\\n            <div class=\\\"wrap\\\">{{- i18n[\\\"attributes.value\\\"]}}:</div>\\n            <input type=\\\"password\\\" data-bind=\\\"toggle:secure, value:encrypt, events:['keyup']\\\" />\\n            <input type=\\\"text\\\" data-bind=\\\"toggle:not(secure), value:value, events:['keyup']\\\" />\\n            <span class=\\\"message warning\\\" data-bind=\\\"validationErrorText:value\\\"></span>\\n        </span>\\n    </span>\\n    <label class=\\\"descriptionArea editMode control\\\" data-bind=\\\"validationErrorClass:description\\\">\\n        <div class=\\\"wrap\\\">{{- i18n[\\\"attributes.description\\\"]}}:</div>\\n        <input type=\\\"text\\\" data-bind=\\\"value:description, events:['keyup']\\\" />\\n        <span class=\\\"message warning\\\" data-bind=\\\"validationErrorText:description\\\"></span>\\n    </label>\\n    {{ if (type !== types.USER) { }}\\n    <span class=\\\"permission editMode control\\\">\\n        <div class=\\\"wrap\\\">{{- i18n[\\\"attributes.permission\\\"]}}:</div>\\n        <select data-bind=\\\"value:integer(permissionEmbedded)\\\">\\n            <option value=\\\"1\\\">{{- i18n[\\\"attributes.attribute.permissionMask.1\\\"]}}</option>\\n            <option value=\\\"2\\\">{{- i18n[\\\"attributes.attribute.permissionMask.2\\\"]}}</option>\\n            <option value=\\\"32\\\">{{- i18n[\\\"attributes.attribute.permissionMask.32\\\"]}}</option>\\n            <option value=\\\"0\\\">{{- i18n[\\\"attributes.attribute.permissionMask.0\\\"]}}</option>\\n        </select>\\n    </span>\\n    {{ } }}\\n    <div class=\\\"secure editMode control\\\">\\n        <input name=\\\"secure\\\" data-bind=\\\"checked:secure\\\" type=\\\"checkbox\\\"/>\\n        <span class=\\\"wrap\\\">{{- i18n[\\\"attributes.encrypt\\\"]}}</span>\\n    </div>\\n    <div class=\\\"actions control\\\">\\n        <button class=\\\"button action up primary ok editMode\\\">\\n            <span class=\\\"wrap\\\">{{- i18n2[\\\"button.ok\\\"] }}</span>\\n        </button>\\n        <button class=\\\"button action up cancel editMode\\\">\\n            <span class=\\\"wrap\\\">{{- i18n2[\\\"button.cancel\\\"] }}</span>\\n        </button>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"name table-column\\\" data-tooltip=\\\"true\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <div class=\\\"item\\\"><p data-bind=\\\"text:name\\\"></p></div>\\n</div>\\n<div class=\\\"value table-column\\\"\\n     data-tooltip=\\\"true\\\">\\n    <div class=\\\"item\\\">\\n        <input readonly type=\\\"password\\\" data-bind=\\\"toggle:secure, value:encrypt\\\"/>\\n        <p data-bind=\\\"toggle:not(secure), text:value\\\"></p>\\n    </div>\\n</div>\\n<div class=\\\"secure table-column\\\">\\n    <div class=\\\"item\\\">\\n        <input data-bind=\\\"toggle:not(readOnly), checked:secure\\\" type=\\\"checkbox\\\"/>\\n        <span data-bind=\\\"toggle:readOnly, text:secure\\\"></span>\\n    </div>\\n</div>\\n{{ if (type !== types.SERVER) { }}\\n<div class=\\\"inherited table-column\\\">\\n    <div class=\\\"item\\\">\\n        <span data-bind=\\\"text:inherited\\\"></span>\\n    </div>\\n</div>\\n{{ } if (type !== types.USER) { }}\\n<div class=\\\"permission table-column\\\">\\n    <div class=\\\"item\\\">\\n        <select data-bind=\\\"value:integer(permissionEmbedded), disabled:readOnly\\\">\\n            <option value=\\\"1\\\">{{- i18n[\\\"attributes.attribute.permissionMask.1\\\"]}}</option>\\n            <option value=\\\"2\\\">{{- i18n[\\\"attributes.attribute.permissionMask.2\\\"]}}</option>\\n            <option value=\\\"32\\\">{{- i18n[\\\"attributes.attribute.permissionMask.32\\\"]}}</option>\\n            <option value=\\\"0\\\">{{- i18n[\\\"attributes.attribute.permissionMask.0\\\"]}}</option>\\n        </select>\\n    </div>\\n</div>\\n{{ } }}\\n<div class=\\\"actions table-column\\\">\\n    <div class=\\\"item\\\">\\n        <div class=\\\"actionButtons\\\">\\n            <span data-bind=\\\"toggle:not(readOnly)\\\">\\n                <button name=\\\"editButton\\\" class=\\\"button action simple edit up\\\"></button>\\n            </span>\\n            <span data-bind=\\\"toggle:not(disableRemove)\\\">\\n                <button name=\\\"deleteButton\\\" class=\\\"button action simple delete up\\\"></button>\\n            </span>\\n        </div>\\n    </div>\\n</div>\\n\\n\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport i18n2 from '../../i18n/CommonBundle.properties';\nimport BaseRow from 'js-sdk/src/common/component/baseTable/childView/BaseRow';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport rowTemplatesFactory from '../../attributes/factory/rowTemplatesFactory';\n\nvar SECURE_VALUE_SUBSTITUTION = '~secure~';\nvar RowView = BaseRow.extend({\n    className: 'table-row',\n    template: _.template(rowTemplatesFactory({readOnly: true})),\n    templateHelpers: function () {\n        return {\n            i18n: i18n,\n            i18n2: i18n2,\n            type: this.type,\n            types: attributesTypesEnum,\n            encrypted: SECURE_VALUE_SUBSTITUTION\n        };\n    },\n    computeds: {\n        encrypt: {\n            get: function () {\n                return SECURE_VALUE_SUBSTITUTION;\n            },\n            set: function (value) {\n                this.setBinding('value', value);\n            }\n        }\n    },\n    initialize: function (options) {\n        this.type = options.type;\n        BaseRow.prototype.initialize.apply(this, arguments);\n    }\n});\nexport default RowView;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Marionette from 'backbone.marionette';\nimport confirmDialogTypesEnum from '../enum/confirmDialogTypesEnum';\n\nexport default Marionette.Behavior.extend({\n    events: { 'click .delete': '_onDeleteClick' },\n    _onDeleteClick: function (e) {\n        this.view.trigger('open:confirm', confirmDialogTypesEnum.DELETE_CONFIRM, this.view, this.view.model);\n    }\n});","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    ADMINISTRATOR: 1,\n    READ_ONLY: 2,\n    EXECUTE_ONLY: 32,\n    NO_ACCESS: 0\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport RowView from '../../attributes/view/RowView';\nimport DeleteConfirm from '../../serverSettingsCommon/behaviors/DeleteConfirmBehavior';\nimport confirmDialogTypesEnum from '../../serverSettingsCommon/enum/confirmDialogTypesEnum';\nimport permissionMasksEnum from '../../attributes/enum/permissionMasksEnum';\nimport rowTemplatesFactory from '../../attributes/factory/rowTemplatesFactory';\n\nvar SECURE_VALUE_SUBSTITUTION = '~secure~';\nvar SLIDE_UP_ROW_HEIGHT = '28px';\nvar ROW_HEIGHT = '100%';\nvar DesignerRowView = RowView.extend({\n    tagName: 'div',\n    className: 'table-row',\n    ui: {passwordInput: 'input[type=\\'password\\']'},\n    events: _.extend({}, RowView.prototype.events, {\n        'click .edit': 'toggleActive',\n        'click .cancel': 'cancel',\n        'click .ok': 'runValidation',\n        'click @ui.passwordInput': 'toggleValue',\n        'blur @ui.passwordInput': 'toggleValue'\n    }),\n    modelEvents: {'change': '_onModelChange'},\n    behaviors: _.extend(RowView.prototype.behaviors, {DeleteConfirm: {behaviorClass: DeleteConfirm}}),\n    computeds: _.extend(RowView.prototype.computeds, {\n        readOnly: {\n            deps: [\n                'inherited',\n                'permissionMask'\n            ],\n            get: function (inherited, permissionMask) {\n                var isReadOnly = permissionMask === permissionMasksEnum.READ_ONLY;\n                return isReadOnly || inherited && isReadOnly;\n            }\n        },\n        disableRemove: {\n            deps: [\n                'inherited',\n                'permissionMask'\n            ],\n            get: function (inherited, permissionMask) {\n                return inherited || permissionMask === permissionMasksEnum.READ_ONLY;\n            }\n        }\n    }),\n    initialize: function (options) {\n        this.editMode = false;\n        this._onViewInitialize && this._onViewInitialize();\n        RowView.prototype.initialize.apply(this, arguments);\n    },\n    render: function () {\n        RowView.prototype.render.apply(this, arguments);\n        this._onViewRender && this._onViewRender();\n        return this;\n    },\n    getTemplate: function () {\n        var showRowViewTemplate = !this.editMode && this.model.get('name');\n        return _.template(rowTemplatesFactory({editMode: !showRowViewTemplate}));\n    },\n    toggleActive: function () {\n        var dfd = new $.Deferred(), self = this;\n        this.toggleMode().done(function () {\n            self.trigger('active', self.editMode, dfd);\n        });\n        return dfd;\n    },\n    toggleMode: function () {\n        var dfd = new $.Deferred();\n        this.editMode = !this.editMode;\n        this.editMode ? this.slideDown(dfd) : this.slideUp(dfd);\n        return dfd;\n    },\n    toggleIfModelIsValid: function () {\n        if (this.validateModel()) {\n            this.model.setState('confirmedState');\n            this.model.isNew() && this.confirmState();\n            this.modelChanged = null;\n            return this.toggleActive();\n        }\n        return new $.Deferred();\n    },\n    slideDown: function (dfd) {\n        this.render().hide().slideDown({\n            done: function () {\n                dfd.resolve();\n            }\n        });\n        return this;\n    },\n    slideUp: function (dfd, height) {\n        height = height || SLIDE_UP_ROW_HEIGHT;\n        var self = this;\n        this.$el.animate({height: height}, {\n            done: function () {\n                self.render().$el.css({height: ROW_HEIGHT}).show();\n                dfd.resolve();\n            }\n        });\n        return this;\n    },\n    hide: function () {\n        return this.$el.hide();\n    },\n    show: function () {\n        return this.$el.show();\n    },\n    cancel: function () {\n        this.model.set(this.model.getState('confirmedState'));\n        this.toggleActive();\n    },\n    runValidation: function (event, options) {\n        this.validateModel(options) && this.triggerConfirmOpening(options);\n    },\n    triggerConfirmOpening: function (options) {\n        options = options || {};\n        var dfd = new $.Deferred(), self = this;\n        var openPermissionConfirmOrValidate = function () {\n            self.permissionConfirmShouldBeShown ? self._openPermissionConfirm && _.bind(self._openPermissionConfirm, self, options)() : self.triggerModelValidation(options);\n        };\n        if (!this.model.isNew()) {\n            if (this.modelChanged) {\n                this.modelChanged.name ? this.trigger('open:confirm', confirmDialogTypesEnum.NAME_CONFIRM, {dfd: dfd}) : dfd.resolve();\n                dfd.done(function () {\n                    self.modelChanged._embedded ? openPermissionConfirmOrValidate() : self.triggerModelValidation(options);\n                });\n            } else {\n                this.toggleActive();\n            }\n        } else {\n            openPermissionConfirmOrValidate();\n        }\n    },\n    triggerModelValidation: function (options) {\n        this.model.trimAttrs([\n            'name',\n            'value',\n            'description'\n        ]);\n        this.trigger('validate', options);\n    },\n    validateModel: function (options) {\n        options = options || {};\n        var modelIsValid = this.model.isValid(true);\n        !modelIsValid && options.dfd && options.dfd.reject();\n        return modelIsValid;\n    },\n    confirmState: function (confirm) {\n        this.model.confirmState(confirm);\n    },\n    isStateConfirmed: function () {\n        return this.model.isStateConfirmed();\n    },\n    isInherited: function () {\n        return this.model.getState('originalState').inherited;\n    },\n    getChangedProperties: function (property) {\n        if (this.modelChanged) {\n            return property ? this.modelChanged[property] : this.modelChanged;\n        }\n    },\n    toggleValue: function (e) {\n        if (this.editMode) {\n            var $input = $(e.target), inputValue = $input.val(),\n                isValueSecured = inputValue === SECURE_VALUE_SUBSTITUTION,\n                isOkButton = $(e.relatedTarget).hasClass('ok'), isClick = e.type === 'click';\n            if (inputValue) {\n                if (isClick && isValueSecured) {\n                    $input.val('');\n                    this.model.resetField('value');\n                }\n                if (!isClick && !isOkButton) {\n                    $input.val(SECURE_VALUE_SUBSTITUTION);\n                }\n            }\n        }\n    },\n    invokeFiltration: function () {\n        var model = this.model;\n        if (model.hasChanged('secure') || model.hasChanged('_embedded') && !this._isPermissionLimited()) {\n            return !this.editMode && model.hasChanged('inherited');\n        }\n    },\n    validateIfSecure: function () {\n        var nameChanged = this.getChangedProperties('name');\n        this.model.validateIfSecure = this.model.validateSecureValue() && nameChanged || false;\n    },\n    _onSaveSuccess: function () {\n        this.modelChanged = null;\n        this.model.setId();\n        this.model.get('secure') && this.model.resetField('value');\n        this.model.setState();\n        this.model.setState('confirmedState');\n    },\n    _onModelChange: function (model) {\n        this.modelChanged = this.modelChanged || {};\n        var changedAttributes = model.changedAttributes(), originalModelAttributes = this.model.getState(),\n            isInherited = this.isInherited(), modelIsNew = model.isNew(), modelIsChanged;\n        _.each(changedAttributes, function (val, prop) {\n            if (prop !== 'inherited') {\n                var originalAttribute = originalModelAttributes[prop],\n                    equal = !_.isObject(val) ? originalAttribute === val : _.isEqual(originalAttribute, val);\n                if (!equal) {\n                    this.modelChanged[prop] = val;\n                } else {\n                    delete this.modelChanged[prop];\n                }\n            }\n        }, this);\n        modelIsChanged = !_.isEmpty(this.modelChanged);\n        isInherited && model.set('inherited', !modelIsChanged);\n        !this.editMode && changedAttributes.secure && model.setState('confirmedState');\n        this.trigger('changed', modelIsChanged || modelIsNew);\n        this.model.validate(this.modelChanged);\n    }\n});\nexport default DesignerRowView;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport Marionette from 'backbone.marionette';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport rowTemplatesFactory from '../../attributes/factory/rowTemplatesFactory';\n\nvar EmptyView = Marionette.ItemView.extend({\n    className: 'table-row',\n    templateHelpers: function () {\n        return {\n            type: this.type,\n            types: attributesTypesEnum\n        };\n    },\n    initialize: function (options) {\n        options = options || {};\n        this.type = options.type;\n        this.template = _.template(rowTemplatesFactory({empty: true}));\n    }\n});\nexport default EmptyView;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport confirmDialogTypesEnum from '../../serverSettingsCommon/enum/confirmDialogTypesEnum';\nimport permissionMasksEnum from '../../attributes/enum/permissionMasksEnum';\n\nvar maskMap = {\n    1: 1,\n    2: 2,\n    32: 3,\n    0: 4\n};\nexport default {\n    _onViewInitialize: function () {\n        this.listenTo(this.model, 'change:_embedded', _.bind(this._onPermissionChange, this));\n    },\n    _onViewRender: function () {\n        var isInherited = this.model.get('inherited'), embeddedPermission = this.model.getPermission(),\n            embeddedPermissionMask = embeddedPermission && embeddedPermission.mask,\n            permissionMask = _.isNumber(embeddedPermissionMask) ? embeddedPermissionMask : this.model.get('permissionMask');\n        if (isInherited && permissionMask !== permissionMasksEnum.ADMINISTRATOR) {\n            var $selectedOption = this.$el.find('option:selected');\n            $selectedOption.prevAll().attr('disabled', 'disabled');\n        }\n    },\n    _onPermissionChange: function (model, value) {\n        var isPermissionLimited = this._isPermissionLimited(value);\n        this._showPermissionConfirm(false);\n        if (this.modelChanged._embedded && isPermissionLimited) {\n            this.editMode ? this._showPermissionConfirm(true) : this._openPermissionConfirm();\n        } else {\n            !this.editMode && model.setState('confirmedState');\n        }\n    },\n    _showPermissionConfirm: function (value) {\n        this.permissionConfirmShouldBeShown = value;\n    },\n    _isPermissionLimited: function (value) {\n        var model = this.model, confirmedState = model.getState('confirmedState'),\n            mask = maskMap[model.getPermission(value).mask],\n            previousMask = maskMap[model.getPermission(confirmedState._embedded).mask];\n        return mask > previousMask;\n    },\n    _openPermissionConfirm: function (options) {\n        this.trigger('open:confirm', confirmDialogTypesEnum.PERMISSION_CONFIRM, options || {});\n    }\n};","\n        import {store, MERGED_BUNDLES_NAME} from 'bundleStore';\n        \n        let bundle;\n        \n        if ('AttributeBundle' !== MERGED_BUNDLES_NAME) {\n            store['AttributeBundle'] = store['AttributeBundle'] || {};\n            bundle = store['AttributeBundle'];\n        } else {\n            bundle = Object.keys(store).reduce((acc, key) => {\n                return {\n                    ...acc,\n                    ...store[key]\n                }\n            }, {});\n        }\n                                     \n        export default bundle;\n    ","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    MAX_ATTRIBUTE_NAME_LENGTH: 255,\n    MAX_ATTRIBUTE_VALUE_LENGTH: 2000\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport i18n from '../../../i18n/AttributeBundle.properties';\nimport i18nMessageUtil from 'js-sdk/src/common/util/i18nMessage';\nimport validationRulesEnum from '../../../attributes/enum/validationRulesEnum';\n\nvar i18nMessage = i18nMessageUtil.extend({bundle: i18n});\n\n\nexport default [\n    {\n        required: true,\n        msg: new i18nMessage('attributes.error.attribute.name.empty')\n    },\n    {\n        maxLength: validationRulesEnum.MAX_ATTRIBUTE_NAME_LENGTH,\n        msg: new i18nMessage('attributes.error.attribute.name.too.long', validationRulesEnum.MAX_ATTRIBUTE_NAME_LENGTH)\n    },\n    {\n        doesNotContainSymbols: '\\\\\\\\/',\n        msg: new i18nMessage('attributes.error.attribute.name.invalid')\n    }\n];","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport BackboneValidation from 'js-sdk/src/common/extension/backboneValidationExtension';\nimport i18n from '../../i18n/AttributeBundle.properties';\nimport i18nMessageUtil from 'js-sdk/src/common/util/i18nMessage';\nimport Epoxy from 'backbone.epoxy';\nimport permissionMasksEnum from '../../attributes/enum/permissionMasksEnum';\nimport validationRulesEnum from '../../attributes/enum/validationRulesEnum';\nimport baseProfileAttributeValidation from './validation/baseProfileAttributeValidation';\n\nvar i18nMessage = i18nMessageUtil.extend({bundle: i18n});\n\nvar MAX_LENGTH = validationRulesEnum.MAX_ATTRIBUTE_NAME_LENGTH;\nvar MAX_VALUE_LENGTH = validationRulesEnum.MAX_ATTRIBUTE_VALUE_LENGTH;\nvar AttributeModel = Epoxy.Model.extend({\n    defaults: {\n        id: undefined,\n        name: undefined,\n        value: '',\n        description: '',\n        inherited: false,\n        permissionMask: 1,\n        secure: false\n    },\n    constructor: function () {\n        this._initModelWithPermissionDefaults && this._initModelWithPermissionDefaults();\n        Epoxy.Model.apply(this, arguments);\n    },\n    initialize: function () {\n        if (!this.get('id')) {\n            // By default id is generated from the attribute name.\n            this.setId();\n        }\n        this.validateSameNames = false;\n        this.setState('originalState');\n        this.setState('confirmedState');\n    },\n    /**\n     * This method returns url, which points in attribute, represented by this Attribute instance\n     * @instance\n     * @memberof Attribute\n     * @return url of representing resource\n     */\n    url: function () {\n        // duplicated on purpose - overrides some strange behaviour of FF\n        var safeId = encodeURIComponent(this.id).replace(/'/g, '%27');\n        return this.collection.url(this.isNew() ? '' : safeId);\n    },\n    validation: {\n        name: baseProfileAttributeValidation.concat([\n            {\n                fn: function () {\n                    if (this.attr) {\n                        var msg, existOnCurrentLevel, attribute, attributesLength = this.attr.length;\n                        for (var i = 0; i < attributesLength; i++) {\n                            attribute = this.attr[i];\n                            _.defaults(attribute, this.defaults);\n                            existOnCurrentLevel = this.holder === attribute.holder && this.get('inherited') === attribute.inherited;\n                            if (existOnCurrentLevel) {\n                                // attribute already exist on this level\n                                msg = 'attributes.error.attribute.name.already.exist';\n                                break;\n                            } else if (attribute.inherited) {\n                                // attribute can not be overridden\n                                if (attribute.permissionMask === permissionMasksEnum.READ_ONLY) {\n                                    msg = 'attributes.error.attribute.name.already.exist.at.higher.level';\n                                    break;\n                                }\n                            }\n                        }\n                        this.attr = null;\n                        this.holder = null;\n                        return msg && new i18nMessage(msg);\n                    }\n                }\n            },\n            {\n                fn: function () {\n                    if (this.validateIfSecure) {\n                        return new i18nMessage('attributes.error.attribute.secure.renaming.not.allowed');\n                    }\n                }\n            }\n        ]),\n        value: [\n            {\n                maxLength: MAX_VALUE_LENGTH,\n                msg: new i18nMessage('attributes.error.attribute.value.too.long', MAX_VALUE_LENGTH)\n            },\n            {\n                fn: function () {\n                    if (this.validateIfSecure) {\n                        this.validateIfSecure = false;    // return space just to highlight value field without any message\n                        // return space just to highlight value field without any message\n                        return ' ';\n                    }\n                }\n            }\n        ],\n        description: [{\n            maxLength: MAX_LENGTH,\n            msg: new i18nMessage('attributes.error.attribute.description.too.long', MAX_LENGTH)\n        }]\n    },\n    setId: function () {\n        var name = this.get('name'), id = this.get('id');\n        name !== id && this.set('id', name);\n    },\n    toggleSameNamesValidation: function () {\n        this.validateSameNames = !this.validateSameNames;\n    },\n    resetField: function (prop) {\n        this.set(prop, this.defaults[prop]);\n    },\n    reset: function (property, state) {\n        var attribute = {};\n        state = this.getState(state);\n        attribute[property] = state[property];\n        this.set(property ? attribute : state);\n        return this;\n    },\n    isRenamed: function () {\n        return this.get('name') !== this.get('id');\n    },\n    isOriginallyInherited: function () {\n        return this.originalState.inherited;\n    },\n    isOverridden: function () {\n        return !this.compareAttribute('inherited');\n    },\n    compareAttribute: function (attr) {\n        return this.originalState[attr] === this.confirmedState[attr];\n    },\n    setState: function (state, attributes) {\n        attributes = attributes || this.attributes;\n        this[state || 'originalState'] = _.clone(attributes);\n    },\n    getState: function (state) {\n        return this[state || 'originalState'];\n    },\n    trimAttrs: function (attrs, options) {\n        _.each(attrs, function (attr) {\n            var attrValue = this.get(attr);\n            this.set(attr, $.trim(attrValue), options);\n        }, this);\n    },\n    toJSON: function (options) {\n        options = options || {};\n        var attributes = Epoxy.Model.prototype.toJSON.apply(this, arguments);\n        return options.omitValue && this.validateSecureValue() && _.omit(attributes, 'value') || attributes;\n    },\n    confirmState: function (confirm) {\n        this.stateConfirmed = confirm || true;\n    },\n    isStateConfirmed: function () {\n        return this.stateConfirmed;\n    },\n    validateSecureValue: function () {\n        var isEmptyValue = _.isEmpty(this.get('value')), isSecure = this.get('secure'),\n            isNew = this.isNew() || this.isOverridden();\n        return !isNew && isSecure && isEmptyValue;\n    }\n});\n_.extend(AttributeModel.prototype, BackboneValidation.mixin);\nexport default AttributeModel;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default { ROLE_ADMINISTRATOR: 'role:/ROLE_ADMINISTRATOR' };","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport roleEnum from '../../attributes/enum/roleEnum';\n\nexport default {\n    computeds: {\n        permissionEmbedded: {\n            deps: [\n                '_embedded',\n                'permissionMask'\n            ],\n            get: function (_embedded, permissionMask) {\n                var permission = this.getPermission(_embedded);\n                return permission ? permission.mask : permissionMask;\n            },\n            set: function (value) {\n                var _embedded = _.cloneDeep(this.get('_embedded')), permission = this.getPermission(_embedded);\n                if (permission) {\n                    permission.mask = value;\n                } else {\n                    _embedded.permission.push({\n                        mask: value,\n                        recipient: roleEnum.ROLE_ADMINISTRATOR\n                    });\n                }\n                return {_embedded: _embedded};\n            }\n        }\n    },\n    _initModelWithPermissionDefaults: function () {\n        this.defaults = _.extend({}, this.defaults, {\n            _embedded: {\n                'permission': [{\n                    'recipient': roleEnum.ROLE_ADMINISTRATOR,\n                    'mask': '1'\n                }]\n            }\n        });\n    },\n    getPermission: function (_embedded) {\n        _embedded = _embedded || this.get('_embedded');\n        if (_embedded) {\n            return _.find(_embedded.permission, function (permission) {\n                return permission.recipient === roleEnum.ROLE_ADMINISTRATOR;\n            });\n        }\n    }\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport AttributesCollection from '../../attributes/collection/AttributesCollection';\nimport DesignerRowView from '../../attributes/view/DesignerRowView';\nimport DesignerEmptyView from '../../attributes/view/DesignerEmptyView';\nimport viewWithPermissionTrait from '../../attributes/view/viewWithPermissionTrait';\nimport RowView from '../../attributes/view/RowView';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport i18n2 from '../../i18n/CommonBundle.properties';\nimport AttributeModel from '../../attributes/model/AttributeModel';\nimport modelWithPermissionTrait from '../../attributes/model/modelWithPermissionTrait';\nimport tooltipTemplate from '../../attributes/templates/tooltipTemplate.htm';\n\nexport default function (options) {\n    var collection = new AttributesCollection([], {\n            context: options.context,\n            model: options.type === attributesTypesEnum.USER ? AttributeModel : AttributeModel.extend(modelWithPermissionTrait)\n        }), commonOptions = {\n            type: options.type,\n            collection: collection,\n            childViewContainer: '.tbody',\n            tooltip: {\n                template: tooltipTemplate,\n                i18n: i18n\n            }\n        };\n    return _.extend(commonOptions, options.type !== attributesTypesEnum.SERVER ? {\n        $container: options.container,\n        designer: {\n            childView: options.type === attributesTypesEnum.USER ? DesignerRowView : DesignerRowView.extend(viewWithPermissionTrait),\n            emptyView: DesignerEmptyView,\n            filters: [\n                {\n                    title: i18n['attributes.table.filters.all'],\n                    value: 'true',\n                    field: 'defaultFilter',\n                    selected: true\n                },\n                {\n                    title: i18n['attributes.table.filters.true'],\n                    value: 'true',\n                    field: 'inherited'\n                },\n                {\n                    title: i18n['attributes.table.filters.false'],\n                    value: 'false',\n                    field: 'inherited'\n                }\n            ]\n        },\n        viewer: {childView: RowView}\n    } : {\n        el: options.el,\n        childView: DesignerRowView.extend(viewWithPermissionTrait),\n        emptyView: DesignerEmptyView,\n        buttons: [\n            {\n                label: i18n2['button.save'],\n                action: 'save',\n                primary: true\n            },\n            {\n                label: i18n2['button.cancel'],\n                action: 'cancel',\n                primary: false\n            }\n        ],\n        buttonsContainer: '.buttonsContainer'\n    });\n}","export default \"{{ if( !_.isUndefined(model.value) ) { }}\\n    <p class='message label'>{{- i18n['attributes.value'] + ':'}}</p>\\n    <p class='message'>{{- model.value }}</p>\\n{{ }else{ }}\\n    <p class='message label'>{{- i18n['attributes.name'] + ':'}}</p>\\n    <p class='message'>{{- model.name }}</p>\\n    <p class='message label'>{{- i18n['attributes.description'] + ':'}}</p>\\n    <p class='message'>{{- model.description }}</p>\\n{{ } }}\\n\\n    <js-templateNonce></js-templateNonce>\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport attributesDesignerTemplate from '../../attributes/templates/attributesDesignerTemplate.htm';\nimport attributesViewerTemplate from '../../attributes/templates/attributesViewerTemplate.htm';\nimport emptyViewerTemplate from '../../attributes/templates/emptyViewerTemplate.htm';\n\nexport default function (options) {\n    options = options || {};\n    return options.readOnly ? !options.empty ? attributesViewerTemplate : emptyViewerTemplate : attributesDesignerTemplate;\n}","export default \"<div class=\\\"tbody\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <p class=\\\"emptyTemplateMessage\\\">{{- i18n[\\\"attributes.no.attributes\\\"]}}</p>\\n</div>\\n\";","export default \"<div class=\\\"baseTableContainer {{-type}}\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <div class=\\\"baseTable\\\">\\n        <div class=\\\"table-row thead\\\">\\n            <div class=\\\"name table-column viewer\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.name\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            <div class=\\\"value table-column viewer\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.value\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            <div class=\\\"secure table-column viewer\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.encrypted\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ if (type !== types.SERVER) { }}\\n            <div class=\\\"inherited table-column viewer\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.inherited\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ } if (type !== types.USER) { }}\\n            <div class=\\\"permission table-column viewer\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.permission\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ } }}\\n        </div>\\n        <div class=\\\"tbody\\\"></div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"baseTableContainer {{-type}}\\\">\\n\\n    <js-templateNonce></js-templateNonce>\\n    <div class=\\\"baseTable\\\">\\n        <div class=\\\"table-row thead\\\">\\n            <div class=\\\"name table-column\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.name\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            <div class=\\\"value table-column\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.value\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            <div class=\\\"secure table-column\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.encrypted\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ if (type !== types.SERVER) { }}\\n            <div class=\\\"inherited table-column\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.inherited\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ } if (type !== types.USER) { }}\\n            <div class=\\\"permission table-column\\\">\\n                <div class=\\\"item\\\">\\n                    <p>\\n                        {{- i18n[\\\"attributes.permission\\\"]}}\\n                    </p>\\n                </div>\\n            </div>\\n            {{ } }}\\n            <div class=\\\"actions table-column\\\"></div>\\n        </div>\\n        <div class=\\\"tbody\\\"></div>\\n    </div>\\n    <a href=\\\"#\\\" class=\\\"addNewItem\\\">{{- i18n[\\\"attributes.button.add.new\\\"]}}</a>\\n</div>\";","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\n\nexport default {\n    initScrollEvent: function (instance) {\n        var container = instance.type === attributesTypesEnum.SERVER ? instance.$el.parent() : instance.$container.parent(),\n            addNewAttributeLink = instance.$el.find('.addNewItem'), bufferMargin = 20;\n        container.scroll(function (event) {\n            addNewAttributeLink.css('margin-right', bufferMargin - container.scrollLeft() + 'px');\n        });\n    },\n    detachScrollEvent: function (container) {\n        container.off();\n    }\n};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Marionette from 'backbone.marionette';\nimport Tooltip from '../tooltip/Tooltip';\nvar BaseTable = Marionette.CompositeView.extend({\n    initialize: function (options) {\n        options = options || {};\n        var tooltip = options.tooltip;\n        if (tooltip && tooltip.template && tooltip.i18n) {\n            this.tooltip = new Tooltip({\n                i18n: tooltip.i18n,\n                attachTo: this.$el,\n                contentTemplate: tooltip.template\n            });\n        }\n    },\n    remove: function () {\n        this.tooltip && this.tooltip.remove();\n        Marionette.CompositeView.prototype.remove.apply(this, arguments);\n    }\n});\nexport default BaseTable;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport i18n from '../../i18n/AttributesBundle.properties';\nimport attributesTypesEnum from '../../attributes/enum/attributesTypesEnum';\nimport BaseTable from 'js-sdk/src/common/component/baseTable/BaseTable';\nimport tableTemplatesFactory from '../../attributes/factory/tableTemplatesFactory';\n\nvar AttributesViewer = BaseTable.extend({\n    className: 'attributesViewer',\n    templateHelpers: function () {\n        return {\n            i18n: i18n,\n            type: this.type,\n            types: attributesTypesEnum\n        };\n    },\n    initialize: function (options) {\n        options = options || {};\n        this.type = options.type;\n        this.childViewOptions = _.extend({}, options.childViewOptions, {type: this.type});\n        this.$container = $(options.$container);\n        BaseTable.prototype.initialize.apply(this, arguments);\n        this.tooltip && this._initTooltipEvents();\n    },\n    render: function () {\n        BaseTable.prototype.render.apply(this, arguments);\n        this.$container.append(this.$el);\n        return this;\n    },\n    setContext: function (value, refreshAttributes) {\n        return this.collection.setContext(value, refreshAttributes);\n    },\n    show: function () {\n        this.$el.show();\n    },\n    hide: function () {\n        this.$el.hide();\n    },\n    getTemplate: function () {\n        var template = tableTemplatesFactory({\n            readOnly: true,\n            empty: !this.collection.models.length\n        });\n        return _.template(template);\n    },\n    _initTooltipEvents: function () {\n        this.listenTo(this, 'childview:mouseover', this._onChildViewMouseOver);\n        this.listenTo(this, 'childview:mouseout', this._onChildViewMouseOut);\n    },\n    _onChildViewMouseOver: function (view, model, e) {\n        var $parentTableColumn = $(e.target).closest('.table-column');\n        if ($parentTableColumn.hasClass('name')) {\n            model = _.pick(model.toJSON(), [\n                'name',\n                'description'\n            ]);\n        }\n        if ($parentTableColumn.hasClass('value')) {\n            model = _.pick(model.toJSON(), 'value');\n        }\n        this.tooltip.show(model);\n    },\n    _onChildViewMouseOut: function (view, model, e) {\n        this.tooltip.hide();\n    }\n});\nexport default AttributesViewer;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n    CANCEL_CONFIRM: 'cancelConfirm',\n    DELETE_CONFIRM: 'deleteConfirm',\n    PERMISSION_CONFIRM: 'permissionConfirm',\n    NAME_CONFIRM: 'nameConfirm',\n    EDIT_CONFIRM: 'editConfirm'\n};","\n        import {store, MERGED_BUNDLES_NAME} from 'bundleStore';\n        \n        let bundle;\n        \n        if ('AttributesBundle' !== MERGED_BUNDLES_NAME) {\n            store['AttributesBundle'] = store['AttributesBundle'] || {};\n            bundle = store['AttributesBundle'];\n        } else {\n            bundle = Object.keys(store).reduce((acc, key) => {\n                return {\n                    ...acc,\n                    ...store[key]\n                }\n            }, {});\n        }\n                                     \n        export default bundle;\n    "],"sourceRoot":""}