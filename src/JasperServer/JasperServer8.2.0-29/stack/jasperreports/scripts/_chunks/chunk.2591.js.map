{"version":3,"sources":["webpack://jrs-ui/../bi-repository/src/i18n/RepositoryResourceBundle.properties.js","webpack://jrs-ui/../js-sdk/src/common/util/i18nMessage.js","webpack://jrs-ui/../bi-repository/src/bi/repository/model/RepositoryResourceModel.js","webpack://jrs-ui/./src/namespace/namespace.js","webpack://jrs-ui/../js-sdk/src/common/component/dialog/DialogWithModelInputValidation.js"],"names":["bundle","Object","keys","reduce","acc","key","ARGS_TYPE","i18nMessage","classUtil","constructor","code","this","args","Array","prototype","slice","call","arguments","toString","text","argsType","_getArgsType","_interpolateIndexArgs","_interpolateObjectArgs","length","firstArg","_","separator","formattedArgs","memo","argument","value","regexp","replace","RegExp","i","l","parameter","create","message","i18nMessageUtil","i18n","defaultSettings","LABEL_MAX_LENGTH","NAME_MAX_LENGTH","DESCRIPTION_MAX_LENGTH","NAME_NOT_SUPPORTED_SYMBOLS","EXTRACT_RESOURCE_TYPE_EXPRESSION","doRepoOperation","model","type","destinationUri","overwrite","createFolders","request","dataType","url","contextPath","headers","get","done","data","set","uri","RepositoryResourceModel","BaseModel","idAttribute","undefined","urlRoot","defaults","name","parentFolderUri","label","description","permissionMask","creationDate","updateDate","version","validation","attr","computedState","test","required","msg","isNew","encodeURI","id","attributes","options","parse","initialize","on","_updateUri","_updateNameAndParentFolderUri","clone","response","getNameFromUri","getParentFolderFromUri","constructUri","toJSON","serialize","folder","fetch","Accept","expanded","sync","method","success","self","resource","status","xhr","contentType","getResponseHeader","result","exec","Error","save","val","attrs","_getSaveUrlOptions","dryRun","isWritable","permission","checkLabelExistenceOnServer","folderToSearchIn","operationInProgress","$","encodeURIComponent","_checkLabelExistenceOnServerDone","bind","fail","_checkLabelExistenceOnServerFail","foundItems","resourceLookup","resolve","foundResources","reject","copyTo","moveTo","settings","uriParts","split","join","indexOf","generateResourceName","BackboneValidation","JRS","vars","element_scrolled","ajax_in_progress","current_flow","__jrsConfigs__","isEncryptionOn","isProVersion","Mocks","Export","configs","TIMEOUT","DELAY","window","localContext","calendar","bundledCalendarFormat","bundledCalendarTimeFormat","jaspersoft","components","Dialog","events","_bindEvents","_unbindEvents","updateModelProperty","e","update","target","tagName","toLowerCase","is","beforeModelPropertySet","validate","bindValidation","Validation","valid","fieldIsValid","invalid","fieldIsInvalid","forceUpdate","selector","unbindValidation","view","$parentEl","parent","removeClass","find","error","addClass","validField","invalidField","clearValidationErrors","remove"],"mappings":"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","file":"_chunks/chunk.2591.js","sourcesContent":["\n        import {store, MERGED_BUNDLES_NAME} from 'bundleStore';\n        \n        let bundle;\n        \n        if ('RepositoryResourceBundle' !== MERGED_BUNDLES_NAME) {\n            store['RepositoryResourceBundle'] = store['RepositoryResourceBundle'] || {};\n            bundle = store['RepositoryResourceBundle'];\n        } else {\n            bundle = Object.keys(store).reduce((acc, key) => {\n                return {\n                    ...acc,\n                    ...store[key]\n                }\n            }, {});\n        }\n                                     \n        export default bundle;\n    ","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport _ from 'underscore';\nimport classUtil from './classUtil';\nvar ARGS_TYPE = {\n    INDEX: 'index',\n    KEY_VALUE: 'keyValue'\n};\nvar DEFAILT_KEY_VALUE_SEPARATOR = ', ';\nvar i18nMessage = classUtil.extend({\n    constructor: function (code) {\n        this.code = code;\n        this.args = Array.prototype.slice.call(arguments, 1);\n    },\n    bundle: {}\n});\ni18nMessage.prototype.toString = function () {\n    var text = this.bundle[this.code];\n    if (!text) {\n        return this.code;\n    }\n    var argsType = this._getArgsType(this.args);\n    if (argsType === ARGS_TYPE.INDEX) {\n        text = this._interpolateIndexArgs(this.args, text);\n    } else if (argsType === ARGS_TYPE.KEY_VALUE) {\n        text = this._interpolateObjectArgs(this.args, text);\n    }\n    return text;\n};\ni18nMessage.prototype._getArgsType = function (args) {\n    if (args && args.length) {\n        var firstArg = _.first(args);\n        return _.isObject(firstArg) ? ARGS_TYPE.KEY_VALUE : ARGS_TYPE.INDEX;\n    }\n};\ni18nMessage.prototype._interpolateObjectArgs = function (args, text) {\n    var separator = args[0].separator || DEFAILT_KEY_VALUE_SEPARATOR;\n    var formattedArgs = args.reduce(function (memo, argument) {\n        var key = argument.key, value = argument.value;\n        if (memo[key]) {\n            memo[key] = memo[key] + separator;\n        } else {\n            memo[key] = '';\n        }\n        memo[key] = memo[key] + value;\n        return memo;\n    }, {});\n    text = _.keys(formattedArgs).reduce(function (memo, key) {\n        var value = formattedArgs[key], regexp = '\\\\{' + key + '\\\\}';\n        return memo.replace(new RegExp(regexp, 'g'), value);\n    }, text);\n    return text;\n};\ni18nMessage.prototype._interpolateIndexArgs = function (args, text) {\n    for (var i = 0, l = args.length; i < l; i++) {\n        var parameter = args[i], regexp = '\\\\{' + i + '\\\\}';\n        text = text.replace(new RegExp(regexp, 'g'), parameter);\n    }\n    return text;\n};\ni18nMessage.create = function (bundle) {\n    return function (code) {\n        var message = Object.create(i18nMessage.prototype);\n        message = _.extend(message, {\n            bundle: bundle,\n            code: code,\n            args: Array.prototype.slice.call(arguments, 1)\n        });\n        return message.toString(message);\n    };\n};\nexport default i18nMessage;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport BaseModel from 'js-sdk/src/common/model/BaseModel';\nimport BackboneValidation from 'js-sdk/src/common/extension/backboneValidationExtension';\nimport request from 'js-sdk/src/common/transport/request';\nimport i18n from '../../../i18n/RepositoryResourceBundle.properties';\nimport i18nMessageUtil from 'js-sdk/src/common/util/i18nMessage';\n\nvar i18nMessage = i18nMessageUtil.extend({ bundle: i18n });\n\n\nvar defaultSettings = {\n    LABEL_MAX_LENGTH: 100,\n    NAME_MAX_LENGTH: 100,\n    DESCRIPTION_MAX_LENGTH: 250,\n    NAME_NOT_SUPPORTED_SYMBOLS: '~!#\\\\$%^|\\\\s`@&*()\\\\-+={}\\\\[\\\\]:;\"\\'\\\\<\\\\>,?/\\\\|\\\\\\\\'\n};\nvar EXTRACT_RESOURCE_TYPE_EXPRESSION = /application\\/repository\\.([^\\+]+)\\+json/;\nfunction doRepoOperation(model, type, destinationUri, overwrite, createFolders) {\n    return request({\n        type: type,\n        dataType: 'json',\n        url: model.contextPath + '/rest_v2/resources' + destinationUri + '?overwrite=' + overwrite + '&createFolders=' + createFolders,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Location': model.get('uri')\n        }\n    }).done(function (data) {\n        model.set('uri', data.uri);\n    });\n}    /*\n     * Base model for Repository resources.\n     *\n     * Usage:\n     *      var resource = new ResourceModel(\n     *          { uri: \"/public/MyReport\" },\n     *          { contextPath: jrsConfigs.contextPath });\n     */\nvar RepositoryResourceModel = BaseModel.extend({\n    /*\n         *  ID of Repository Resource is \"uri\" attribute.\n         */\n    idAttribute: 'uri',\n    /*\n         * Type of the Repository Resource as required by server. Should be overridden in inherited classes.\n         */\n    type: undefined,\n    /*\n         * \"contextPath\" should be set from options when initializing new RepositoryResourceModel.\n         */\n    urlRoot: function () {\n        return (this.contextPath || '') + '/rest_v2/resources';\n    },\n    /*\n         * All fields that can be present in model.\n         */\n    defaults: {\n        name: undefined,\n        // helper field to track changing of resource name alone\n        parentFolderUri: undefined,\n        // helper field to track changing of resource parentFolderUri alone\n        uri: undefined,\n        label: undefined,\n        description: undefined,\n        permissionMask: undefined,\n        // permissionMask is read only field\n        creationDate: undefined,\n        // creationDate is read only field\n        updateDate: undefined,\n        // updateDate is read only field\n        version: undefined    // version is read only field\n    },\n    /*\n         * backbone-validation plugin validation mappings for attributes.\n         */\n    validation: {\n        name: function (value, attr, computedState) {\n            if (value && value.length > defaultSettings.NAME_MAX_LENGTH) {\n                return new i18nMessage('error.field.max.length', 'name', defaultSettings.NAME_MAX_LENGTH);\n            }\n            if (value && new RegExp('[' + defaultSettings.NAME_NOT_SUPPORTED_SYMBOLS + ']', 'g').test(value)) {\n                return new i18nMessage('error.field.bad.symbols', 'name', defaultSettings.NAME_NOT_SUPPORTED_SYMBOLS);\n            }\n        },\n        label: function (value, attr, computedState) {\n            if (_.isEmpty(value)) {\n                return new i18nMessage('error.field.required', 'label');\n            }\n            if (value.length > defaultSettings.LABEL_MAX_LENGTH) {\n                return new i18nMessage('error.field.max.length', 'label', defaultSettings.LABEL_MAX_LENGTH);\n            }\n        },\n        description: function (value, attr, computedState) {\n            if (value && value.length > defaultSettings.DESCRIPTION_MAX_LENGTH) {\n                return new i18nMessage('error.field.max.length', 'description', defaultSettings.DESCRIPTION_MAX_LENGTH);\n            }\n        },\n        parentFolderUri: [{\n            required: true,\n            msg: new i18nMessage('error.field.required', 'parentFolderUri')\n        }]\n    },\n    /*\n         * Override Backbone.Model.prototype.url method to work in two modes.\n         * If model is new (no \"uri\" attribute is set), then it returns full path to parent folder,\n         * e.g. http://localhost:8080/jasperserver-pro/rest_v2/resources/public.\n         * If model is not new (\"uri\" attribute is set), then function returns full path to resource,\n         * e.g. http://localhost:8080/jasperserver-pro/rest_v2/resources/public/MyResourceModel.\n         */\n    url: function () {\n        if (this.isNew()) {\n            return this.urlRoot() + encodeURI(this.get('parentFolderUri'));\n        }\n        return this.urlRoot() + encodeURI(this.id);\n    },\n    /*\n         * Override constructor to set options.parse to true by default\n         */\n    constructor: function (attributes, options) {\n        options || (options = {});\n        _.defaults(options, { parse: true });\n        BaseModel.call(this, attributes, options);\n    },\n    initialize: function (attributes, options) {\n        this.contextPath = options.contextPath;\n        options.type && (this.type = options.type);    // update \"uri\" attribute when \"name\" or \"parentFolderUri\" changes\n        // update \"uri\" attribute when \"name\" or \"parentFolderUri\" changes\n        this.on('change:parentFolderUri change:name', this._updateUri);    // update \"name\" and \"parentFolderUri\" attributes when \"uri\" changes\n        // update \"name\" and \"parentFolderUri\" attributes when \"uri\" changes\n        this.on('change:uri', this._updateNameAndParentFolderUri);\n        BaseModel.prototype.initialize.apply(this, arguments);\n    },\n    /*\n         * Override clone method to path additional options when cloning model.\n         */\n    clone: function () {\n        return new this.constructor(this.attributes, { contextPath: this.contextPath });\n    },\n    /*\n         * Override Backbone.Model.prototype.parse to get name and parentFolderUri from name.\n         */\n    parse: function (response) {\n        if (typeof response.uri !== 'undefined') {\n            response.name = RepositoryResourceModel.getNameFromUri(response.uri);\n            response.parentFolderUri = RepositoryResourceModel.getParentFolderFromUri(response.uri);\n        } else {\n            if (response.parentFolderUri && response.name) {\n                response.uri = RepositoryResourceModel.constructUri(response.parentFolderUri, response.name);\n            }\n        }\n        return response;\n    },\n    /*\n         * Override Backbone.Model.prototype.toJSON method to clean up fields that are not used by server.\n         */\n    toJSON: function () {\n        var data = this.serialize();\n        delete data.name;\n        delete data.parentFolderUri;\n        return data;\n    },\n    /*\n         * Set \"uri\" attribute from \"parentFolderUri\" and \"name\" attributes.\n         */\n    _updateUri: function () {\n        var name = this.get('name'), folder = this.get('parentFolderUri'), uri = RepositoryResourceModel.constructUri(folder, name);\n        if (uri) {\n            this.set('uri', uri);\n        }\n    },\n    /*\n         * Set \"parentFolderUri\" and \"name\" attributes from \"uri\".\n         */\n    _updateNameAndParentFolderUri: function () {\n        var uri = this.get('uri'), name = RepositoryResourceModel.getNameFromUri(uri), parentFolderUri = RepositoryResourceModel.getParentFolderFromUri(uri);\n        this.set({\n            name: name,\n            parentFolderUri: parentFolderUri\n        });\n    },\n    /*\n         * Override Backbone.Model.prototype.fetch method to set correct HTTP headers and options.\n         *\n         * @param options Options object that is passed to Backbone.sync method. For default options see http://backbonejs.org/#Sync.\n         *      if options.expanded - is true, all subresources will be retrieved as full descriptors,\n         *          if false or undefined - all subresources will be retrieved as references.\n         *\n         * @return $.Deferred instance\n         */\n    fetch: function (options) {\n        _.defaults(options || (options = {}), { headers: { Accept: 'application/json' } });\n        options.url = this.url() + '?expanded=' + (options.expanded === true);\n        delete options.expanded;\n        return BaseModel.prototype.fetch.call(this, options);\n    },\n    /*\n         * Override Backbone.Model.prototype.sync method to set correct 'type' property from headers.\n         */\n    sync: function (method, model, options) {\n        if ('read' === method) {\n            var success = options.success, self = this;\n            options.success = function (resource, status, xhr) {\n                var contentType = xhr.getResponseHeader('Content-Type'), result = EXTRACT_RESOURCE_TYPE_EXPRESSION.exec(contentType);\n                if (!result || !result[1]) {\n                    throw new Error('Unsupported response content type: ' + contentType);\n                }\n                self.type = result[1];\n                if (success) {\n                    success(resource, status, xhr);\n                }\n            };\n        }\n        return BaseModel.prototype.sync.call(this, method, model, options);\n    },\n    /*\n         * Override BaseModel.prototype.fetch method to set correct HTTP headers and options.\n         *\n         * @param options Options object that is passed to Backbone.sync method. For default options see http://backbonejs.org/#Sync.\n         *      If options.createFolders is true or undefined, service will create all absent parent folders,\n         *          if false - service will return error if parent folder not exists.\n         *      If options.overwrite is true, service will overwrite resource if any,\n         *          if false or undefined - service will return error if destination uri already in use.\n         *\n         * @return $.Deferred instance\n         */\n    save: function (key, val, options) {\n        var attrs;    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n        // Handle both `\"key\", value` and `{key: value}` -style arguments.\n        if (_.isUndefined(key) || _.isNull(key) || _.isObject(key)) {\n            attrs = key || {};\n            options = val;\n        } else {\n            (attrs = {})[key] = val;\n        }\n        if (!this.type) {\n            throw new Error('Resource type is unspecified. It\\'s not possible to save ' + 'a resource without it\\'s type specified');\n        }\n        _.defaults(options || (options = {}), {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/repository.' + this.type + '+json; charset=UTF-8'\n            }\n        });\n        options = this._getSaveUrlOptions(options);\n        return BaseModel.prototype.save.call(this, attrs, options);\n    },\n    _getSaveUrlOptions: function (options) {\n        var url = this.url() + '?createFolders=' + (options.createFolders === true);\n        url += '&overwrite=' + (options.overwrite === true);\n        url += '&expanded=' + (options.expanded === true);\n        url += '&dry-run=' + (options.dryRun === true);\n        options = _.omit(options, [\n            'createFolders',\n            'overwrite',\n            'expanded',\n            'dryRun'\n        ]);\n        options = _.extend({}, options, { url: url });\n        return options;\n    },\n    /*\n         * Check if model supports \"write\" operation from current user.\n         */\n    isWritable: function () {\n        var permission = this.get('permissionMask'), result = false;\n        if (!_.isUndefined(permission)) {\n            result = permission === 1 || permission & 4;\n        }\n        return result;\n    },\n    checkLabelExistenceOnServer: function () {\n        var label = this.get('label'), folderToSearchIn = this.get('parentFolderUri');\n        this.operationInProgress = $.Deferred();\n        request({\n            type: \"GET\",\n            dataType: \"json\",\n            url: this.contextPath + \"/rest_v2/resources\" + \"?folderUri=\" + encodeURIComponent(folderToSearchIn) + \"&q=\" + encodeURIComponent(label) + \"&recursive=false\",\n            headers: {\n                \"Accept\" : \"application/json\"\n            }\n        })\n            .done(this._checkLabelExistenceOnServerDone.bind(this))\n            .fail(this._checkLabelExistenceOnServerFail.bind(this));\n\n        return this.operationInProgress;\n    },\n    _checkLabelExistenceOnServerDone: function (response, status, xhr) {\n        var foundItems = [];\n        if (response && response.resourceLookup && response.resourceLookup.length > 0) {\n            foundItems = response.resourceLookup;\n        }\n        this.operationInProgress.resolve({ foundResources: foundItems });\n    },\n    _checkLabelExistenceOnServerFail: function (xhr) {\n        if (xhr.status === 404) {\n            // this means there is no such label on server\n            this.operationInProgress.resolve({ foundResources: [] });\n        } else {\n            // on other HTTP error code we suppose we got server error (like 503).\n            this.operationInProgress.reject(xhr);\n        }\n    },\n    copyTo: function (destinationUri, overwrite, createFolders) {\n        return doRepoOperation(this, 'POST', destinationUri, !!overwrite, arguments.length < 3 || createFolders);\n    },\n    moveTo: function (destinationUri, overwrite, createFolders) {\n        return doRepoOperation(this, 'PUT', destinationUri, !!overwrite, arguments.length < 3 || createFolders);\n    }\n}, {\n    settings: defaultSettings,\n    /*\n         * Parse resource 'name' from 'uri'\n         *\n         * @param uri string\n         *\n         * @return resource name, string\n         */\n    getNameFromUri: function (uri) {\n        if (!uri) {\n            return undefined;\n        }\n        var uriParts = uri.split('/');\n        return uriParts[uriParts.length - 1];\n    },\n    /*\n         * Parse resource 'parentFolderUri' from 'uri'\n         *\n         * @param uri string\n         *\n         * @return resource parentFolderUri, string\n         */\n    getParentFolderFromUri: function (uri) {\n        if (!uri) {\n            return undefined;\n        }\n        var uriParts = uri.split('/');\n        if (uriParts.length === 2 && uriParts[1] !== '') {\n            // resource is in the root folder\n            return '/';\n        }\n        return uriParts.slice(0, uriParts.length - 1).join('/');\n    },\n    /*\n         * Construct resource 'uri' from 'parentFolderUri' and 'name'\n         *\n         * @param parentFolderUri string\n         * @param name string\n         *\n         * @return string or undefined\n         */\n    constructUri: function (parentFolderUri, name) {\n        if (name && parentFolderUri) {\n            return parentFolderUri.indexOf('/', parentFolderUri.length - 1) !== -1 ? parentFolderUri + name : parentFolderUri + '/' + name;\n        }\n    },\n    /*\n         * Generate 'name' for resource from string.\n         *\n         * @param label string\n         *\n         * @return name for resource, string\n         */\n    generateResourceName: function (label) {\n        var name = '';\n        if (label) {\n            name = label.replace(new RegExp('[' + RepositoryResourceModel.settings.NAME_NOT_SUPPORTED_SYMBOLS + ']', 'g'), '_');\n        }\n        return name;\n    }\n});\n// Add validation to model (https://github.com/thedersen/backbone.validation#validation-mix-in)\n_.extend(RepositoryResourceModel.prototype, BackboneValidation.mixin);\nexport default RepositoryResourceModel;","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\n/* global __jrsConfigs__ */\n//JasperServer namespace  mess\n\n/*\n *  One of Jasperserver namespaces.\n */\nvar JRS = {\n    vars: {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null,\n        contextPath: __jrsConfigs__.contextPath\n    },\n    i18n: {}\n};\nvar Calendar = {};\nif (typeof isEncryptionOn === 'undefined') {\n    var isEncryptionOn = false;\n}\nfunction isProVersion() {\n    return __jrsConfigs__.isProVersion;\n}\nvar jaspersoft = {\n    components: {},\n    i18n: {}\n};\nif (typeof JRS == 'undefined') {\n    JRS = { Mocks: {} };\n}\nif (typeof JRS.vars == 'undefined') {\n    JRS.vars = {\n        element_scrolled: false,\n        ajax_in_progress: false,\n        current_flow: null\n    };\n}    //TODO: move closer to Import/Export\n//TODO: move closer to Import/Export\nif (typeof JRS.Export == 'undefined') {\n    JRS.Export = {\n        i18n: {\n            'file.name.empty': 'export.file.name.empty',\n            'file.name.too.long': 'export.file.name.too.long',\n            'file.name.not.valid': 'export.file.name.not.valid',\n            'export.select.users': 'export.select.users',\n            'export.select.roles': 'export.select.roles',\n            'export.session.expired': 'export.session.expired',\n            'error.timeout': 'export.file.name.empty'\n        },\n        configs: {\n            TIMEOUT: 1200000,\n            DELAY: 3000\n        }\n    };\n}\nif (typeof window.localContext == 'undefined') {\n    window.localContext = {};\n}    //TODO: move to common module\n//TODO: move to common module\nif (__jrsConfigs__.calendar) {\n    JRS.i18n['bundledCalendarFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarFormat;\n    JRS.i18n['bundledCalendarTimeFormat'] = __jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat;\n}\n\nwindow.JRS = JRS;\nwindow.jaspersoft = jaspersoft;\nwindow.isProVersion = isProVersion;\n\nexport {jaspersoft, JRS, isProVersion};","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport Dialog from './Dialog';\nimport Validation from '../../extension/backboneValidationExtension';\nexport default Dialog.extend({\n    events: _.extend({\n        'keyup input[type=text], textarea, select': 'updateModelProperty',\n        'change input[type=text], input:checkbox, textarea, select': 'updateModelProperty'\n    }, Dialog.prototype.events),\n    initialize: function () {\n        this._bindEvents();\n        Dialog.prototype.initialize.apply(this, arguments);\n    },\n    _bindEvents: function () {\n    },\n    _unbindEvents: function () {\n    },\n    updateModelProperty: function (e) {\n        var update = {}, target = $(e.target);\n        if (target[0].tagName.toLowerCase() === 'input' && target.attr('type') === 'text' || target[0].tagName.toLowerCase() === 'select' && target.attr('multiple') !== 'true' || target[0].tagName.toLowerCase() === 'textarea') {\n            update[target.attr('name')] = $.trim(target.val());\n        } else if (target[0].tagName.toLowerCase() === 'input' && target.attr('type') === 'checkbox') {\n            update[target.attr('name')] = target.is(':checked');\n        }\n        this.beforeModelPropertySet && this.beforeModelPropertySet(update);\n        this.model.set(update);\n        this.model.validate(update);\n    },\n    bindValidation: function () {\n        Validation.bind(this, {\n            valid: this.fieldIsValid,\n            invalid: this.fieldIsInvalid,\n            forceUpdate: true,\n            selector: 'name'\n        });\n    },\n    unbindValidation: function () {\n        Validation.unbind(this);\n    },\n    fieldIsValid: function (view, attr, selector) {\n        var $parentEl = view.$('[' + selector + '=\"' + attr + '\"]').parent();\n        $parentEl.removeClass('error');\n        $parentEl.find('.message.warning').text('');\n    },\n    fieldIsInvalid: function (view, attr, error, selector) {\n        var $parentEl = view.$('[' + selector + '=\"' + attr + '\"]').parent();\n        $parentEl.addClass('error');\n        $parentEl.find('.message.warning').text(error.toString());\n    },\n    validField: function (selector) {\n        var $parentEl = this.$(selector).parent();\n        $parentEl.removeClass('error');\n        $parentEl.find('.message.warning').text('');\n    },\n    invalidField: function (selector, error) {\n        var $parentEl = this.$(selector).parent();\n        $parentEl.addClass('error');\n        $parentEl.find('.message.warning').text(error.toString());\n    },\n    clearValidationErrors: function () {\n        this.$('label').removeClass('error');\n        this.$('.message.warning').text('');\n    },\n    remove: function () {\n        this.unbindValidation();\n        this._unbindEvents();\n        Dialog.prototype.remove.apply(this, arguments);\n    }\n});"],"sourceRoot":""}