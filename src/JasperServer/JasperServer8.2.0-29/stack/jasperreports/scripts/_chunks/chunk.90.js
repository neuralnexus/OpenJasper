(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[90],{18731:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(72157),o=t.n(a),n=t(52687),i={initialize:function(){i.aboutBox.registerListeners()}};i.aboutBox={show:function(){var e=o()("#aboutBox");e.hasClass("hidden")&&n.Z.popup.show(e[0],!0,{closable:!0})},_hide:function(){var e=o()("#aboutBox");e.hasClass("hidden")||n.Z.popup.hide(e[0])},registerListeners:function(){var e=o()("#about"),s=o()("#aboutBox button");e.on("click",(function(e){e.preventDefault(),i.aboutBox.show()})),s.on("click",(function(e){i.aboutBox._hide(),e.stopPropagation()}))}};const r=i},90:(e,s,t)=>{"use strict";t.r(s);var a,o=t(98223),n=t(52687),i=t(33806),r=t(64155),c=t(72157),d=t.n(c);!function(e){e.J_USERNAME="j_username",e.ORGANIZATION_ID="orgId",e.SHOW_HIDE_LOCALE_AND_TIMEZONE="showHideLocaleAndTimezone",e.LOCALE_AND_TIMEZONE="localeAndTimeZone",e.USER_LOCALE="userLocale",e.CHANGE_PASSWORD="changePassword",e.J_PASSWORD="j_password",e.J_PASSWORD_PSEUDO="j_password_pseudo",e.J_NEW_PASSWORD1="j_newpassword1",e.J_NEW_PASSWORD2="j_newpassword2",e.J_NEW_PASSWORD1_PSEUDO="j_newpassword1_pseudo",e.J_NEW_PASSWORD2_PSEUDO="j_newpassword2_pseudo",e.SHOW_HIDE_CHANGE_PASSWORD="showHideChangePassword",e.PASSWORD_EXPIRED_DAYS="passwordExpiredDays",e.LOGIN_FORM="loginForm",e.SUBMIT_BUTTON="submitButton",e.CUSTOM_ERROR="customError"}(a||(a={}));const h=a;function l(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const _=function(){function e(s){!function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,e),this._dom=null,this._initialize(s)}var s,t,a;return s=e,(t=[{key:"_initialize",value:function(e){this._initVars(e),this._processTemplate(),this._initHandlers(),this._passwordExpiredDays.length>0&&this._passwordExpiredDays.val(this._passwordExpirationInDays),this._beforeFocus(),this._focus()}},{key:"_beforeFocus",value:function(){this._warningMessage&&this._customError.html(this._warningMessage).removeClass("hidden"),this._errorSection.text().trim()&&(this._errorSection.attr("aria-hidden","false"),this._errorSection.attr("role","alert"),this._errorSection.attr("aria-live","Assertive")),this._warningSection.text().trim()&&this._warningSection.attr("aria-hidden","false")}},{key:"_getElementToFocus",value:function(){if("false"===this._errorSection.attr("aria-hidden")){var e=d()("#".concat(h.ORGANIZATION_ID)),s=d()("#".concat(h.J_USERNAME));return e.length&&!e.closest("label").hasClass("hidden")?e:s}}},{key:"_focus",value:function(){var e=this._getElementToFocus();e&&(d()(e).trigger("focus"),d()(e).hasClass("focus-visible")||(d()(e).addClass("focus-visible"),d()(e).attr("data-focus-visible-added","")))}},{key:"_initVars",value:function(e){this._showLocaleMessage=e.showLocaleMessage,this._hideLocaleMessage=e.hideLocaleMessage,this._changePasswordMessage=e.changePasswordMessage,this._cancelPasswordMessage=e.cancelPasswordMessage,this._allowUserPasswordChange=e.allowUserPasswordChange,this._showPasswordChange=e.showPasswordChange,this._allowedPasswordPattern=new RegExp(e.allowedPasswordPattern),this._passwordExpirationInDays=e.passwordExpirationInDays,this._nonEmptyPasswordMessage=e.nonEmptyPasswordMessage,this._passwordNotMatchMessage=e.passwordNotMatchMessage,this._passwordNotMatchMessage=e.passwordNotMatchMessage,this._passwordTooWeakMessage=e.passwordTooWeakMessage,this._warningMessage=e.warningMessage}},{key:"_processTemplate",value:function(){this._dom=d()("#login"),this._showHideLocaleAndTimezone=d()("#".concat(h.SHOW_HIDE_LOCALE_AND_TIMEZONE)),this._localeAndTimeZone=d()("#".concat(h.LOCALE_AND_TIMEZONE)),this._changePassword=d()("#".concat(h.CHANGE_PASSWORD)),this._j_newpassword1=d()("#".concat(h.J_NEW_PASSWORD1_PSEUDO)),this._j_newpassword2=d()("#".concat(h.J_NEW_PASSWORD2_PSEUDO)),this._showHideChangePassword=d()("#".concat(h.SHOW_HIDE_CHANGE_PASSWORD)),this._passwordExpiredDays=this._dom.find('input[name="'.concat(h.PASSWORD_EXPIRED_DAYS,'"]')),this._customError=d()("#".concat(h.CUSTOM_ERROR)),this._loginForm=this._dom.parent("form"),this.documentationButton=d()("#documentationButton"),this.gotoJasperForge=d()("#gotoJasperForge"),this.needHelpLink=d()("#needHelp"),this.needHelpDialog=d()("#helpLoggingIn"),this._warningSection=d()("#".concat("loginWarningSection")),this._errorSection=d()("#".concat("loginErrorSection"))}},{key:"_initHandlers",value:function(){var e=this;this._showHideLocaleAndTimezone.on("click",this._localeAndTimezoneShowHideHandler.bindAsEventListener(this)),this._allowUserPasswordChange&&(this._showHideChangePassword.on("click",this._changePasswordShowHideHandler.bindAsEventListener(this)),this._loginForm.on("submit",this._submitValidateHandler.bind(this))),this._showPasswordChange&&this._changePasswordShowHideHandler(),window.webHelpModule&&this.documentationButton.on("click",function(e){o.Z.displayWebHelp()}.bindAsEventListener(this)),this.gotoJasperForge.on("click",function(e){window.name="",window.open("http://jasperforge.org","jasperforge.org").focus()}.bindAsEventListener(this)),this.needHelpLink.on("click",(function(){n.Z.popup.show(e.needHelpDialog[0],!0,{closable:!0})})),[this.needHelpDialog].each((function(e){e.find(i.Z.BUTTON_PATTERN).on("click",(function(s){n.Z.popup.hide(e)}))}))}},{key:"_submitValidateHandler",value:function(e){this._customError.addClass("hidden"),this._changePassword.hasClass("hidden")||r.n4K.validate([{validators:[{method:this._emptyPasswordValidator.bind(this)},{method:this._confirmationPasswordTooWeakValidator.bind(this)}],element:this._j_newpassword1[0]},{validators:[{method:this._emptyPasswordValidator.bind(this)},{method:this._confirmationPasswordNotMatchValidator.bind(this)}],element:this._j_newpassword2[0]}])||e.preventDefault()}},{key:"_emptyPasswordValidator",value:function(e){var s=!0,t="";return e.blank()&&(s=!1,t=this._nonEmptyPasswordMessage),{isValid:s,errorMessage:t}}},{key:"_confirmationPasswordNotMatchValidator",value:function(e){var s=!0,t="";return e!==this._j_newpassword1.val()&&(s=!1,t=this._passwordNotMatchMessage),{isValid:s,errorMessage:t}}},{key:"_confirmationPasswordTooWeakValidator",value:function(e){return{isValid:this._allowedPasswordPattern.test(e),errorMessage:this._passwordTooWeakMessage}}},{key:"_changePasswordShowHideHandler",value:function(){this._changePassword.toggleClass("hidden"),this._changePassword.hasClass("hidden")?(this._showHideChangePassword.html(this._changePasswordMessage).attr("aria-expanded","false"),this._j_newpassword1.val(""),this._j_newpassword2.val("")):this._showHideChangePassword.html(this._cancelPasswordMessage).attr("aria-expanded","true")}},{key:"_localeAndTimezoneShowHideHandler",value:function(){this._localeAndTimeZone.toggleClass("hidden"),this._localeAndTimeZone.hasClass("hidden")?this._showHideLocaleAndTimezone.html(this._showLocaleMessage).attr("aria-expanded","false"):this._showHideLocaleAndTimezone.html(this._hideLocaleMessage).attr("aria-expanded","true")}}])&&l(s.prototype,t),a&&l(s,a),e}();var w=t(71914),u=t(13609);d().jCryption.encryptKeyWithoutRedundancy=function(e,s,t){if(""===e)return d().isFunction(t)?void t(e):e;for(var a=0;a<e.length;a++)e.charCodeAt(a);for(var o,n,i,r,c,h=[],l=0;l<e.length;)h[l]=e.charCodeAt(l),l++;for(;h.length%s.chunkSize!=0;)h[l++]=0;o=h,r=0,c="",setTimeout((function e(){i=new u.tk,n=0;for(var a=r;a<r+s.chunkSize;++n)i.digits[n]=o[a++],i.digits[n]+=o[a++]<<8;var h=s.barrett.powMod(i,s.e),l=16==s.radix?(0,u.Iy)(h):(0,u.sB)(h,s.radix);if(c+=l+" ",(r+=s.chunkSize)<o.length)setTimeout(e,1);else{var _=c.substring(0,c.length-1);if(!d().isFunction(t))return _;t(_)}}),1)};const g=d();var p={encryptData:function(e,s){e?g.jCryption.getKeys("GetEncryptionKey",(function(t){var a=t,o=[];for(var n in e)o.push(n);p._encryptDataRecursive(e,o,0,a,{},s)})):s()},_encryptDataRecursive:function(e,s,t,a,o,n){if(s&&s.length!=t){var i=encodeURIComponent(e[s[t]]).split("").reverse().join("");g.jCryption.encryptKeyWithoutRedundancy(i,a,(function(i){o[s[t]]=i,s.length==t+1?n(o):p._encryptDataRecursive(e,s,t+1,a,o,n)}))}}};const f=p;var S=t(18731);!function(e){!function(){var e=d()("#".concat(h.J_USERNAME)),s=d()("#".concat(h.J_PASSWORD_PSEUDO)),t=d()("#".concat(h.ORGANIZATION_ID)),a=window;o.Z.setCurrentContext("login");var n=function(e){if(w.Z.isEncryptionOn){var t,o={j_password:String(null!==(t=s.val())&&void 0!==t?t:"")};if(a.doesAllowUserPasswordChange){var n,i,r=String(null!==(n=d()("#".concat(h.J_NEW_PASSWORD1_PSEUDO)).val())&&void 0!==n?n:""),c=String(null!==(i=d()("#".concat(h.J_NEW_PASSWORD2_PSEUDO)).val())&&void 0!==i?i:"");d().trim(r)&&(o.j_newpassword1=r),d().trim(c)&&(o.j_newpassword2=c)}f.encryptData(o,(function(e){Object.keys(e).forEach((function(s){d()("#".concat(s)).val(e[s]),d()("#".concat(s,"_pseudo")).val("")})),d()("#".concat(h.LOGIN_FORM)).trigger("submit")}))}else{var l,_,u;d()("#".concat(h.J_PASSWORD)).val(String(null!==(l=s.val())&&void 0!==l?l:"")),d()("#".concat(h.J_NEW_PASSWORD1)).val(String(null!==(_=d()("#".concat(h.J_NEW_PASSWORD1_PSEUDO)).val())&&void 0!==_?_:"")),d()("#".concat(h.J_NEW_PASSWORD2)).val(String(null!==(u=d()("#".concat(h.J_NEW_PASSWORD2_PSEUDO)).val())&&void 0!==u?u:"")),d()("#".concat(h.LOGIN_FORM)).trigger("submit")}e.preventDefault()};d()("#".concat(h.SUBMIT_BUTTON)).removeAttr("disabled").on("click",n),[e,s,t].forEach((function(e){e.on("keypress",(function(e){13===(e.keyCode||e.which)&&n(e)}))}))}(),window.location.hash&&(window.localStorage.previousPageHash=window.location.hash),S.Z.initialize(),new e(w.Z.loginState),function(){if((0,r.zcy)()){var e=d()("#frame"),s=d()("h2.textAccent"),t=d()("#copy"),a=d()("#".concat(h.LOGIN_FORM)),o=function(){switch(window.orientation){case 0:s.css("font-size","14px").parent().css("width","39%"),t.css("width","600px"),a.css({left:"524px",right:""});break;case 90:case-90:s.css("font-size","16px").parent().css("width","46%"),t.css("width","766px"),a.css({left:"",right:"-10px"})}};e.hide(),o(),e.show(),window.addEventListener("orientationchange",o)}}()}(_)}}]);
//# sourceMappingURL=chunk.90.js.map