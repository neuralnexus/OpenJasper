{"version":3,"sources":["webpack://jrs-ui/./src/components/components.webHelp.js","webpack://jrs-ui/./src/core/core.ajax.utils.js"],"names":["webHelpModule","currentContext","displayWebHelp","webHelpModuleState","jrsConfigs","page","contextMap","helpURL","hostURL","pagePrefix","window","name","runPopup","open","focus","setCurrentContext","context","showErrorPopup","errorMessage","options","indexOf","dialogs","baseErrorHandler","ajaxAgent","status","responseText","getResponseHeader","document","location","jQuery","length","body","html","JRS","parent","removeClass","show","errorHandler","showMessageDialog"],"mappings":"yJA2BMA,EAAgB,CAClBC,eAHoB,UAIpBC,eAFkB,WAED,IAELC,EAAuBC,uBAC/B,GAAKD,EAAL,CAGA,IAAME,EAAOF,EAAmBG,WAAWN,EAAcC,gBACnDM,EAAU,GAAH,OAAMJ,EAAmBK,QAAzB,YAAoCL,EAAmBM,YAAvD,OAAoEJ,GACjFK,OAAOC,KAAO,GACd,IAAMC,EAAWF,OAAOG,KAAKN,EAAS,aAClCK,GACAA,EAASE,UAGjBC,kBAhBkB,SAgBAC,GACdhB,EAAcC,eAAiBe,IAIvC,W,wHCvBA,SAASC,EAAeC,EAAcC,IAC7BD,GAAgBA,EAAaE,QAAQ,sCAAwC,EAC9EC,2BAA+BH,GAE/BG,oBAAwBH,GAAc,EAAOC,GAGrD,SAASG,EAAiBC,GAEtB,GAAwB,KAApBA,EAAUC,OAEV,OADAP,EAAeM,EAAUE,eAClB,EAGX,GADqBF,EAAUG,kBAAkB,kBAC7B,CAGhB,OADAC,SAASC,SADI,KAEN,EAGX,GADkBL,EAAUG,kBAAkB,qBAC7B,CAEb,IADoBH,EAAUG,kBAAkB,iBAI5C,GAAiC,GADRG,IAAO,uBACTC,OACnBD,IAAOF,SAASI,MAAMC,KAAKT,EAAUE,cACxBI,IAAO,IAAMI,SAASvB,OAAOwB,OAAOP,UAC1CQ,YAAY,UAAUC,YAG7BnB,EAAeM,EAAUE,cAGjC,OAAO,EAEX,OAAO,EAGX,SAASY,KACT,SAASC","file":"_chunks/chunk.5266.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\n\nconst DEFAULT_CONTEXT = 'default';\n\nconst webHelpModule = {\n    currentContext: DEFAULT_CONTEXT,\n    displayWebHelp() {\n        // If webHelpModuleState is undefined doesn't display Web Help\n        const { webHelpModuleState } = jrsConfigs;\n        if (!webHelpModuleState) {\n            return;\n        }\n        const page = webHelpModuleState.contextMap[webHelpModule.currentContext];\n        const helpURL = `${webHelpModuleState.hostURL}/${webHelpModuleState.pagePrefix}${page}`;\n        window.name = '';\n        const runPopup = window.open(helpURL, 'MCWebHelp');\n        if (runPopup) {\n            runPopup.focus();\n        }\n    },\n    setCurrentContext(context) {\n        webHelpModule.currentContext = context;\n    }\n};\n\nexport default webHelpModule;\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport dialogs from \"../components/components.dialogs\";\nimport {JRS} from \"../namespace/namespace\";\nimport jQuery from 'jquery';\n\nfunction showErrorPopup(errorMessage, options) {\n    if ((errorMessage && errorMessage.indexOf('sessionAttributeMissingException')) > -1) {\n        dialogs.clusterErrorPopup.show(errorMessage);\n    } else {\n        dialogs.errorPopup.show(errorMessage, false, options);\n    }\n}\nfunction baseErrorHandler(ajaxAgent) {\n    //Handling HTTP 500 - Internal server error\n    if (ajaxAgent.status == 500) {\n        showErrorPopup(ajaxAgent.responseText);\n        return true;\n    }\n    var sessionTimeout = ajaxAgent.getResponseHeader('LoginRequested');\n    if (sessionTimeout) {\n        var newloc = '.';\n        document.location = newloc;\n        return true;\n    }\n    var isErrorPage = ajaxAgent.getResponseHeader('JasperServerError');\n    if (isErrorPage) {\n        var suppressError = ajaxAgent.getResponseHeader('SuppressError');\n        if (!suppressError) {\n            // For dashboard frame we should render error message as frame content.\n            var dashboardViewFrame = jQuery('.dashboardViewFrame');\n            if (dashboardViewFrame.length == 1) {\n                jQuery(document.body).html(ajaxAgent.responseText);\n                var iFrame = jQuery('#' + JRS.fid, window.parent.document);\n                iFrame.removeClass('hidden').show();\n            } else {\n                // In other cases we render error message as popup.\n                showErrorPopup(ajaxAgent.responseText);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\nfunction errorHandler() {}\nfunction showMessageDialog() {}\n\nexport {\n    showErrorPopup,\n    baseErrorHandler,\n    errorHandler,\n    showMessageDialog\n}"],"sourceRoot":""}