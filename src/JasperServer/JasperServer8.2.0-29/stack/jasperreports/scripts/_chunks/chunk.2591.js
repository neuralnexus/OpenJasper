(self.webpackChunkjrs_ui=self.webpackChunkjrs_ui||[]).push([[2591],{47269:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(72157),i=r.n(n),o=r(97836),s=r.n(o),a=r(81180),l=r(59772),d=r(12473),c=r(29562);let u;"RepositoryResourceBundle"!==c.t?(c.h.RepositoryResourceBundle=c.h.RepositoryResourceBundle||{},u=c.h.RepositoryResourceBundle):u=Object.keys(c.h).reduce(((e,t)=>({...e,...c.h[t]})),{});const p=u;var h=r(95992),f="index",v="keyValue",g=h.Z.extend({constructor:function(e){this.code=e,this.args=Array.prototype.slice.call(arguments,1)},bundle:{}});g.prototype.toString=function(){var e=this.bundle[this.code];if(!e)return this.code;var t=this._getArgsType(this.args);return t===f?e=this._interpolateIndexArgs(this.args,e):t===v&&(e=this._interpolateObjectArgs(this.args,e)),e},g.prototype._getArgsType=function(e){if(e&&e.length){var t=s().first(e);return s().isObject(t)?v:f}},g.prototype._interpolateObjectArgs=function(e,t){var r=e[0].separator||", ",n=e.reduce((function(e,t){var n=t.key,i=t.value;return e[n]?e[n]=e[n]+r:e[n]="",e[n]=e[n]+i,e}),{});return t=s().keys(n).reduce((function(e,t){var r=n[t],i="\\{"+t+"\\}";return e.replace(new RegExp(i,"g"),r)}),t)},g.prototype._interpolateIndexArgs=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r],o="\\{"+r+"\\}";t=t.replace(new RegExp(o,"g"),i)}return t},g.create=function(e){return function(t){var r=Object.create(g.prototype);return(r=s().extend(r,{bundle:e,code:t,args:Array.prototype.slice.call(arguments,1)})).toString(r)}};var _=g.extend({bundle:p}),m={LABEL_MAX_LENGTH:100,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:250,NAME_NOT_SUPPORTED_SYMBOLS:"~!#\\$%^|\\s`@&*()\\-+={}\\[\\]:;\"'\\<\\>,?/\\|\\\\"},x=/application\/repository\.([^\+]+)\+json/;function y(e,t,r,n,i){return(0,d.Z)({type:t,dataType:"json",url:e.contextPath+"/rest_v2/resources"+r+"?overwrite="+n+"&createFolders="+i,headers:{Accept:"application/json","Content-Location":e.get("uri")}}).done((function(t){e.set("uri",t.uri)}))}var b=a.Z.extend({idAttribute:"uri",type:void 0,urlRoot:function(){return(this.contextPath||"")+"/rest_v2/resources"},defaults:{name:void 0,parentFolderUri:void 0,uri:void 0,label:void 0,description:void 0,permissionMask:void 0,creationDate:void 0,updateDate:void 0,version:void 0},validation:{name:function(e,t,r){return e&&e.length>m.NAME_MAX_LENGTH?new _("error.field.max.length","name",m.NAME_MAX_LENGTH):e&&new RegExp("["+m.NAME_NOT_SUPPORTED_SYMBOLS+"]","g").test(e)?new _("error.field.bad.symbols","name",m.NAME_NOT_SUPPORTED_SYMBOLS):void 0},label:function(e,t,r){return s().isEmpty(e)?new _("error.field.required","label"):e.length>m.LABEL_MAX_LENGTH?new _("error.field.max.length","label",m.LABEL_MAX_LENGTH):void 0},description:function(e,t,r){if(e&&e.length>m.DESCRIPTION_MAX_LENGTH)return new _("error.field.max.length","description",m.DESCRIPTION_MAX_LENGTH)},parentFolderUri:[{required:!0,msg:new _("error.field.required","parentFolderUri")}]},url:function(){return this.isNew()?this.urlRoot()+encodeURI(this.get("parentFolderUri")):this.urlRoot()+encodeURI(this.id)},constructor:function(e,t){t||(t={}),s().defaults(t,{parse:!0}),a.Z.call(this,e,t)},initialize:function(e,t){this.contextPath=t.contextPath,t.type&&(this.type=t.type),this.on("change:parentFolderUri change:name",this._updateUri),this.on("change:uri",this._updateNameAndParentFolderUri),a.Z.prototype.initialize.apply(this,arguments)},clone:function(){return new this.constructor(this.attributes,{contextPath:this.contextPath})},parse:function(e){return void 0!==e.uri?(e.name=b.getNameFromUri(e.uri),e.parentFolderUri=b.getParentFolderFromUri(e.uri)):e.parentFolderUri&&e.name&&(e.uri=b.constructUri(e.parentFolderUri,e.name)),e},toJSON:function(){var e=this.serialize();return delete e.name,delete e.parentFolderUri,e},_updateUri:function(){var e=this.get("name"),t=this.get("parentFolderUri"),r=b.constructUri(t,e);r&&this.set("uri",r)},_updateNameAndParentFolderUri:function(){var e=this.get("uri"),t=b.getNameFromUri(e),r=b.getParentFolderFromUri(e);this.set({name:t,parentFolderUri:r})},fetch:function(e){return s().defaults(e||(e={}),{headers:{Accept:"application/json"}}),e.url=this.url()+"?expanded="+(!0===e.expanded),delete e.expanded,a.Z.prototype.fetch.call(this,e)},sync:function(e,t,r){if("read"===e){var n=r.success,i=this;r.success=function(e,t,r){var o=r.getResponseHeader("Content-Type"),s=x.exec(o);if(!s||!s[1])throw new Error("Unsupported response content type: "+o);i.type=s[1],n&&n(e,t,r)}}return a.Z.prototype.sync.call(this,e,t,r)},save:function(e,t,r){var n;if(s().isUndefined(e)||s().isNull(e)||s().isObject(e)?(n=e||{},r=t):(n={})[e]=t,!this.type)throw new Error("Resource type is unspecified. It's not possible to save a resource without it's type specified");return s().defaults(r||(r={}),{headers:{Accept:"application/json","Content-Type":"application/repository."+this.type+"+json; charset=UTF-8"}}),r=this._getSaveUrlOptions(r),a.Z.prototype.save.call(this,n,r)},_getSaveUrlOptions:function(e){var t=this.url()+"?createFolders="+(!0===e.createFolders);return t+="&overwrite="+(!0===e.overwrite),t+="&expanded="+(!0===e.expanded),t+="&dry-run="+(!0===e.dryRun),e=s().omit(e,["createFolders","overwrite","expanded","dryRun"]),e=s().extend({},e,{url:t})},isWritable:function(){var e=this.get("permissionMask"),t=!1;return s().isUndefined(e)||(t=1===e||4&e),t},checkLabelExistenceOnServer:function(){var e=this.get("label"),t=this.get("parentFolderUri");return this.operationInProgress=i().Deferred(),(0,d.Z)({type:"GET",dataType:"json",url:this.contextPath+"/rest_v2/resources?folderUri="+encodeURIComponent(t)+"&q="+encodeURIComponent(e)+"&recursive=false",headers:{Accept:"application/json"}}).done(this._checkLabelExistenceOnServerDone.bind(this)).fail(this._checkLabelExistenceOnServerFail.bind(this)),this.operationInProgress},_checkLabelExistenceOnServerDone:function(e,t,r){var n=[];e&&e.resourceLookup&&e.resourceLookup.length>0&&(n=e.resourceLookup),this.operationInProgress.resolve({foundResources:n})},_checkLabelExistenceOnServerFail:function(e){404===e.status?this.operationInProgress.resolve({foundResources:[]}):this.operationInProgress.reject(e)},copyTo:function(e,t,r){return y(this,"POST",e,!!t,arguments.length<3||r)},moveTo:function(e,t,r){return y(this,"PUT",e,!!t,arguments.length<3||r)}},{settings:m,getNameFromUri:function(e){if(e){var t=e.split("/");return t[t.length-1]}},getParentFolderFromUri:function(e){if(e){var t=e.split("/");return 2===t.length&&""!==t[1]?"/":t.slice(0,t.length-1).join("/")}},constructUri:function(e,t){if(t&&e)return-1!==e.indexOf("/",e.length-1)?e+t:e+"/"+t},generateResourceName:function(e){var t="";return e&&(t=e.replace(new RegExp("["+b.settings.NAME_NOT_SUPPORTED_SYMBOLS+"]","g"),"_")),t}});s().extend(b.prototype,l.Z.mixin);const E=b},94277:(e,t,r)=>{"use strict";r.d(t,{hl:()=>n,YT:()=>o});var n={vars:{element_scrolled:!1,ajax_in_progress:!1,current_flow:null,contextPath:__jrsConfigs__.contextPath},i18n:{}};if(void 0===i)var i=!1;function o(){return __jrsConfigs__.isProVersion}void 0===n&&(n={Mocks:{}}),void 0===n.vars&&(n.vars={element_scrolled:!1,ajax_in_progress:!1,current_flow:null}),void 0===n.Export&&(n.Export={i18n:{"file.name.empty":"export.file.name.empty","file.name.too.long":"export.file.name.too.long","file.name.not.valid":"export.file.name.not.valid","export.select.users":"export.select.users","export.select.roles":"export.select.roles","export.session.expired":"export.session.expired","error.timeout":"export.file.name.empty"},configs:{TIMEOUT:12e5,DELAY:3e3}}),void 0===window.localContext&&(window.localContext={}),__jrsConfigs__.calendar&&(n.i18n.bundledCalendarFormat=__jrsConfigs__.calendar.i18n.bundledCalendarFormat,n.i18n.bundledCalendarTimeFormat=__jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat),window.JRS=n,window.jaspersoft={components:{},i18n:{}},window.isProVersion=o},99494:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(72157),i=r.n(n),o=r(97836),s=r.n(o),a=r(89560),l=r(59772);const d=a.Z.extend({events:s().extend({"keyup input[type=text], textarea, select":"updateModelProperty","change input[type=text], input:checkbox, textarea, select":"updateModelProperty"},a.Z.prototype.events),initialize:function(){this._bindEvents(),a.Z.prototype.initialize.apply(this,arguments)},_bindEvents:function(){},_unbindEvents:function(){},updateModelProperty:function(e){var t={},r=i()(e.target);"input"===r[0].tagName.toLowerCase()&&"text"===r.attr("type")||"select"===r[0].tagName.toLowerCase()&&"true"!==r.attr("multiple")||"textarea"===r[0].tagName.toLowerCase()?t[r.attr("name")]=i().trim(r.val()):"input"===r[0].tagName.toLowerCase()&&"checkbox"===r.attr("type")&&(t[r.attr("name")]=r.is(":checked")),this.beforeModelPropertySet&&this.beforeModelPropertySet(t),this.model.set(t),this.model.validate(t)},bindValidation:function(){l.Z.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0,selector:"name"})},unbindValidation:function(){l.Z.unbind(this)},fieldIsValid:function(e,t,r){var n=e.$("["+r+'="'+t+'"]').parent();n.removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(e,t,r,n){var i=e.$("["+n+'="'+t+'"]').parent();i.addClass("error"),i.find(".message.warning").text(r.toString())},validField:function(e){var t=this.$(e).parent();t.removeClass("error"),t.find(".message.warning").text("")},invalidField:function(e,t){var r=this.$(e).parent();r.addClass("error"),r.find(".message.warning").text(t.toString())},clearValidationErrors:function(){this.$("label").removeClass("error"),this.$(".message.warning").text("")},remove:function(){this.unbindValidation(),this._unbindEvents(),a.Z.prototype.remove.apply(this,arguments)}})}}]);
//# sourceMappingURL=chunk.2591.js.map