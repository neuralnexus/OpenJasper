{"version":3,"sources":["webpack://jrs-ui/../bi-report/src/bi/report/jive/model/BaseComponentModel.js","webpack://jrs-ui/../bi-report/src/bi/report/jive/model/WebfontsComponentModel.js","webpack://jrs-ui/../js-sdk/src/common/util/loader/cssLoader.js"],"names":["Backbone","constructor","attributes","options","this","parent","_notify","evt","handleServerError","result","uiModuleType","get","handleClientError","BaseComponentModel","defaults","id","server","type","jiveTypes","webfonts","initialize","attrs","_handleWebfonts","arguments","serverUri","forEach","webfont","loadCss","path","cssRegistry","url","cache","link","document","createElement","rel","href","getElementsByTagName","appendChild"],"mappings":"0IAMA,QAAeA,iBAAsB,CACjCC,YAAa,SAAUC,EAAYC,GAC/BA,IAAYA,EAAU,IACtBC,KAAKC,OAASF,EAAQE,OACtBL,qCAA0CI,KAAMF,EAAYC,IAGhEG,QAAS,SAAUC,GAEfH,KAAKC,OAAOC,QAAQC,IAExBC,kBAAmB,SAAUC,GACzB,IAAIC,EAAeN,KAAKO,IAAI,gBAC5BD,GAAgBA,EAAaF,kBAAkBC,IAEnDG,kBAAmB,SAAUH,GACzB,IAAIC,EAAeN,KAAKO,IAAI,gBAC5BD,GAAgBA,EAAaE,kBAAkBH,O,+FCdvD,QAAeI,WAA0B,CACrCC,SAAU,WACN,MAAO,CACHC,GAAI,KACJC,OAAQ,GACRC,KAAMC,aACNC,SAAU,KAGlBC,WAAY,SAAUC,GACdA,GAASA,EAAMF,UACff,KAAKkB,gBAAgBD,EAAMF,UAE/BN,+BAA8CT,KAAMmB,YAExDD,gBAAiB,SAAUH,GACvB,IAAMK,EAAYpB,KAAKO,IAAI,UAC3BQ,EAASM,SAAQ,SAAUC,IACvBC,OAAQH,EAAYE,EAAQE,a,8CCJxC,IAAMC,EAAc,GAEPF,EAAU,SAACG,GAAsB,IAAjBC,IAAiB,yDAC1C,GAAIA,GAASF,EAAYC,GACrB,OAAOD,EAAYC,GAGvB,IAAME,EAAOC,SAASC,cAAc,QASpC,OARAF,EAAKf,KAAO,WACZe,EAAKG,IAAM,aACXH,EAAKI,KAAON,EAEZG,SAASI,qBAAqB,QAAQ,GAAGC,YAAYN,GAErDH,EAAYC,GAAOE,EAEZH,EAAYC","file":"_chunks/chunk.2695.js","sourcesContent":["/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.\n * Licensed pursuant to commercial TIBCO End User License Agreement.\n */\n\nimport Backbone from 'backbone';\nexport default Backbone.Model.extend({\n    constructor: function (attributes, options) {\n        options || (options = {});\n        this.parent = options.parent;\n        Backbone.Model.prototype.constructor.call(this, attributes, options);\n    },\n    // internal functions\n    _notify: function (evt) {\n        // bubble the event\n        this.parent._notify(evt);\n    },\n    handleServerError: function (result) {\n        var uiModuleType = this.get('uiModuleType');\n        uiModuleType && uiModuleType.handleServerError(result);\n    },\n    handleClientError: function (result) {\n        var uiModuleType = this.get('uiModuleType');\n        uiModuleType && uiModuleType.handleClientError(result);\n    }\n});","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.\n * Licensed pursuant to commercial TIBCO End User License Agreement.\n */\n\nimport BaseComponentModel from './BaseComponentModel';\nimport jiveTypes from '../enum/jiveTypes';\nimport {loadCss} from 'js-sdk/src/common/util/loader/cssLoader'\n\nexport default BaseComponentModel.extend({\n    defaults: function () {\n        return {\n            id: null,\n            server: '',\n            type: jiveTypes.WEBFONTS,\n            webfonts: []\n        };\n    },\n    initialize: function (attrs) {\n        if (attrs && attrs.webfonts) {\n            this._handleWebfonts(attrs.webfonts);\n        }\n        BaseComponentModel.prototype.initialize.apply(this, arguments);\n    },\n    _handleWebfonts: function (webfonts) {\n        const serverUri = this.get('server');\n        webfonts.forEach(function (webfont) {\n            loadCss(serverUri + webfont.path);\n        });\n    }\n});","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*global document */\n\nconst cssRegistry = {};\n\nexport const loadCss = (url, cache = true) => {\n    if (cache && cssRegistry[url]) {\n        return cssRegistry[url];\n    }\n\n    const link = document.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n\n    document.getElementsByTagName('head')[0].appendChild(link);\n\n    cssRegistry[url] = link;\n\n    return cssRegistry[url];\n}"],"sourceRoot":""}