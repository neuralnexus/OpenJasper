{"version":3,"sources":["webpack://jrs-ui/./runtime_dependencies/jquery-ui/ui/scroll-parent.js","webpack://jrs-ui/./src/components/components.toolbarButtons.js","webpack://jrs-ui/./src/components/components.tooltip.js","webpack://jrs-ui/./src/components/components.toolbarButtons.events.js","webpack://jrs-ui/./src/messages/details/messageDetails.js","webpack://jrs-ui/./src/messages/details/messageDetails.common.js","webpack://jrs-ui/./src/util/touch.controller.js","webpack://jrs-ui/./runtime_dependencies/dragdropextra/dragdropextra.js"],"names":["factory","define","$","fn","scrollParent","includeHidden","position","this","css","excludeStaticParent","overflowRegex","parents","filter","parent","test","eq","length","ownerDocument","document","UP","DOWN","OVER","DISABLED","PRESSED","CONTENT_PREFIX","MenuClass","TOOLBAR_MENU_CLASS","ACTION_MODEL_TAG","CAPSULE_PATTERN","showButtonMenu","event","object","jQuery","context","attr","model","actionModel","setActionModel","newActionModel","isToolBarButton","button","hasClass","enable","buttonManager","disable","setButtonState","JSTooltip","element","options","srcElement","label","text","offsets","showBelow","templateId","loadTextCallback","loadTextExecuted","disabled","removed","_toAttribute","TOOLTIP_TEMPLATE","id","_fromAttribute","TOOLTIP_TEMPLATE_ID","TOOLTIP_LABEL","TOOLTIP_TEXT","_escapeText","jsTooltip","tooltipModule","tooltips","push","addVar","addMethod","attrName","value","xssUtil","writeAttribute","isArray","join","SEPARATOR","hasAttribute","readAttribute","include","split","elements","values","each","index","_","update","getElementZIndex","elem","parseInt","initialZIndex","toArray","memo","zIndex","Math","max","txt","tooltipOffsets","_element","getBoxOffsets","clientHeight","getScrollLeft","getScrollTop","setStyle","left","top","_calculateZIndex","labelElements","select","LABEL_PATTERN","textElements","TEXT_PATTERN","_setValues","removeClass","layoutModule","clientWidth","window","width","leftOffset","height","topOffset","addClass","hideJSTooltip","showJSTooltip","indexOf","splice","TOOLTIP_PATTERN","ELEMENT_WITH_TOOLTIP_PATTERN","actualX","actualY","cleanUp","appearDelay","timer","clearTimeout","setTimeout","show","on","evt","clientX","clientY","enableTooltips","forEach","tooltip","disableTooltips","hide","off","testId","getElementById","setAttribute","removeAttribute","reject","t","toolbarButtonModule","actionMap","prop","type","substring","toUpperCase","isFirefox","li","el","execFunction","className","getAsFunction","executableFunction","stopPropagation","originalEvent","messageDetailModule","_flowExecutionKey","_message","toolbar","_buttons","_id","initialize","body","find","_initEventHandlers","refresh","bind","e","matchAny","target","location","identify","flowExecutionKey","message","_process","html","subject","date","component","jrsConfigs","TouchController","children","hbar","vbar","absolute","style","useParent","observer","translate3d","forceLayout","use2Fingers","fit","debug","border","noInit3d","pos","webkitTransform","scrollbars","appendTo","computeBoundaries","dragging","drag_sensitivity","scale","maxX","maxY","startTouchY","startTouchX","contentOffsetX","contentOffsetY","addEventListener","prototype","handleEvent","onTouchStart","onTouchMove","onTouchEnd","hratio","vratio","minWidth","minHeight","maxWidth","maxHeight","scale_pre","touches","contentStartOffsetX","contentStartOffsetY","cy","cx","animateTo","isDragging","element_scrolled","preventDefault","cX","cY","deltaX","deltaY","offsetX","offsetY","dx","dy","adx","abs","ady","shouldStartMomentum","reset","forceRefresh","isBottom","addPadding","padding","$id","w","right","h","bottom","Draggable","startDrag","delta","currentDelta","zindex","originalZ","Element","getStyle","ghosting","_clone","cloneNode","_originallyAbsolute","Position","absolutize","parentNode","insertBefore","tagName","appendChild","superghosting","prepare","pointer","Event","pointerX","pointerY","getElementsByTagName","me","Prototype","Browser","IE","clearAttributes","mergeAttributes","removeChild","getWidth","getHeight","originalScrollTop","draw","scroll","where","_getWindowScroll","originalScrollLeft","scrollLeft","scrollTop","Draggables","notify","starteffect","point","cumulativeOffset","r","realOffset","d","_isScrollChild","p","map","i","mouseOffset","offset","snap","Object","isFunction","v","round","constraint","visibility","initDrag","isUndefined","_dragging","isLeftClick","tag_name","activate","countdown","DEFAULT_TOLERANCE","stop","fire","targetEvent","Droppables","isAffected","drop","jo","p0","p1","positioned_within","_containers","isContained","accept","classNames","detect","finishDrag","success","isIE","onmousemove","quiet","relativize","remove","dropped","onDropped","revert","reverteffect","endeffect","deactivate","Sortable","defaultOnHover","onHover","dropon","overlap","hasClassName","defaultOnEmptyHover","onEmptyHover","SortableObserver","Class","create","lastValue","serialize","onStart","onEnd","eventName","draggable","unmark","getSortableObserverConstructor","drops","affected","findDeepestChild","last_active","within","set","display"],"mappings":"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","file":"_chunks/chunk.7025.js","sourcesContent":["/*!\n * jQuery UI Scroll Parent 1.13.2\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\t\"use strict\";\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} )( function( $ ) {\n\"use strict\";\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} );\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport jQuery from 'jquery';\nimport actionModel from '../actionModel/actionModel.modelGenerator';\nimport buttonManager from '../core/core.events.bis';\n\n////////////////////////////////////////////////\n// Generic toolbar button utils\n////////////////////////////////////////////////\n\nvar toolbarButtonModule = {\n\n    UP : \"up\",\n    DOWN : \"down\",\n    OVER : \"over\",\n    DISABLED : \"disabled\",\n    PRESSED : \"pressed\",\n    CONTENT_PREFIX : \"toolbar_\", //action model\n    MenuClass : \"menu vertical dropDown\",\n    TOOLBAR_MENU_CLASS : \"menu vertical dropDown fitable\",\n    ACTION_MODEL_TAG : \"adhocActionModel\",\n    CAPSULE_PATTERN : \"capsule\",\n\n    /**\n     * Used by all toolbar components to show menu\n     * @param event\n     * @param object object we want the menu for\n     */\n    showButtonMenu : function(event, object){\n        object = jQuery(object);\n        var context = this.CONTENT_PREFIX + object.attr(\"id\"),\n            model = this.ACTION_MODEL_TAG == 'adhocActionModel' ? this.actionModel : this.ACTION_MODEL_TAG;\n\n        actionModel.showDropDownMenu(event, object, context, this.TOOLBAR_MENU_CLASS, model);\n    },\n\n    setActionModel: function(newActionModel){\n        this.actionModel = newActionModel;\n    },\n\n    /**\n     * Test to see if the button clicked is a toolbar type\n     * @param button\n     */\n    isToolBarButton : function(button){\n        if (button){\n            return (jQuery(button).hasClass(\"capsule\"));\n        } else{\n            return false;\n        }\n\n    },\n\n    /**\n     * Used to enable toolbar button\n     * @param button\n     * @param enable\n     */\n    enable : function(button, enable){\n        buttonManager.enable(button);\n    },\n\n    /**\n     * Used to disable toolbar button\n     * @param button\n     */\n    disable : function(button){\n        buttonManager.disable(button);\n    },\n\n    /**\n     * Used to enable or disable button based on adhoc state variables\n     * @param button\n     * @param enable\n     */\n    setButtonState : function(button, enable){\n        if(enable){\n            this.enable(button);\n        }else{\n            this.disable(button);\n        }\n    }\n};\n\nexport default toolbarButtonModule;\n\n\n\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\n\nimport _ from 'underscore';\nimport {\n    isArray,\n    getBoxOffsets,\n    getScrollLeft,\n    getScrollTop\n} from '../util/utils.common';\nimport jQuery from 'jquery';\n\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\n\nimport layoutModule from '../core/core.layout';\n\n/**\n * Usage:\n *      Within HTML markup. (Not working with button element)\n *\n *      <code>\n *      &lt;li tooltiptext=\"Hello\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\"&gt;Item 1&lt;/li&gt;\n *      &lt;li tooltiptext=\"Hello\" tooltiplabel=\"URA!\" tooltiptemplate=\"tID\"&gt;Item 1&lt;/li&gt;\n *      </code>\n *\n *      Within JavaScript\n *      <code>\n *      new JSTooltip(element, { text: \"tooltipText\" }).show();\n *      new JSTooltip(element, { text: \"tooltipText\", offsets: [100, 50] }).show();\n *      new JSTooltip(element, { text: \"tooltipText\" }).show([100, 50]);\n *     new JSTooltip(element, { label: \"tooltipLabel\", text: \"tooltipText\", templateId: \"templateId\" });\n *      new JSTooltip(element, { label: [\"tooltipLabel1\", \"tooltipLabel2\"], text: [\"tooltipText1\", \"tooltipText2\", \"tooltipText3\"], templateId: \"templateId\" });\n *\n *      tooltipModule.showJSTooltip(element, [100, 50]);\n *      tooltipModule.hideJSTooltip(element);\n *      </code>\n * @param element\n * @param options {Object}\n * <ul>\n *      <li>label {String} - Label for the tooltip</li>\n *      <li>label {Array} - List of labels for complex tooltip</li>\n *      <li>text {String} - Text for the tooltip</li>\n *      <li>text {Array} - List of messages for complex tooltip</li>\n *      <li>templateId {String} - DOM ID of template for the tooltip </li>\n *      <li>offsets {Array} - Used to show the tooltip in position. First item in array is the X point adn second is the Y point </li>\n *      <li>showBelow {Boolean} - Show bellow element</li>\n * </ul>\n *\n */\nfunction JSTooltip(element, options) {\n    if (element) {\n        this.srcElement = element;\n\n        if (options) {\n            this.label = options.label;\n            this.text = options.text;\n            this.offsets = options.offsets;\n            this.showBelow = !! options.showBelow;\n            this.templateId = options.templateId;\n            this.loadTextCallback = options.loadTextCallback;\n            this.loadTextExecuted = false;\n        }\n\n        this.disabled = false;\n        this.removed = false;\n\n        if (this.templateId) {\n            this._toAttribute(this.TOOLTIP_TEMPLATE, this.templateId);\n        } else {\n            var id = this._fromAttribute(this.TOOLTIP_TEMPLATE);\n            this.templateId = (id && id.length > 0) ? id : this.TOOLTIP_TEMPLATE_ID;\n        }\n        if (this.label) {\n            this._toAttribute(this.TOOLTIP_LABEL, this.label);\n        } else {\n            this.label = this._fromAttribute(this.TOOLTIP_LABEL);\n        }\n        if (this.text) {\n            this._toAttribute(this.TOOLTIP_TEXT, this.text);\n        } else {\n            this.text = this._fromAttribute(this.TOOLTIP_TEXT);\n        }\n\n        // escape against XSS\n        if (this.label)\n            this.label = this._escapeText(this.label);\n        if (this.text)\n            this.text = this._escapeText(this.text);\n\n        this.srcElement.jsTooltip = this;\n\n        tooltipModule.tooltips.push(this);\n    }\n}\n\nJSTooltip.addVar(\"SEPARATOR\", \"@@\");\nJSTooltip.addVar(\"TOOLTIP_LABEL\", \"tooltiplabel\");\nJSTooltip.addVar(\"TOOLTIP_TEXT\", \"tooltiptext\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE\", \"tooltiptemplate\");\nJSTooltip.addVar(\"TOOLTIP_TEMPLATE_ID\", \"jsTooltip\");\nJSTooltip.addVar(\"LABEL_PATTERN\", \".message.label\");\nJSTooltip.addVar(\"TEXT_PATTERN\", \".message:not(.label)\");\n\nJSTooltip.addMethod(\"_toAttribute\", function(attrName, value) {\n    if(this.srcElement) {\n        value = xssUtil.hardEscape(value);\n        this.srcElement.writeAttribute(attrName, isArray(value) ? value.join(this.SEPARATOR) : value);\n    }\n});\n\nJSTooltip.addMethod(\"_fromAttribute\", function(attrName) {\n    if(this.srcElement && this.srcElement.hasAttribute(attrName)) {\n        var value = this.srcElement.readAttribute(attrName);\n        return value.include(this.SEPARATOR) ? value.split(this.SEPARATOR) : value;\n    }\n\n    return null;\n});\n\nJSTooltip.addMethod(\"_setValues\", function(elements, values) {\n    elements.each(function (element, index) {\n        if (_.isString(values[index]) || _.isNumber(values[index])) {\n            element.update(xssUtil.hardEscape(values[index]));\n        }\n    });\n});\n\nJSTooltip.addMethod(\"_calculateZIndex\", function(element) {\n    function getElementZIndex(elem) {\n        return parseInt(jQuery(elem).css(\"z-index\"));\n    }\n\n    // Get tooltip element zIndex.\n    var initialZIndex = getElementZIndex(element);\n    if (!_.isNumber(initialZIndex) || _.isNaN(initialZIndex)) {\n        initialZIndex = 1000;\n    }\n\n    var parents = _.flatten([this.srcElement, jQuery(this.srcElement).parents().toArray()]);\n\n    // Calculates max z-index between tooltip element and parent elements.\n    var maxZIndex = _.reduce(parents, function(memo, parent) {\n        var zIndex = getElementZIndex(parent);\n\n        if (_.isNumber(zIndex) && !_.isNaN(zIndex)) {\n            memo = Math.max(memo, zIndex);\n        }\n\n        return memo;\n    }, initialZIndex);\n\n    return maxZIndex + 1;\n});\n\nJSTooltip.addMethod(\"_escapeText\", function(text) {\n    return _.isArray(text)\n        ? _.map(text, function (txt) { return xssUtil.hardEscape(txt)})\n        : xssUtil.hardEscape(text);\n});\n\nJSTooltip.addMethod(\"show\", function(tooltipOffsets) {\n    if(tooltipOffsets) {\n        this.offsets = tooltipOffsets;\n    }\n\n    this._element = jQuery('#' + this.templateId)[0];\n\n    var offsets;\n    if (this.showBelow) {\n        offsets = getBoxOffsets(this.srcElement);\n        offsets[1] += this.srcElement.clientHeight + 5;\n    } else {\n        offsets = [getScrollLeft() + 5, getScrollTop() + 5];\n    }\n\n    if (this.offsets) {\n        offsets[0] += this.offsets[0];\n        offsets[1] += this.offsets[1];\n    }\n\n    this._element.setStyle({\n        position: \"absolute\",\n        left: offsets[0] + 'px',\n        top: offsets[1] + 'px',\n        zIndex: this._calculateZIndex(this._element)\n    });\n\n    var labelElements = this._element.select(this.LABEL_PATTERN);\n    var textElements = this._element.select(this.TEXT_PATTERN);\n\n    if(this.label) {\n        this._setValues(labelElements, isArray(this.label) ? this.label : [this.label]);\n    }\n    if(this.text) {\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n\n    jQuery(this._element).removeClass(layoutModule.HIDDEN_CLASS);\n\n    if (offsets[0] + this._element.clientWidth > jQuery(window).width()) {\n        var leftOffset = offsets[0] - this._element.clientWidth > 0 ? offsets[0] - this._element.clientWidth : 15;\n\n        this._element.setStyle({ left: leftOffset + \"px\"});\n    }\n    if (offsets[1] + this._element.clientHeight > jQuery(window).height()) {\n        var topOffset = offsets[1] - this._element.clientHeight - 10;\n        this._element.setStyle({ top: topOffset + \"px\"});\n    }\n\n    if (this.loadTextCallback && !this.loadTextExecuted) {\n        this.loadTextExecuted = true;\n\n        this.loadTextCallback(this);\n    }\n\n    return this;\n});\n\nJSTooltip.addMethod(\"updateText\", function(text) {\n    this.text = this._escapeText(text);\n\n    if (this._element) {\n        var textElements = this._element.select(this.TEXT_PATTERN);\n\n        this._setValues(textElements, isArray(this.text) ? this.text : [this.text]);\n    }\n});\n\nJSTooltip.addMethod(\"hide\", function() {\n    if (this._element) {\n        jQuery(this._element).addClass(layoutModule.HIDDEN_CLASS);\n    }\n});\n\nJSTooltip.addMethod(\"disable\", function() {\n    tooltipModule.hideJSTooltip(this.srcElement);\n    this.disabled = true;\n});\n\nJSTooltip.addMethod(\"enable\", function() {\n    this.disabled = false;\n    tooltipModule.showJSTooltip(this.srcElement, this.offsets);\n});\n\nJSTooltip.addMethod(\"remove\", function() {\n    var index = tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);\n    if (index !== -1) {\n        tooltipModule.hideJSTooltip(this.srcElement);\n        tooltipModule.tooltips.splice(index, 1);\n    }\n    this.removed = true;\n});\n\nJSTooltip.addMethod(\"isRemoved\", function() {\n    return this.removed;\n});\n\nvar tooltipModule = {\n    TOOLTIP_PATTERN: \"*[tooltiptext] > *\",\n    ELEMENT_WITH_TOOLTIP_PATTERN: \"*[tooltiptext]\",\n\n    tooltips: [],\n\n    showJSTooltip: function(element, offsets) {\n        if (!element.jsTooltip) {\n            element.jsTooltip = new JSTooltip(element, {});\n        } else if (!element.jsTooltip.disabled && offsets) {\n            var actualX = offsets[0];\n            var actualY = offsets[1];\n\n            this.cleanUp();\n\n            var appearDelay = jQuery(element).attr(\"tooltipappeardelay\");\n            appearDelay = appearDelay ? parseInt(appearDelay) : 1000;\n\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n            element.jsTooltip.timer = setTimeout(function() {\n                element.jsTooltip.show([actualX, actualY]);\n            }, appearDelay);\n\n            jQuery(element).on(\"mousemove\", function(evt){\n                actualX = evt.clientX;\n                actualY = evt.clientY;\n            });\n        }\n    },\n\n    enableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.enable();\n        });\n    },\n\n    disableTooltips: function() {\n        var tooltips = this.tooltips || [];\n\n        tooltips.forEach(function(tooltip) {\n            tooltip.disable();\n        });\n    },\n\n    hideJSTooltip: function(element) {\n        if (element && element.jsTooltip) {\n            element.jsTooltip.timer && clearTimeout(element.jsTooltip.timer);\n\n            element.jsTooltip.hide();\n\n            jQuery(element).off(\"mousemove\");\n        }\n    },\n\n    cleanUp: function() {\n        if (this.tooltips && this.tooltips.length > 0) {\n            var removed = [];\n            var testId = \"fuigasuifdughaiadbvguaidbapvuwbev\";\n            this.tooltips.each(function(tooltip) {\n                if (!(tooltip.srcElement.id && document.getElementById(tooltip.srcElement.id))){\n                    tooltip.srcElement.setAttribute(\"id\",testId);\n                    if (!document.getElementById(testId)){\n                        tooltip.hide();\n                        removed.push(tooltip);\n                    }\n                    tooltip.srcElement.removeAttribute(\"id\");\n                }\n            });\n\n            if (removed.length > 0) {\n                this.tooltips = this.tooltips.reject(function(t) {\n                    return removed.include(t);\n                });\n            }\n        }\n    }\n};\n\nexport {JSTooltip, tooltipModule};\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * @version: $Id$\n */\nimport jQuery from 'jquery';\nimport {isFirefox, getAsFunction} from \"../util/utils.common\";\nimport buttonManager from '../core/core.events.bis';\nimport toolbarButtonModule from './components.toolbarButtons';\n\ntoolbarButtonModule.initialize = function(actionMap){\n    toolbarButtonModule.actionMap = actionMap;\n    jQuery('.toolbar').on('mouseup mouseover mouseout','button',function(evt){\n        if(!jQuery(this).prop('disabled'))toolbarButtonModule['mouse' + evt.type.substring(5,6).toUpperCase() + evt.type.substring(6) + 'Handler'](evt,this);\n    });\n\n    if (isFirefox()) { // workaround for Bug 26223\n        jQuery(\".toolbar li\").each(function(index,li){\n            jQuery(li).css(\"padding\", \"0 2px\");\n        });\n    }\n};\n\ntoolbarButtonModule.mouseUpHandler = function(evt,el){\n    /*\n    if (element.hasClass(toolbarButtonModule.CAPSULE_PATTERN)) {\n        var elementId = element.attr(\"id\");\n        var execFunction = toolbarButtonModule.actionMap[elementId];\n        if (execFunction) {\n            var executableFunction = getAsFunction(execFunction);\n            executableFunction(evt);\n            evt.stopPropagation();\n        }\n    }\n    */\n    var execFunction = el.className.indexOf('capsule') >= 0 ? toolbarButtonModule.actionMap[el.id] : null;\n    if (execFunction) {\n        var executableFunction = getAsFunction(execFunction);\n        executableFunction(evt);\n        evt.stopPropagation();\n    }\n};\n\ntoolbarButtonModule.mouseOverHandler = function(evt,el){\n    /*\n    if (element.hasClass(toolbarButtonModule.CAPSULE_PATTERN)) {\n        if (element.hasClass(\"mutton\") && !buttonManager.isDisabled(element)) {\n            toolbarButtonModule.showButtonMenu(evt, element);\n        }\n    }\n    */\n    if(el.className.indexOf('capsule') >= 0 && el.className.indexOf('mutton') >= 0 && !buttonManager.isDisabled(el)){\n        toolbarButtonModule.showButtonMenu(evt.originalEvent,el);\n    }\n};\n\ntoolbarButtonModule.mouseOutHandler = function(evt,el){};\n\nexport default toolbarButtonModule;\n\n\n\n\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @version: $Id$\n */\nimport toolbarButtonModule from '../../components/components.toolbarButtons.events';\nimport layoutModule from '../../core/core.layout';\nimport {matchAny} from \"../../util/utils.common\";\nimport xssUtil from 'js-sdk/src/common/util/xssUtil';\nimport jQuery from 'jquery';\n\nvar messageDetailModule = {\n    _flowExecutionKey: null,\n    _message: null,\n    toolbar: {\n        _buttons: null,\n        _id: 'toolbar',\n        initialize: function () {\n            toolbarButtonModule.initialize({});\n            this._buttons = jQuery(document.body).find(layoutModule.TOOLBAR_CAPSULE_PATTERN);\n            this._initEventHandlers();\n        },\n        refresh: function () {\n            jQuery(this._buttons).each(function (button) {\n                toolbarButtonModule.setButtonState(button, true);\n            }.bind(this));\n        },\n        _initEventHandlers: function () {\n            jQuery('#' + this._id).on('click', function (e) {\n                var button = matchAny(e.target, [layoutModule.BUTTON_PATTERN], true);\n                document.location = 'flow.html?_flowExecutionKey=' + messageDetailModule._flowExecutionKey + '&_eventId=' + button.identify();\n            }.bind(this));\n        }\n    },\n    initialize: function (options) {\n        this._flowExecutionKey = options.flowExecutionKey;\n        this._message = options.message;\n        this._process();\n        this.toolbar.initialize();\n    },\n    _process: function () {\n        jQuery('#subject').html(xssUtil.hardEscape(this._message.subject));\n        jQuery('#date').html(xssUtil.hardEscape(this._message.date));\n        jQuery('#component').html(xssUtil.hardEscape(this._message.component));\n        jQuery('#message').html(xssUtil.hardEscape(this._message.message));\n    }\n};\n\nexport default messageDetailModule;","/*\n * Copyright (C) 2005 - 2019 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport messageDetailModule from './messageDetails';\nimport jrsConfigs from 'js-sdk/src/jrs.configs';\n\nmessageDetailModule.initialize(jrsConfigs.messageDetailsInitOptions);\n","/*\n * Copyright (C) 2005 - 2022 TIBCO Software Inc. All rights reserved.\n * http://www.jaspersoft.com.\n *\n * Unless you have purchased a commercial license agreement from Jaspersoft,\n * the following license terms apply:\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery';\nvar TouchController = function (element, parent, options) {\n    this.element = element;\n    this.parent = parent;\n    this.children = [];\n    this.hbar = null;\n    this.vbar = null;    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    /*\n\t\t * Constructor parameters: absolute translate3d, forceLayout, debug, useParent\n\t\t */\n    options = options || {};\n    options.absolute ? this.element.style.position = 'absolute' : this.element.style.position = 'relative';\n    this.useParent = options.useParent ? this.observer = parent : this.observer = element;\n    this.translate3d = options.translate3d !== false ? true : false;\n    this.forceLayout = options.forceLayout !== true ? false : true;\n    this.use2Fingers = options.use2Fingers !== true ? false : true;\n    this.fit = options.fit;\n    if (options.debug) {\n        parent.style.border = 'solid 1px #f00';\n        element.style.border = 'solid 1px #00f';    //console.info('Px: ' + parent.clientWidth + ', Ex: ' + element.clientWidth + 'Dx: ' + (parent.clientWidth - element.clientWidth));\n        //console.info('Py: ' + parent.clientHeight + ', Ey: ' + element.clientHeight + 'Dy: ' + (parent.clientHeight - element.clientHeight));\n    }\n    if (this.translate3d && !options.noInit3d) {\n        var pos = $(element).position();\n        element.style.webkitTransform = 'translate3d(' + pos.left + 'px,' + pos.top + 'px,0)';\n        element.style.top = '';\n        element.style.left = '';\n    }\n    if (options.scrollbars === true) {\n        var hbar = $('<div style=\"position:absolute;bottom:4px;left:0;right:0;\"><div style=\"position:relative;background:#3fb8fa;min-height:4px;width:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        var vbar = $('<div style=\"position:absolute;top:0;bottom:0;right:4px;\"><div style=\"position:relative;background:#3fb8fa;min-width:4px;height:24px;opacity:0.4;\"></div></div>').appendTo(parent);\n        this.hbar = hbar.children().eq(0);\n        this.vbar = vbar.children().eq(0);\n    }\n    this.computeBoundaries();\n    this.dragging = false;\n    this.drag_sensitivity = 20;\n    this.scale = 1;\n    this.element.style.top = 0;\n    this.element.style.left = 0;\n    this.maxX = 0;\n    this.maxY = 0;\n    this.startTouchY = 0;\n    this.startTouchX = 0;\n    this.contentOffsetX = 0;\n    this.contentOffsetY = 0;\n    this.observer.addEventListener('touchstart', this, false);\n    this.observer.addEventListener('touchmove', this, false);\n    this.observer.addEventListener('touchend', this, false);\n};\nTouchController.prototype.handleEvent = function (e) {\n    switch (e.type) {\n    case 'touchstart':\n        this.onTouchStart(e);\n        break;\n    case 'touchmove':\n        this.onTouchMove(e);\n        break;\n    case 'touchend':\n        this.onTouchEnd(e);\n        break;\n    }\n};\nTouchController.prototype.computeBoundaries = function () {\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    this.maxX = this.maxX < 0 ? this.maxX : 0;\n    this.maxY = this.maxY < 0 ? this.maxY : 0;\n    if (this.hbar && this.maxX !== 0) {\n        this.hratio = this.parent.clientWidth / this.element.clientWidth;\n        this.hbar.width(this.hratio * this.parent.clientWidth);\n        this.hbar.show();\n    } else {\n        this.hbar && this.hbar.hide();\n    }\n    if (this.vbar && this.maxY !== 0) {\n        this.vratio = this.parent.clientHeight / this.element.clientHeight;\n        this.vbar.height(this.vratio * this.parent.clientHeight);\n        this.vbar.show();\n    } else {\n        this.vbar && this.vbar.hide();\n    }\n    if (this.maxX === 0 && this.maxY === 0) {\n        this.element.style.minWidth = this.parent.clientWidth + 'px';\n        this.element.style.minHeight = this.parent.clientHeight + 'px';\n        if (this.element.id === 'reportContainer') {\n            this.element.style.maxWidth = this.parent.clientWidth + 'px';\n            this.element.style.maxHeight = this.parent.clientHeight + 'px';\n        }\n    }\n};\nTouchController.prototype.onTouchStart = function (e) {\n    this.scale_pre = false;\n    this.computeBoundaries();\n    this.startTouchX = e.touches[0].clientX;\n    this.startTouchY = e.touches[0].clientY;\n    this.contentStartOffsetX = this.contentOffsetX;\n    this.contentStartOffsetY = this.contentOffsetY;\n};\nTouchController.prototype.onTouchMove = function (e) {\n    var cy = e.touches[0].clientY;\n    var cx = e.touches[0].clientX;\n    if (!this.use2Fingers || this.use2Fingers && e.touches.length == 2) {\n        if (this.dragging) {\n            this.animateTo(cx, cy);\n        } else {\n            if (this.isDragging(e)) {\n                TouchController.element_scrolled = true;\n                if (this.forceLayout) {\n                    this.element.style.top = 0;\n                    this.element.style.webkitTransform = 'translate3d(0,' + this.contentOffsetY + 'px,0)';\n                }\n                this.animateTo(cx, cy);\n            }\n        }\n    }\n};\nTouchController.prototype.onTouchEnd = function (e) {\n    if (this.dragging) {\n        if (this.forceLayout) {\n            this.element.style.webkitTransform = 'translate3d(0,0,0)';\n            this.element.style.top = this.contentOffsetY + 'px';\n        }\n        this.hbar && this.hbar.hide();\n        this.vbar && this.vbar.hide();\n        e.preventDefault();\n    }\n    this.dragging = false;\n};\nTouchController.prototype.animateTo = function (cX, cY) {\n    var deltaX = cX - this.startTouchX;\n    var deltaY = cY - this.startTouchY;\n    var offsetX = deltaX + this.contentStartOffsetX;\n    var offsetY = deltaY + this.contentStartOffsetY;\n    var pos = $(this.element).position();\n    if (this.translate3d) {\n        if (offsetX > 0)\n            offsetX = 0;\n        if (offsetY > 0)\n            offsetY = 0;\n        if (offsetX < this.maxX)\n            offsetX = this.maxX;\n        if (offsetY < this.maxY)\n            offsetY = this.maxY;\n    } else {\n        if (offsetX + pos.left > 0)\n            offsetX = -1 * pos.left;\n        if (offsetY + pos.top > 0)\n            offsetY = -1 * pos.top;\n        if (pos.left + offsetX < this.maxX)\n            offsetX = this.maxX - pos.left;\n        if (pos.top + offsetY < this.maxY)\n            offsetY = this.maxY - pos.top;\n    }\n    this.contentOffsetX = offsetX;\n    this.contentOffsetY = offsetY;\n    if (this.translate3d || this.use2Fingers) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n    } else {\n        this.element.style.top = pos.top + offsetY + 'px';\n        this.element.style.left = pos.left + offsetX + 'px';\n    }\n    this.hbar && this.hbar.css('left', -1 * offsetX * this.hratio + 'px');\n    this.vbar && this.vbar.css('top', -1 * offsetY * this.vratio + 'px');\n};\nTouchController.prototype.isDragging = function (e) {\n    var dx = e.touches[0].clientX - this.startTouchX;\n    var dy = e.touches[0].clientY - this.startTouchY;\n    var adx = Math.abs(dx);\n    var ady = Math.abs(dy);\n    this.dragging = adx > this.drag_sensitivity || ady > this.drag_sensitivity ? true : false;\n    return this.dragging;\n};\nTouchController.prototype.shouldStartMomentum = function () {\n    return false;\n};\nTouchController.prototype.reset = function () {\n    var offsetX = this.contentOffsetX;\n    var offsetY = this.contentOffsetY;\n    this.maxX = this.parent.clientWidth - this.element.clientWidth;\n    this.maxY = this.parent.clientHeight - this.element.clientHeight;\n    if (this.translate3d) {\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(' + offsetX + 'px,' + offsetY + 'px, 0)';\n        this.element.style.webkitTransform = 'scale(' + this.scale + ') translate3d(0,0,0)';\n        this.contentOffsetX = 0;\n        this.contentOffsetY = 0;\n    } else {\n        this.element.style.top = 0;\n        this.element.style.left = 0;\n    }\n};\nTouchController.prototype.forceRefresh = function () {\n}    //this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,100px, 0)';\n//this.element.style.webkitTransform = 'scale('+this.scale+') translate3d(0,0,0)';\n;\nTouchController.prototype.isBottom = function () {\n    if (this.maxY >= 0) {\n        return false;\n    } else {\n        return this.contentOffsetY - this.maxY < 10;\n    }\n};\nTouchController.prototype.addPadding = function (id, padding) {\n    var $id = $('#' + id);\n    var w = $id.width() + padding.right;\n    var h = $id.height() + padding.bottom;\n    this.element.style.width = w + 'px';\n    this.element.style.height = h + 'px';\n};    // TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\n// TODO: remove it when we move Repository Search into AMD style\n// Make it global due to RepositorySearch modules\nwindow.TouchController = TouchController;\nexport default TouchController;","//  DragDropExtra Scriptaculous Enhancement, version 0.5\n//  (c) 2007-2008 Christopher Williams, Iterative Designs\n//\n// v0.5 release\n//      - Fixed bug where 2nd drag on an element in IE would result in funny placement of the\n//        element. [shammond42]\n// v0.4 release\n//\t\t- Fixed issue with dragging and dropping in IE7 due to an exception being thrown and not properly reseting in FinishDrag.\n// v0.3 release\n//    - Fixed bug found by Phillip Sauerbeck psauerbeck@gmail. Tests added based on Phillip's efforts.\n// v0.2 release\n//      - Minor bug fix for the releasing of objects after they have been dropped, prevents memory leak.\n// v0.1 release\n//      - initial release for the super ghosting capability\n//      - Drags from one scrolling list to the other (overflow:auto)\n//      - Retains the original object so that it can remain present despite being dragged\n//\n// dragdropextra.js is freely distributable under the terms of an MIT-style license.\n// For details, see the Iterative Designs web site: http://www.iterativedesigns.com/\n// Parts of this code have been taken from the original dragdrop.js library which is\n// copyrighted by (c) 2005-2007 Thomas Fuchs (http://script.aculo.us,\n// http://mir.aculo.us) and (c) 2005-2007 Sammi Williams\n// (http://www.oriontransfer.co.nz, sammi@oriontransfer.co.nz) and available under\n// a MIT-style license.\n\n//////////////////////////////////////////////////////////////////////////////////////////////\n//Jaspersoft Updates (look for comment: JASPERSOFT #x)\n//////////////////////////////////////////////////////////////////////////////////////////////\n// #1 3/27/10 if options.mouseOffset is true then dragging thing positioned with mousepointer\n// \t\t   see Draggable.prototype.draw\n// #2 9/27/10 restore zIndex of coloned element after dragging\n// #1 11/30/100 updated #1 to allow for parent element offsets\n// #3 11/26/20 JS-60321: Added ability to override SortableObserver\n//////////////////////////////////////////////////////////////////////////////////////////////\n\nDraggable.prototype.startDrag = function(event) {\n\tDraggable.isDragging = true;\n    this.dragging = true;\n    if (!this.delta)\n        this.delta = this.currentDelta();\n\n    if (this.options.zindex) {\n        this.originalZ = parseInt(Element.getStyle(this.element, 'z-index') || 0);\n        this.element.style.zIndex = this.options.zindex;\n    }\n    if (this.options.ghosting) {\n        this._clone = this.element.cloneNode(true);\n        this._originallyAbsolute = (this.element.getStyle('position') == 'absolute');\n        if (!this._originallyAbsolute) {\n            Position.absolutize(this.element);\n        }\n        this.element.parentNode.insertBefore(this._clone, this.element);\n        if (this.element.parentNode.tagName === \"TR\") {\n            document.body.appendChild(this.element);\n        }\n    }\n\n    if (this.options.superghosting) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var body = document.getElementsByTagName(\"body\")[0];\n        var me = this.element;\n        this._clone = me.cloneNode(true);\n        if (Prototype.Browser.IE) {\n            // Clear event handing from the clone\n            // Solves the second drag issue in IE\n            this._clone.clearAttributes();\n            this._clone.mergeAttributes(me.cloneNode(false));\n        }\n        me.parentNode.insertBefore(this._clone, me);\n        me.id = \"clone_\" + me.id;\n        me.hide();\n\n        Position.absolutize(me);\n        me.parentNode.removeChild(me);\n        body.appendChild(me);\n        //Retain height and width of object only if it has been nulled out.  -v0.3 Fix\n        if (me.style.width == \"0px\" || me.style.height == \"0px\") {\n            me.style.width = Element.getWidth(this._clone) + \"px\";\n            me.style.height = Element.getHeight(this._clone) + \"px\";\n        }\n\n        //overloading in order to reduce repeated code weight.\n        this.originalScrollTop = (Element.getHeight(this._clone) / 2);\n\n        this.draw(pointer);\n\n        me.show();\n    }\n\n    if (this.options.scroll) {\n        if (this.options.scroll == window) {\n            var where = this._getWindowScroll(this.options.scroll);\n            this.originalScrollLeft = where.left;\n            this.originalScrollTop = where.top;\n        } else {\n            this.originalScrollLeft = this.options.scroll.scrollLeft;\n            this.originalScrollTop = this.options.scroll.scrollTop;\n        }\n    }\n\n    Draggables.notify('onStart', this, event);\n\n    if (this.options.starteffect) this.options.starteffect(this.element);\n};\n\n\nDraggable.prototype.draw = function(point) {\n    var pos = Position.cumulativeOffset(this.element);\n\n    if (this.options.ghosting) {\n        var r = Position.realOffset(this.element);\n        pos[0] += r[0] - Position.deltaX;\n        pos[1] += r[1] - Position.deltaY;\n    }\n\n    var d = this.currentDelta();\n    pos[0] -= d[0];\n    pos[1] -= d[1];\n\n    if(this.options.scroll) {\n        pos[0] -= this.options.scroll.scrollLeft;\n        pos[1] -= this.options.scroll.scrollTop;\n    }\n\n    if (this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {\n        pos[0] -= this.options.scroll.scrollLeft - this.originalScrollLeft;\n        pos[1] -= this.options.scroll.scrollTop - this.originalScrollTop;\n    }\n\n    var p = [0,1].map(function(i) {\n        /*\n         * JASPERSOFT #1 - see comment block top of page for more info\n         */\n        return (point[i] - pos[i] - (this.options.mouseOffset ? (-2) : this.offset[i]));\n    }.bind(this));\n\n    if (this.options.snap) {\n        if (Object.isFunction(this.options.snap)) {\n            p = this.options.snap(p[0], p[1], this);\n        } else {\n            if (Object.isArray(this.options.snap)) {\n                p = p.map(function(v, i) {\n                    return (v / this.options.snap[i]).round() * this.options.snap[i]\n                }.bind(this))\n            } else {\n                p = p.map(function(v) {\n                    return (v / this.options.snap).round() * this.options.snap\n                }.bind(this))\n            }\n        }\n    }\n\n    if (this.options.superghosting) {\n        if (this.element.getStyle('position') == 'absolute') {\n            p[1] = point[1] - this.originalScrollTop;\n        } else {\n            p[1] -= this.originalScrollTop || 10;\n        }\n    }\n\n    var style = this.element.style;\n    //JASPERSOFT #1 - see comment block top of page for more info\n    if ((!this.options.constraint) || (this.options.constraint == 'horizontal'))\n        style.left = p[0] + \"px\";\n    if ((!this.options.constraint) || (this.options.constraint == 'vertical'))\n        style.top = p[1] + \"px\";\n    //END JASPERSOFT #2\n\n    if (style.visibility == \"hidden\") style.visibility = \"\"; // fix gecko rendering\n};\n\nDraggable.prototype.initDrag = function(event) {\n    if (!Object.isUndefined(Draggable._dragging[this.element]) &&\n            Draggable._dragging[this.element]) return;\n\n    if ((event.touches && event.touches.length == 1) || Event.isLeftClick(event)) {\n        // abort on form elements, fixes a Firefox issue\n        var src = Event.element(event);\n        var tag_name = src.tagName.toUpperCase();\n        if (tag_name == 'INPUT' ||\n            tag_name == 'SELECT' ||\n            tag_name == 'OPTION' ||\n            tag_name == 'BUTTON' ||\n            tag_name == 'TEXTAREA') return;\n\n        if(jQuery(this.element).parents('#sortDialog').length > 0 && tag_name == 'B') {\n            return;\n        }\n\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        var pos = Position.cumulativeOffset(this.element);\n        this.offset = [0,1].map(function(i) {\n            return (pointer[i] - pos[i])\n        });\n\n        Draggables.activate(this);\n        this.countdown = Draggables.DEFAULT_TOLERANCE;\n        Event.stop(event);\n        this.element.fire('drag:mousedown', {targetEvent: event});\n    }\n};\n\nDroppables.isAffected = function(point, element, drop) {\n    //Position.prepare();\n    //var positioned_within = Position.withinIncludingScrolloffsets(drop.element, point[0], point[1]);\n    var jo = jQuery(drop.element);\n    var w = jo.width();\n    var h = jo.height();\n    var p0 = jo.offset();\n    var p1 = {\n    \tleft: p0.left + w,\n    \ttop: p0.top + h\n    };\n    var positioned_within = point[0] > p0.left && point[0] < p1.left && point[1] > p0.top && point[1] < p1.top;\n\n    return ((drop.element != element) &&\n           ((element.parentNode === $(document.body)) || (!drop._containers) || this.isContained(element, drop)) &&\n           ((!drop.accept) || (Element.classNames(element).detect(function(v) { return drop.accept.include(v) } ))) &&\n           positioned_within );\n};\n\nDraggable.prototype.finishDrag = function(event, success) {\n\tDraggable.isDragging = false;\n    this.dragging = false;\n\n    if (isIE()) document.body.onmousemove = function(){};  // fix for bug 25666\n\n    if (this.options.quiet) {\n        Position.prepare();\n        var pointer = [Event.pointerX(event), Event.pointerY(event)];\n        Droppables.show(pointer, this.element);\n    }\n\n    if (this.options.ghosting) {\n        if (!this._originallyAbsolute) {\n            Position.relativize(this.element);\n            if (this._clone.parentNode.tagName === \"TR\") {\n                this._clone.parentNode.insertBefore(this.element, this._clone);\n            }\n        }\n        delete this._originallyAbsolute;\n        Element.remove(this._clone);\n        this._clone = null;\n    }\n\n    var dropped = false;\n\n    if (success) {\n        dropped = Droppables.fire(event, this.element);\n        if (!dropped) dropped = false;\n    }\n    if (dropped && this.options.onDropped) this.options.onDropped(this.element);\n    Draggables.notify('onEnd', this, event);\n\n    var revert = this.options.revert;\n    if (revert && Object.isFunction(revert)) revert = revert(this.element);\n\n    var d = this.currentDelta();\n    if (revert && this.options.reverteffect) {\n        if (dropped == 0 || revert != 'failure')\n            this.options.reverteffect(this.element,\n                    d[1] - this.delta[1], d[0] - this.delta[0]);\n    } else {\n        this.delta = d;\n    }\n\n    if (this.options.zindex) {\n        this.element.style.zIndex = this.originalZ;\n        /*\n         * JASPERSOFT #2 - see comment block top of page for more info\n         */\n        this._clone && (this._clone.style.zIndex = this.originalZ);\n    }\n\n    this.options.endeffect && this.options.endeffect(this.element);\n\n    if (this.options.superghosting) {\n        // If detached drag element from DOM, we should attach it again!\n        if (this.element.parentNode == null) {\n            Element.hide(this.element);\n            $(document.body).appendChild(this.element);\n        }\n        Element.remove(this.element);\n        new Draggable(this._clone, this.options);\n    }\n\n    Draggables.deactivate(this);\n    Droppables.reset();\n};\n\nSortable.defaultOnHover = Sortable.onHover;\nSortable.onHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnHover(element, dropon, overlap);\n    }\n};\n\nSortable.defaultOnEmptyHover = Sortable.onEmptyHover;\nSortable.onEmptyHover = function(element, dropon, overlap) {\n    if (!element.hasClassName(\"dialog\")) {\n        Sortable.defaultOnEmptyHover(element, dropon, overlap);\n    }\n};\n\nvar SortableObserver = Class.create({\n    initialize: function(element, observer) {\n        this.element = $(element);\n        this.observer = observer;\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onStart: function() {\n        this.lastValue = Sortable.serialize(this.element);\n    },\n    onEnd: function(eventName, draggable) {\n        Sortable.unmark();\n        if(this.lastValue != Sortable.serialize(this.element)) {\n            this.observer(this.element, draggable);\n        }\n    }\n});\n\n//JASPERSOFT #3 - see comment block top of page for more info\nSortable.getSortableObserverConstructor = function () {\n    return SortableObserver;\n}\n//END JASPERSOFT #3\n\nDroppables.show = function(point, element) {\n    if (!this.drops.length) return;\n    var drop, affected = [];\n\n    this.drops.each(function(drop) {\n        if(Droppables.isAffected(point, element, drop)) {\n            if(element.hasClassName('sortDialogAvailable') || element.hasClassName('sortDialogSortFields')) {\n                if(drop.element.id == 'sortDialogAvailable' || drop.element.id == 'sortDialogSortFields') {\n                    affected.push(drop);\n                }\n            } else {\n                affected.push(drop);\n            }\n        }\n    });\n\n    if (affected.length > 0)\n        drop = Droppables.findDeepestChild(affected);\n\n    if (this.last_active && this.last_active != drop) {\n    \tthis.deactivate(this.last_active);\n    }\n    if (drop) {\n        Position.within(drop.element, point[0], point[1]);\n        if (drop.onHover) {\n            // Hack to dynamically change level/measure appearing when dragging from tree to some drop container\n            if (element.classNames().include(\"wrap\")) {\n                element.relativize();\n                element.classNames().include(\"measure\") ?\n                        element.classNames().set(\"draggable dragging measure\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\")) :\n                        element.classNames().set(\"draggable dragging dimension\" + (element.classNames().include(\"supportsFilter\") ? \" supportsFilter\"  : \"\"));\n                element.style.position = 'relative';\n                element.style.display = 'inline-block';\n                element.style.width = '';\n                element.style.height = '';\n            }\n\n            drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));\n        }\n\n        if (drop != this.last_active) {\n        \tDroppables.activate(drop);\n        }\n    }\n};\n\n"],"sourceRoot":""}