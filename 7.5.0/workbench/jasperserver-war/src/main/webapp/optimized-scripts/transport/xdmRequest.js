define(["require","exports","module","jquery","underscore","easyXDM","fakeXhrFactory","runtime_dependencies/js-sdk/src/jrs.configs","runtime_dependencies/js-sdk/src/common/logging/logger"],function(e,r,n){function t(e,r){var n=s.Deferred(),t=s.Deferred(),o=e.request(r,function(e){n.resolve(e.data,e.status,u(e.xhr))},function(e){n.reject(e.message,e.data)});return r.success&&n.done(r.success),r.error&&n.fail(r.error),r.complete&&n.always(r.complete),n.done(t.resolve).fail(t.reject).progress(t.notify),t.fail(function(){"pending"==n.state()&&e.abort(o)}),t}function o(){var e=[];return e.push({name:"logEnabled",value:l.get("enabled")}),l.get("level")&&e.push({name:"logLevel",value:l.get("level")}),s.param(e)}var s=e("jquery"),a=e("underscore"),c=e("easyXDM"),u=e("fakeXhrFactory"),i=e("runtime_dependencies/js-sdk/src/jrs.configs"),l=e("runtime_dependencies/js-sdk/src/common/logging/logger"),d=function e(r){if(0===arguments.length)throw new Error("Not enough arguments to perform the request.");return t(e.create(r.baseUrl?r.baseUrl:i.contextPath),r)};d.create=a.memoize(function(e){return new c.Rpc({remote:e+"/xdm.html?"+o(),container:document.body,props:{style:{display:"none"}}},{remote:{request:{},abort:{}}})}),n.exports=d});