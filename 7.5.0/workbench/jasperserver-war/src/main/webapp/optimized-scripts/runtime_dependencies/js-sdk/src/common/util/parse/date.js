define(["require","exports","module","momentExtension","../../../jrs.configs","underscore","../datetime/RelativeDate","../datetime/RelativeTimestamp"],function(e,t,i){function a(e){var t=e;return t=e.indexOf("yy")>-1?t.replace("yy","YYYY"):t.replace("y","YY"),e.indexOf("mm")>-1?t=t.replace("mm","MM"):e.indexOf("MM")>-1?t=t.replace("MM","MMMM"):e.indexOf("m")>-1?t=t.replace("m","M"):e.indexOf("M")>-1&&(t=t.replace("M","MMM")),e.indexOf("dd")>-1?t=t.replace("dd","DD"):e.indexOf("DD")>-1?t=t.replace("DD","dddd"):e.indexOf("d")>-1?t=t.replace("d","D"):e.indexOf("D")>-1&&(t=t.replace("D","ddd")),t}function r(e){return e.toUpperCase()}function n(e){return e.toLowerCase().replace("hh","HH")}function o(e){return e.replace("aaa","a")}function m(e,t,i){var r=a(e),o=n(t);return r+(null!=i?i:" ")+o}function s(e,t,i){i=void 0!==i&&i,t=t||" ";var m=e.split(t),s=m[0],u=m.length>1?m[1]:null,c=i?r:a,d=i?o:n;(s.indexOf("h")>0||s.indexOf("H")>0||s.indexOf("s")>0)&&(u=s,s=null);var f="";return s&&(f+=c(s)),u&&(f&&(f+=t),f+=d(u)),f}function u(e){return E(e,a(U.dateFormat),!0)}function c(e){return E(e,m(U.dateFormat,U.timeFormat,U.timestampSeparator),!0)}function d(e){return A.isValid(e)}function f(e){return P.isValid(e)}function l(e){return w.isDate(e)&&E(e).isValid()||w.isString(e)&&""!==e&&u(e).isValid()}function T(e){return w.isDate(e)&&E(e).isValid()||w.isString(e)&&""!==e&&c(e).isValid()}function p(e){return E(e,G,!0).isValid()}function D(e,t){if(l(e)&&l(t)){return v(w.isDate(e)?E(e):u(e),w.isDate(t)?E(t):u(t))}}function z(e,t){if(T(e)&&T(t)){return v(w.isDate(e)?E(e):c(e),w.isDate(t)?E(t):c(t))}}function v(e,t){return e.isBefore(t)?-1:e.isAfter(t)?1:0}function M(e){var t=E(e);if(w.isDate(e)&&t.isValid())return t.format(G)}function x(e){var t=E(e,G,!0);if(t.isValid())return t.toDate()}function F(e){return h(e,m(U.dateFormat,U.timeFormat,U.timestampSeparator),G)}function O(e){return h(e,G,m(U.dateFormat,U.timeFormat,U.timestampSeparator))}function Y(e){return h(e,a(U.dateFormat),J)}function y(e){return h(e,J,a(U.dateFormat))}function V(e){return h(e,n(U.timeFormat),K)}function I(e){return h(e,K,n(U.timeFormat))}function h(e,t,i){if(A.isValid(e))return e;var a=E(e,t,!0);return a.isValid()?a.format(i):e}function L(e){return E(e,J,!0)}function B(e){return e.format(J)}function H(e){return e.format(a(U.dateFormat))}function S(e,t){var i;return i=t?E.tz(e,t).tz(k):E.utc(e).tz(k),i.format(a(U.dateFormat))}function g(e,t){var i=E.duration(e),a=E.utc();return t&&a.tz(t),a.hours(i.hours()),a.minutes(i.minutes()),a.seconds(i.seconds()),a.tz(k).format(n(U.timeFormat))}function R(e,t){var i;return i=t?E.tz(e,t).tz(k):E.utc(e).tz(k),i.format(m(U.dateFormat,U.timeFormat,U.timestampSeparator))}function j(e,t){e=Y(e);var i=E.tz(e,k);return i=t?i.tz(t):i.utc(),i.format(J)}function b(e,t){var i=E.duration(e),a=E.utc(),r=a.tz(k);r.hours(i.hours()),r.minutes(i.minutes()),r.seconds(i.seconds());var n;return n=t?r.tz(t):r.utc(),n.format(K)}function C(e,t){e=F(e);var i=E.tz(e,k);return i=t?i.tz(t):i.utc(),i.format(G)}var E=e("momentExtension"),q=e("../../../jrs.configs"),w=e("underscore"),A=e("../datetime/RelativeDate"),P=e("../datetime/RelativeTimestamp"),U=q.localeSettings,k=q.userTimezone,G="YYYY-MM-DD[T]HH:mm:ss",J="YYYY-MM-DD",K="HH:mm:ss";i.exports={isRelativeDate:d,isRelativeTimestamp:f,isDate:l,isTimestamp:T,isIso8601Timestamp:p,compareDates:D,compareTimestamps:z,iso8601DateToMoment:L,momentToIso8601Date:B,momentToLocalizedDate:H,dateObjectToIso8601Timestamp:M,iso8601TimestampToDateObject:x,localizedTimestampToIsoTimestamp:F,isoTimestampToLocalizedTimestamp:O,localizedDateToIsoDate:Y,isoDateToLocalizedDate:y,localizedTimeToIsoTime:V,isoTimeToLocalizedTime:I,toMomentDateOrTimeOrTimestampPattern:s,isoDateToLocalizedDateByTimezone:S,localizedDateToIsoDateByTimezone:j,isoTimeToLocalizedTimeByTimezone:g,localizedTimeToIsoTimeByTimezone:b,isoTimestampToLocalizedTimestampByTimezone:R,localizedTimestampToIsoTimestampByTimezone:C}});