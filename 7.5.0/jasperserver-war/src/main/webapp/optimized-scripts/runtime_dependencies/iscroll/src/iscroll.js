!function(){var o=Math,r=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,t="ontouchstart"in window,n=r+"Transform"in document.documentElement.style,s=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),c=/playbook/gi.test(navigator.appVersion),p=a||c,m=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),u=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),h="onorientationchange"in window?"orientationchange":"resize",d=t?"touchstart":"mousedown",S=t?"touchmove":"mousemove",b=t?"touchend":"mouseup",f=t?"touchcancel":"mouseup",g="Moz"==r?"DOMMouseScroll":"mousewheel",x="translate"+(e?"3d(":"("),T=e?",0)":")",y=function(o,l){var i,c=this,m=document;c.wrapper="object"==typeof o?o:m.getElementById(o),c.wrapper.style.overflow="hidden",c.scroller=c.wrapper.children[0],c.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:s,hideScrollbar:a,fadeScrollbar:a&&e,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in l)c.options[i]=l[i];c.options.useTransform=!!n&&c.options.useTransform,c.options.hScrollbar=c.options.hScroll&&c.options.hScrollbar,c.options.vScrollbar=c.options.vScroll&&c.options.vScrollbar,c.options.zoom=c.options.useTransform&&c.options.zoom,c.options.useTransition=p&&c.options.useTransition,c.scroller.style[r+"TransitionProperty"]=c.options.useTransform?"-"+r.toLowerCase()+"-transform":"top left",c.scroller.style[r+"TransitionDuration"]="0",c.scroller.style[r+"TransformOrigin"]="0 0",c.options.useTransition&&(c.scroller.style[r+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),c.options.useTransform?c.scroller.style[r+"Transform"]=x+"0,0"+T:c.scroller.style.cssText+=";position:absolute;top:0;left:0",c.options.useTransition&&(c.options.fixedScrollbar=!0),c.refresh(),c._bind(h,window),c._bind(d),t||(c._bind("mouseout",c.wrapper),c._bind(g)),c.options.checkDOMChanges&&(c.checkDOMTime=setInterval(function(){c._checkDOMChanges()},500))};y.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var r=this;switch(o.type){case d:if(!t&&0!==o.button)return;r._start(o);break;case S:r._move(o);break;case b:case f:r._end(o);break;case h:r._resize();break;case g:r._wheel(o);break;case"mouseout":r._mouseout(o);break;case"webkitTransitionEnd":r._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(e){var t,s=this,l=document;if(!s[e+"Scrollbar"])return void(s[e+"ScrollbarWrapper"]&&(n&&(s[e+"ScrollbarIndicator"].style[r+"Transform"]=""),s[e+"ScrollbarWrapper"].parentNode.removeChild(s[e+"ScrollbarWrapper"]),s[e+"ScrollbarWrapper"]=null,s[e+"ScrollbarIndicator"]=null));s[e+"ScrollbarWrapper"]||(t=l.createElement("div"),s.options.scrollbarClass?t.className=s.options.scrollbarClass+e.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(s.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(s.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;-"+r+"-transition-property:opacity;-"+r+"-transition-duration:"+(s.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(s.options.hideScrollbar?"0":"1"),s.wrapper.appendChild(t),s[e+"ScrollbarWrapper"]=t,t=l.createElement("div"),s.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+r+"-background-clip:padding-box;-"+r+"-box-sizing:border-box;"+("h"==e?"height:100%":"width:100%")+";-"+r+"-border-radius:3px;border-radius:3px"),t.style.cssText+=";pointer-events:none;-"+r+"-transition-property:-"+r+"-transform;-"+r+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+r+"-transition-duration:0;-"+r+"-transform:"+x+"0,0"+T,s.options.useTransition&&(t.style.cssText+=";-"+r+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),s[e+"ScrollbarWrapper"].appendChild(t),s[e+"ScrollbarIndicator"]=t),"h"==e?(s.hScrollbarSize=s.hScrollbarWrapper.clientWidth,s.hScrollbarIndicatorSize=o.max(o.round(s.hScrollbarSize*s.hScrollbarSize/s.scrollerW),8),s.hScrollbarIndicator.style.width=s.hScrollbarIndicatorSize+"px",s.hScrollbarMaxScroll=s.hScrollbarSize-s.hScrollbarIndicatorSize,s.hScrollbarProp=s.hScrollbarMaxScroll/s.maxScrollX):(s.vScrollbarSize=s.vScrollbarWrapper.clientHeight,s.vScrollbarIndicatorSize=o.max(o.round(s.vScrollbarSize*s.vScrollbarSize/s.scrollerH),8),s.vScrollbarIndicator.style.height=s.vScrollbarIndicatorSize+"px",s.vScrollbarMaxScroll=s.vScrollbarSize-s.vScrollbarIndicatorSize,s.vScrollbarProp=s.vScrollbarMaxScroll/s.maxScrollY),s._scrollbarPos(e,!0)},_resize:function(){var o=this;setTimeout(function(){o.refresh()},s?200:0)},_pos:function(e,t){e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[r+"Transform"]=x+e+"px,"+t+"px"+T+" scale("+this.scale+")":(e=o.round(e),t=o.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,t){var n,s=this,l="h"==e?s.x:s.y;s[e+"Scrollbar"]&&(l=s[e+"ScrollbarProp"]*l,l<0?(s.options.fixedScrollbar||(n=s[e+"ScrollbarIndicatorSize"]+o.round(3*l),n<8&&(n=8),s[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=n+"px"),l=0):l>s[e+"ScrollbarMaxScroll"]&&(s.options.fixedScrollbar?l=s[e+"ScrollbarMaxScroll"]:(n=s[e+"ScrollbarIndicatorSize"]-o.round(3*(l-s[e+"ScrollbarMaxScroll"])),n<8&&(n=8),s[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=n+"px",l=s[e+"ScrollbarMaxScroll"]+(s[e+"ScrollbarIndicatorSize"]-n))),s[e+"ScrollbarWrapper"].style[r+"TransitionDelay"]="0",s[e+"ScrollbarWrapper"].style.opacity=t&&s.options.hideScrollbar?"0":"1",s[e+"ScrollbarIndicator"].style[r+"Transform"]=x+("h"==e?l+"px,0":"0,"+l+"px")+T)},_start:function(e){var n,s,l,i,a,c=this,p=t?e.touches[0]:e;y.scrolling=!1,clearTimeout(y.scrollTimer),!c.enabled||Draggables.dragging||e.touches.length<2||(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,e),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&t&&e.touches.length>1&&(i=o.abs(e.touches[0].pageX-e.touches[1].pageX),a=o.abs(e.touches[0].pageY-e.touches[1].pageY),c.touchesDistStart=o.sqrt(i*i+a*a),c.originX=o.abs(e.touches[0].pageX+e.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=o.abs(e.touches[0].pageY+e.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,e)),c.options.momentum&&(c.options.useTransform?(n=getComputedStyle(c.scroller,null)[r+"Transform"].replace(/[^0-9-.,]/g,"").split(","),s=1*n[4],l=1*n[5]):(s=1*getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),l=1*getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),s==c.x&&l==c.y||(c.options.useTransition?c._unbind("webkitTransitionEnd"):u(c.aniTime),c.steps=[],c._pos(s,l))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=e.timeStamp||(new Date).getTime(),c.options.onScrollStart&&c.options.onScrollStart.call(c,e),c._bind(S),c._bind(b),c._bind(f),y.scrolling=!0)},_move:function(e){var n,s,l,i=this,a=t?e.touches[0]:e,c=a.pageX-i.pointX,p=a.pageY-i.pointY,m=i.x+c,u=i.y+p,h=e.timeStamp||(new Date).getTime();return i.options.onBeforeScrollMove&&i.options.onBeforeScrollMove.call(i,e),i.options.zoom&&t&&e.touches.length>1?(n=o.abs(e.touches[0].pageX-e.touches[1].pageX),s=o.abs(e.touches[0].pageY-e.touches[1].pageY),i.touchesDist=o.sqrt(n*n+s*s),i.zoomed=!0,l=1/i.touchesDistStart*i.touchesDist*this.scale,l<i.options.scaleMin?l=.5*i.options.scaleMin*Math.pow(2,l/i.options.scaleMin):l>i.options.scaleMax&&(l=2*i.options.scaleMax*Math.pow(.5,i.options.scaleMax/l)),i.lastScale=l/this.scale,m=this.originX-this.originX*i.lastScale+this.x,u=this.originY-this.originY*i.lastScale+this.y,this.scroller.style[r+"Transform"]=x+m+"px,"+u+"px"+T+" scale("+l+")",void(i.options.onZoom&&i.options.onZoom.call(i,e))):(i.pointX=a.pageX,i.pointY=a.pageY,(m>0||m<i.maxScrollX)&&(m=i.options.bounce?i.x+c/2:m>=0||i.maxScrollX>=0?0:i.maxScrollX),(u>0||u<i.maxScrollY)&&(u=i.options.bounce?i.y+p/2:u>=0||i.maxScrollY>=0?0:i.maxScrollY),i.absDistX<6&&i.absDistY<6?(i.distX+=c,i.distY+=p,i.absDistX=o.abs(i.distX),void(i.absDistY=o.abs(i.distY))):(i.options.lockDirection&&(i.absDistX>i.absDistY+5?(u=i.y,p=0):i.absDistY>i.absDistX+5&&(m=i.x,c=0)),i.moved=!0,i._pos(m,u),i.dirX=c>0?-1:c<0?1:0,i.dirY=p>0?-1:p<0?1:0,h-i.startTime>300&&(i.startTime=h,i.startX=i.x,i.startY=i.y),void(i.options.onScrollMove&&i.options.onScrollMove.call(i,e))))},_end:function(e){if(!t||0==e.touches.length){var n,s,l,i,a,c,p=this,m=t?e.changedTouches[0]:e,u={dist:0,time:0},h={dist:0,time:0},d=(e.timeStamp||(new Date).getTime())-p.startTime,g=p.x,v=p.y;if(p._unbind(S),p._unbind(b),p._unbind(f),y.scrollTimer=setTimeout(function(){y.scrolling=!1},1e3),p.options.onBeforeScrollEnd&&p.options.onBeforeScrollEnd.call(p,e),p.zoomed)return c=p.scale*p.lastScale,c=Math.max(p.options.zoomMin,c),c=Math.min(p.options.zoomMax,c),p.lastScale=c/p.scale,p.scale=c,p.x=p.originX-p.originX*p.lastScale+p.x,p.y=p.originY-p.originY*p.lastScale+p.y,p.scroller.style[r+"TransitionDuration"]="200ms",p.scroller.style[r+"Transform"]=x+p.x+"px,"+p.y+"px"+T+" scale("+p.scale+")",p.zoomed=!1,p.refresh(),void(p.options.onZoomEnd&&p.options.onZoomEnd.call(p,e));if(!p.moved)return t&&(p.doubleTapTimer&&p.options.zoom?(clearTimeout(p.doubleTapTimer),p.doubleTapTimer=null,p.options.onZoomStart&&p.options.onZoomStart.call(p,e),p.zoom(p.pointX,p.pointY,1==p.scale?p.options.doubleTapZoom:1)):p.doubleTapTimer=setTimeout(function(){for(p.doubleTapTimer=null,n=m.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,e.view,1,m.screenX,m.screenY,m.clientX,m.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),s._fake=!0,n.dispatchEvent(s))},p.options.zoom?250:0)),p._resetPos(200),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,e));if(e.scrollEvent=!0,d<300&&p.options.momentum&&(u=g?p._momentum(g-p.startX,d,-p.x,p.scrollerW-p.wrapperW+p.x,p.options.bounce?p.wrapperW:0):u,h=v?p._momentum(v-p.startY,d,-p.y,p.maxScrollY<0?p.scrollerH-p.wrapperH+p.y:0,p.options.bounce?p.wrapperH:0):h,g=p.x+u.dist,v=p.y+h.dist,(p.x>0&&g>0||p.x<p.maxScrollX&&g<p.maxScrollX)&&(u={dist:0,time:0}),(p.y>0&&v>0||p.y<p.maxScrollY&&v<p.maxScrollY)&&(h={dist:0,time:0})),u.dist||h.dist)return a=o.max(o.max(u.time,h.time),10),p.options.snap&&(l=g-p.absStartX,i=v-p.absStartY,o.abs(l)<p.options.snapThreshold&&o.abs(i)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(snap=p._snap(g,v),g=snap.x,v=snap.y,a=o.max(snap.time,a))),p.scrollTo(g,v,a),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,e));if(p.options.snap)return l=g-p.absStartX,i=v-p.absStartY,o.abs(l)<p.options.snapThreshold&&o.abs(i)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(snap=p._snap(p.x,p.y),snap.x==p.x&&snap.y==p.y||p.scrollTo(snap.x,snap.y,snap.time)),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,e));p._resetPos(200),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,e)}},_resetPos:function(o){var e=this,t=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,n=e.y>=0||e.maxScrollY>0?0:e.y<e.maxScrollY?e.maxScrollY:e.y;if(t==e.x&&n==e.y)return e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==r&&(e.hScrollbarWrapper.style[r+"TransitionDelay"]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==r&&(e.vScrollbarWrapper.style[r+"TransitionDelay"]="300ms"),e.vScrollbarWrapper.style.opacity="0"));e.scrollTo(t,n,o||0)},_wheel:function(o){var r,e,t,n,s=this;if("wheelDeltaX"in o?(r=o.wheelDeltaX/12,e=o.wheelDeltaY/12):r=e="detail"in o?3*-o.detail:-o.wheelDelta,"zoom"==s.options.wheelAction)return s.scale*Math.pow(2,1/3*(e?e/Math.abs(e):0)),e<s.options.zoomMin&&(e=s.options.zoomMin),e>s.options.zoomMax&&(e=s.options.zoomMax),void(e!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,o),s.wheelZoomCount++,s.zoom(o.pageX,o.pageY,e,400),setTimeout(function(){!--s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,o)},400)));t=s.x+r,n=s.y+e,t>0?t=0:t<s.maxScrollX&&(t=s.maxScrollX),n>0?n=0:n<s.maxScrollY&&(n=s.maxScrollY),s.scrollTo(t,n,0)},_mouseout:function(o){var r=o.relatedTarget;if(!r)return void this._end(o);for(;r=r.parentNode;)if(r==this.wrapper)return;this._end(o)},_transitionEnd:function(o){var r=this;o.target==r.scroller&&(r._unbind("webkitTransitionEnd"),r._startAni())},_startAni:function(){var r,e,t=this,n=t.x,s=t.y,l=(new Date).getTime();if(!t.animating){if(!t.steps.length)return void t._resetPos(400);if(r=t.steps.shift(),r.x==n&&r.y==s&&(r.time=0),t.animating=!0,t.moved=!0,t.options.useTransition)return t._transitionTime(r.time),t._pos(r.x,r.y),t.animating=!1,void(r.time?t._bind("webkitTransitionEnd"):t._resetPos(0));!function i(){var a,c,p=(new Date).getTime();if(p>=l+r.time)return t._pos(r.x,r.y),t.animating=!1,t.options.onAnimationEnd&&t.options.onAnimationEnd.call(t),void t._startAni();p=(p-l)/r.time-1,e=o.sqrt(1-p*p),a=(r.x-n)*e+n,c=(r.y-s)*e+s,t._pos(a,c),t.animating&&(t.aniTime=m(i))}()}},_transitionTime:function(o){o+="ms",this.scroller.style[r+"TransitionDuration"]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[r+"TransitionDuration"]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[r+"TransitionDuration"]=o)},_momentum:function(r,e,t,n,s){var l=o.abs(r)/e,i=l*l/.0012,a=0,c=0;return r>0&&i>t?(c=s/(6/(i/l*6e-4)),t+=c,l=l*t/i,i=t):r<0&&i>n&&(c=s/(6/(i/l*6e-4)),n+=c,l=l*n/i,i=n),i*=r<0?-1:1,a=l/6e-4,{dist:i,time:o.round(a)}},_offset:function(o){for(var r=-o.offsetLeft,e=-o.offsetTop;o=o.offsetParent;)r-=o.offsetLeft,e-=o.offsetTop;return o!=this.wrapper&&(r*=this.scale,e*=this.scale),{left:r,top:e}},_snap:function(r,e){var t,n,s,l,i,a,c=this;for(s=c.pagesX.length-1,t=0,n=c.pagesX.length;t<n;t++)if(r>=c.pagesX[t]){s=t;break}for(s==c.currPageX&&s>0&&c.dirX<0&&s--,r=c.pagesX[s],i=o.abs(r-c.pagesX[c.currPageX]),i=i?o.abs(c.x-r)/i*500:0,c.currPageX=s,s=c.pagesY.length-1,t=0;t<s;t++)if(e>=c.pagesY[t]){s=t;break}return s==c.currPageY&&s>0&&c.dirY<0&&s--,e=c.pagesY[s],a=o.abs(e-c.pagesY[c.currPageY]),a=a?o.abs(c.y-e)/a*500:0,c.currPageY=s,l=o.round(o.max(i,a))||200,{x:r,y:e,time:l}},_bind:function(o,r,e){(r||this.scroller).addEventListener(o,this,!!e)},_unbind:function(o,r,e){(r||this.scroller).removeEventListener(o,this,!!e)},destroy:function(){var o=this;o.scroller.style[r+"Transform"]="",o.hScrollbar=!1,o.vScrollbar=!1,o._scrollbar("h"),o._scrollbar("v"),o._unbind(h,window),o._unbind(d),o._unbind(S),o._unbind(b),o._unbind(f),o.options.hasTouch&&(o._unbind("mouseout",o.wrapper),o._unbind(g)),o.options.useTransition&&o._unbind("webkitTransitionEnd"),o.options.checkDOMChanges&&clearInterval(o.checkDOMTime),o.options.onDestroy&&o.options.onDestroy.call(o)},refresh:function(){var e,t=this,n=0,s=0;if(y.scrolling=!1,t.scale<t.options.zoomMin&&(t.scale=t.options.zoomMin),t.wrapperW=t.wrapper.clientWidth||1,t.wrapperH=t.wrapper.clientHeight||1,t.scrollerW=o.round(t.scroller.offsetWidth*t.scale),t.scrollerH=o.round(t.scroller.offsetHeight*t.scale),t.maxScrollX=t.wrapperW-t.scrollerW,t.maxScrollY=t.wrapperH-t.scrollerH,t.dirX=0,t.dirY=0,t.hScroll=t.options.hScroll&&t.maxScrollX<0,t.vScroll=t.options.vScroll&&(!t.options.bounceLock&&!t.hScroll||t.scrollerH>t.wrapperH),t.hScrollbar=t.hScroll&&t.options.hScrollbar,t.vScrollbar=t.vScroll&&t.options.vScrollbar&&t.scrollerH>t.wrapperH,e=t._offset(t.wrapper),t.wrapperOffsetLeft=-e.left,t.wrapperOffsetTop=-e.top,"string"==typeof t.options.snap)for(t.pagesX=[],t.pagesY=[],els=t.scroller.querySelectorAll(t.options.snap),i=0,l=els.length;i<l;i++)n=t._offset(els[i]),n.left+=t.wrapperOffsetLeft,n.top+=t.wrapperOffsetTop,t.pagesX[i]=n.left<t.maxScrollX?t.maxScrollX:n.left*t.scale,t.pagesY[i]=n.top<t.maxScrollY?t.maxScrollY:n.top*t.scale;else if(t.options.snap){for(t.pagesX=[];n>=t.maxScrollX;)t.pagesX[s]=n,n-=t.wrapperW,s++;for(t.maxScrollX%t.wrapperW&&(t.pagesX[t.pagesX.length]=t.maxScrollX-t.pagesX[t.pagesX.length-1]+t.pagesX[t.pagesX.length-1]),n=0,s=0,t.pagesY=[];n>=t.maxScrollY;)t.pagesY[s]=n,n-=t.wrapperH,s++;t.maxScrollY%t.wrapperH&&(t.pagesY[t.pagesY.length]=t.maxScrollY-t.pagesY[t.pagesY.length-1]+t.pagesY[t.pagesY.length-1])}t._scrollbar("h"),t._scrollbar("v"),t.zoomed||(t.scroller.style[r+"TransitionDuration"]="0",t._resetPos(200))},scrollTo:function(o,r,e,t){var n,s,l=this,i=o;for(l.stop(),i.length||(i=[{x:o,y:r,time:e,relative:t}]),n=0,s=i.length;n<s;n++)i[n].relative&&(i[n].x=l.x-i[n].x,i[n].y=l.y-i[n].y),l.steps.push({x:i[n].x,y:i[n].y,time:i[n].time||0});l._startAni()},scrollToElement:function(r,e){var t,n=this;(r=r.nodeType?r:n.scroller.querySelector(r))&&(t=n._offset(r),t.left+=n.wrapperOffsetLeft,t.top+=n.wrapperOffsetTop,t.left=t.left>0?0:t.left<n.maxScrollX?n.maxScrollX:t.left,t.top=t.top>0?0:t.top<n.maxScrollY?n.maxScrollY:t.top,e=void 0===e?o.max(2*o.abs(t.left),2*o.abs(t.top)):e,n.scrollTo(t.left,t.top,e))},scrollToPage:function(o,r,e){var t,n,s=this;s.options.snap?(o="next"==o?s.currPageX+1:"prev"==o?s.currPageX-1:o,r="next"==r?s.currPageY+1:"prev"==r?s.currPageY-1:r,o=o<0?0:o>s.pagesX.length-1?s.pagesX.length-1:o,r=r<0?0:r>s.pagesY.length-1?s.pagesY.length-1:r,s.currPageX=o,s.currPageY=r,t=s.pagesX[o],n=s.pagesY[r]):(t=-s.wrapperW*o,n=-s.wrapperH*r,t<s.maxScrollX&&(t=s.maxScrollX),n<s.maxScrollY&&(n=s.maxScrollY)),s.scrollTo(t,n,e||400)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(S),this._unbind(b),this._unbind(f)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):u(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,e,t,n){var s=this,l=t/s.scale;s.options.useTransform&&(s.zoomed=!0,n=void 0===n?200:n,o=o-s.wrapperOffsetLeft-s.x,e=e-s.wrapperOffsetTop-s.y,s.x=o-o*l+s.x,s.y=e-e*l+s.y,s.scale=t,s.refresh(),s.x=s.x>0?0:s.x<s.maxScrollX?s.maxScrollX:s.x,s.y=s.y>0?0:s.y<s.maxScrollY?s.maxScrollY:s.y,s.scroller.style[r+"TransitionDuration"]=n+"ms",s.scroller.style[r+"Transform"]=x+s.x+"px,"+s.y+"px"+T+" scale("+t+")",s.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},"undefined"!=typeof exports?exports.iScroll=y:window.iScroll=y}();