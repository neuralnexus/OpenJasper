define(["require","exports","module","jquery","react","react-dom","./AttachableColorPicker"],function(e,t,o){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}var a=e("jquery"),c=e("react"),l=e("react-dom"),s=e("./AttachableColorPicker"),h=s.AttachableColorPicker,p={padding:{top:0,left:0},disableAlpha:!0,showTransparentPreset:!0,color:"",onChangeComplete:function(){},onHide:function(){},ColorPicker:h},C=function(){function e(t){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;r(this,e),this.options=n,this.attachTo=t,this.color=this.options.color,this.ColorPicker=this.options.ColorPicker||h,this.colorPickerContainerWrapper=document.createElement("div"),this.colorPickerContainerWrapper.className="jr-jColorPickerWrapper",this.boundOnAttachElementClick=this.onAttachElementClick.bind(this);var i=this.options,a=i.onChangeComplete,c=i.onHide;this.onChangeCompleteWrapper=function(e){o.color=e.hex,a(e)},this.onHideWrapper=function(){var e=o.getColorPickerState(!1);o.renderColorPicker(e),c&&c()};var l=this.getColorPickerState(!1);this.renderColorPicker(l)}return i(e,[{key:"renderColorPicker",value:function(e){this.remove(),this.attachTo.addEventListener("click",this.boundOnAttachElementClick),document.body.appendChild(this.colorPickerContainerWrapper),l.render(c.createElement(this.ColorPicker,e),this.colorPickerContainerWrapper)}},{key:"onAttachElementClick",value:function(){var e=this.getColorPickerState(!0);this.renderColorPicker(e)}},{key:"getColorPickerState",value:function(e){return{padding:this.options.padding,show:e,color:this.color,disableAlpha:this.options.disableAlpha,showTransparentPreset:this.options.showTransparentPreset,onChangeComplete:this.onChangeCompleteWrapper,onHide:this.onHideWrapper,attachTo:this.attachTo}}},{key:"setColor",value:function(e){this.color=e}},{key:"remove",value:function(){this.attachTo.removeEventListener("click",this.boundOnAttachElementClick),l.unmountComponentAtNode(this.colorPickerContainerWrapper),a(this.colorPickerContainerWrapper).remove()}}]),e}();o.exports=C});