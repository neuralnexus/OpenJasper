define("resource/resource.base",["require","exports","module","prototype","../util/touch.controller","../util/utils.common","../core/core.events.bis","../dynamicTree/dynamicTree.utils"],function(e,t,i){var n=e("prototype"),s=n.$,a=n.$$,r=n.$break,o=e("../util/touch.controller"),l=e("../util/utils.common"),c=l.buildActionUrl,d=l.isIPad,u=e("../core/core.events.bis"),p=e("../dynamicTree/dynamicTree.utils"),h={messages:{},resourceLabelMaxLength:100,resourceIdMaxLength:100,resourceDescriptionMaxLength:250,PROPAGATE_EVENT:"propagateEvent",STEP_DISPLAY_ID:"stepDisplay",FLOW_CONTROLS_ID:"flowControls",initSwipeScroll:function(){var e=s(h.STEP_DISPLAY_ID);e&&new o(e.up(),e.up(1),{})},submitForm:function(e,t,i){if(t){var n=c(t);i&&i(),s(e).writeAttribute("method","post").writeAttribute("action",n),s(e).submit()}},registerClickHandlers:function(e,t,i){if(h._bodyClickEventHandlers)return void(i?Array.prototype.unshift:Array.prototype.push).apply(h._bodyClickEventHandlers,e);h._bodyClickEventHandlers=e,a(t||"body")[0].observe("click",function(e){h._bodyClickEventHandlers&&h._bodyClickEventHandlers.each(function(t){var i=t(e);if(i)throw i!==h.PROPAGATE_EVENT&&Event.stop(e),r})})},TreeWrapper:function(e){var t=this;if(this._treeId=e.treeId,this._resourceUriInput=s(e.resourceUriInput||"resourceUri"),this._uri=this._resourceUriInput&&this._resourceUriInput.getValue()||e.uri||"/",!e.providerId)throw"There is no tree provider set for tree #{id}".interpolate({id:this._treeId});var i=["providerId","rootUri","organizationId","publicFolderUri","urlGetNode","urlGetChildren"].inject({},function(t,i){return null!==e[i]&&(t[i]=e[i]),t});return this._tree=new p.createRepositoryTree(this._treeId,i),this._tree.observe("tree:loaded",function(){t._tree.openAndSelectNode(s(t._resourceUriInput).getValue())}),this._tree.observe("leaf:selected",function(e){t._uri=e.memo.node.param.uri,t._resourceUriInput.setValue(t._uri)}),this._tree.observe("node:selected",function(){t._resourceUriInput.setValue(t._uri="")}),{getTreeId:function(){return t._treeId},getTree:function(){return t._tree},selectFolder:function(e){t._tree.openAndSelectNode(e)},getSelectedFolderUri:function(){return t._uri}}},switchButtonState:function(e,t){u[t?"enable":"disable"].call(u,e)},switchDisableState:function(e,t){(e=s(e))&&e[t?"disable":"enable"].call(e)},generateResourceId:function(e){if(window.localContext&&window.localContext.initOptions&&window.localContext.initOptions.resourceIdNotSupportedSymbols)return e.replace(new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols,"g"),"_");throw"There is no resourceIdNotSupportedSymbols property in init options."},testResourceId:function(e){if(window.localContext&&window.localContext.initOptions&&window.localContext.initOptions.resourceIdNotSupportedSymbols)return new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols,"g").test(e);throw"There is no resourceIdNotSupportedSymbols property in init options."},labelValidator:function(e){var t=!0,i="";return e.blank()?(i=h.messages.labelIsEmpty,t=!1):e.length>h.resourceLabelMaxLength&&(i=h.messages.labelToLong,t=!1),{isValid:t,errorMessage:i}},getLabelValidationEntry:function(e){return{element:e,validators:[{method:"mandatory",messages:{mandatory:h.messages.labelIsEmpty}},{method:"minMaxLength",messages:{tooLong:h.messages.labelToLong},options:{maxLength:h.resourceLabelMaxLength}}]}},getIdValidationEntry:function(e){return{element:e,validators:[{method:"resourceIdChars",messages:h.messages},{method:"mandatory",messages:{mandatory:h.messages.resourceIdIsEmpty}},{method:"minMaxLength",messages:{tooLong:h.messages.resourceIdToLong},options:{maxLength:h.resourceIdMaxLength}}]}},resourceIdValidator:function(e){var t=!0,i="";return this._isEditMode||(e.blank()?(i=h.messages.resourceIdIsEmpty,t=!1):e.length>h.resourceIdMaxLength?(i=h.messages.resourceIdToLong,t=!1):h.testResourceId(e)&&(i=h.messages.resourceIdInvalidChars,t=!1)),{isValid:t,errorMessage:i}},getDescriptionValidationEntry:function(e){return{element:e,validators:[{method:"minMaxLength",messages:{tooLong:h.messages.descriptionToLong},options:{maxLength:h.resourceDescriptionMaxLength}}]}},descriptionValidator:function(e){var t=!0,i="";return e.length>h.resourceDescriptionMaxLength&&(i=h.messages.descriptionToLong,t=!1),{isValid:t,errorMessage:i}},dataSourceValidator:function(e){var t=!0,i="";return""===e.trim()&&(i=h.messages.dataSourceInvalid,t=!1),{isValid:t,errorMessage:i}},queryValidator:function(e){var t=!0,i="";return""===e.trim()&&(i=h.messages.queryInvalid,t=!1),{isValid:t,errorMessage:i}},getValidationEntries:function(e){return e.collect(function(e){return e.validationEntry?e.validationEntry:{validator:e.validator,element:e}})}};void 0===e&&d()&&document.observe("dom:loaded",h.initSwipeScroll.bind(h)),i.exports=h}),define("components/components.pickers",["require","exports","module","prototype","../core/core.events.bis","underscore","../core/core.layout","../dynamicTree/dynamicTree.utils","./components.dialogs","../util/utils.common","jquery"],function(e,t,i){var n=e("prototype"),s=n.$,a=n.$F,r=e("../core/core.events.bis"),o=e("underscore"),l=e("../core/core.layout"),c=e("../dynamicTree/dynamicTree.utils"),d=e("./components.dialogs"),u=e("../util/utils.common"),p=u.matchAny,h=e("jquery"),m={};m.FileSelector=function(e){this._disabled=void 0!==e.disabled&&e.disabled,this._uriTextbox=s(e.uriTextboxId),this._browseButtonId=s(e.browseButtonId),this._onChange=e.onChange||!1,this._options=e,this._disabled?(r.disable(this._uriTextbox),r.disable(this._browseButtonId)):(this._id=e.id,this._suffix=e.suffix?e.suffix:(new Date).getTime(),this._treeDomId=e.treeId,this._selectLeavesOnly=void 0!==e.selectLeavesOnly&&e.selectLeavesOnly,this._selectedUri=a(this._uriTextbox),this._process(e),this._assignHandlers(),this._refreshButtonsState())},m.FileSelector.addVar("DEFAULT_TEMPLATE_DOM_ID","selectFromRepository"),m.FileSelector.addVar("DEFAULT_TREE_ID","selectFromRepoTree"),m.FileSelector.addVar("OK_BUTTON_ID","selectFromRepoBtnSelect"),m.FileSelector.addVar("CANCEL_BUTTON_ID","selectFromRepoBtnCancel"),m.FileSelector.addVar("TITLE_PATTERN","div.title"),m.FileSelector.addMethod("_process",function(e){!this._id&&(this._id=this.DEFAULT_TEMPLATE_DOM_ID),!s(this._id)&&this._options.template&&this._options.i18n?(this._dom=h(o.template(this._options.template,{i18n:this._options.i18n})),this._dom=this._dom[0]):this._dom=s(this._id).cloneNode(!0),this._dom.writeAttribute("id",this._id+this._suffix),this._okButton=this._dom.select("#"+this.OK_BUTTON_ID)[0],this._okButton.writeAttribute("id",this.OK_BUTTON_ID+this._suffix),this._cancelButton=this._dom.select("#"+this.CANCEL_BUTTON_ID)[0],this._cancelButton.writeAttribute("id",this.CANCEL_BUTTON_ID+this._suffix),!this._treeDomId&&(this._treeDomId=this.DEFAULT_TREE_ID),this._treeDom=this._dom.select("#"+this._treeDomId)[0],this._treeDom.writeAttribute("id",this._treeDomId+this._suffix),this._visible=!1,e.title&&this._dom.select(this.TITLE_PATTERN)[0].update(e.title),this._onOk=e.onOk,this._onCancel=e.onCancel,h(document.body).append(this._dom);var t,i=this._dom.down(l.SWIPE_SCROLL_PATTERN);i&&(t=l.createScroller(i));var n=Object.extend({providerId:e.providerId,scroll:t},e.treeOptions);this._tree=c.createRepositoryTree(this._treeDomId+this._suffix,n),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1)}),m.FileSelector.addMethod("_assignHandlers",function(){this._dom.observe("click",this._dialogClickHandler.bindAsEventListener(this)),["node:dblclick","leaf:dblclick"].each(function(e){this._tree.observe(e,this._treeClickHandler.bindAsEventListener(this))},this),["node:click","leaf:click","node:selected","leaf:selected"].each(function(e){this._tree.observe(e,this._refreshButtonsState.bindAsEventListener(this))},this),["childredPrefetched:loaded","tree:loaded"].each(function(e){this._tree.observe(e,this._treeLoadHandler.bindAsEventListener(this))},this),this._browseButtonId.observe("click",this._browseClickHandler.bindAsEventListener(this))}),m.FileSelector.addMethod("_canClickOk",function(e){return this._tree.getSelectedNode()&&(!this._selectLeavesOnly||this._tree.getSelectedNode().param.type!==this._tree.getSelectedNode().FOLDER_TYPE_NAME)}),m.FileSelector.addMethod("_dialogClickHandler",function(e){var t=e.element();if(p(t,["#"+this.OK_BUTTON_ID+this._suffix],!0)){e.stop();var i=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(i),this._onChange&&this._onChange(i),this._hide(),this._onOk&&this._onOk()}else p(t,["#"+this.CANCEL_BUTTON_ID+this._suffix],!0)&&(e.stop(),this._hide(),this._onCancel&&this._onCancel())}),m.FileSelector.addMethod("_treeClickHandler",function(e){if(this._canClickOk()){var t=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(t),this._onChange&&this._onChange(t),this._hide(),this._onOk&&this._onOk()}}),m.FileSelector.addMethod("_treeLoadHandler",function(e){this._visible&&this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri)}),m.FileSelector.addMethod("_browseClickHandler",function(e){e.stop(),this._show()}),m.FileSelector.addMethod("_refreshButtonsState",function(){this._canClickOk()?r.enable(this._okButton):r.disable(this._okButton)}),m.FileSelector.addMethod("_hide",function(){d.popup.hide(this._dom),this._visible=!1}),m.FileSelector.addMethod("_show",function(){this._selectedUri=a(this._uriTextbox),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1),d.popup.show(this._dom,!0),this._visible=!0,this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri),this._refreshButtonsState()}),m.FileSelector.addMethod("remove",function(){h(this._dom).remove()}),i.exports=m}),define("resource/resource.locate",["require","exports","module","prototype","underscore","./resource.base","../components/components.pickers","jquery"],function(e,t,i){var n=e("prototype"),s=n.$,a=e("underscore"),r=e("./resource.base"),o=e("../components/components.pickers"),l=e("jquery"),c={CONTENT_REPOSITORY:"CONTENT_REPOSITORY",LOCAL:"LOCAL",NONE:"NONE",FILE_SYSTEM:"FILE_SYSTEM",LOCATE_EVENT:"resource:locate",ALLOWED_FILE_RESOURCE_EXTENSIONS:["css","ttf","jpg","jpeg","gif","bmp","png","jar","jrxml","properties","jrtx","xml","agxml","docx","doc","ppt","pptx","xls","xlsx","ods","odt","odp","pdf","rtf","html"],initialize:function(e){var t=function(e){return a.isObject(e)?e:s(e)};this.resourceUri=t(e.resourceInput),this.browseButton=t(e.browseButton),this.filePath=t(e.fileUploadInput),this.fakeFilePath=t(e.fakeFileUploadInput),this.fakeFileInput=t(e.fakeFileUploadInputText),this.newResourceLink=t(e.newResourceLink);try{this._initFileSelector(e)}catch(e){}finally{this._initEvents(e)}return this},_initEvents:function(e){l(document).on("click","#CONTENT_REPOSITORY, #FILE_SYSTEM, #NONE, #LOCAL",this._clickHandler),"fileResourceTreeDataProvider"===e.providerId&&(l("#next").on("click",c._nextClickHandler),l("#filePath").on("change",c._uploadChangeHandler))},_nextClickHandler:function(e){l("#fileUpload").hasClass("error")&&e.preventDefault()},_uploadChangeHandler:function(e){l("#fileUpload").removeClass("error");var t=!0;if(l("#filePath")[0].value){var i=l("#filePath")[0].value.match(/.*\.([^\.]+)$/);if(i){var n=i[1];a.indexOf(c.ALLOWED_FILE_RESOURCE_EXTENSIONS,n)<0&&(t=!1)}else t=!1}else t=!1;if(!t){var s=r.messages["resource.report.unsupportedFileType.error"]+" "+c.ALLOWED_FILE_RESOURCE_EXTENSIONS.join(", ");l("#fileUpload").addClass("error").find("span.warning").html(s)}},_clickHandler:function(e){c._updateResourceSelectorState(e.target.id)},_updateResourceSelectorState:function(e){r.switchButtonState(this.filePath,e===this.FILE_SYSTEM),r.switchButtonState(this.fakeFilePath,e===this.FILE_SYSTEM),r.switchButtonState(this.fakeFileInput,e===this.FILE_SYSTEM),r.switchButtonState(this.browseButton,e===this.CONTENT_REPOSITORY),r.switchDisableState(this.resourceUri,e!==this.CONTENT_REPOSITORY);var t=e===this.LOCAL?["disabled","launcher"]:[];this._switchElementClasses(this.newResourceLink,t)},_initFileSelector:function(e){this.fileSelector=new o.FileSelector(a.extend({},e,{uriTextboxId:this.resourceUri,browseButtonId:this.browseButton,title:e.dialogTitle}))},remove:function(e){this.fileSelector.remove()},_switchElementClasses:function(e,t){e&&t&&e.removeClassName(t[0]).addClassName(t[1])}};i.exports=c}),define("runtime_dependencies/js-sdk/src/common/enum/httpStatusCodes",["require","exports","module"],function(e,t,i){i.exports={100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"}}),define("runtime_dependencies/js-sdk/src/common/enum/errorCodes",["require","exports","module"],function(e,t,i){i.exports={UNEXPECTED_ERROR:"unexpected.error",INVALID_RESOURCE_TYPE:"invalid.resource.type",ACCESS_DENIED:"access.denied"}}),define("runtime_dependencies/js-sdk/src/common/model/BaseModel",["require","exports","module","underscore","backbone","../enum/httpStatusCodes","../enum/errorCodes"],function(e,t,i){var n=e("underscore"),s=e("backbone"),a=e("../enum/httpStatusCodes"),r=e("../enum/errorCodes"),o=s.Model.extend({initialize:function(){this.on("error",o.unifyServerErrors)},serialize:function(){return n.clone(this.attributes)}},{unifyServerErrors:function(e,t){var i=a[t.status],n=o.createServerError(t);e.trigger("error:"+i,e,n,t),e.trigger("error:all",e,n,t)},createServerError:function(e){var t;try{t=JSON.parse(e.responseText)}catch(e){t={message:"Can't parse server response",errorCode:r.UNEXPECTED_ERROR,parameters:[]}}return t}});i.exports=o}),function(e){"object"==typeof exports?module.exports=e(require("backbone"),require("underscore")):"function"==typeof define&&define.amd&&define("backbone-validation",["backbone","underscore"],e)}(function(e,t){return e.Validation=function(t){"use strict";var i={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n={formatLabel:function(e,t){return c[i.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments);return e.shift().replace(/\{(\d+)\}/g,function(t,i){return void 0!==e[i]?e[i]:t})}},s=function(i,n,a){return n=n||{},a=a||"",t.each(i,function(t,r){i.hasOwnProperty(r)&&(t&&"object"==typeof t&&!(t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e.Model||t instanceof e.Collection)?s(t,n,a+r+"."):n[a+r]=t)}),n},a=function(){var e=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(e,t){return e[t]=void 0,e},{})},a=function(e,i){var n=e.validation?t.result(e,"validation")[i]||{}:{};return(t.isFunction(n)||t.isString(n))&&(n={fn:n}),t.isArray(n)||(n=[n]),t.reduce(n,function(e,i){return t.each(t.without(t.keys(i),"msg"),function(t){e.push({fn:d[t],val:i[t],msg:i.msg})}),e},[])},o=function(e,i,s,r){return t.reduce(a(e,i),function(a,o){var l=t.extend({},n,d),c=o.fn.call(l,s,i,o.val,e,r);return!1!==c&&!1!==a&&(c&&!a?t.result(o,"msg")||c:a)},"")},l=function(e,i){var n,a={},r=!0,l=t.clone(i),c=s(i);return t.each(c,function(t,i){(n=o(e,i,t,l))&&(a[i]=n,r=!1)}),{invalidAttrs:a,isValid:r}},c=function(i,n){return{preValidate:function(e,i){var n,s=this,a={};return t.isObject(e)?(t.each(e,function(e,t){(n=s.preValidate(t,e))&&(a[t]=n)}),t.isEmpty(a)?void 0:a):o(this,e,i,t.extend({},this.attributes))},isValid:function(e){var i=s(this.attributes);return t.isString(e)?!o(this,e,i[e],t.extend({},this.attributes)):t.isArray(e)?t.reduce(e,function(e,n){return e&&!o(this,n,i[n],t.extend({},this.attributes))},!0,this):(!0===e&&this.validate(),!this.validation||this._isValid)},validate:function(a,r){var o=this,c=!a,d=t.extend({},n,r),u=e(o),p=t.extend({},u,o.attributes,a),h=s(a||p),m=l(o,p);if(o._isValid=m.isValid,t.each(u,function(e,t){m.invalidAttrs.hasOwnProperty(t)||d.valid(i,t,d.selector)}),t.each(u,function(e,t){var n=m.invalidAttrs.hasOwnProperty(t),s=h.hasOwnProperty(t);n&&(s||c)&&d.invalid(i,t,m.invalidAttrs[t],d.selector)}),t.defer(function(){o.trigger("validated",o._isValid,o,m.invalidAttrs),o.trigger("validated:"+(o._isValid?"valid":"invalid"),o,m.invalidAttrs)}),!d.forceUpdate&&t.intersection(t.keys(m.invalidAttrs),t.keys(h)).length>0)return m.invalidAttrs}}},u=function(e,i,n){t.extend(i,c(e,n))},p=function(e){delete e.validate,delete e.preValidate,delete e.isValid},h=function(e){u(this.view,e,this.options)},m=function(e){p(e)};return{version:"0.9.1",configure:function(e){t.extend(i,e)},bind:function(e,n){n=t.extend({},i,r,n);var s=n.model||e.model,a=n.collection||e.collection;if(void 0===s&&void 0===a)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";s?u(e,s,n):a&&(a.each(function(t){u(e,t,n)}),a.bind("add",h,{view:e,options:n}),a.bind("remove",m))},unbind:function(e,i){i=t.extend({},i);var n=i.model||e.model,s=i.collection||e.collection;n?p(n):s&&(s.each(function(e){p(e)}),s.unbind("add",h),s.unbind("remove",m))},mixin:c(null,i)}}(),r=a.callbacks={valid:function(e,t,i){e.$("["+i+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,i,n){e.$("["+n+'~="'+t+'"]').addClass("invalid").attr("data-error",i)}},o=a.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},l=a.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},c=a.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||c.sentenceCase(e,t)}},d=a.validators=function(){var e=String.prototype.trim?function(e){return null===e?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,i=/\s+$/;return null===e?"":e.toString().replace(t,"").replace(i,"")},i=function(e){return t.isNumber(e)||t.isString(e)&&e.match(o.number)},n=function(i){return!(t.isNull(i)||t.isUndefined(i)||t.isString(i)&&""===e(i)||t.isArray(i)&&t.isEmpty(i))};return{fn:function(e,i,n,s,a){return t.isString(n)&&(n=s[n]),n.call(s,e,i,a)},required:function(e,i,s,a,r){var o=t.isFunction(s)?s.call(a,e,i,r):s;return!(!o&&!n(e))&&(o&&!n(e)?this.format(l.required,this.formatLabel(i,a)):void 0)},acceptance:function(e,i,n,s){if("true"!==e&&(!t.isBoolean(e)||!1===e))return this.format(l.acceptance,this.formatLabel(i,s))},min:function(e,t,n,s){if(!i(e)||e<n)return this.format(l.min,this.formatLabel(t,s),n)},max:function(e,t,n,s){if(!i(e)||e>n)return this.format(l.max,this.formatLabel(t,s),n)},range:function(e,t,n,s){if(!i(e)||e<n[0]||e>n[1])return this.format(l.range,this.formatLabel(t,s),n[0],n[1])},length:function(e,i,n,s){if(!t.isString(e)||e.length!==n)return this.format(l.length,this.formatLabel(i,s),n)},minLength:function(e,i,n,s){if(!t.isString(e)||e.length<n)return this.format(l.minLength,this.formatLabel(i,s),n)},maxLength:function(e,i,n,s){if(!t.isString(e)||e.length>n)return this.format(l.maxLength,this.formatLabel(i,s),n)},rangeLength:function(e,i,n,s){if(!t.isString(e)||e.length<n[0]||e.length>n[1])return this.format(l.rangeLength,this.formatLabel(i,s),n[0],n[1])},oneOf:function(e,i,n,s){if(!t.include(n,e))return this.format(l.oneOf,this.formatLabel(i,s),n.join(", "))},equalTo:function(e,t,i,n,s){if(e!==s[i])return this.format(l.equalTo,this.formatLabel(t,n),this.formatLabel(i,n))},pattern:function(e,t,i,s){if(!n(e)||!e.toString().match(o[i]||i))return this.format(l[i]||l.inlinePattern,this.formatLabel(t,s),i)}}}();return t.each(d,function(e,i){d[i]=t.bind(d[i],t.extend({},n,d))}),a}(t),e.Validation}),define("runtime_dependencies/js-sdk/src/common/util/parse/NumberUtils",["require","exports","module","underscore"],function(e,t,i){var n=e("underscore"),s=function(e){function t(e){return"."===e?e="\\.":" "===e&&(e="\\s"),e}e=e||{},this.DECIMAL_SEPARATOR=e.decimalSeparator||".",this.GROUPING_SEPARATOR=e.groupingSeparator||",",this.decimalSeparator=t(this.DECIMAL_SEPARATOR),this.groupingSeparator=t(this.GROUPING_SEPARATOR),this.DECIMAL_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*("+this.decimalSeparator+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+this.decimalSeparator+"[0-9]+)?|0("+this.decimalSeparator+"[0-9]+)?)$"),this.INTEGER_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$")};s.prototype.number_format=function(e,t,i,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):0,r=void 0===n?",":n,o=void 0===i?".":i,l=(a?function(e,t){var i=Math.pow(10,t);return""+(Math.round(e*i)/i).toFixed(t)}(s,a):""+Math.round(s)).split(".");return l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(o)},s.prototype.isInt=function(e){return this.isNumberInt(e)||this.isStringInt(e)},s.prototype.isNumberInt=function(e){return n.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&(e===+e&&e===(0|e)||e%1==0)},s.prototype.isStringInt=function(e){return n.isString(e)&&this.INTEGER_NUMBER_PATTERN.test(e)},s.prototype.isInt32=function(e){return this.isInt(e)&&this.parseNumber(e)>=-2147483648&&this.parseNumber(e)<=2147483647},s.prototype.isDecimal=function(e){return n.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY||n.isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)},s.prototype.parseNumber=function(e){if(n.isNumber(e))return e;if(n.isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)){e=e.replace(new RegExp(this.groupingSeparator,"g"),"").replace(new RegExp(this.decimalSeparator,"g"),".");var t=1*e;return t>9007199254740992||t<-9007199254740992?(window.console&&window.console.warn(e+" is out of the ["+-9007199254740992+", 9007199254740992] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):t}},s.prototype.formatNumber=function(e,t){t=t||{};var i=e.toString().split(".")[1],s=i?i.length:0;n.isUndefined(t.decimalPlacesAmount)||(s=t.decimalPlacesAmount);try{return this.number_format(e,s,t.decimalSeparator||this.DECIMAL_SEPARATOR,t.groupingSeparator||this.GROUPING_SEPARATOR)}catch(t){return e.toString()}},i.exports=s}),define("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension",["require","exports","module","backbone-validation","underscore","../util/parse/NumberUtils"],function(e,t,i){var n=e("backbone-validation"),s=e("underscore"),a=e("../util/parse/NumberUtils"),r=new a,o=n.mixin.validate;n.mixin.validate=function(e,t){t||(t={});var i=this;return o.call(this,e,s.extend({valid:function(e,t){i.trigger("validate:"+t,i,t)},invalid:function(e,t,n){i.trigger("validate:"+t,i,t,n)}},t))},s.extend(n.validators,{doesNotContainSymbols:function(e,t,i){if(new RegExp("["+i+"]","g").test(e))return"Attribute '"+t+"' contains forbidden symbols"},integerNumber:function(e){if(!r.isNumberInt(e))return"Value is not a valid integer number"},type:function(e,t,i){function n(e){var t;return"string"==e?t=s.isString:"number"===e?t=s.isNumber:"object"===e?t=s.isObject:"boolean"===e?t=s.isBoolean:"null"===e?t=s.isNull:"undefined"===e&&(t=s.isUndefined),t}if(s.isArray(i)||(i=[i]),!i.some(function(t){return n(t)(e)}))return"'{attr}' is not {type}".replace("{attr}",t).replace("'{type}'",i.join(" "))},url:function(e){if(!/(http|https):\/\/.*\..*./.test(e))return"Value is not a valid url"},hexColor:function(e){if(!/^#[0-9a-f]{3,6}$/i.test(e))return"Value is not a valid hex color"},xRegExpPattern:function(e,t,i,n){if(!i.test(e))return"Value does not match pattern"},startsWithLetter:function(e,t,i,n){if(!e.substr(0,1).match(/[A-Za-z]/))return"Value should start with letter"},containsOnlyWordCharacters:function(e,t,i,n){if(e.search(/\W/)>=0)return"Value should contain only word characters (letters, digits and underscore)"},arrayMinLength:function(e,t,i,n){if(s.isArray(e)&&e.length<i)return"Array length is less than "+i}}),i.exports=n}),define("runtime_dependencies/js-sdk/src/common/util/classUtil",["require","exports","module","underscore"],function(e,t,i){var n=e("underscore"),s={mixin:function(){var e,t,i=Array.prototype,n=i.shift.call(arguments);for(e=0;e<arguments.length;e+=1)if(arguments[e])for(t in arguments[e])arguments[e].hasOwnProperty(t)&&(n[t]=arguments[e][t]);return n},inherit:function(e,t){var i;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)};var a=function(){};return a.prototype=e.prototype,i.prototype=new a,t&&n.extend(i.prototype,t),i.prototype.constructor=i,i.parent=e.prototype,i.extend=function(e){return s.inherit(i,e)},i},extend:function(e){return s.inherit(function(){},e)}};i.exports=s}),define("runtime_dependencies/js-sdk/src/common/util/i18nMessage",["require","exports","module","underscore","./classUtil"],function(e,t,i){var n=e("underscore"),s=e("./classUtil"),a={INDEX:"index",KEY_VALUE:"keyValue"},r=s.extend({constructor:function(e){this.code=e,this.args=Array.prototype.slice.call(arguments,1)},bundle:{}});r.prototype.toString=function(){var e=this.bundle[this.code];if(!e)return this.code;var t=this._getArgsType(this.args);return t===a.INDEX?e=this._interpolateIndexArgs(this.args,e):t===a.KEY_VALUE&&(e=this._interpolateObjectArgs(this.args,e)),e},r.prototype._getArgsType=function(e){if(e&&e.length){var t=n.first(e);return n.isObject(t)?a.KEY_VALUE:a.INDEX}},r.prototype._interpolateObjectArgs=function(e,t){var i=e[0].separator||", ",s=e.reduce(function(e,t){var n=t.key,s=t.value;return e[n]?e[n]=e[n]+i:e[n]="",e[n]=e[n]+s,e},{});return t=n.keys(s).reduce(function(e,t){var i=s[t],n="\\{"+t+"\\}";return e.replace(new RegExp(n,"g"),i)},t)},r.prototype._interpolateIndexArgs=function(e,t){for(var i=0,n=e.length;i<n;i++){var s=e[i],a="\\{"+i+"\\}";t=t.replace(new RegExp(a,"g"),s)}return t},r.create=function(e){return function(t){var i=Object.create(r.prototype);return i=n.extend(i,{bundle:e,code:t,args:Array.prototype.slice.call(arguments,1)}),i.toString(i)}},i.exports=r}),define("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel",["require","exports","module","jquery","underscore","runtime_dependencies/js-sdk/src/common/model/BaseModel","runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension","request","bundle!RepositoryResourceBundle","runtime_dependencies/js-sdk/src/common/util/i18nMessage"],function(e,t,i){function n(e,t,i,n,s){return l({type:t,dataType:"json",url:e.contextPath+"/rest_v2/resources"+i+"?overwrite="+n+"&createFolders="+s,headers:{Accept:"application/json","Content-Location":e.get("uri")}}).done(function(t){e.set("uri",t.uri)})}var s=e("jquery"),a=e("underscore"),r=e("runtime_dependencies/js-sdk/src/common/model/BaseModel"),o=e("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"),l=e("request"),c=e("bundle!RepositoryResourceBundle"),d=e("runtime_dependencies/js-sdk/src/common/util/i18nMessage"),u=d.extend({bundle:c}),p={LABEL_MAX_LENGTH:100,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:250,NAME_NOT_SUPPORTED_SYMBOLS:"~!#\\$%^|\\s`@&*()\\-+={}\\[\\]:;\"'\\<\\>,?/\\|\\\\"},h=/application\/repository\.([^\+]+)\+json/,m=r.extend({idAttribute:"uri",type:void 0,urlRoot:function(){return(this.contextPath||"")+"/rest_v2/resources"},defaults:{name:void 0,parentFolderUri:void 0,uri:void 0,label:void 0,description:void 0,permissionMask:void 0,creationDate:void 0,updateDate:void 0,version:void 0},validation:{name:function(e,t,i){return e&&e.length>p.NAME_MAX_LENGTH?new u("error.field.max.length","name",p.NAME_MAX_LENGTH):e&&new RegExp("["+p.NAME_NOT_SUPPORTED_SYMBOLS+"]","g").test(e)?new u("error.field.bad.symbols","name",p.NAME_NOT_SUPPORTED_SYMBOLS):void 0},label:function(e,t,i){return a.isEmpty(e)?new u("error.field.required","label"):e.length>p.LABEL_MAX_LENGTH?new u("error.field.max.length","label",p.LABEL_MAX_LENGTH):void 0},description:function(e,t,i){if(e&&e.length>p.DESCRIPTION_MAX_LENGTH)return new u("error.field.max.length","description",p.DESCRIPTION_MAX_LENGTH)},parentFolderUri:[{required:!0,msg:new u("error.field.required","parentFolderUri")}]},url:function(){return this.isNew()?this.urlRoot()+encodeURI(this.get("parentFolderUri")):this.urlRoot()+encodeURI(this.id)},constructor:function(e,t){t||(t={}),a.defaults(t,{parse:!0}),r.call(this,e,t)},initialize:function(e,t){this.contextPath=t.contextPath,
t.type&&(this.type=t.type),this.on("change:parentFolderUri change:name",this._updateUri),this.on("change:uri",this._updateNameAndParentFolderUri),r.prototype.initialize.apply(this,arguments)},clone:function(){return new this.constructor(this.attributes,{contextPath:this.contextPath})},parse:function(e){return void 0!==e.uri?(e.name=m.getNameFromUri(e.uri),e.parentFolderUri=m.getParentFolderFromUri(e.uri)):e.parentFolderUri&&e.name&&(e.uri=m.constructUri(e.parentFolderUri,e.name)),e},toJSON:function(){var e=this.serialize();return delete e.name,delete e.parentFolderUri,e},_updateUri:function(){var e=this.get("name"),t=this.get("parentFolderUri"),i=m.constructUri(t,e);i&&this.set("uri",i)},_updateNameAndParentFolderUri:function(){var e=this.get("uri"),t=m.getNameFromUri(e),i=m.getParentFolderFromUri(e);this.set({name:t,parentFolderUri:i})},fetch:function(e){return a.defaults(e||(e={}),{headers:{Accept:"application/json"}}),e.url=this.url()+"?expanded="+(!0===e.expanded),delete e.expanded,r.prototype.fetch.call(this,e)},sync:function(e,t,i){if("read"===e){var n=i.success,s=this;i.success=function(e,t,i){var a=i.getResponseHeader("Content-Type"),r=h.exec(a);if(!r||!r[1])throw new Error("Unsupported response content type: "+a);s.type=r[1],n&&n(e,t,i)}}return r.prototype.sync.call(this,e,t,i)},save:function(e,t,i){var n;if(a.isUndefined(e)||a.isNull(e)||a.isObject(e)?(n=e||{},i=t):(n={})[e]=t,!this.type)throw new Error("Resource type is unspecified. It's not possible to save a resource without it's type specified");return a.defaults(i||(i={}),{headers:{Accept:"application/json","Content-Type":"application/repository."+this.type+"+json; charset=UTF-8"}}),i=this._getSaveUrlOptions(i),r.prototype.save.call(this,n,i)},_getSaveUrlOptions:function(e){var t=this.url()+"?createFolders="+(!0===e.createFolders);return t+="&overwrite="+(!0===e.overwrite),t+="&expanded="+(!0===e.expanded),t+="&dry-run="+(!0===e.dryRun),e=a.omit(e,["createFolders","overwrite","expanded","dryRun"]),e=a.extend({},e,{url:t})},isWritable:function(){var e=this.get("permissionMask"),t=!1;return a.isUndefined(e)||(t=1===e||4&e),t},checkLabelExistenceOnServer:function(){var e=this.get("label"),t=this.get("parentFolderUri");return this.operationInProgress=s.Deferred(),l({type:"GET",dataType:"json",url:this.contextPath+"/rest_v2/resources?folderUri="+encodeURIComponent(t)+"&q="+encodeURIComponent(e)+"&recursive=false",headers:{Accept:"application/json"}}).done(this._checkLabelExistenceOnServerDone.bind(this)).fail(this._checkLabelExistenceOnServerFail.bind(this)),this.operationInProgress},_checkLabelExistenceOnServerDone:function(e,t,i){var n=[];e&&e.resourceLookup&&e.resourceLookup.length>0&&(n=e.resourceLookup),this.operationInProgress.resolve({foundResources:n})},_checkLabelExistenceOnServerFail:function(e){404===e.status?this.operationInProgress.resolve({foundResources:[]}):this.operationInProgress.reject(e)},copyTo:function(e,t,i){return n(this,"POST",e,!!t,arguments.length<3||i)},moveTo:function(e,t,i){return n(this,"PUT",e,!!t,arguments.length<3||i)}},{settings:p,getNameFromUri:function(e){if(e){var t=e.split("/");return t[t.length-1]}},getParentFolderFromUri:function(e){if(e){var t=e.split("/");return 2===t.length&&""!==t[1]?"/":t.slice(0,t.length-1).join("/")}},constructUri:function(e,t){if(t&&e)return-1!==e.indexOf("/",e.length-1)?e+t:e+"/"+t},generateResourceName:function(e){var t="";return e&&(t=e.replace(new RegExp("["+m.settings.NAME_NOT_SUPPORTED_SYMBOLS+"]","g"),"_")),t}});a.extend(m.prototype,o.mixin),i.exports=m}),define("dataSource/model/BaseDataSourceModel",["require","exports","module","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","underscore","jquery","backbone","runtime_dependencies/js-sdk/src/jrs.configs","../../core/core.ajax","../../components/components.dialogs"],function(e,t,i){var n=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),s=e("underscore"),a=e("jquery"),r=e("backbone"),o=e("runtime_dependencies/js-sdk/src/jrs.configs"),l=e("../../core/core.ajax"),c=l.ajax,d=l.AjaxRequester,u=e("../../components/components.dialogs");i.exports=n.extend({defaults:function(){var e={};return s.extend(e,n.prototype.defaults,{connectionType:void 0}),e}(),validation:{},initialize:function(e,t){t=s.defaults(t||{},{contextPath:o.contextPath}),this.options=t,this.isNew()&&t.parentFolderUri&&this.set("parentFolderUri",t.parentFolderUri,{silent:!0});var i=t.parentFolderUri?t.parentFolderUri:e.parentFolderUri;e.name&&i&&!e.uri&&!0===t.isEditMode&&this.set("uri",n.constructUri(i,e.name),{silent:!0}),n.prototype.initialize.call(this,e,t)},testConnection:function(){if(this.validate(),this._isValid){var e=a.Deferred(),t=a("#"+c.LOADING_ID)[0],i=!1,n=window.setTimeout(function(){i=!0,u.popup.show(t,!0)},d.prototype.MAX_WAIT_TIME),s=this.toJSON();return r.ajax({type:"POST",url:o.contextPath+"/rest_v2/connections",contentType:s.connectionType,headers:{Accept:"application/json"},data:JSON.stringify(s)}).always(function(){window.clearTimeout(n),i&&u.popup.hide(t)}).done(e.resolve).fail(e.reject),e.promise()}}})}),define("runtime_dependencies/js-sdk/src/common/util/featureDetection",["require","exports","module"],function(e,t,i){i.exports={supportsTouch:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints}()}}),define("util/redirectToUrlUtil",["require","exports","module"],function(e,t,i){i.exports={redirect:function(e){window.location.href=e}}}),define("util/historyHelper",["require","exports","module","runtime_dependencies/js-sdk/src/jrs.configs","../util/redirectToUrlUtil","./utils.common"],function(e,t,i){var n=e("runtime_dependencies/js-sdk/src/jrs.configs"),s=e("../util/redirectToUrlUtil"),a=e("./utils.common"),r=a.JSCookie;i.exports={saveCurrent:function(e){new r(e,encodeURIComponent(document.location.href))},saveReferrer:function(e){-1===document.referrer.indexOf("login.html")&&new r(e,encodeURIComponent(document.referrer))},restore:function(e,t){var i=encodeURIComponent(document.location.href),a=new r(e).value;if(a&&a!==i){var o=decodeURIComponent(a);if(o)return void s.redirect(o)}t=t||"/",s.redirect(n.contextPath+t)}}}),define("text!dataSource/template/timezoneTemplate.htm",[],function(){return'<fieldset class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n    <label title="{{- i18n[\'resource.analysisConnection.timeZone\'] }}" class="control select">\n        <span class="wrap">{{- i18n["resource.dataSource.timezone"] }}</span>\n        <select class="fnormal timeZone" name="timezone">\n            <option {{ if (modelAttributes.timezone === "") { }}selected="selected"{{ } }} value="">{{- i18n["jsp.jdbcPropsForm.timezone.default.option"] }}</option>\n            {{ _.each(timezones, function(timezone) { }}\n            <option value="{{- timezone.code }}" {{ if (timezone.code === modelAttributes.timezone) { }}selected="selected"{{ } }}>\n                {{- i18n[\'timezone.option\'].replace(\'{0}\', timezone.code).replace(\'{1}\', timezone.description) }}\n            </option>\n            {{ }); }}\n        </select>\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n["resource.dataSource.hint3"] }}</span>\n    </label>\n</fieldset>'}),define("text!dataSource/template/testConnectionTemplate.htm",[],function(){return'<fieldset class="group">\n\n    <js-templateNonce></js-templateNonce>\n\n    <span id="testDataSource" class="button action up"><span class="wrap">{{- i18n[\'button.testConnection\']}}</span></span>\n    <div class="message warning" name="testConnectionMessage">\n        <span></span>\n        <a class="details" name="testConnectionMessageDetails" href="#">{{- i18n[\'button.details\']}}</a>\n    </div>\n\n</fieldset>\n\n<br/>'}),define("dataSource/view/BaseDataSourceView",["require","exports","module","jquery","underscore","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","../model/BaseDataSourceModel","bundle!jasperserver_messages","settings!userTimeZones","backbone","text!../template/timezoneTemplate.htm","../../components/components.dialogs","text!../template/testConnectionTemplate.htm","runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"],function(e,t,i){var n,s,a=e("jquery"),r=e("underscore"),o=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),l=e("../model/BaseDataSourceModel"),c=e("bundle!jasperserver_messages"),d=e("settings!userTimeZones"),u=e("backbone"),p=e("text!../template/timezoneTemplate.htm"),h=e("../../components/components.dialogs"),m=e("text!../template/testConnectionTemplate.htm"),f=e("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension");i.exports=u.View.extend({PAGE_TITLE_NEW_MESSAGE_CODE:void 0,PAGE_TITLE_EDIT_MESSAGE_CODE:void 0,modelConstructor:l,events:{"keyup input[type='text'], input[type='password'], textarea, select":"updateModelProperty","change input[type='text'], input[type='password'], input[type='radio'], input[type='checkbox'], textarea, select":"updateModelProperty","click #testDataSource":"testConnection","click [name=testConnectionMessageDetails]":"showTestConnectionMessageDetails"},initialize:function(e){this.options=e,this.isEditMode=e.isEditMode,this.timezones=e.timezones?e.timezones:d;var t={};if(e.dataSource&&(t=r.extend(t,e.dataSource)),this.model=new this.modelConstructor(t,e),f.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0,selector:"name"}),this.model.initialization){var i=this;this.model.initialization.done(function(){i.render.apply(i)})}else this.render();this.setPageTitle()},testConnection:function(){if(!0!==n){var e,t,i=this.model.testConnection(),a=this;i&&(n=!0,t=a.$el.find("#testDataSource"),t.addClass("disabled"),e=this.$el.find("[name=testConnectionMessage]"),e.removeClass("warning success").addClass("hidden"),e.parent().addClass("error"),e.find("a").addClass("hidden"),i.done(function(){e.addClass("success").find("span").text(c["resource.dataSource.connectionState.passed"])}).fail(function(t){var i=a.getTestConnectionErrorMessage(t);e.addClass("warning").find("span").text(i.text),i.details&&(e.find("a").removeClass("hidden"),s=i.details)}).always(function(){n=!1,e.removeClass("hidden"),t.removeClass("disabled")}))}},showTestConnectionMessageDetails:function(){h.errorPopup.show(s)},getTestConnectionErrorMessage:function(e){var t=!1,i=c["resource.dataSource.connectionState.failed"],n=!1;try{t=JSON.parse(e.responseText)}catch(t){n=e.responseText}return t&&(t.parameters&&t.parameters[2]&&(i=t.parameters[2]),t.parameters&&t.parameters[3]&&(n=t.parameters[3])),{text:i,details:n}},updateModelProperty:function(e){var t=a(e.target),i={},n=t.attr("name"),s="checkbox"===t.attr("type")?t.is(":checked"):a.trim(t.val());if(i[n]=s,this.model.set(i),!this.isEditMode)if("name"===n){var r=o.generateResourceName(this.model.get("label"));s!==r&&(this._idUpdatedManually=!0)}else if("label"===n&&!this._idUpdatedManually){var l=o.generateResourceName(s);this.model.set("name",l),this.$("input[name='name']").val(l)}this.model.validate(i)},render:function(){return this.$el.empty(),this},renderTimezoneSection:function(){this.$el.append(r.template(p,this.templateData()))},renderTestConnectionSection:function(){this.$el.append(r.template(m,this.templateData()))},renderOrAddAnyBlock:function(e,t){if(r.isString(t)){try{t=a(t)}catch(e){t=!1}if(!t)return!1}var i=t.first().attr("name");return!!i&&(e.find("[name="+i+"]").length>0?e.find("[name="+i+"]").empty().append(t.children()):e.append(t),!0)},templateData:function(){return{_:r,i18n:c,modelAttributes:r.clone(this.model.attributes),timezones:this.timezones,isEditMode:this.isEditMode}},setPageTitle:function(){var e,t=a("#display .showingToolBar > .content > .header > .title");e=this.isEditMode?c[this.PAGE_TITLE_EDIT_MESSAGE_CODE]+": "+this.model.get("label"):c[this.PAGE_TITLE_NEW_MESSAGE_CODE],t.text(e)},fieldIsValid:function(e,t,i){var n=e.$("["+i+'="'+t+'"]').parent();n.removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(e,t,i,n){if(!0!==i){var s=e.$("["+n+'="'+t+'"]').parent();s.addClass("error"),s.find(".message.warning").text(i)}},validField:function(e){var t=this.$(e).parent();t.removeClass("error"),t.find(".message.warning").text("")},invalidField:function(e,t){var i=this.$(e).parent();i.addClass("error"),i.find(".message.warning").text(t.toString())},remove:function(){return a("div[id^='selectFromRepository1'], div[id^='selectFromRepository2']").remove(),f.unbind(this),u.View.prototype.remove.call(this),this}})}),define("text!dataSource/template/customDataSourceTemplate.htm",[],function(){return'<fieldset name="customFieldsContainer" class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n\n\t<legend class="offLeft"><span>{{- i18n[\'resource.dataSource.accessProp\']}}</span></legend>\n\n\t{{\n\n\tvar buildAttrs = function(attrs) {\n\t\treturn _.map(attrs, function(v, k){\n\t\t\tv = v.toString().replace(/"/g, "\\&quot\\;");\n\t\t\treturn k + \'="\' + _.xssHardEscape(v) + \'"\';\n\t\t}).join(" ");\n\t};\n\n\t_.each(customFields, function(field){\n\n\t\tvar\n\t\t\tattrs = {},\n\t\t\tlabel = i18n[field.label] || field.label;\n\n\t\tif (field.mandatory) {\n\t\t\tlabel = label + " (" + i18n["required.field"] + ")";\n\t\t}\n\t}}\n\n\t\t<label title="{{- label }}" class="control input text">\n\t\t\t<span class="wrap">{{- label }}:</span>\n\t\t\t{{\n\n\t\t\t\tvar properties = field.properties || {};\n                var value = modelAttributes[field.name] ? modelAttributes[field.name] : "";\n                if("password" === field.name && value !== ""){\n                    value = i18n[\'input.password.substitution\']\n                }\n\n\t\t\t\tif (properties.type === "boolean") {\n\t\t\t\t\tattrs.name = field.name;\n\t\t\t\t\tattrs.type = "checkbox";\n\t\t\t\t\tif (value == \'on\' || value == \'true\') {\n\t\t\t\t\t\tattrs.checked = "true";\n\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\t<input {{ print(buildAttrs(attrs)) }} />\n\t\t\t\t\t{{\n\t\t\t\t} else if (properties.displayHeight != null) {\n\t\t\t\t\tattrs.name = field.name;\n\t\t\t\t\tattrs.rows = properties.displayHeight;\n\t\t\t\t\tattrs.cols = properties.displayWidth != null ? properties.displayWidth : 40;\n\t\t\t\t\tattrs["class"] = "fnormal";\n\t\t\t\t\t}}\n\t\t\t\t\t<textarea {{ print(buildAttrs(attrs)) }} >{{- value }}</textarea>\n\t\t\t\t\t{{\n\t\t\t\t} else {\n\t\t\t\t\tattrs.name = field.name;\n\t\t\t\t\tattrs.type = field.name === "password" ? "password" : "text";\n\t\t\t\t\tattrs.size = properties.displayWidth != null ? properties.displayWidth : 40;\n\t\t\t\t\tattrs["class"] = "fnormal";\n\t\t\t\t\tattrs.value = value;\n\t\t\t\t\t}}\n\t\t\t\t\t<input {{ print(buildAttrs(attrs)) }} />\n\t\t\t\t\t{{\n\t\t\t\t} }}\n\n\t\t\t<span class="message hint"></span>\n\t\t\t<span class="message warning"></span>\n\t\t</label>\n\n\t{{ }); }}\n\n</fieldset>\n'}),define("dataSource/enum/connectionTypes",["require","exports","module"],function(e,t,i){i.exports={AWS:"application/repository.awsDataSource+json",AZURE_SQL:"application/repository.azureSqlDataSource+json",BEAN:"application/repository.beanDataSource+json",JDBC:"application/repository.jdbcDataSource+json",JNDI:"application/repository.jndiJdbcDataSource+json",VIRTUAL:"application/repository.virtualDataSource+json",MONGODB:"application/connections.mongodb+json",HIVE:"application/connections.hive+json",TEXT_FILE:"application/connections.txtFile+json",XLS_FILE:"application/connections.xlsFile+json",CUSTOM:"application/repository.customDataSource+json"}}),define("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes",["require","exports","module"],function(e,t,i){i.exports={RESOURCE_LOOKUP:"resourceLookup",DASHBOARD:"dashboard",LEGACY_DASHBOARD:"legacyDashboard",REPORT_UNIT:"reportUnit",TOPIC:"topic",ADHOC_DATA_VIEW:"adhocDataView",FILE:"file",FOLDER:"folder",SECURE_FILE:"secureFile",PROP:"prop",ACCESS_GRANT_SCHEMA:"accessGrantSchema",DATA_TYPE:"dataType",JDBC_DATA_SOURCE:"jdbcDataSource",AWS_DATA_SOURCE:"awsDataSource",AZURE_SQL_DATA_SOURCE:"azureSqlDataSource",JNDI_DATA_SOURCE:"jndiJdbcDataSource",VIRTUAL_DATA_SOURCE:"virtualDataSource",CUSTOM_DATA_SOURCE:"customDataSource",BEAN_DATA_SOURCE:"beanDataSource",XMLA_CONNECTION:"xmlaConnection",LIST_OF_VALUES:"listOfValues",REPORT_OPTIONS:"reportOptions",QUERY:"query",OLAP_UNIT:"olapUnit",DOMAIN_TOPIC:"domainTopic",DOMAIN:"domain",SEMANTIC_LAYER_DATA_SOURCE:"semanticLayerDataSource",SECURE_MONDRIAN_CONNECTION:"secureMondrianConnection",MONDRIAN_XMLA_DEFINITION:"mondrianXmlaDefinition",MONDRIAN_CONNECTION:"mondrianConnection",INPUT_CONTROL:"inputControl",ORGANIZATION:"organization",OLAP_CUBE:"olapCube"}}),define("text!runtime_dependencies/js-sdk/src/common/templates/dialogErrorPopupTemplate.htm",[],function(){return"{{- message }}\n\n{{\nvar errorLbl = (typeof errorLabel !== 'undefined' ? errorLabel : 'The reason is');\n}}\n\n{{ if (typeof message2 !== 'undefined') { }}\n<br/>{{- errorLbl }}: {{- message2 }}\n{{ } else if (errorCode) { }}\n<br/>{{- errorLbl }}: {{- errorCode }}\n{{ } else if (errorMsg) { }}\n<br/>{{- errorLbl }}: {{- errorMsg }}\n{{ } }}\n\n{{ var respTextLbl = (typeof respTextLabel  !== 'undefined' ? respTextLabel : 'The full response from the server is') }}\n<br/><br/>{{- respTextLbl }}: {{- respText }}"}),define("dataSource/model/CustomDataSourceModel",["require","exports","module","underscore","jquery","./BaseDataSourceModel","runtime_dependencies/js-sdk/src/jrs.configs","requestSettings","../enum/connectionTypes","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","../../components/components.dialogs","bundle!all","bundle!jasperserver_config","text!runtime_dependencies/js-sdk/src/common/templates/dialogErrorPopupTemplate.htm"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("./BaseDataSourceModel"),r=e("runtime_dependencies/js-sdk/src/jrs.configs"),o=e("requestSettings"),l=e("../enum/connectionTypes"),c=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),d=e("../../components/components.dialogs"),u=e("bundle!all"),p=e("bundle!jasperserver_config"),h=e("text!runtime_dependencies/js-sdk/src/common/templates/dialogErrorPopupTemplate.htm"),m=a.extend({type:c.CUSTOM_DATA_SOURCE,constructor:function(e,t){this.defaults=n.extend({},this.defaults,{dataSourceName:t.dataSourceType,connectionType:l.CUSTOM}),a.prototype.constructor.apply(this,arguments)},initialize:function(e,t){var i=a.prototype.initialize.apply(this,arguments);return this.customFields=[],this.testable=!1,this.queryTypes=null,this.initialization=s.Deferred(),this.getCustomFieldsDefinition(),i},getCustomFieldsDefinition:function(){var e={};return n.extend(e,o,{Accept:"application/json"}),s.ajax({type:"GET",headers:e,url:r.contextPath+"/rest_v2/customDataSources/"+this.get("dataSourceName")}).done(n.bind(this.getCustomFieldsDefinitionDone,this)).fail(n.bind(this.getCustomFieldsDefinitionFail,this))},getCustomFieldsDefinitionDone:function(e){var t=this;e&&e.propertyDefinitions&&n.isArray(e.propertyDefinitions)&&(this.resetValidation(),this.testable=!!e.testable,this.queryTypes=e.queryTypes?e.queryTypes:null,n.each(e.propertyDefinitions,function(e){var i={};e.properties&&(e.properties=n(e.properties).reduce(function(e,t){return e[t.key]=t.value,e},{})),t.customFields.push(e),t.defaults[e.name]=e.defaultValue,t.options.isEditMode||t.set(e.name,e.defaultValue),"password"===e.name&&t.options.isEditMode&&!t.isNew()&&t.set("password",p["input.password.substitution"]),e.properties&&e.properties.mandatory&&(i[e.name]={required:!0,msg:u[t.get("dataSourceName")+"."+e.name+".required"]||u["required.field.specify.value"]},n.extend(t.validation,i))})),this.options.isEditMode||this.set(this.parse(this.attributes),{silent:!0}),this.initialization.resolve()},getCustomFieldsDefinitionFail:function(e){var t=!1;try{t=JSON.parse(e.responseText)}catch(e){}var i=n.template(h,{message:"Failed to load custom data source definition. ",errorCode:t&&t[0]?t[0].errorCode:null,errorMsg:t&&t.message,respText:e.responseText});d.errorPopup.show(i)},parse:function(e){var t=a.prototype.parse.apply(this,arguments);return t=n.extend(t,this.parseProperties(e.properties)),delete e.properties,t},parseProperties:function(e){var t={};return n.isEmpty(e)||n.each(e,function(e){t[e.key]="password"===e.key?p["input.password.substitution"]:e.value}),t},toJSON:function(){var e=a.prototype.toJSON.apply(this,arguments);return this.customFieldsToJSON(e,this.customFields)},customFieldsToJSON:function(e,t){return n.isEmpty(t)||(e.properties=[],n.each(t,function(t){var i=e[t.name],s="password"===t.name;n.isUndefined(i)||(!s||s&&i!==p["input.password.substitution"])&&(e.properties.push({key:t.name,value:i}),delete e[t.name])})),e},resetValidation:function(){this.validation=n.clone(m.prototype.validation)}});i.exports=m}),define("dataSource/view/CustomDataSourceView",["require","exports","module","underscore","jquery","bundle!all","../view/BaseDataSourceView","text!../template/customDataSourceTemplate.htm","../model/CustomDataSourceModel"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("bundle!all"),r=e("../view/BaseDataSourceView"),o=e("text!../template/customDataSourceTemplate.htm"),l=e("../model/CustomDataSourceModel");i.exports=r.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.custom.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.custom.page.title.edit",modelConstructor:l,customFieldsTemplate:o,render:function(){return this.$el.empty(),this.renderCustomFieldsSection(),this.model.testable&&this.renderTestConnectionSection(),this},templateData:function(){return n.extend({},r.prototype.templateData.apply(this,arguments),{i18n:a,customFields:this.model.customFields})},renderCustomFieldsSection:function(){var e=n.template(this.customFieldsTemplate,this.templateData()),t=this.$el.find("[name=customFieldsContainer]");t.length>0?t.empty().append(s(e).children()):this.$el.append(e)}},{})}),define("dataSource/enum/dataSourceResourceTypes",["require","exports","module"],function(e,t,i){i.exports={JDBC:"jdbcDataSource",AWS:"awsDataSource",AZURE_SQL:"azureSqlDataSource",JNDI:"jndiJdbcDataSource",VIRTUAL:"virtualDataSource",CUSTOM:"customDataSource",BEAN:"beanDataSource",MONGODB:"MongoDbDataSource",MONGODBJDBC:"mongoDbJDBCDataSource"}}),define("dataSource/enum/customDataSourceTypes",["require","exports","module"],function(e,t,i){i.exports={DIAGNOSTIC:"diagnosticCustomDataSource",HIVE:"HiveDataSource",MONGODB:"MongoDbDataSource",TEXT_FILE:"textDataSource"}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("xregexp",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.XRegExp=e()}}(function(){return function(){function e(t,i,n){function s(r,o){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){return s(t[r][1][e]||e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}return e}()({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(e){function t(e){var t=/^(?:\(\?:\))*\^/,i=/\$(?:\(\?:\))*$/;return t.test(e)&&i.test(e)&&i.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(i,""):e}function i(t,i){var n=i?"x":"";return e.isRegExp(t)?t[r]&&t[r].captureNames?t:e(t.source,n):e(t,n)}function n(t){return t instanceof RegExp?t:e.escape(t)}function s(e,t,i){return e["subpattern".concat(i)]=t,e}function a(e,t,i){return e+(t<i.length-1?"{{subpattern".concat(t,"}}"):"")}var r="xregexp",o=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,l=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,o],"g",{conjunction:"or"});e.tag=function(t){return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];var c=o.map(n).reduce(s,{}),d=i.raw.map(a).join("");return e.build(d,c,t)}},e.build=function(n,s,a){a=a||"";var c=-1!==a.indexOf("x"),d=/^\(\?([\w$]+)\)/.exec(n);d&&(a=e._clipDuplicates(a+d[1]));var u={};for(var p in s)if(s.hasOwnProperty(p)){var h=i(s[p],c);u[p]={pattern:t(h.source),names:h[r].captureNames||[]}}var m,f=i(n,c),g=0,v=0,b=[0],_=f[r].captureNames||[],S=f.source.replace(l,function(e,t,i,n,s){var a,r,l,c=t||i;if(c){if(!u.hasOwnProperty(c))throw new ReferenceError("Undefined property ".concat(e));t?(a=_[v],b[++v]=++g,r="(?<".concat(a||c,">")):r="(?:",m=g;var d=u[c].pattern.replace(o,function(e,t,i){if(t){if(a=u[c].names[g-m],++g,a)return"(?<".concat(a,">")}else if(i)return l=+i-1,u[c].names[l]?"\\k<".concat(u[c].names[l],">"):"\\".concat(+i+m);return e});return"".concat(r).concat(d,")")}if(n){if(a=_[v],b[++v]=++g,a)return"(?<".concat(a,">")}else if(s)return l=+s-1,_[l]?"\\k<".concat(_[l],">"):"\\".concat(b[+s]);return e});return e(S,a)}};i.default=n,t.exports=i.default},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(e){function t(e,t,i,n){return{name:e,value:t,start:i,end:n}}e.matchRecursive=function(i,n,s,a,r){a=a||"",r=r||{};var o,l,c,d,u,p=-1!==a.indexOf("g"),h=-1!==a.indexOf("y"),m=a.replace(/y/g,""),f=r,g=f.escapeChar,v=r.valueNames,b=[],_=0,S=0,y=0,D=0;if(n=e(n,m),s=e(s,m),g){if(g.length>1)throw new Error("Cannot use more than one escape character");g=e.escape(g),u=new RegExp("(?:".concat(g,"[\\S\\s]|(?:(?!").concat(e.union([n,s],"",{conjunction:"or"}).source,")[^").concat(g,"])+)+"),a.replace(/[^imu]+/g,""))}for(;;){if(g&&(y+=(e.exec(i,u,y,"sticky")||[""])[0].length),c=e.exec(i,n,y),d=e.exec(i,s,y),c&&d&&(c.index<=d.index?d=null:c=null),c||d)S=(c||d).index,y=S+(c||d)[0].length;else if(!_)break;if(h&&!_&&S>D)break;if(c)_||(o=S,l=y),++_;else{if(!d||!_)throw new Error("Unbalanced delimiter found in string");if(!--_&&(v?(v[0]&&o>D&&b.push(t(v[0],i.slice(D,o),D,o)),v[1]&&b.push(t(v[1],i.slice(o,l),o,l)),v[2]&&b.push(t(v[2],i.slice(l,S),l,S)),v[3]&&b.push(t(v[3],i.slice(S,y),S,y))):b.push(i.slice(l,S)),D=y,!p))break}S===y&&++y}return p&&!h&&v&&v[0]&&i.length>D&&b.push(t(v[0],i.slice(D),D,i.length)),b}};i.default=n,t.exports=i.default},{}],3:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/core-js/get-iterator")),a=function(e){function t(e){return e.replace(/[- _]+/g,"").toLowerCase()}function i(e){var t=/^\\[xu](.+)/.exec(e);return t?c(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function n(t){var n="",s=-1;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(e){var t=i(e[1]);t>s+1&&(n+="\\u".concat(u(d(s+1))),t>s+2&&(n+="-\\u".concat(u(d(t-1))))),s=i(e[2]||e[1])}),s<65535&&(n+="\\u".concat(u(d(s+1))),s<65534&&(n+="-\\uFFFF")),n}function a(e){return l[e]["b!"]||(l[e]["b!"]=n(l[e].bmp))}function r(e,t){var i=l[e],n="";return i.bmp&&!i.isBmpLast&&(n="[".concat(i.bmp,"]").concat(i.astral?"|":"")),i.astral&&(n+=i.astral),i.isBmpLast&&i.bmp&&(n+="".concat(i.astral?"|":"","[").concat(i.bmp,"]")),t?"(?:(?!".concat(n,")(?:[�-�][�-�]|[\0-￿]))"):"(?:".concat(n,")")}function o(e,t){var i=t?"a!":"a=";return l[e][i]||(l[e][i]=r(e,t))}var l={},c=e._dec,d=e._hex,u=e._pad4;e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(e,i,n){var s="P"===e[1]||!!e[2],r=-1!==n.indexOf("A"),c=t(e[4]||e[3]),d=l[c];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!l.hasOwnProperty(c))throw new SyntaxError("Unknown Unicode token "+e[0]);if(d.inverseOf){if(c=t(d.inverseOf),!l.hasOwnProperty(c))throw new ReferenceError("".concat("Unicode token missing data "+e[0]," -> ").concat(d.inverseOf));d=l[c],s=!s}if(!d.bmp&&!r)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(r){if("class"===i)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return o(c,s)}return"class"===i?s?a(c):d.bmp:"".concat((s?"[^":"[")+d.bmp,"]")},{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(i){var n=!0,a=!1,r=void 0;try{for(var o,c=(0,s.default)(i);!(n=(o=c.next()).done);n=!0){var d=o.value;if(!d.name)throw new Error("Unicode token requires name");if(!(d.inverseOf||d.bmp||d.astral))throw new Error("Unicode token has no character data "+d.name);l[t(d.name)]=d,d.alias&&(l[t(d.alias)]=d)}}catch(e){a=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var i=t(e);return l[i]}};i.default=a,t.exports=i.default},{"@babel/runtime-corejs2/core-js/get-iterator":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],4:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("../../tools/output/blocks")),a=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData(s.default)};i.default=a,t.exports=i.default},{"../../tools/output/blocks":81,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],5:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("../../tools/output/categories")),a=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(s.default)};i.default=a,t.exports=i.default},{"../../tools/output/categories":82,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],6:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("../../tools/output/properties")),a=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=s.default;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)};i.default=a,t.exports=i.default},{"../../tools/output/properties":83,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],7:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("../../tools/output/scripts")),a=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(s.default)};i.default=a,t.exports=i.default},{"../../tools/output/scripts":84,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],8:[function(e,t,i){"use strict";var n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("./xregexp")),a=n(e("./addons/build")),r=n(e("./addons/matchrecursive")),o=n(e("./addons/unicode-base")),l=n(e("./addons/unicode-blocks")),c=n(e("./addons/unicode-categories")),d=n(e("./addons/unicode-properties")),u=n(e("./addons/unicode-scripts"));(0,a.default)(s.default),(0,r.default)(s.default),(0,o.default)(s.default),(0,l.default)(s.default),(0,c.default)(s.default),(0,d.default)(s.default),(0,u.default)(s.default);var p=s.default;i.default=p,t.exports=i.default},{"./addons/build":1,"./addons/matchrecursive":2,"./addons/unicode-base":3,"./addons/unicode-blocks":4,"./addons/unicode-categories":5,"./addons/unicode-properties":6,"./addons/unicode-scripts":7,"./xregexp":9,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],9:[function(e,t,i){"use strict";function n(e){var t=!0;try{new RegExp("",e)
}catch(e){t=!1}return t}function s(e,t,i,n,s){if(e[E]={captureNames:t},s)return e;if(e.__proto__)e.__proto__=D.prototype;else for(var a in D.prototype)e[a]=D.prototype[a];return e[E].source=i,e[E].flags=n?n.split("").sort().join(""):n,e}function a(e){return j.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function r(e,t){if(!D.isRegExp(e))throw new TypeError("Type RegExp expected");var i=e[E]||{},n=c(e),r="",o="",l=null,u=null;return t=t||{},t.removeG&&(o+="g"),t.removeY&&(o+="y"),o&&(n=j.replace.call(n,new RegExp("[".concat(o,"]+"),"g"),"")),t.addG&&(r+="g"),t.addY&&(r+="y"),r&&(n=a(n+r)),t.isInternalOnly||(void 0!==i.source&&(l=i.source),null!=i.flags&&(u=r?a(i.flags+r):i.flags)),e=s(new RegExp(t.source||e.source,n),d(e)?i.captureNames.slice(0):null,l,u,t.isInternalOnly)}function o(e){return(0,I.default)(e,16)}function l(e,t,i){return"("===e.input[e.index-1]||")"===e.input[e.index+e[0].length]||"|"===e.input[e.index-1]||"|"===e.input[e.index+e[0].length]||e.index<1||e.index+e[0].length>=e.input.length||j.test.call(/^\(\?[:=!]/,e.input.substr(e.index-3,3))||p(e.input,e.index+e[0].length,i)?"":"(?:)"}function c(e){return z?e.flags:j.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function d(e){return!(!e[E]||!e[E].captureNames)}function u(e){return(0,I.default)(e,10).toString(16)}function p(e,t,i){return j.test.call(-1!==i.indexOf("x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function h(e,t){return V.call(e)==="[object ".concat(t,"]")}function m(e){for(;e.length<4;)e="0".concat(e);return e}function f(e,t){if(a(t)!==t)throw new SyntaxError("Invalid duplicate regex flag ".concat(t));e=j.replace.call(e,/^\(\?([\w$]+)\)/,function(e,i){if(j.test.call(/[gy]/,i))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat(e));return t=a(t+i),""});var i=!0,n=!1,s=void 0;try{for(var r,o=(0,C.default)(t);!(i=(r=o.next()).done);i=!0){var l=r.value;if(!H[l])throw new SyntaxError("Unknown regex flag ".concat(l))}}catch(e){n=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}return{pattern:e,flags:t}}function g(e){var t={};return h(e,"String")?(D.forEach(e,/[^\s,]+/,function(e){t[e]=!0}),t):e}function v(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");H[e]=!0}function b(e,t,i,n,s){for(var a,r,o=N.length,l=e[i],c=null;o--;)if(r=N[o],!(r.leadChar&&r.leadChar!==l||r.scope!==n&&"all"!==r.scope||r.flag&&-1===t.indexOf(r.flag))&&(a=D.exec(e,r.regex,i,"sticky"))){c={matchLength:a[0].length,output:r.handler.call(s,a,n,t),reparse:r.reparse};break}return c}function _(e){A.astral=e}function S(e){A.namespacing=e}function y(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function D(e,t){if(D.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return r(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),D.isInstalled("astral")&&-1===t.indexOf("A")&&(t+="A"),F[e]||(F[e]={}),!F[e][t]){for(var i,n={hasNamedCapture:!1,captureNames:[]},a=M,o="",l=0,c=f(e,t),d=c.pattern,u=c.flags;l<d.length;){do{(i=b(d,u,l,a,n))&&i.reparse&&(d=d.slice(0,l)+i.output+d.slice(l+i.matchLength))}while(i&&i.reparse);if(i)o+=i.output,l+=i.matchLength||1;else{var p=D.exec(d,O[a],l,"sticky"),h=(0,T.default)(p,1),m=h[0];o+=m,l+=m.length,"["===m&&a===M?a=P:"]"===m&&a===P&&(a=M)}}F[e][t]={pattern:j.replace.call(o,/(?:\(\?:\))+/g,"(?:)"),flags:j.replace.call(u,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var g=F[e][t];return s(new RegExp(g.pattern,g.flags),g.captures,e,t)}var x=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var w=x(e("@babel/runtime-corejs2/core-js/object/create")),T=x(e("@babel/runtime-corejs2/helpers/slicedToArray")),C=x(e("@babel/runtime-corejs2/core-js/get-iterator")),I=x(e("@babel/runtime-corejs2/core-js/parse-int")),E="xregexp",A={astral:!1,namespacing:!1},j={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},L={},k={},F={},N=[],M="default",P="class",O={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},R=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,U=void 0===j.exec.call(/()??/,"")[1],z=void 0!==/x/.flags,B={},V=B.toString,q=n("u"),$=n("y"),H={g:!0,i:!0,m:!0,u:q,y:$};D.prototype=/(?:)/,D.version="4.2.4",D._clipDuplicates=a,D._hasNativeFlag=n,D._dec=o,D._hex=u,D._pad4=m,D.addToken=function(e,t,i){i=i||{};var n=i,s=n.optionalFlags;if(i.flag&&v(i.flag),s){s=j.split.call(s,"");var a=!0,o=!1,l=void 0;try{for(var c,d=(0,C.default)(s);!(a=(c=d.next()).done);a=!0){v(c.value)}}catch(e){o=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw l}}}N.push({regex:r(e,{addG:!0,addY:$,isInternalOnly:!0}),handler:t,scope:i.scope||M,flag:i.flag,reparse:i.reparse,leadChar:i.leadChar}),D.cache.flush("patterns")},D.cache=function(e,t){return k[e]||(k[e]={}),k[e][t]||(k[e][t]=D(e,t))},D.cache.flush=function(e){"patterns"===e?F={}:k={}},D.escape=function(e){return j.replace.call(y(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},D.exec=function(e,t,i,n){var s,a="g",o=!1,l=!1;o=$&&!!(n||t.sticky&&!1!==n),o?a+="y":n&&(l=!0,a+="FakeY"),t[E]=t[E]||{};var c=t[E][a]||(t[E][a]=r(t,{addG:!0,addY:o,source:l?"".concat(t.source,"|()"):void 0,removeY:!1===n,isInternalOnly:!0}));return i=i||0,c.lastIndex=i,s=L.exec.call(c,e),l&&s&&""===s.pop()&&(s=null),t.global&&(t.lastIndex=s?c.lastIndex:0),s},D.forEach=function(e,t,i){for(var n,s=0,a=-1;n=D.exec(e,t,s);)i(n,++a,e,t),s=n.index+(n[0].length||1)},D.globalize=function(e){return r(e,{addG:!0})},D.install=function(e){e=g(e),!A.astral&&e.astral&&_(!0),!A.namespacing&&e.namespacing&&S(!0)},D.isInstalled=function(e){return!!A[e]},D.isRegExp=function(e){return"[object RegExp]"===V.call(e)},D.match=function(e,t,i){var n=t.global&&"one"!==i||"all"===i,s=(n?"g":"")+(t.sticky?"y":"")||"noGY";t[E]=t[E]||{};var a=t[E][s]||(t[E][s]=r(t,{addG:!!n,removeG:"one"===i,isInternalOnly:!0})),o=j.match.call(y(e),a);return t.global&&(t.lastIndex="one"===i&&o?o.index+o[0].length:0),n?o||[]:o&&o[0]},D.matchChain=function(e,t){return function e(i,n){function s(e){if(a.backref){var t="Backreference to undefined group: ".concat(a.backref),i=isNaN(a.backref);if(i&&D.isInstalled("namespacing")){if(!(a.backref in e.groups))throw new ReferenceError(t)}else if(!e.hasOwnProperty(a.backref))throw new ReferenceError(t);var n=i&&D.isInstalled("namespacing")?e.groups[a.backref]:e[a.backref];r.push(n||"")}else r.push(e[0])}var a=t[n].regex?t[n]:{regex:t[n]},r=[],o=!0,l=!1,c=void 0;try{for(var d,u=(0,C.default)(i);!(o=(d=u.next()).done);o=!0){var p=d.value;D.forEach(p,a.regex,s)}}catch(e){l=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw c}}return n!==t.length-1&&r.length?e(r,n+1):r}([e],0)},D.replace=function(e,t,i,n){var s=D.isRegExp(t),a=t.global&&"one"!==n||"all"===n,o=(a?"g":"")+(t.sticky?"y":"")||"noGY",l=t;s?(t[E]=t[E]||{},l=t[E][o]||(t[E][o]=r(t,{addG:!!a,removeG:"one"===n,isInternalOnly:!0}))):a&&(l=new RegExp(D.escape(String(t)),"g"));var c=L.replace.call(y(e),l,i);return s&&t.global&&(t.lastIndex=0),c},D.replaceEach=function(e,t){var i=!0,n=!1,s=void 0;try{for(var a,r=(0,C.default)(t);!(i=(a=r.next()).done);i=!0){var o=a.value;e=D.replace(e,o[0],o[1],o[2])}}catch(e){n=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw s}}return e},D.split=function(e,t,i){return L.split.call(y(e),t,i)},D.test=function(e,t,i,n){return!!D.exec(e,t,i,n)},D.uninstall=function(e){e=g(e),A.astral&&e.astral&&_(!1),A.namespacing&&e.namespacing&&S(!1)},D.union=function(e,t,i){function n(e,t,i){var n=a[o-s];if(t){if(++o,n)return"(?<".concat(n,">")}else if(i)return"\\".concat(+i+s);return e}i=i||{};var s,a,r=i.conjunction||"or",o=0;if(!h(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var l=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],d=!0,u=!1,p=void 0;try{for(var m,f=(0,C.default)(e);!(d=(m=f.next()).done);d=!0){var g=m.value;D.isRegExp(g)?(s=o,a=g[E]&&g[E].captureNames||[],c.push(j.replace.call(D(g.source).source,l,n))):c.push(D.escape(g))}}catch(e){u=!0,p=e}finally{try{d||null==f.return||f.return()}finally{if(u)throw p}}var v="none"===r?"":"|";return D(c.join(v),t)},L.exec=function(e){var t=this.lastIndex,i=j.exec.apply(this,arguments);if(i){if(!U&&i.length>1&&-1!==i.indexOf("")){var n=r(this,{removeG:!0,isInternalOnly:!0});j.replace.call(String(e).slice(i.index),n,function(){for(var e=arguments.length,t=1;t<e-2;++t)void 0===(t<0||arguments.length<=t?void 0:arguments[t])&&(i[t]=void 0)})}var s=i;if(D.isInstalled("namespacing")&&(i.groups=(0,w.default)(null),s=i.groups),this[E]&&this[E].captureNames)for(var a=1;a<i.length;++a){var o=this[E].captureNames[a-1];o&&(s[o]=i[a])}this.global&&!i[0].length&&this.lastIndex>i.index&&(this.lastIndex=i.index)}return this.global||(this.lastIndex=t),i},L.test=function(e){return!!L.exec.call(this,e)},L.match=function(e){if(D.isRegExp(e)){if(e.global){var t=j.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return L.exec.call(e,y(this))},L.replace=function(e,t){var i,n,s,a=D.isRegExp(e);return a?(e[E]&&(n=e[E].captureNames),i=e.lastIndex):e+="",s=h(t,"Function")?j.replace.call(String(this),e,function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];if(n){var o;D.isInstalled("namespacing")?(o=(0,w.default)(null),s.push(o)):(s[0]=new String(s[0]),o=s[0]);for(var l=0;l<n.length;++l)n[l]&&(o[n[l]]=s[l+1])}return a&&e.global&&(e.lastIndex=s[s.length-2]+s[0].length),t.apply(void 0,s)}):j.replace.call(null==this?this:String(this),e,function(){function e(e,t,i,a){if(t=t||i){var r=+t;if(r<=s.length-3)return s[r]||"";if((r=n?n.indexOf(t):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat(e));return s[r+1]||""}if("$"===a)return"$";if("&"===a||0==+a)return s[0];if("`"===a)return s[s.length-1].slice(0,s[s.length-2]);if("'"===a)return s[s.length-1].slice(s[s.length-2]+s[0].length);if(a=+a,!isNaN(a)){if(a>s.length-3)throw new SyntaxError("Backreference to undefined group ".concat(e));return s[a]||""}throw new SyntaxError("Invalid token ".concat(e))}for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return j.replace.call(String(t),R,e)}),a&&(e.global?e.lastIndex=0:e.lastIndex=i),s},L.split=function(e,t){if(!D.isRegExp(e))return j.split.apply(this,arguments);var i,n=String(this),s=[],a=e.lastIndex,r=0;return t=(void 0===t?-1:t)>>>0,D.forEach(n,e,function(e){e.index+e[0].length>r&&(s.push(n.slice(r,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(s,e.slice(1)),i=e[0].length,r=e.index+i)}),r===n.length?j.test.call(e,"")&&!i||s.push(""):s.push(n.slice(r)),e.lastIndex=a,s.length>t?s.slice(0,t):s},D.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===M)return e[0];throw new SyntaxError("Invalid escape ".concat(e[0]))},{scope:"all",leadChar:"\\"}),D.addToken(/\\u{([\dA-Fa-f]+)}/,function(e,t,i){var n=o(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(e[0]));if(n<=65535)return"\\u".concat(m(u(n)));if(q&&-1!==i.indexOf("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),D.addToken(/\[(\^?)\]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),D.addToken(/\(\?#[^)]*\)/,l,{leadChar:"("}),D.addToken(/\s+|#[^\n]*\n?/,l,{flag:"x"}),D.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),D.addToken(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],i=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(e[0]));return"\\".concat(t).concat(i===e.input.length||isNaN(e.input[i])?"":"(?:)")},{leadChar:"\\"}),D.addToken(/\\(\d+)/,function(e,t){if(!(t===M&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(e[0]));return e[0]},{scope:"all",leadChar:"\\"}),D.addToken(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name ".concat(e[0]));if(!D.isInstalled("namespacing")&&("length"===e[1]||"__proto__"===e[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(e[0]));if(-1!==this.captureNames.indexOf(e[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(e[0]));return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),D.addToken(/\((?!\?)/,function(e,t,i){return-1!==i.indexOf("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var G=D;i.default=G,t.exports=i.default},{"@babel/runtime-corejs2/core-js/get-iterator":11,"@babel/runtime-corejs2/core-js/object/create":12,"@babel/runtime-corejs2/core-js/parse-int":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":15,"@babel/runtime-corejs2/helpers/slicedToArray":18}],10:[function(e,t,i){t.exports=e("core-js/library/fn/array/is-array")},{"core-js/library/fn/array/is-array":19}],11:[function(e,t,i){t.exports=e("core-js/library/fn/get-iterator")},{"core-js/library/fn/get-iterator":20}],12:[function(e,t,i){t.exports=e("core-js/library/fn/object/create")},{"core-js/library/fn/object/create":21}],13:[function(e,t,i){t.exports=e("core-js/library/fn/parse-int")},{"core-js/library/fn/parse-int":22}],14:[function(e,t,i){function n(e){if(s(e))return e}var s=e("../core-js/array/is-array");t.exports=n},{"../core-js/array/is-array":10}],15:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.exports=n},{}],16:[function(e,t,i){function n(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,l=s(e);!(n=(o=l.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return i}var s=e("../core-js/get-iterator");t.exports=n},{"../core-js/get-iterator":11}],17:[function(e,t,i){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=n},{}],18:[function(e,t,i){function n(e,t){return s(e)||a(e,t)||r()}var s=e("./arrayWithHoles"),a=e("./iterableToArrayLimit"),r=e("./nonIterableRest");t.exports=n},{"./arrayWithHoles":14,"./iterableToArrayLimit":16,"./nonIterableRest":17}],19:[function(e,t,i){e("../../modules/es6.array.is-array"),t.exports=e("../../modules/_core").Array.isArray},{"../../modules/_core":29,"../../modules/es6.array.is-array":75}],20:[function(e,t,i){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":74,"../modules/es6.string.iterator":79,"../modules/web.dom.iterable":80}],21:[function(e,t,i){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":29,"../../modules/es6.object.create":77}],22:[function(e,t,i){e("../modules/es6.parse-int"),t.exports=e("../modules/_core").parseInt},{"../modules/_core":29,"../modules/es6.parse-int":78}],23:[function(e,t,i){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],24:[function(e,t,i){t.exports=function(){}},{}],25:[function(e,t,i){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":44}],26:[function(e,t,i){var n=e("./_to-iobject"),s=e("./_to-length"),a=e("./_to-absolute-index");t.exports=function(e){return function(t,i,r){var o,l=n(t),c=s(l.length),d=a(r,c);if(e&&i!=i){for(;c>d;)if((o=l[d++])!=o)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}}},{"./_to-absolute-index":65,"./_to-iobject":67,"./_to-length":68}],27:[function(e,t,i){var n=e("./_cof"),s=e("./_wks")("toStringTag"),a="Arguments"==n(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,i,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=r(t=Object(e),s))?i:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{"./_cof":28,"./_wks":72}],28:[function(e,t,i){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],29:[function(e,t,i){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},{}],30:[function(e,t,i){var n=e("./_a-function");t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":23}],31:[function(e,t,i){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],32:[function(e,t,i){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":36}],33:[function(e,t,i){var n=e("./_is-object"),s=e("./_global").document,a=n(s)&&n(s.createElement);t.exports=function(e){return a?s.createElement(e):{}}},{"./_global":37,"./_is-object":44}],34:[function(e,t,i){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],35:[function(e,t,i){var n=e("./_global"),s=e("./_core"),a=e("./_ctx"),r=e("./_hide"),o=e("./_has"),l=function(e,t,i){var c,d,u,p=e&l.F,h=e&l.G,m=e&l.S,f=e&l.P,g=e&l.B,v=e&l.W,b=h?s:s[t]||(s[t]={}),_=b.prototype,S=h?n:m?n[t]:(n[t]||{}).prototype;h&&(i=t);for(c in i)(d=!p&&S&&void 0!==S[c])&&o(b,c)||(u=d?S[c]:i[c],b[c]=h&&"function"!=typeof S[c]?i[c]:g&&d?a(u,n):v&&S[c]==u?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):f&&"function"==typeof u?a(Function.call,u):u,f&&((b.virtual||(b.virtual={}))[c]=u,e&l.R&&_&&!_[c]&&r(_,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":29,"./_ctx":30,"./_global":37,"./_has":38,"./_hide":39}],36:[function(e,t,i){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],37:[function(e,t,i){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],38:[function(e,t,i){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],39:[function(e,t,i){var n=e("./_object-dp"),s=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},{"./_descriptors":32,"./_object-dp":51,"./_property-desc":57}],40:[function(e,t,i){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":37}],41:[function(e,t,i){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":32,"./_dom-create":33,"./_fails":36}],42:[function(e,t,i){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":28}],43:[function(e,t,i){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":28}],44:[function(e,t,i){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],45:[function(e,t,i){"use strict";var n=e("./_object-create"),s=e("./_property-desc"),a=e("./_set-to-string-tag"),r={};e("./_hide")(r,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,i){e.prototype=n(r,{next:s(1,i)}),a(e,t+" Iterator")}},{"./_hide":39,"./_object-create":50,"./_property-desc":57,"./_set-to-string-tag":59,"./_wks":72}],46:[function(e,t,i){"use strict";var n=e("./_library"),s=e("./_export"),a=e("./_redefine"),r=e("./_hide"),o=e("./_iterators"),l=e("./_iter-create"),c=e("./_set-to-string-tag"),d=e("./_object-gpo"),u=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(e,t,i,m,f,g,v){l(i,t,m);var b,_,S,y=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},D=t+" Iterator",x="values"==f,w=!1,T=e.prototype,C=T[u]||T["@@iterator"]||f&&T[f],I=C||y(f),E=f?x?y("entries"):I:void 0,A="Array"==t?T.entries||C:C;if(A&&(S=d(A.call(new e)))!==Object.prototype&&S.next&&(c(S,D,!0),n||"function"==typeof S[u]||r(S,u,h)),x&&C&&"values"!==C.name&&(w=!0,I=function(){return C.call(this)}),n&&!v||!p&&!w&&T[u]||r(T,u,I),o[t]=I,o[D]=h,f)if(b={values:x?I:y("values"),keys:g?I:y("keys"),entries:E},v)for(_ in b)_ in T||a(T,_,b[_]);else s(s.P+s.F*(p||w),t,b);return b}},{"./_export":35,"./_hide":39,"./_iter-create":45,"./_iterators":48,"./_library":49,"./_object-gpo":53,"./_redefine":58,"./_set-to-string-tag":59,"./_wks":72}],47:[function(e,t,i){t.exports=function(e,t){return{value:t,done:!!e}}},{}],48:[function(e,t,i){t.exports={}},{}],49:[function(e,t,i){t.exports=!0},{}],50:[function(e,t,i){var n=e("./_an-object"),s=e("./_object-dps"),a=e("./_enum-bug-keys"),r=e("./_shared-key")("IE_PROTO"),o=function(){},l=function(){var t,i=e("./_dom-create")("iframe"),n=a.length;for(i.style.display="none",e("./_html").appendChild(i),i.src="javascript:",t=i.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[a[n]];return l()};t.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[r]=e):i=l(),void 0===t?i:s(i,t)}},{"./_an-object":25,"./_dom-create":33,"./_enum-bug-keys":34,"./_html":40,"./_object-dps":52,"./_shared-key":60}],51:[function(e,t,i){var n=e("./_an-object"),s=e("./_ie8-dom-define"),a=e("./_to-primitive"),r=Object.defineProperty;i.f=e("./_descriptors")?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),s)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},{"./_an-object":25,"./_descriptors":32,"./_ie8-dom-define":41,"./_to-primitive":70}],52:[function(e,t,i){var n=e("./_object-dp"),s=e("./_an-object"),a=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var i,r=a(t),o=r.length,l=0;o>l;)n.f(e,i=r[l++],t[i]);return e}},{"./_an-object":25,"./_descriptors":32,"./_object-dp":51,"./_object-keys":55}],53:[function(e,t,i){var n=e("./_has"),s=e("./_to-object"),a=e("./_shared-key")("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=s(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},{"./_has":38,"./_shared-key":60,"./_to-object":69}],54:[function(e,t,i){var n=e("./_has"),s=e("./_to-iobject"),a=e("./_array-includes")(!1),r=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var i,o=s(e),l=0,c=[];for(i in o)i!=r&&n(o,i)&&c.push(i);for(;t.length>l;)n(o,i=t[l++])&&(~a(c,i)||c.push(i));return c}},{"./_array-includes":26,"./_has":38,"./_shared-key":60,"./_to-iobject":67}],55:[function(e,t,i){var n=e("./_object-keys-internal"),s=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,s)}},{"./_enum-bug-keys":34,"./_object-keys-internal":54}],56:[function(e,t,i){var n=e("./_global").parseInt,s=e("./_string-trim").trim,a=e("./_string-ws"),r=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var i=s(String(e),3);return n(i,t>>>0||(r.test(i)?16:10))}:n},{"./_global":37,"./_string-trim":63,"./_string-ws":64}],57:[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],58:[function(e,t,i){t.exports=e("./_hide")},{"./_hide":39}],59:[function(e,t,i){var n=e("./_object-dp").f,s=e("./_has"),a=e("./_wks")("toStringTag");t.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},{"./_has":38,"./_object-dp":51,"./_wks":72}],60:[function(e,t,i){var n=e("./_shared")("keys"),s=e("./_uid");t.exports=function(e){return n[e]||(n[e]=s(e))}},{"./_shared":61,"./_uid":71}],61:[function(e,t,i){var n=e("./_core"),s=e("./_global"),a=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":29,"./_global":37,"./_library":49}],62:[function(e,t,i){var n=e("./_to-integer"),s=e("./_defined");t.exports=function(e){return function(t,i){var a,r,o=String(s(t)),l=n(i),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l),a<55296||a>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536)}}},{"./_defined":31,"./_to-integer":66}],63:[function(e,t,i){var n=e("./_export"),s=e("./_defined"),a=e("./_fails"),r=e("./_string-ws"),o="["+r+"]",l="​",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(e,t,i){var s={},o=a(function(){return!!r[e]()||l[e]()!=l}),c=s[e]=o?t(p):r[e];i&&(s[i]=c),n(n.P+n.F*o,"String",s)},p=u.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};t.exports=u},{"./_defined":31,"./_export":35,"./_fails":36,"./_string-ws":64}],64:[function(e,t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],65:[function(e,t,i){var n=e("./_to-integer"),s=Math.max,a=Math.min;t.exports=function(e,t){return e=n(e),e<0?s(e+t,0):a(e,t)}},{"./_to-integer":66}],66:[function(e,t,i){var n=Math.ceil,s=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?s:n)(e)}},{}],67:[function(e,t,i){var n=e("./_iobject"),s=e("./_defined");t.exports=function(e){return n(s(e))}},{"./_defined":31,"./_iobject":42}],68:[function(e,t,i){var n=e("./_to-integer"),s=Math.min;t.exports=function(e){return e>0?s(n(e),9007199254740991):0}},{"./_to-integer":66}],69:[function(e,t,i){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":31}],70:[function(e,t,i){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":44}],71:[function(e,t,i){var n=0,s=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},{}],72:[function(e,t,i){var n=e("./_shared")("wks"),s=e("./_uid"),a=e("./_global").Symbol,r="function"==typeof a;(t.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:s)("Symbol."+e))}).store=n},{"./_global":37,"./_shared":61,"./_uid":71}],73:[function(e,t,i){var n=e("./_classof"),s=e("./_wks")("iterator"),a=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||a[n(e)]}},{"./_classof":27,"./_core":29,"./_iterators":48,"./_wks":72}],74:[function(e,t,i){var n=e("./_an-object"),s=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./_an-object":25,"./_core":29,"./core.get-iterator-method":73}],75:[function(e,t,i){var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":35,"./_is-array":43}],76:[function(e,t,i){"use strict";var n=e("./_add-to-unscopables"),s=e("./_iter-step"),a=e("./_iterators"),r=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,s(1)):"keys"==t?s(0,i):"values"==t?s(0,e[i]):s(0,[i,e[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":24,"./_iter-define":46,"./_iter-step":47,"./_iterators":48,"./_to-iobject":67}],77:[function(e,t,i){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":35,"./_object-create":50}],78:[function(e,t,i){var n=e("./_export"),s=e("./_parse-int");n(n.G+n.F*(parseInt!=s),{parseInt:s})},{"./_export":35,"./_parse-int":56}],79:[function(e,t,i){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":46,"./_string-at":62}],80:[function(e,t,i){e("./es6.array.iterator");for(var n=e("./_global"),s=e("./_hide"),a=e("./_iterators"),r=e("./_wks")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var c=o[l],d=n[c],u=d&&d.prototype;u&&!u[r]&&s(u,r,c),a[c]=a.Array}},{"./_global":37,"./_hide":39,"./_iterators":48,"./_wks":72,"./es6.array.iterator":76}],81:[function(e,t,i){t.exports=[{name:"InAdlam",astral:"�[�-�]"},{name:"InAegean_Numbers",astral:"�[�-�]"},{name:"InAhom",astral:"�[�-�]"},{name:"InAlchemical_Symbols",astral:"�[�-�]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"�[�-�]"},{name:"InAncient_Greek_Musical_Notation",astral:"�[�-�]"},{name:"InAncient_Greek_Numbers",astral:"�[�-�]"},{name:"InAncient_Symbols",astral:"�[�-�]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"�[�-�]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"�[�-�]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"�[�-�]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"�[�-�]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBhaiksuki",astral:"�[�-�]"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"�[�-�]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"�[�-�]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"�[�-�]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_And_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"�[�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{
name:"InCarian",astral:"�[�-�]"},{name:"InCaucasian_Albanian",astral:"�[�-�]"},{name:"InChakma",astral:"�[�-�]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InChess_Symbols",astral:"�[�-�]"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"�[�-�]"},{name:"InCounting_Rod_Numerals",astral:"�[�-�]"},{name:"InCuneiform",astral:"�[�-�]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"�[�-�]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"�[�-�]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Extended_C",bmp:"ᲀ-᲏"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"�[�-�]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDogra",astral:"�[�-�]"},{name:"InDomino_Tiles",astral:"�[�-�]"},{name:"InDuployan",astral:"�[�-�]"},{name:"InEarly_Dynastic_Cuneiform",astral:"�[�-�]"},{name:"InEgyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"InElbasan",astral:"�[�-�]"},{name:"InEmoticons",astral:"�[�-�]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"�[�-�]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"�[�-�]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"�[�-�]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Extended",bmp:"Ა-Ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGlagolitic_Supplement",astral:"�[�-�]"},{name:"InGothic",astral:"�[�-�]"},{name:"InGrantha",astral:"�[�-�]"},{name:"InGreek_And_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGunjala_Gondi",astral:"�[�-�]"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanifi_Rohingya",astral:"�[�-�]"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"�[�-�]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"�-�"},{name:"InHigh_Surrogates",bmp:"�-�"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"�[�-�]"},{name:"InImperial_Aramaic",astral:"�[�-�]"},{name:"InIndic_Siyaq_Numbers",astral:"�[�-�]"},{name:"InInscriptional_Pahlavi",astral:"�[�-�]"},{name:"InInscriptional_Parthian",astral:"�[�-�]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"�[�-�]"},{name:"InKana_Extended_A",astral:"�[�-�]"},{name:"InKana_Supplement",astral:"�[�-�]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"�[�-�]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"�[�-�]"},{name:"InKhudawadi",astral:"�[�-�]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"�[�-�]"},{name:"InLinear_B_Ideograms",astral:"�[�-�]"},{name:"InLinear_B_Syllabary",astral:"�[�-�]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"�-�"},{name:"InLycian",astral:"�[�-�]"},{name:"InLydian",astral:"�[�-�]"},{name:"InMahajani",astral:"�[�-�]"},{name:"InMahjong_Tiles",astral:"�[�-�]"},{name:"InMakasar",astral:"�[�-�]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"�[�-�]"},{name:"InMarchen",astral:"�[�-�]"},{name:"InMasaram_Gondi",astral:"�[�-�]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"�[�-�]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMayan_Numerals",astral:"�[�-�]"},{name:"InMedefaidrin",astral:"�[�-�]"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"�[�-�]"},{name:"InMeroitic_Cursive",astral:"�[�-�]"},{name:"InMeroitic_Hieroglyphs",astral:"�[�-�]"},{name:"InMiao",astral:"�[�-�]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"�[�-�]|�[�-�]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"�[�-�]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMongolian_Supplement",astral:"�[�-�]"},{name:"InMro",astral:"�[�-�]"},{name:"InMultani",astral:"�[�-�]"},{name:"InMusical_Symbols",astral:"�[�-�]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"�[�-�]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNewa",astral:"�[�-�]"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InNushu",astral:"�[�-�]"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"�[�-�]"},{name:"InOld_Italic",astral:"�[�-�]"},{name:"InOld_North_Arabian",astral:"�[�-�]"},{name:"InOld_Permic",astral:"�[�-�]"},{name:"InOld_Persian",astral:"�[�-�]"},{name:"InOld_Sogdian",astral:"�[�-�]"},{name:"InOld_South_Arabian",astral:"�[�-�]"},{name:"InOld_Turkic",astral:"�[�-�]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"�[�-�]"},{name:"InOsage",astral:"�[�-�]"},{name:"InOsmanya",astral:"�[�-�]"},{name:"InPahawh_Hmong",astral:"�[�-�]"},{name:"InPalmyrene",astral:"�[�-�]"},{name:"InPau_Cin_Hau",astral:"�[�-�]"},{name:"InPhags_Pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"�[�-�]"},{name:"InPhoenician",astral:"�[�-�]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"�[�-�]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"�[�-�]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"�[�-�]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"�[�-�]"},{name:"InShavian",astral:"�[�-�]"},{name:"InShorthand_Format_Controls",astral:"�[�-�]"},{name:"InSiddham",astral:"�[�-�]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"�[�-�]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSogdian",astral:"�[�-�]"},{name:"InSora_Sompeng",astral:"�[�-�]"},{name:"InSoyombo",astral:"�[�-�]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_And_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"�[�-�]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"�[�-�]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[�-�][�-�]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[�-�][�-�]"},{name:"InSutton_SignWriting",astral:"�[�-�]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InSyriac_Supplement",bmp:"ࡠ-࡯"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"�[�-�]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"�[�-�]"},{name:"InTakri",astral:"�[�-�]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTangut",astral:"[�-�][�-�]"},{name:"InTangut_Components",astral:"�[�-�]"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"�[�-�]"},{name:"InTransport_And_Map_Symbols",astral:"�[�-�]"},{name:"InUgaritic",astral:"�[�-�]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"�[�-�]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"�[�-�]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"},{name:"InZanabazar_Square",astral:"�[�-�]"}]},{}],82:[function(e,t,i){t.exports=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜؝۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-������-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-��-���-��-��-���-��-�����-���-������-��-��-�����������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-����-��-�]|�[�-��-��-��-����-��-�]|�[���-��-�����-����-����-��-������-��-��-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-����-�]|�[�-����-��-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-��-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�����-���-��-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[�-��-�]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"�[��]|�[�-�]|�[�-�]|�[��-�]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿؝܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-������-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-��-��-����-��-���-��-�����-���-������-��-��-�����������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-����-��-�]|�[�-��-��-��-����-��-�]|�[���-��-�����-����-����-��-������-��-��-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-����-�]|�[�-����-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-��-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�����-���-��-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[��-��-��-�]|[��][��]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[�-��-�][�-�]|[��][�-�]"},{name:"Cs",alias:"Surrogate",bmp:"�-�"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-�]|�[�-��-��-��-���-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[�-��-����-����-��-���-�]|�[�-��-���-��-����-���-����-���-�]|�[�-�]|�[�-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-���-���]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"�[�-��-��-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"�[�-�]|�[�-���]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-���-�]|�[�-��-��-��-���-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[�-����-����-��-���-�]|�[�-��-���-��-����-���-����-���-�]|�[�-�]|�[�-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-��]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-�]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳷-᳹᷀-᷹᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[�-��-�]|�[�-��-��-��-��-��-�����-��-��-��-���-��-����-����-�����-��-�]|�[�-���-��-��-����-��-��-�]|�[�-��-��-��-���-��-�]|�[�-��-��-��-��-�����-���-����-��-�]|�[�-��-�]|�[�-��-�]|�[��]|�[�-��-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"�[����-��������-����-�����-������-����-����]|�[�-�����-���-���-��-���-�����������]|�[�-������]|�[������-������]|�[�-�]|�[���-�]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[�-��-�]|�[��-��-��-����-��-��-�����-��-��-�������-�������-��-�]|�[�-��-����-�������-��������-�������-���-��-��-�]|�[�-����-��-��-���-��-��-���]|�[�-��-���-��-������-�����-��������]|�[�-��-�]|�[�-�]|�[��]|�[�-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-��-����-��-����-�]|�[�-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-��-�]|�[�-��-��-�]|�[�-�]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-�]|�[�-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"�[�-����-�]|�[�-�]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"�[�-��-����-��-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-��-��-�]|�[�-��-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹎、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[��-��-��-�]|�[�-�����]|�[�-�]|�[����-��]|�[�-�]|𛲟|�[�-�]|�[��]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹎、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[��-��-��-�]|�[�-�����]|�[�-�]|�[����-��]|�[�-�]|𛲟|�[�-�]|�[��]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₿℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[����������]|�[�-��-��-��-���]|�[����]|�[�-��-��-��-��-��-��-��-��-��-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-₿꠸﷼﹩＄￠￡￥￦",astral:"𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"�[�-�]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"�[����������]|�[��]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[�-��-��-��-���]|𞲬|�[�-��-��-��-��-��-��-��-��-��-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}]},{}],83:[function(e,t,i){t.exports=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഀ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽꣾꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-����-����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-�]|�[�-��-��-��-��-��-���-��-����-��-����-���-��-��-��-��-��-����-��-����-��-��������-�]|�[�-��-��-��-�����-��-��-��-����-��-��-�]|�[�-��-���-��-��-��-���-�]|�[�-��-��-���-��-��-��-����-�����-�����-����-����-���-�]|�[�-�]|�[�-��-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��-���]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-��]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-����-�]|�[�-��-��]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[�-�][�-�]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"�[�-�]|�[�-�]|[�-�][�-�]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[����������������][��]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-��-��-�]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}]},{}],84:[function(e,t,i){t.exports=[{name:"Adlam",astral:"�[�-��-���]"},{name:"Ahom",astral:"�[�-��-��-�]"},{name:"Anatolian_Hieroglyphs",astral:"�[�-�]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࢶ-ࢽ࣓-ࣣ࣡-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-���]"},{name:"Armenian",bmp:"Ա-Ֆՙ-ֈ֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"�[�-��-�]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"�[�-�]"},{name:"Bassa_Vah",astral:"�[�-��-�]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"�[�-��-��-��-�]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆺ"},{name:"Brahmi",astral:"�[�-��-��]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"�[�-�]"},{name:"Caucasian_Albanian",astral:"�[�-��]"},{name:"Chakma",astral:"�[�-��-�]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₿℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⯈⯊-⯾⸀-⹎⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"�[�-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-����-��-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-�]|�[�-�]|�[�-��-��-��-��-��-��-��-��-��-����-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]|�[��-�]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"�[�-�]|�[�-��-��-�]"},{name:"Cypriot",astral:"�[�-���-�����]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"�[�-�]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣿ"},{name:"Dogra",astral:"�[�-�]"},{name:"Duployan",astral:"�[�-��-��-��-��-�]"},{name:"Egyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"Elbasan",astral:"�[�-�]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ",astral:"�[�-��-��-����-�]"},{name:"Gothic",astral:"�[�-�]"},{name:"Grantha",astral:"�[�-��-����-��-����-��-����-����-��-��-�]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"�[�-��]|�[�-�]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"�[�-����-����-��-�]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎",astral:"[�-��-��-��-�][�-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"�[�-��-�]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"�[�-����-�]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"�[�-�]|🈀"},{name:"Imperial_Aramaic",astral:"�[�-��-�]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"�[��]|𑌻|�[�-��-��-��-�]|�[�-�]"},{
name:"Inscriptional_Pahlavi",astral:"�[�-��-�]"},{name:"Inscriptional_Parthian",astral:"�[�-��-�]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"�[�-��]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"�[�-����-��-��-��-��-��-�]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"�[�-��-�]"},{name:"Khudawadi",astral:"�[�-��-�]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞹꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"�[�-��-��-�]"},{name:"Linear_B",astral:"�[�-��-��-����-��-��-�]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"�[�-�]"},{name:"Lydian",astral:"�[�-��]"},{name:"Mahajani",astral:"�[�-�]"},{name:"Makasar",astral:"�[�-�]"},{name:"Malayalam",bmp:"ഀ-ഃഅ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"�[�-��-�]"},{name:"Marchen",astral:"�[�-��-��-�]"},{name:"Masaram_Gondi",astral:"�[�-����-�����-��-�]"},{name:"Medefaidrin",astral:"�[�-�]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"�[�-��-�]"},{name:"Meroitic_Cursive",astral:"�[�-��-��-�]"},{name:"Meroitic_Hieroglyphs",astral:"�[�-�]"},{name:"Miao",astral:"�[�-��-��-�]"},{name:"Modi",astral:"�[�-��-�]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡸᢀ-ᢪ",astral:"�[�-�]"},{name:"Mro",astral:"�[�-��-���]"},{name:"Multani",astral:"�[�-���-��-��-�]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"�[�-��-�]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"�[�-����]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|�[�-�]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"�[�-��-��-�]"},{name:"Old_Italic",astral:"�[�-��-�]"},{name:"Old_North_Arabian",astral:"�[�-�]"},{name:"Old_Permic",astral:"�[�-�]"},{name:"Old_Persian",astral:"�[�-��-�]"},{name:"Old_Sogdian",astral:"�[�-�]"},{name:"Old_South_Arabian",astral:"�[�-�]"},{name:"Old_Turkic",astral:"�[�-�]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"�[�-��-�]"},{name:"Osmanya",astral:"�[�-��-�]"},{name:"Pahawh_Hmong",astral:"�[�-��-��-��-��-�]"},{name:"Palmyrene",astral:"�[�-�]"},{name:"Pau_Cin_Hau",astral:"�[�-�]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"�[�-��]"},{name:"Psalter_Pahlavi",astral:"�[�-��-��-�]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"�[�-��-�]"},{name:"Shavian",astral:"�[�-�]"},{name:"Siddham",astral:"�[�-��-�]"},{name:"SignWriting",astral:"�[�-��-��-�]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"�[�-�]"},{name:"Sogdian",astral:"�[�-�]"},{name:"Sora_Sompeng",astral:"�[�-��-�]"},{name:"Soyombo",astral:"�[�-��-�]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"�[�-��-�]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Tangut",astral:"𖿠|[�-�][�-�]|�[�-�]|�[�-�]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"�[�-��-�]"},{name:"Ugaritic",astral:"�[�-��]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"�[�-��]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"�[�-�]"}]},{}]},{},[8])(8)}),define("dataSource/util/settingsUtility",["require","exports","module","underscore"],function(e,t,i){var n=e("underscore");i.exports={deepDefaults:function(e,t){return n.reduce(t,function(t,i,s){return t[s]=e[s]?n.defaults(e[s],i):i,t},{})}}}),define("dataSource/model/JdbcDriverModel",["require","exports","module","backbone","underscore","xregexp","settings!dataSourcePatterns","../util/settingsUtility"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("xregexp"),r=e("settings!dataSourcePatterns"),o=e("../util/settingsUtility"),l=n.Model.extend({idAttribute:"jdbcDriverClass",defaults:{defaultValues:{},jdbcDriverClass:"",label:"",available:!1,isDefault:!1,jdbcUrl:"",uploaded:!1},initialize:function(e,t){var i=o.deepDefaults(t,{dataSourcePatterns:r});l.DYNAMIC_URL_PART_PATTERN=i.dataSourcePatterns.dynamicUrlPartPattern,l.VALIDATION_PATTERNS=s.reduce(i.dataSourcePatterns,function(e,t,i){return e[i]=a(t),e},{})},isOtherDriver:function(){return this.get("jdbcDriverClass")===l.OTHER_DRIVER},isUploadedDriver:function(){return!0===this.get("uploaded")},getCustomAttributes:function(){if(this.isOtherDriver())return[];var e=this._getRegExpFieldGroupsFromConnectionUrlTemplate(),t=[];return s.each(e,function(e){return t.push(e[1])}),t},convertUrlTemplateToRegex:function(){var e,t=this.get("jdbcUrl");t=t.replace(/\?/g,"\\?"),t=t.replace(/\[TMPDIR\/\]/g,"\\[TMPDIR/\\]");for(var i in l.VALIDATION_PATTERNS)e=new RegExp("\\$\\["+i+"\\]","g"),t=t.replace(e,l.DYNAMIC_URL_PART_PATTERN);return"^"+t},parse:function(e){return e.isDefault=!!e.isDefault,e.defaultValues&&(e.defaultValues=s.reduce(e.defaultValues,function(e,t){return e[t.key]=t.value,e},{})),e},_getRegExpFieldGroupsFromConnectionUrlTemplate:function(){for(var e,t=[],i=[];!s.isNull(e=l.FIELD_TEMPLATE_REGEXP.exec(this.get("jdbcUrl")));)s.isArray(e)&&2===e.length&&-1===i.indexOf(e[0])&&(t.push(e),i.push(e[0]));return t}},{FIELD_TEMPLATE_REGEXP:/\$\[([^\]]+)\]/g,OTHER_DRIVER:"other"});i.exports=l}),define("dataSource/collection/JdbcDriverCollection",["require","exports","module","backbone","underscore","../model/JdbcDriverModel","runtime_dependencies/js-sdk/src/jrs.configs"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("../model/JdbcDriverModel"),r=e("runtime_dependencies/js-sdk/src/jrs.configs");i.exports=n.Collection.extend({model:a,url:r.contextPath+"/rest_v2/jdbcDrivers",initialize:function(e,t){this.options=t,this.driverUploadEnabled=!1},getDefaultDriver:function(){var e=this.find(function(e){return!s.isUndefined(e.get("isDefault"))&&!1!==e.get("isDefault")});return e||this.first()},set:function(e,t){return void 0===t&&(t={}),s.extend(t,this.options),n.Collection.prototype.set.call(this,e,t)},getDriverByClass:function(e){var t=this.findWhere({jdbcDriverClass:e});return t||this.findWhere({jdbcDriverClass:a.OTHER_DRIVER})},getDriverByName:function(e){return this.findWhere({name:e})},getAllPossibleCustomAttributes:function(){return s.keys(a.VALIDATION_PATTERNS)},fetch:function(e){return s.defaults(e||(e={}),{headers:{Accept:"application/hal+json"}}),n.Collection.prototype.fetch.call(this,e)},parse:function(e){var t=n.Collection.prototype.parse.apply(this,arguments);return t._links&&t._links.create&&t._links.edit&&(this.driverUploadEnabled=!0),t.jdbcDrivers?t.jdbcDrivers:t},markDriverAsAvailable:function(e){this.models.find(function(t){return t.id===e}).set("available",!0)}})}),define("dataSource/model/JdbcDataSourceModel",["require","exports","module","underscore","jquery","xregexp","./BaseDataSourceModel","./JdbcDriverModel","../collection/JdbcDriverCollection","settings!dataSourcePatterns","../enum/connectionTypes","bundle!jasperserver_messages","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","bundle!jasperserver_config"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("xregexp"),r=e("./BaseDataSourceModel"),o=e("./JdbcDriverModel"),l=e("../collection/JdbcDriverCollection"),c=e("settings!dataSourcePatterns"),d=e("../enum/connectionTypes"),u=e("bundle!jasperserver_messages"),p=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),h=e("bundle!jasperserver_config"),m=a(c.forbidWhitespacesPattern),f=function(){var e={};return n.extend(e,r.prototype.validation,{connectionUrl:[{required:!0,msg:u["ReportDataSourceValidator.error.not.empty.reportDataSource.connectionUrl"]},{fn:function(e,t,i){if(!this.drivers.getDriverByClass(i.selectedDriverClass).get("allowSpacesInDbName")&&!m.test(e))return u["ReportDataSourceValidator.error.invalid.chars.reportDataSource.connectionUrl"]}}]}),e}();i.exports=r.extend({JDBC_BUNDLE_PREFIX:"resource.dataSource.jdbc.",otherDriverIsPresent:!0,type:p.JDBC_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,r.prototype.defaults,{driverClass:"",selectedDriverClass:"",username:"",password:"",timezone:"",connectionUrl:"",isOtherDriver:!1,connectionType:d.JDBC}),e}(),validation:function(){return n.extend({},f)}(),initialize:function(e,t){r.prototype.initialize.apply(this,arguments),this.initialization=s.Deferred(),this.drivers=new l([],this.options);var i=this;this.fetchDrivers().then(function(){i.isNew()?i.setCustomAttributesDefaultValues(i.drivers.getDefaultDriver()):(i.set("selectedDriverClass",i.get("driverClass")),i.set(i.getCustomAttributeValuesFromConnectionUrl()),i.set("password",h["input.password.substitution"]),i.extendValidation());var e=n.map(i.drivers.getAllPossibleCustomAttributes(),function(e){return"change:"+e}).join(" ");i.on(e,i.setConnectionUrlFromCustomAttributes),i.on("change:connectionUrl",i.setCustomAttributesFromConnectionUrl),i.on("change:selectedDriverClass",i.changeSelectedDriver),i.initialization.resolve()})},fetchDrivers:function(){var e=this;return this.drivers.fetch({reset:!0}).done(function(){var t=n.groupBy(e.drivers.models,function(e){return e.attributes.available});n.each(t,function(e,i){t[i]=n.sortBy(e,function(e){return e.attributes.label})});var i=[];t.true&&(i=i.concat(t.true)),t.false&&(i=i.concat(t.false)),e.drivers.models=i,e.drivers.driverUploadEnabled&&e.otherDriverIsPresent&&e.drivers.add({defaultValues:{},jdbcDriverClass:o.OTHER_DRIVER,label:u["resource.dataSource.jdbc.otherDriver"],available:!1,default:!1,jdbcUrl:"",uploaded:!1})})},getCurrentDriver:function(){return this.drivers.getDriverByClass(this.get("selectedDriverClass"))},changeSelectedDriver:function(){var e=this.drivers.getDriverByClass(this.get("selectedDriverClass"));e&&(this.setCustomAttributesDefaultValues(e),this.setConnectionUrlFromCustomAttributes(),this.trigger("driverClassChange",this))},setCustomAttributesFromConnectionUrl:function(){var e=this.getCustomAttributeValuesFromConnectionUrl();this.set(e,{silent:!0}),this.trigger("customAttributesUpdate",this)},setConnectionUrlFromCustomAttributes:function(){var e=this.getCurrentDriver(),t=e.getCustomAttributes(),i=this.pick(t),n=this.replaceConnectionUrlTemplatePlaceholdersWithValues(e.get("jdbcUrl"),i);this.set("connectionUrl",n,{silent:!0}),this.trigger("connectionUrlUpdate",this)},getAttributeValueFromUrl:function(e,t){var i=t.exec(e);return[].slice.call(i||[],1)},getCustomAttributeValuesFromConnectionUrl:function(){var e,t=this.getCurrentDriver(),i=this.get("connectionUrl"),s=a(t.convertUrlTemplateToRegex()),r=t.getCustomAttributes(),o={};return e=this.getAttributeValueFromUrl(i,s),n.each(e,function(e,t){o[r[t]]=e}),o},setCustomAttributesDefaultValues:function(e){this.unsetCustomAttributes();var t={};e.isOtherDriver()?(t.selectedDriverClass=e.get("jdbcDriverClass"),t.driverClass="",t.isOtherDriver=!0):(n.extend(t,e.get("defaultValues")),t.selectedDriverClass=e.get("jdbcDriverClass"),t.driverClass=e.get("jdbcDriverClass"),t.isOtherDriver=!1,t.connectionUrl=this.replaceConnectionUrlTemplatePlaceholdersWithValues(e.get("jdbcUrl"),e.get("defaultValues"))),this.set(t,{silent:!0}),this.extendValidation()},unsetCustomAttributes:function(){var e=this;n.each(this.drivers.getAllPossibleCustomAttributes(),function(t){e.unset(t,{silent:!0})})},replaceConnectionUrlTemplatePlaceholdersWithValues:function(e,t){var i=this.getRegExpFieldGroupsFromConnectionUrlTemplate(e);return n.each(i,function(i){e=e.replace(i[0],n.isUndefined(t[i[1]])?"":t[i[1]])}),e},getRegExpFieldGroupsFromConnectionUrlTemplate:function(e){for(var t,i=[];!n.isNull(t=o.FIELD_TEMPLATE_REGEXP.exec(e));)n.isArray(t)&&2===t.length&&i.push(t);return i},extendValidation:function(){var e=this,t={},i=this.getCurrentDriver().getCustomAttributes();n.extend(t,f),n.each(i,function(i){t[i]=[{xRegExpPattern:o.VALIDATION_PATTERNS[i],msg:u[e.JDBC_BUNDLE_PREFIX+"invalidField"].replace("{0}",u[e.JDBC_BUNDLE_PREFIX+i])}]}),this.validation=t},toJSON:function(){var e=r.prototype.toJSON.apply(this,arguments);return this.options.isEditMode&&e.password===h["input.password.substitution"]&&(e.password=null),e}})}),define("text!dataSource/template/dialog/baseDialogTemplate.htm",[],function(){return'<div id="select" class="panel dialog select overlay moveable centered_horz centered_vert hidden">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="sizer diagonal"></div>\n    <div class="content hasFooter">\n        <div class="header mover">\n            <div class="title">{{- title }}</div>\n        </div>\n        <div class="body"></div>\n        <div class="footer ">\n            <button class="button action primary up"><span class="wrap">{{- primaryButtonLabel }}</span><span class="icon"></span></button>\n            <button class="button action up"><span class="wrap">{{- secondaryButtonLabel }}</span><span class="icon"></span></button>\n        </div>\n    </div>\n</div>'}),define("dataSource/view/dialog/BaseDialog",["require","exports","module","backbone","underscore","jquery","../../../components/components.dialogs","text!../../template/dialog/baseDialogTemplate.htm"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("jquery"),r=e("../../../components/components.dialogs"),o=e("text!../../template/dialog/baseDialogTemplate.htm");i.exports=n.View.extend({events:{"click button.action.primary":"primaryButtonOnClick","click button.action:not(.primary)":"secondaryButtonOnClick"},isModal:!0,TITLE:"",PRIMARY_BUTTON_LABEL:"",SECONDARY_BUTTON_LABEL:"",el:function(){return s.template(o,{title:this.TITLE,primaryButtonLabel:this.PRIMARY_BUTTON_LABEL,secondaryButtonLabel:this.SECONDARY_BUTTON_LABEL})},initialize:function(){a("body").append(this.render().$el)},show:function(){r.popup.show(this.el,this.isModal)},hide:function(){r.popup.hide(this.el)},render:function(){return this},primaryButtonOnClick:function(){throw new Error("Method not implemented")},secondaryButtonOnClick:function(){this.hide()}})}),define("runtime_dependencies/js-sdk/src/common/transport/AjaxFormSubmitter",["require","exports","module","underscore","request","jquery"],function(e,t,i){function n(e){var t,i=null;return e.firstChild.innerText&&""!==e.firstChild.innerText&&e.body?(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e.firstChild.innerText.replace("\r\n-","\r\n"))):t=e,t.firstChild&&(i=t.firstChild.nodeName.toLowerCase()),i&&"html"!==i&&"#comment"!==i?s("xml"===t.firstChild.nodeName.toLowerCase()?t.firstChild.nextSibling:t.firstChild):{errorCode:"unexpected.error"}}function s(e){var t,i;if(e.children)t=e.children;else{t=[];for(var n=0,a=e.childNodes.length;n<a;n++)null===e.childNodes[n].nodeValue&&t.push(e.childNodes[n])}if(0===t.length&&1===e.childNodes.length)return e.childNodes[0].nodeValue;if(t.length>1&&t[0].nodeName===t[1].nodeName){i=[];for(var n=0,a=t.length;n<a;n++)i[n]=s(t[n])}else{i={};for(var n=0,a=t.length;n<a;n++)i[t[n].nodeName]=s(t[n])}return i}function a(e){var t=new c.Deferred;return e.submit(function(i){i.preventDefault(),l({url:e.attr("action"),type:e.attr("method"),data:new FormData(e[0]),cache:!1,contentType:!1,processData:!1,headers:{Accept:"application/json"}}).done(function(e){t.resolve(e)}).fail(function(e){e=e.responseJSON||e||{},o.defaults(e,{errorCode:"error.load.error"}),t.reject(e)}),e.off("submit")}),e.submit(),t}function r(e,t){var i=c.Deferred(),s=c("<iframe style='display:none' name='"+t+"'></iframe>");return e.append(s).attr("target",t),s.on("load",function(){try{i.resolve(n(this.contentWindow.document))}catch(e){i.reject({errorCode:"error.invalid.response"})}s.remove()}),s.on("abort",function(){i.reject({errorCode:"error.load.aborted"}),s.remove()}),s.on("error",function(){i.reject({errorCode:"error.load.error"}),s.remove()}),e.submit(),i}var o=e("underscore"),l=e("request"),c=e("jquery"),d=function(e,t,i,s){this.name=o.uniqueId("uploadTarget"),this.form=c(e),t&&this.form.attr("action",t),i&&this.form.attr("method",i),s&&this.form.attr("enctype",s),this.parceXmlDocToObject=n};d.prototype.submit=function(){return window.FormData?a(this.form):r(this.form,this.name)},i.exports=d}),define("text!runtime_dependencies/js-sdk/src/components/loadingOverlay/template/overlayLayout.htm",[],function(){return'<div class="jr-mSpinner jr-mSpinnerDatatable jr-isHidden jr">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n<div class="jr-mOverlay jr-isHidden jr"></div>'}),define("runtime_dependencies/js-sdk/src/components/loadingOverlay/LoadingOverlay",["require","exports","module","underscore","backbone","text!./template/overlayLayout.htm"],function(e,t,i){var n=e("underscore"),s=e("backbone"),a=e("text!./template/overlayLayout.htm");i.exports=s.View.extend({template:n.template(a),initialize:function(e){this.delay=e.delay,this.render()},render:function(){return this.$el.append(this.template()),this.$elSpinner=this.$(".jr-mSpinnerDatatable"),this.$elOverlay=this.$(".jr-mOverlay"),this},show:function(e){var t=this,i=function(){t.$elSpinner.show(),t.$elOverlay.show()};this.delay||e?this._timer||(this._timer=setTimeout(i,this.delay||e)):i()},hide:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this.$elSpinner.hide(),this.$elOverlay.hide()},remove:function(){return this.$elSpinner.remove(),this.$elOverlay.remove(),this.stopListening(),this}})}),define("text!dataSource/template/dialog/uploadJdbcDriverDialogTemplate.htm",[],function(){return'<form method="post" enctype="multipart/form-data" action="rest_v2/jdbcDrivers">\n\n    <js-templateNonce></js-templateNonce>\n    <input name="className" type="hidden" value="{{- className }}"/>\n    <div class="control groupBox fillParent">\n        <div class="content">\n            <div class="header">\n                <div class="title"></div>\n            </div>\n            <div class="body">\n                <ul title="Locate local file"></ul>\n                <div class="errorMessageContainer">\n                    <span class="message warning"></span>\n                </div>\n                <div class="hidden warningMessageContainer">\n                    <span class="message textAccent"></span>\n                </div>\n                <br/>\n                <a class="fsection" target="_blank" href="http://community.jaspersoft.com/wiki/downloading-and-installing-database-drivers">{{- i18n["resource.dataSource.jdbc.upload.downloading"]}}</a>\n            </div>\n        </div>\n    </div>\n</form>'}),define("text!dataSource/template/dialog/fileUploadTemplate.htm",[],function(){return'<li class="leaf">\n\n    <js-templateNonce></js-templateNonce>\n    <input type="file" name="file_{{- fileIndex}}" size="60" accept="jar/jar" />\n    <span class="message warning"></span>\n</li>'}),define("dataSource/view/dialog/UploadJdbcDriverDialog",["require","exports","module","../../view/dialog/BaseDialog","underscore","jquery","runtime_dependencies/js-sdk/src/common/transport/AjaxFormSubmitter","runtime_dependencies/js-sdk/src/components/loadingOverlay/LoadingOverlay","../../../components/components.dialogs","bundle!jasperserver_messages","text!../../template/dialog/uploadJdbcDriverDialogTemplate.htm","text!../../template/dialog/fileUploadTemplate.htm","../../../util/utils.common"],function(e,t,i){var n=e("../../view/dialog/BaseDialog"),s=e("underscore"),a=e("jquery"),r=e("runtime_dependencies/js-sdk/src/common/transport/AjaxFormSubmitter"),o=e("runtime_dependencies/js-sdk/src/components/loadingOverlay/LoadingOverlay"),l=e("../../../components/components.dialogs"),c=e("bundle!jasperserver_messages"),d=e("text!../../template/dialog/uploadJdbcDriverDialogTemplate.htm"),u=e("text!../../template/dialog/fileUploadTemplate.htm");e("../../../util/utils.common"),i.exports=n.extend({TITLE:c["resource.dataSource.jdbc.selectDriverTitle"],PRIMARY_BUTTON_LABEL:c["button.upload"],SECONDARY_BUTTON_LABEL:c["button.cancel"],events:function(){return s.extend({},n.prototype.events,{"change input[type='file']":"onFileChange"})},initialize:function(e){this.driverClass=e.driverClass,this.driverAvailable=e.driverAvailable,this.fileIndex=0,this._overlay=new o({delay:1e3}),n.prototype.initialize.apply(this,arguments),a(this.el).addClass("jr jr-uploadJdbcDriverDialog")},onFileChange:function(e){var t=a(e.target),i=t.next(".message.warning");if(i.parent().removeClass("error"),t.val().match(/.jar$/)){if(t.is(this.$("input[type='file']:last-of-type"))){var n=0,r=this.$("input[type='file']");s.each(r,function(e,t){n+=t+1}),n>=r.length&&this.addFileInput(),this.$("button.primary").removeClass("disabled").attr("disabled",null)}}else i.text(c["resource.dataSource.jdbc.upload.wrongExtension"]).parent().addClass("error")},render:function(){var e=this;return this.$(".body").html(s.template(d,{className:this.driverClass,i18n:c})),s.defer(function(){e.addFileInput(),e.driverAvailable?e.$(".warningMessageContainer").removeClass("hidden").find(".message").text(c["resource.dataSource.jdbc.upload.overwriteWarning"]):e.$(".warningMessageContainer").addClass("hidden").find(".message").text("")}),this.$("button.primary").addClass("disabled").attr("disabled","disabled"),this},onSuccessCallback:function(e){this.trigger("driverUpload",e),this.hide(),l.systemConfirm.show(c["resource.dataSource.jdbc.upload.driverUploadSuccess"]),s.defer(s.bind(this.remove,this))},onErrorCallback:function(e){var t;e=e.responseJSON?e.responseJSON:e,"illegal.parameter.value.error"===e.errorCode&&e.parameters&&e.parameters.length&&"className"===e.parameters[0]?t=c["resource.dataSource.jdbc.classNotFound"].replace("{0}",this.driverClass):e.message?t=e.message:"error.invalid.response"===(t=e.errorCode)&&(t="The required driver class ("+this.driverClass+") is not found in uploaded files"),this.$(".errorMessageContainer").addClass("error").find(".message").text(t)},addFileInput:function(){this.$("ul").append(s.template(u,{fileIndex:this.fileIndex})),this.fileIndex++},primaryButtonOnClick:function(){var e=this;this.$(".errorMessageContainer").removeClass("error").find(".message").text(""),this.$("button.primary").addClass("disabled").attr("disabled","disabled"),a("body").append(this._overlay.$el),this._overlay.show();var t=this.$("form");new r(t[0]).submit().done(function(t){t.errorCode?e.onErrorCallback(t):e.onSuccessCallback(t)}).fail(function(t){e.onErrorCallback(t)}).always(function(){e._overlay.hide(),a("body").detach(e._overlay.$el),e.$("button.primary").removeClass("disabled").attr("disabled",null)})},secondaryButtonOnClick:function(){this._overlay.hide(),a("body").detach(this._overlay.$el),this.hide(),s.defer(s.bind(this.remove,this))}})}),define("text!dataSource/template/jdbcSpecificTemplate.htm",[],function(){return'<fieldset class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n    <legend class="offLeft"><span>{{- i18n[\'resource.dataSource.accessProp\']}}</span></legend>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.selectDriverTitle\']}}" class="control select">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.driver\']}}:</span>\n        <select name="selectedDriverClass">\n            {{ _.each(drivers, function(driver) { }}\n                <option value="{{- driver.jdbcDriverClass }}"\n                {{ if (modelAttributes.selectedDriverClass === driver.jdbcDriverClass) { }}\n                    selected="selected"\n                {{ } }}>\n                    {{ if (!driver.available && driver.jdbcDriverClass !== otherDriverValue) { }}\n                        {{- i18n["resource.dataSource.jdbc.driverMissing"] }}\n                    {{ } }}\n                    {{- driver.label }}\n                    {{ if (driver.jdbcDriverClass !== otherDriverValue && typeof (driver.label) !== "undefined" && driver.label !== "") { }}\n                        ({{- driver.jdbcDriverClass }})\n                    {{ } else if (driver.jdbcDriverClass !== otherDriverValue && (typeof driver.label === "undefined" || driver.label === "")) { }}\n                        {{- driver.jdbcDriverClass }}\n                    {{ } }}\n                </option>\n            {{ }); }}\n        </select>\n\n        {{ if (driverUploadEnabled) { }}\n\t\t<button class="button action up" id="driverUploadButton">\n\t\t\t<span class="wrap">{{- i18n[\'resource.dataSource.jdbc.upload.editDriverButton\']}}</span>\n\t\t</button>\n        {{ } }}\n    </label>\n\n    <div name="jdbcSpecificFieldsContainer"></div>\n\n    <label title="{{- i18n[\'resource.analysisConnection.url\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.url\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.connectionUrl }}" name="connectionUrl">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.jdbc.hint2\']}}</span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.username\']}}" class="control input text ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.username\']}}:</span>\n        <input type="text" value="{{- modelAttributes.username }}" name="username">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.password\']}}" class="control input password ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.password\']}}:</span>\n        <input type="password" value="{{- modelAttributes.password }}" name="password">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n</fieldset>'}),define("text!dataSource/template/jdbcCustomFieldTemplate.htm",[],function(){return'<label class="control input text" title="{{- title}}">\n\n    <js-templateNonce></js-templateNonce>\n    <span class="wrap">{{- label}} ({{- i18n["required.field"] }}):</span>\n    <input name="{{- name}}" type="text" value="{{- value }}"/>\n    <span class="message warning"></span>\n    <span class="message hint">{{- hint }}</span>\n</label>'}),define("dataSource/view/JdbcDataSourceView",["require","exports","module","underscore","../view/BaseDataSourceView","../model/JdbcDataSourceModel","../model/JdbcDriverModel","../view/dialog/UploadJdbcDriverDialog","text!../template/jdbcSpecificTemplate.htm","text!../template/jdbcCustomFieldTemplate.htm","../../core/core.events.bis","bundle!jasperserver_messages"],function(e,t,i){var n=e("underscore"),s=e("../view/BaseDataSourceView"),a=e("../model/JdbcDataSourceModel"),r=e("../model/JdbcDriverModel"),o=e("../view/dialog/UploadJdbcDriverDialog"),l=e("text!../template/jdbcSpecificTemplate.htm"),c=e("text!../template/jdbcCustomFieldTemplate.htm"),d=e("../../core/core.events.bis"),u=e("bundle!jasperserver_messages");i.exports=s.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.jdbc.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.jdbc.page.title.edit",modelConstructor:a,events:function(){var e={};return n.extend(e,s.prototype.events,{"keyup input[type='text'][name!='driverClass'], input[type='password'], textarea":"updateModelProperty","change input[type='text'][name!='driverClass'], input[type='password'], textarea, select":"updateModelProperty","keyup input[type='text'][name='driverClass']":"manuallySetDriverClass","change input[type='text'][name='driverClass']":"manuallySetDriverClass","click #driverUploadButton":"uploadDriver"}),e}(),initialize:function(e){s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"connectionUrlUpdate",this.updateConnectionUrl),this.listenTo(this.model,"customAttributesUpdate",this.updateCustomAttributes),this.listenTo(this.model,"driverClassChange",this.changeDriver),this.listenTo(this.model.drivers,"change",this.updateDriverOption),this.listenTo(this.model.drivers,"add",this.addDriverOption)},updateDriverOption:function(e){var t=this.$("select[name='selectedDriverClass'] option[value='"+e.get("jdbcDriverClass")+"']"),i=e.get("label")+" ("+e.get("jdbcDriverClass")+")";e.get("available")||(i=u["resource.dataSource.jdbc.driverMissing"]+" "+i),t.text(i),this.model.getCurrentDriver()===e&&this.changeUploadDriverButtonState()},addDriverOption:function(e){if(!e.isOtherDriver){var t=this.$("select[name='selectedDriverClass'] option[value='"+r.OTHER_DRIVER+"']"),i=e.get("jdbcDriverClass"),s=this;e.get("available")||(i=u["resource.dataSource.jdbc.driverMissing"]+" "+i),t.before("<option value='"+e.get("jdbcDriverClass")+"'>"+i+"</option>"),n.defer(function(){s.$("select[name='selectedDriverClass']").val(e.get("jdbcDriverClass")),s.model.trigger("change:driverClass")})}},manuallySetDriverClass:function(){var e=this.$("input[type='text'][name='driverClass']").val(),t={driverClass:e};this.model.set(t,{silent:!0}),this.model.validate(t),this.changeUploadDriverButtonState()},updateConnectionUrl:function(){this.$("input[name='connectionUrl']").val(this.model.get("connectionUrl"));var e=this.model.getCurrentDriver();e.isOtherDriver()||e.isUploadedDriver()||this.model.validate({connectionUrl:this.model.get("connectionUrl")})},updateCustomAttributes:function(){var e=this,t=this.model.getCurrentDriver().getCustomAttributes();n.each(t,function(t){e.$("input[name='"+t+"']").val(e.model.get(t))});var i=this.model.pick(t);this.model.validate(i)},changeDriver:function(){this.renderDriverCustomAttributeFields(),this.changeUploadDriverButtonState()},changeUploadDriverButtonState:function(){var e=this.model.getCurrentDriver(),t=this.$("#driverUploadButton");d.enable(t[0]);var i=e.get("available")?u["resource.dataSource.jdbc.upload.editDriverButton"]:u["resource.dataSource.jdbc.upload.addDriverButton"];t.find(".wrap").text(i)},uploadDriver:function(){this.model.drivers.driverUploadEnabled&&this.model.get("driverClass")?(this.fieldIsValid(this,"driverClass","name"),this.driverUploadDialog&&this.stopListening(this.driverUploadDialog),delete this.driverUploadDialog,this.initDriverUploadDialog(),this.driverUploadDialog.show()):this.fieldIsInvalid(this,"driverClass",u["ReportDataSourceValidator.error.not.empty.reportDataSource.driverClass"],"name")},initDriverUploadDialog:function(){this.driverUploadDialog=new o({driverAvailable:this.model.getCurrentDriver().get("available"),driverClass:this.model.get("isOtherDriver")?this.model.get("driverClass"):this.model.getCurrentDriver().get("jdbcDriverClass")}),this.listenTo(this.driverUploadDialog,"driverUpload",this._onDriverUploadFinished)},_onDriverUploadFinished:function(e){var t=this;this.model.fetchDrivers().then(function(){t.model.drivers.markDriverAsAvailable(e.jdbcDriverClass),n.defer(function(){t.model.validate(),t.render()})})},render:function(){return this.$el.empty(),this.renderJdbcSpecificSection(),this.renderTimezoneSection(),this.renderTestConnectionSection(),this},templateData:function(){var e=s.prototype.templateData.apply(this,arguments);return n.extend(e,{drivers:this.model.drivers.toJSON(),otherDriverValue:r.OTHER_DRIVER,driverUploadEnabled:this.model.drivers.driverUploadEnabled}),e},renderJdbcSpecificSection:function(){this.$el.append(n.template(l,this.templateData())),this.renderDriverCustomAttributeFields(),this.changeUploadDriverButtonState()},renderDriverCustomAttributeFields:function(){var e=this,t="";if(this.model.get("isOtherDriver"))t+=n.template(c,{hint:u["resource.dataSource.jdbc.hint1"],label:u["resource.dataSource.jdbc.driver"],name:"driverClass",title:u["resource.analysisConnection.driver"],value:this.model.get("driverClass"),i18n:u});else{
var i=this.model.getCurrentDriver().getCustomAttributes();n.each(i,function(i){t+=n.template(c,{hint:"",label:u["resource.dataSource.jdbc."+i],name:i,title:u["resource.dataSource.jdbc.requiredTitle"].replace("{0}",u["resource.dataSource.jdbc."+i].toLowerCase()),value:e.model.get(i),i18n:u})})}this.$("[name=jdbcSpecificFieldsContainer]").html(t)},remove:function(){this.driverUploadDialog&&this.driverUploadDialog.remove(),s.prototype.remove.apply(this,arguments)}})}),define("dataSource/model/JndiDataSourceModel",["require","exports","module","underscore","./BaseDataSourceModel","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","../enum/connectionTypes","bundle!jasperserver_messages"],function(e,t,i){var n=e("underscore"),s=e("./BaseDataSourceModel"),a=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),r=e("../enum/connectionTypes"),o=e("bundle!jasperserver_messages");i.exports=s.extend({type:a.JNDI_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,s.prototype.defaults,{jndiName:"",timezone:"",connectionType:r.JNDI}),e}(),validation:function(){var e={};return n.extend(e,s.prototype.validation,{jndiName:[{required:!0,msg:o["ReportDataSourceValidator.error.not.empty.reportDataSource.jndiName"]}]}),e}()})}),define("text!dataSource/template/jndiSpecificTemplate.htm",[],function(){return'<fieldset class="group mediumFields">\n\n    <js-templateNonce></js-templateNonce>\n\n    <legend class="offLeft"><span>{{- i18n[\'resource.dataSource.accessProp\']}}</span></legend>\n\n    <label title="{{- i18n[\'resource.analysisConnection.driver\']}}" class="control input text ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jndi.serviceName\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.jndiName }}" name="jndiName">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.jndi.hint1\']}}</span>\n    </label>\n\n</fieldset>'}),define("dataSource/view/JndiDataSourceView",["require","exports","module","underscore","../view/BaseDataSourceView","../model/JndiDataSourceModel","text!../template/jndiSpecificTemplate.htm"],function(e,t,i){var n=e("underscore"),s=e("../view/BaseDataSourceView"),a=e("../model/JndiDataSourceModel"),r=e("text!../template/jndiSpecificTemplate.htm");i.exports=s.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.jndi.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.jndi.page.title.edit",modelConstructor:a,render:function(){return this.$el.empty(),this.renderJndiSpecificSection(),this.renderTimezoneSection(),this.renderTestConnectionSection(),this},renderJndiSpecificSection:function(){this.$el.append(n.template(r,this.templateData()))}})}),define("runtime_dependencies/js-sdk/src/common/component/base/Dimmer",["require","exports","module","jquery","../../util/classUtil"],function(e,t,i){var n,s,a=e("jquery"),r=e("../../util/classUtil");i.exports=r.extend({constructor:function(e){n||(s=0,n=a("<div id='dialogDimmer' class='dimmer'></div>").css(e),a(document.body).append(n),n.hide()),s++},css:function(e){return n.css(e),this},show:function(){var e=this.getCount()||0;return this.setCount(++e),n.show(),this},hide:function(){if(this.isVisible()){var e=this.getCount();return this.setCount(--e),!e&&n.hide(),this}},setCount:function(e){n.data({count:e})},getCount:function(){return parseInt(n.data("count"),10)},isVisible:function(){return n.is(":visible")},remove:function(){this._removed||(this._removed=!0,n&&(--s||(n.remove(),n=null)))}})}),define("text!runtime_dependencies/js-sdk/src/common/component/panel/template/panelTemplate.htm",[],function(){return'<div class="panel {{- additionalCssClasses }}">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="header">\n        <div class="title">{{- title}}</div>\n    </div>\n    <div class="subcontainer"></div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/common/component/panel/Panel",["require","exports","module","underscore","backbone","text!./template/panelTemplate.htm"],function(e,t,i){var n=e("underscore"),s=e("backbone"),a=e("text!./template/panelTemplate.htm");i.exports=s.View.extend({defaultTemplate:a,el:function(){var e=this.getTemplateArguments();return this.template(e)},getTemplateArguments:function(){return{title:this.title,additionalCssClasses:this.additionalCssClasses}},constructor:function(e){e||(e={}),this.template=n.template(e.template||this.defaultTemplate),this.title=e.title||"",this.dataNameAttribute=e.dataNameAttribute||"",this.additionalCssClasses=e.additionalCssClasses||"",this.content=e.content||"",this.collapsed=!e.collapsed,this.openClass=e.openClass||"open",this.closedClass=e.closedClass||"closed",this.loadingClass=e.loadingClass||"loading",this.fixedHeight=e.fixedHeight||!1,this.contentContainer=e.contentContainer||".subcontainer",this.overflow=e.overflow||"auto",this.traits=e.traits||[],n.each(this.traits,n.bind(function(e){e.extension&&n.extend(this,e.extension)},this)),this.invokeTraits("onConstructor",e),s.View.apply(this,arguments)},invokeTraits:function(e){var t=Array.prototype.slice.call(arguments,1),i=this;n.each(this.traits,function(n){n[e]&&n[e].apply(i,t)})},initialize:function(e){this.invokeTraits("beforeInitialize",e),this.content&&this.setContent(this.content),this.toggleCollapsedState(),this.dataNameAttribute&&this.$el.attr("data-name",this.dataNameAttribute),this.invokeTraits("afterInitialize",e)},setElement:function(e){this.invokeTraits("beforeSetElement",e);var t=s.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.$(this.contentContainer),this.$contentContainer[this.collapsed?"hide":"show"](),this.invokeTraits("afterSetElement",e),t},open:function(e){return this.invokeTraits("beforeOpen",e),this.$contentContainer.show(),this.$el.removeClass(this.closedClass).addClass(this.openClass),this.collapsed=!1,e&&e.renderContent&&this.renderContent(),this.invokeTraits("afterOpen",e),e&&e.silent||this.trigger("open",this),this},close:function(e){return this.invokeTraits("beforeClose",e),this.$contentContainer.hide(),this.$el.removeClass(this.openClass).addClass(this.closedClass),this.collapsed=!0,this.invokeTraits("afterClose",e),e&&e.silent||this.trigger("close",this),this},setContent:function(e,t){this.content=e;var i=this.renderContent();this.$contentContainer[!0===t?"append":"html"](i)},renderContent:function(){return this.content instanceof s.View?this.content.render().$el:this.content},setHeight:function(e){var t=this.$("> .header").outerHeight();this.$contentContainer.css({height:n.isNumber(e)?e-t+"px":"auto",overflow:this.overflow})},toggleCollapsedState:function(){return this.collapsed?this.open():this.close(),this},remove:function(){this.invokeTraits("onRemove"),this.content&&this.content.remove&&this.content.remove(),s.View.prototype.remove.call(this)}})}),define("runtime_dependencies/js-sdk/src/common/component/base/OptionView",["require","exports","module","backbone","underscore"],function(e,t,i){var n=e("backbone"),s=e("underscore");i.exports=n.View.extend({events:{click:"select",mouseover:"mouseover",mouseout:"mouseout"},constructor:function(e){if(!e||!e.template)throw new Error("Option should have defined template");if(!(e.model&&e.model instanceof n.Model))throw new Error("Option should have associated Backbone.Model");this.template=s.template(e.template),this.disabledClass=e.disabledClass,this.hiddenClass=e.hiddenClass,this.toggleClass=e.toggleClass,this.overClass=e.overClass||"over",n.View.apply(this,arguments)},initialize:function(){n.View.prototype.initialize.apply(this,arguments);var e=this;!0===this.model.get("disabled")&&this.disable(),!0===this.model.get("hidden")&&this.hide(),!0===this.model.get("selected")&&this.addSelection(),this.listenTo(this.model,"change:over",function(t,i){i?e.$("> p").addClass(e.overClass):e.$("> p").removeClass(e.overClass)})},el:function(){return this.template(this.model.toJSON())},enable:function(){this.$el.removeAttr("disabled").removeClass(this.disabledClass)},disable:function(){this.$el.attr("disabled","disabled").addClass(this.disabledClass)},over:function(){this.model.set({over:!0})},leave:function(){this.model.set({over:!1})},show:function(){this.$el.show().removeClass(this.hiddenClass)},hide:function(){this.$el.hide().addClass(this.hiddenClass)},isVisible:function(){return this.$el.is(":visible")},isDisabled:function(){return this.$el.is(":disabled")},select:function(e){this.model.trigger("select",this,this.model,e),this.trigger("click",this,this.model,e)},addSelection:function(){this.$el.addClass(this.toggleClass),this.model.set("selected",!0)},removeSelection:function(){this.$el.removeClass(this.toggleClass),this.model.unset("selected")},mouseover:function(e){this.trigger("mouseover",this,this.model,e)},mouseout:function(e){this.trigger("mouseout",this,this.model,e)}})}),define("runtime_dependencies/js-sdk/src/common/component/base/OptionContainer",["require","exports","module","backbone","underscore","./OptionView"],function(e,t,i){function n(e){if(!e||a.isEmpty(e))throw new Error("Init options must be specified");if(!e.options||!e.options.length)throw new Error("Option views descriptors must be specified");if(!e.mainTemplate&&!e.el)throw new Error("Option container must have a template");if(!e.optionTemplate)throw new Error("Option container must have an option template")}var s=e("backbone"),a=e("underscore"),r=e("./OptionView");i.exports=s.View.extend({events:{mouseout:"_mouseout",mouseover:"_mouseover"},el:function(){return a.template(this.template)()},constructor:function(e){n(e),this.contextName=e.contextName||"option",this.contentContainer=e.contentContainer?e.contentContainer:e.el||".content > ul",this.toggle=!!e.toggle,this.toggleClass=e.toggleClass||"active",this.options=[],this.collection=e.collection||new s.Collection,delete e.collection,e.options&&this.collection.reset(e.options),this.hasGroups=!(!this.collection.models[0]||!this.collection.models[0].get("groupId")),this.defalutOptionView=this.hasGroups?this.collection.where({default:!0}):[this.collection.findWhere({default:!0})],this.listenTo(this.collection,"select",this._selectOption),this.listenTo(this.collection,"update reset",this.render),this.template=e.mainTemplate,this.optionTemplate=e.optionTemplate,s.View.apply(this,arguments)},_mouseout:function(){this.trigger("container:mouseout")},_mouseover:function(){this.trigger("container:mouseover")},setElement:function(e){var t=s.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.contentContainer?this.$(this.contentContainer).addBack().filter(this.contentContainer):this.$el,t},initialize:function(){this.render(),this.toggle&&this.defalutOptionView&&a.each(this.defalutOptionView,function(e){e&&this.getOptionView(e.get("action")).addSelection()},this)},render:function(){var e=this;a.each(this.options,function(t){e.stopListening(t,"mouseover"),e.stopListening(t,"mouseout"),t.remove()}),this.options=[],this.collection.forEach(function(t){var i=new r({template:e.optionTemplate,model:t,toggleClass:e.toggleClass});e.listenTo(i,"mouseover",function(t,i){e.trigger("mouseover",t,e,i)}),e.listenTo(i,"mouseout",function(t,i){e.trigger("mouseout",t,e,i)}),e.options.push(i),e.$contentContainer.append(i.$el)})},_onKeyDown:function(e){var t=this.getOptionView(e.keyCode,"triggerOnKeyCode");t&&!t.isDisabled()&&t.select()},_selectOption:function(e,t){if(this.toggle){var i=t.get("groupId"),n=this.hasGroups?a.reduce(this.options,function(e,t){return t.model.get("groupId")===i&&e.push(t),e},[]):this.options;a.each(n,function(e){e.removeSelection()},this),e.addSelection()}this.trigger("selection",e,t),this.trigger(this.contextName+":"+t.get("action"),e,t)},getOptionView:function(e,t){return a.find(this.options,function(i){return i.model.get(t||"action")===e})},resetSelection:function(e,t){e=e||[],this.toggle&&(this.hasGroups?(e.length<this.defalutOptionView.length&&a.each(this.defalutOptionView,function(t){var i={groupId:t.get("groupId")};!a.findWhere(e,i)&&t&&e.push(a.extend(i,{action:t.get("action")}))}),e=a.pluck(e,"action")):!e.length&&this.defalutOptionView[0]&&e.push(this.defalutOptionView[0].get("action")),a.each(this.options,function(i){e.length&&a.contains(e,i.model.get("action"))?t?this._selectOption(i,i.model):i.addSelection():i.removeSelection()},this))},select:function(){var e=Array.prototype.slice.call(arguments,0);this.toggle&&a.each(this.options,function(t){!e.length||a.contains(e,t.model.get("action"))?t.addSelection():t.removeSelection()},this)},deselect:function(){var e=Array.prototype.slice.call(arguments,0);this.toggle&&a.each(this.options,function(t){(!e.length||a.contains(e,t.model.get("action")))&&t.removeSelection()},this)},getSelection:function(){return a.chain(this.options).filter(function(e){return e.model.get("selected")}).map(function(e){return e.model.get("action")}).value()},show:function(){return a.each(this.options,function(e){var t=e.model.get("test");t&&!t()?e.hide():e[e.model.get("hidden")?"hide":"show"]()}),this.$el.show(),this.trigger("show",this),this},hide:function(){return this.$el.hide(),this.trigger("hide",this),this},enable:function(e){var t=Array.prototype.slice.call(arguments);a.each(this.options,function(e){(!t.length||a.contains(t,e.model.get("action")))&&e.enable()})},disable:function(e){var t=Array.prototype.slice.call(arguments);a.each(this.options,function(e){(!t.length||a.contains(t,e.model.get("action")))&&e.disable()})},addOptions:function(e,t){this.collection.add(e,a.extend(t||{},{silent:!0})),this.collection.reset(this.collection.toJSON())},removeOptions:function(e){var t=this.collection.filter(function(t){return!a.contains(e,t.get("action"))});t.length<this.collection.length&&this.collection.reset(t)},remove:function(){a.invoke(this.options,"remove"),s.View.prototype.remove.apply(this,arguments)}})}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/abstractPanelTrait",["require","exports","module"],function(e,t,i){var n={extension:{},onConstructor:function(){},beforeInitialize:function(){},afterInitialize:function(){},beforeSetElement:function(){},afterSetElement:function(){},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},onRemove:function(){}};i.exports=n}),function(e){"function"==typeof define&&define.amd?define("jquery-ui/ui/disable-selection",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(e){"function"==typeof define&&define.amd?define("jquery-ui/ui/widgets/resizable",["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0||(t[n]=1,s=t[n]>0,t[n]=0,s)},_create:function(){var t,i=this.options,n=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,n,s,a,r=this.options,o=this;if(this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)t=e.trim(n[i]),s="ui-resizable-"+t,a=e("<div>"),this._addClass(a,"ui-resizable-handle "+s),a.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var i,n,s,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){o.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=a&&a[1]?a[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var i,n,s,a=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,n+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,s=this.originalMousePosition,a=this.axis,r=t.pageX-s.left||0,o=t.pageY-s.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,r,o]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,s,a,r,o,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,a=n?0:d.sizeDiff.width,r={width:d.helper.width()-a,height:d.helper.height()-s},o=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:o})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,s,a,r=this.options;a={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),s<a.maxHeight&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&c&&(e.left=o-t.minWidth),n&&c&&(e.left=o-t.maxWidth),r&&d&&(e.top=l-t.minHeight),s&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(s[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),r=a&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,o=a?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-r},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,s,a,r,o,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,p=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;p&&(l.containerElement=e(p),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,a=l.containerSize.width,r=l._hasScroll(p,"left")?p.scrollWidth:a,o=l._hasScroll(p)?p.scrollHeight:s,l.parentData={element:p,left:n.left,top:n.top,width:r,height:o}))},resize:function(t){var i,n,s,a,r=e(this).resizable("instance"),o=r.options,l=r.containerOffset,c=r.position,d=r._aspectRatio||t.shiftKey,u={top:0,left:0},p=r.containerElement,h=!0;p[0]!==document&&/static/.test(p.css("position"))&&(u=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),d&&(r.size.height=r.size.width/r.aspectRatio,h=!1),r.position.left=o.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio,h=!1),r.position.top=r._helper?l.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),a=/relative|absolute/.test(r.containerElement.css("position")),s&&a?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-l.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio,h=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,d&&(r.size.width=r.size.height*r.aspectRatio,h=!1)),h||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,s=t.containerPosition,a=t.containerElement,r=e(t.helper),o=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var n=e(this).resizable("instance"),s=n.options,a=n.originalSize,r=n.originalPosition,o={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0};e(s.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),s={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(n[t]||0)+(o[t]||0);i&&i>=0&&(s[t]=i||null)}),t.css(s)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},
resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,s=i.size,a=i.originalSize,r=i.originalPosition,o=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((s.width-a.width)/c)*c,p=Math.round((s.height-a.height)/d)*d,h=a.width+u,m=a.height+p,f=n.maxWidth&&n.maxWidth<h,g=n.maxHeight&&n.maxHeight<m,v=n.minWidth&&n.minWidth>h,b=n.minHeight&&n.minHeight>m;n.grid=l,v&&(h+=c),b&&(m+=d),f&&(h-=c),g&&(m-=d),/^(se|s|e)$/.test(o)?(i.size.width=h,i.size.height=m):/^(ne)$/.test(o)?(i.size.width=h,i.size.height=m,i.position.top=r.top-p):/^(sw)$/.test(o)?(i.size.width=h,i.size.height=m,i.position.left=r.left-u):((m-d<=0||h-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),m-d>0?(i.size.height=m,i.position.top=r.top-p):(m=d-t.height,i.size.height=m,i.position.top=r.top+a.height-m),h-c>0?(i.size.width=h,i.position.left=r.left-u):(h=c-t.width,i.size.width=h,i.position.left=r.left+a.width-h))}}),e.ui.resizable}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/resizablePanelTrait",["require","exports","module","underscore","./abstractPanelTrait","jquery-ui/ui/widgets/resizable"],function(e,t,i){function n(e,t){this.trigger("resize",e,t)}function s(e,t){this.trigger("resizeStart",e,t)}function a(e,t){this.trigger("resizeStop",e,t)}var r=e("underscore"),o=e("./abstractPanelTrait");e("jquery-ui/ui/widgets/resizable"),i.exports=r.extend({},o,{onConstructor:function(e){e||(e={}),this.handles=e.handles||"e, s, se",this.minWidth=e.minWidth||10,this.minHeight=e.minHeight||10,this.maxWidth=e.maxWidth||null,this.maxHeight=e.maxHeight||null,this.alsoResize=e.alsoResize||!1,this.resizableEl=e.resizableEl},afterSetElement:function(){this.$resizableEl=this.$el.find(this.resizableEl).length?this.$el.find(this.resizableEl):this.$el;var e=this.handles;"function"==typeof e&&(e=e(this.$el)),this.$resizableEl.resizable({handles:e,minHeight:this.minHeight,minWidth:this.minWidth,maxWidth:this.maxWidth,maxHeight:this.maxHeight,alsoResize:this.alsoResize,resize:r.bind(n,this),start:r.bind(s,this),stop:r.bind(a,this)})},onRemove:function(){try{this.$el.resizable("destroy")}catch(e){}}})}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/dialogTemplate.htm",[],function(){return'<div class="jr-mDialog jr {{- additionalCssClasses }}" tabindex="-1">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mDialog-header mover jr">\n        <h1 class="jr-mDialog-header-title jr">{{- title }}</h1>\n    </div>\n    <div class="jr-mDialog-body jr {{- additionalBodyCssClasses }}">\n        <div class="jr-mDialog-body-wrapper jr subcontainer"></div>\n    </div>\n    <div class="jr-mDialog-footer jr"></div>\n\n</div>\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/dialogButtonTemplate.htm",[],function(){return"<button class=\"button action up {{- primary ? 'primary' : ''}} {{- (typeof float !== 'undefined' ? 'right' : '') }}\">\n\n    <js-templateNonce></js-templateNonce>\n    <span class=\"wrap\">{{- label }}<span class=\"icon\"></span></span>\n</button>\n"}),define("runtime_dependencies/js-sdk/src/common/component/dialog/Dialog",["require","exports","module","underscore","jquery","../base/Dimmer","../panel/Panel","../base/OptionContainer","../panel/trait/resizablePanelTrait","text!./template/dialogTemplate.htm","text!./template/dialogButtonTemplate.htm","jquery-ui/ui/widgets/draggable"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("../base/Dimmer"),r=e("../panel/Panel"),o=e("../base/OptionContainer"),l=e("../panel/trait/resizablePanelTrait"),c=e("text!./template/dialogTemplate.htm"),d=e("text!./template/dialogButtonTemplate.htm");e("jquery-ui/ui/widgets/draggable");var u=r.extend({defaultTemplate:c,events:{mousedown:"_focus",touchstart:"_focus",keydown:"_onKeyDown",keyup:"_onKeyboardEvent",keypress:"_onKeyboardEvent",resize:"_onDialogResize"},constructor:function(e){e||(e={}),e.traits||(e.traits=[]),this.resizable=e.resizable||!1,this.modal=e.modal||!1,this.additionalBodyCssClasses=e.additionalBodyCssClasses||"",this.resizable&&-1===n.indexOf(e.traits,l)&&e.traits.push(l),r.call(this,e)},initialize:function(e){this.dialogOptions=n.extend({},e),this.collapsed=!this.collapsed,this.resetSizeOnOpen=!!n.isUndefined(e.resetSizeOnOpen)||e.resetSizeOnOpen,n.isEmpty(e.buttons)||(this.buttons=new o({options:e.buttons,el:this.$(".jr-mDialog-footer")[0]||this.$(".footer")[0],contextName:"button",optionTemplate:e.dialogButtonTemplate||d})),r.prototype.initialize.apply(this,arguments),this.buttons&&this.listenTo(this.buttons,n.map(e.buttons,function(e){return"button:"+e.action}).join(" "),n.bind(function(e,t){this.trigger("button:"+t.get("action"),e,t)},this)),this.render()},getTemplateArguments:function(){var e=r.prototype.getTemplateArguments.apply(this,arguments);return n.extend(e,{additionalBodyCssClasses:this.additionalBodyCssClasses})},setElement:function(e){var t=r.prototype.setElement.apply(this,arguments);return this.buttons&&this.buttons.setElement(this.$(".jr-mDialog-footer")[0]||this.$(".footer")[0]),t},setTitle:function(e){this.$(".jr-mDialog-header > .jr-mDialog-header-title").text(e)},render:function(){return this.$el.hide(),this.modal&&(this.dimmer=new a({zIndex:900})),s("body").append(this.$el),this.$el.draggable({handle:".mover",addClasses:!1,containment:"document"}),this},open:function(e){if(this.isVisible())return this;this.resetSizeOnOpen&&(this.$el.css({height:"",width:""}),this.$el.find("textarea").css({height:"",width:""})),r.prototype.open.apply(this,arguments),this.modal&&this.dimmer.css({zIndex:++u.highestIndex}).show(),this._setMinSize();var t=this._position(e);return this.$el.css({top:t.top,left:t.left,position:"absolute"}),this._increaseZIndex(),this.buttons&&this.buttons.$(".over").removeClass("over"),this.$el.show(),this.$el.find("input").first().focus(),this._onDialogResize(),this.trigger("dialog:visible"),this},close:function(){if(this.isVisible())return this.$el.css({zIndex:--u.highestIndex}),this.modal&&this.dimmer.css({zIndex:--u.highestIndex}).hide(),this.$el.hide(),r.prototype.close.apply(this,arguments),this},addCssClasses:function(e){this.$el.addClass(e)},toggleCollapsedState:function(){return this},enableButton:function(e){this.buttons.enable(e)},disableButton:function(e){this.buttons.disable(e)},isVisible:function(){return this.$el.is(":visible")},_setMinSize:function(){this.dialogOptions.minWidth&&this.$el.css({minWidth:this.dialogOptions.minWidth}),this.dialogOptions.minHeight&&this.$el.css({minHeight:this.dialogOptions.minHeight}),this.dialogOptions.setMinSizeAsSize&&this.$el.css({width:this.dialogOptions.minWidth,height:this.dialogOptions.minHeight})},_position:function(e){var t,i,n=s("body"),a=this.$el.height(),r=this.$el.width();if(e&&void 0!==e.top&&void 0!==e.left){t=e.top,i=e.left;var o=n.height(),l=n.width(),c=o-e.top,d=l-e.left;c<a&&(t=e.top-a,t=t<0?o/2-a/2:t),d<r&&(i=e.left-r,i=i<0?l/2-r/2:i)}else t=s(window).height()/2-a/2,i=s(window).width()/2-r/2;return{top:Math.max(0,t),left:Math.max(0,i)}},_focus:function(){!this.modal&&this._increaseZIndex()},_increaseZIndex:function(){this.$el.css({zIndex:++u.highestIndex})},_onKeyDown:function(e){this.buttons._onKeyDown(e),e.stopPropagation()},_onKeyboardEvent:function(e){e.stopPropagation()},_onDialogResize:function(){},remove:function(){this.buttons&&this.buttons.remove(),this.dimmer&&this.dimmer.remove();try{this.$el.draggable("destroy")}catch(e){}r.prototype.remove.call(this)}},{highestIndex:5e3,resetHighestIndex:function(e){u.highestIndex=e||5e3}});i.exports=u}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/alertDialogTemplate.htm",[],function(){return"<p class='alertText'>\n\n    <js-templateNonce></js-templateNonce>\n    {{- message }}\n</p>"}),define("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog",["require","exports","module","underscore","./Dialog","../../util/xssUtil","text!./template/alertDialogTemplate.htm","bundle!CommonBundle"],function(e,t,i){var n=e("underscore"),s=e("./Dialog"),a=e("../../util/xssUtil"),r=e("text!./template/alertDialogTemplate.htm"),o=e("bundle!CommonBundle");i.exports=s.extend({contentTemplate:n.template(r),constructor:function(e){e||(e={}),s.prototype.constructor.call(this,{modal:!1!==e.modal,message:e.message,additionalCssClasses:"alertDialog "+(e.additionalCssClasses||""),title:e.title||o["dialog.exception.title"],buttons:[{label:o["button.close"],action:"close",primary:!0}]},e)},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.on("button:close",this.close),this.setMessage(e.message)},setMessage:function(e){e=a.softHtmlEscape(e,{whiteList:["br"]}),this.content=this.contentTemplate({message:e});var t=this.renderContent();this.$contentContainer.html(t)}})}),define("dataSource/model/AwsDataSourceModel",["require","exports","module","underscore","jquery","./JdbcDataSourceModel","./BaseDataSourceModel","../collection/JdbcDriverCollection","settings!dataSourcePatterns","../enum/connectionTypes","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","bundle!jasperserver_messages","settings!awsSettings","bundle!jasperserver_config","../util/settingsUtility","xregexp"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("./JdbcDataSourceModel"),r=e("./BaseDataSourceModel"),o=e("../collection/JdbcDriverCollection"),l=e("settings!dataSourcePatterns"),c=e("../enum/connectionTypes"),d=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),u=e("bundle!jasperserver_messages"),p=e("settings!awsSettings"),h=e("bundle!jasperserver_config"),m=e("../util/settingsUtility"),f=e("xregexp"),g=a.extend({otherDriverIsPresent:!1,type:d.AWS_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,a.prototype.defaults,{dbName:"",dbInstanceIdentifier:"",dbService:"",accessKey:"",secretKey:"",roleArn:"",region:"",credentialsType:"",connectionType:c.AWS}),e}(),validation:function(){var e={};return n.extend(e,{connectionUrl:[{required:!0,msg:u["ReportDataSourceValidator.error.not.empty.reportDataSource.connectionUrl"]},{xRegExpPattern:f(l.forbidWhitespacesPattern),msg:u["ReportDataSourceValidator.error.invalid.chars.reportDataSource.connectionUrl"]}],username:[{required:!0,msg:u["ReportDataSourceValidator.error.not.empty.reportDataSource.username"]}],driverClass:[{required:!0,msg:u["ReportDataSourceValidator.error.not.empty.reportDataSource.driverClass"]},{xRegExpPattern:f(l.forbidWhitespacesPattern),msg:u["ReportDataSourceValidator.error.invalid.chars.reportDataSource.driverClass"]},{fn:function(e,t,i){if(!new RegExp(l.attributePlaceholderPattern).test(e)){var n=this.drivers.getDriverByClass(e);if(!n||!n.get("available"))return u["ReportDataSourceValidator.error.not.empty.reportDataSource.driverNotInstalled"]}}}],dbName:[{required:!0,msg:u["ReportDataSourceValidator.error.not.empty.reportDataSource.dbNameIsEmpty"]}],region:[{required:!0}],accessKey:[{fn:function(e,t,i){if(i.credentialsType===g.credentialsType.AWS&&(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e))return u["fillParameters.error.mandatoryField"]}}],secretKey:[{fn:function(e,t,i){if(i.credentialsType===g.credentialsType.AWS&&(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e))return u["fillParameters.error.mandatoryField"]}}]}),e}(),initialize:function(e,t){r.prototype.initialize.apply(this,arguments);var i=m.deepDefaults(t,{awsSettings:p});this.isNew()?this.set("region",n.first(i.awsSettings.awsRegions)):(this.set("password",h["input.password.substitution"]),this.set("secretKey",h["input.password.substitution"])),this.set("credentialsType",!i.awsSettings.isEc2Instance||i.awsSettings.suppressEc2CredentialsWarnings||""!==this.get("accessKey")?g.credentialsType.AWS:g.credentialsType.EC2),this.initialization=s.Deferred(),this.drivers=new o([],this.options);var a=this;this.drivers.fetch({reset:!0}).done(function(){a.initialization.resolve()}),this.on("change:dbName change:dbPort change:dbHost change:sName change:connectionUrlTemplate",this.updateConnectionUrl),this.on("change:credentialsType",this.changeCredentialsType)},updateConnectionUrl:function(){if(this.get("connectionUrlTemplate")){var e=this.pick(["dbName","dbPort","dbHost","sName"]);e.sName||(e.sName=e.dbName);var t=this.replaceConnectionUrlTemplatePlaceholdersWithValues(this.get("connectionUrlTemplate"),e);this.set("connectionUrl",t)}},changeCredentialsType:function(){this.get("credentialsType")===g.credentialsType.EC2&&this.set({accessKey:"",secretKey:"",roleArn:""})},toJSON:function(){var e=a.prototype.toJSON.apply(this,arguments);return this.options.isEditMode&&e.secretKey===h["input.password.substitution"]&&(e.secretKey=null),e},getFullDbTreePath:function(){return this.get("dbInstanceIdentifier")&&this.get("dbService")?"/"+this.get("dbService")+"/"+this.get("dbInstanceIdentifier"):null}},{credentialsType:{EC2:"ec2",AWS:"aws"}});i.exports=g}),define("text!dataSource/template/awsSpecificTemplate.htm",[],function(){return'<fieldset class="group">\n\n    <legend><span>{{- i18n[\'resource.dataSource.aws.settings.title\']}}</span></legend>\n\n    <ul class="list inputSet">\n        <li class="leaf">\n            <div class="control radio">\n                <label title="{{- i18n[\'resource.dataSource.aws.option.useDefault.title\']}}" class="wrap">\n                    {{- i18n[\'resource.dataSource.aws.option.useDefault\']}}\n                </label>\n                <input type="radio" value="{{- credentialsType.EC2 }}" name="credentialsType" {{ if(modelAttributes.credentialsType === credentialsType.EC2) { }}checked{{ } }} {{ if (disableAwsDefaults) { }}disabled="disabled"{{ } }}>\n            </div>\n        </li>\n        <li class="leaf">\n            <div class="control radio">\n                <label title="{{- i18n[\'resource.dataSource.aws.option.userDefined.title\']}}" class="wrap">\n                   {{= i18n[\'resource.dataSource.aws.option.userDefined\'].replace(\'{0}\',i18n[\'resource.dataSource.aws.option.url\']) }}\n                </label>\n                <input type="radio" value="{{- credentialsType.AWS }}" name="credentialsType" {{ if(modelAttributes.credentialsType === credentialsType.AWS ) { }}checked{{ } }}>\n            </div>\n        </li>\n    </ul>\n\n    <fieldset class="group shortFields" id="aws_settings" {{ if (modelAttributes.credentialsType === credentialsType.EC2) { }}style="display: none;"{{ } }}>\n\n        <label title="{{- i18n[\'resource.dataSource.aws.setting.accessKey.title\']}}" class="control input text ">\n            <span class="wrap">{{- i18n[\'resource.dataSource.aws.setting.accessKey\']}}:</span>\n            <input type="text" value="{{- modelAttributes.accessKey }}" name="accessKey">\n            <span class="message warning"></span>\n            <span class="message hint"></span>\n        </label>\n\n        <label title="{{- i18n[\'resource.dataSource.aws.setting.secretKey.title\']}}" class="control input password ">\n            <span class="wrap">{{- i18n[\'resource.dataSource.aws.setting.secretKey\']}}:</span>\n            <input type="password" autocomplete="off" value="{{- modelAttributes.secretKey }}" name="secretKey">\n            <span class="message warning"></span>\n            <span class="message hint"></span>\n        </label>\n\n        <label title="{{- i18n[\'resource.dataSource.aws.setting.arn.title\']}}" class="control input text ">\n            <span disabled="disabled" class="wrap">{{- i18n[\'resource.dataSource.aws.setting.arn\']}}:</span>\n            <input type="text" value="{{- modelAttributes.roleArn }}" name="roleArn">\n            <span class="message warning"></span>\n            <span class="message hint">{{- i18n[\'resource.dataSource.aws.optional.arn\']}}</span>\n        </label>\n\n    </fieldset>\n\n</fieldset>\n\n<fieldset class="group">\n\n    <legend><span>{{- i18n[\'resource.dataSource.aws.tree\']}}</span></legend>\n\n    <label title="{{- i18n[\'resource.dataSource.aws.setting.region.title\']}}" class="control select " style="display: inline-block; margin-right: 6px; margin-top: 6px; width: 350px;">\n        <span class="wrap">{{- i18n[\'resource.dataSource.aws.setting.region\']}}:</span>\n        <select class="fnormal" name="region">\n            {{ _.each(awsRegions, function(region) { }}\n            <option value="{{- region }}" {{ if (region === modelAttributes.region) { }}selected="selected"{{ } }}>{{- i18n[region] || region }}</option>\n            {{ }); }}\n        </select>\n        <span class="message warning"></span>\n    </label>\n\n    <button class="button action" id="findAwsDataSources">\n        <span class="wrap">{{- i18n[\'resource.dataSource.aws.updateTree\']}}<span class="icon"></span></span>\n    </button>\n\n</fieldset>\n\n<fieldset class="group">\n\n    <div class="control groupBox" style="height: 150px; margin: 0; width: 538px;">\n        <div class="content">\n            <div class="header">\n                <div class="title"></div>\n            </div>\n            <div class="body" style="height: 137px; overflow: auto; padding: 6px;">\n                <ul class="list collapsible folders hideRoot" id="awsDataSourceTree" style="position: relative; height: 137px; overflow: auto; padding: 6px;"></ul>\n            </div>\n        </div>\n    </div>\n\n</fieldset>\n\n<fieldset class="group shortFields">\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.username\']}}" class="control input text ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.username\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.username }}" name="username">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.password\']}}" class="control input password ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.password\']}}:</span>\n        <input type="password" value="{{- modelAttributes.password }}" name="password">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.aws.database.name.title\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.aws.database.name\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.dbName }}" name="dbName">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n</fieldset>\n\n<fieldset class="group mediumFields">\n\n    <label title="{{- i18n[\'resource.analysisConnection.driver\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.driver\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input class="control inline" type="text" value="{{- modelAttributes.driverClass }}" name="driverClass">\n        {{ if (driverUploadEnabled) { }}\n        <button class="button action up" id="driverUploadButton">\n            <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.upload.addDriverButton\']}}</span>\n        </button>\n        {{ } }}\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.jdbc.hint1\']}}</span>\n    </label>\n\n    <label title="{{- i18n[\'resource.analysisConnection.requiredURL\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.url\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.connectionUrl }}" name="connectionUrl">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.jdbc.hint2\']}}</span>\n    </label>\n\n</fieldset>'}),define("dataSource/view/AwsDataSourceView",["require","exports","module","underscore","runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog","../view/JdbcDataSourceView","../view/BaseDataSourceView","../model/AwsDataSourceModel","../view/dialog/UploadJdbcDriverDialog","../../dynamicTree/dynamicTree.utils","../../core/core.events.bis","bundle!jasperserver_messages","text!../template/awsSpecificTemplate.htm","settings!awsSettings","../util/settingsUtility"],function(e,t,i){var n=e("underscore"),s=e("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog"),a=e("../view/JdbcDataSourceView"),r=e("../view/BaseDataSourceView"),o=e("../model/AwsDataSourceModel"),l=e("../view/dialog/UploadJdbcDriverDialog"),c=e("../../dynamicTree/dynamicTree.utils"),d=e("../../core/core.events.bis"),u=e("bundle!jasperserver_messages"),p=e("text!../template/awsSpecificTemplate.htm"),h=e("settings!awsSettings"),m=e("../util/settingsUtility");i.exports=a.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.aws.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.aws.page.title.edit",modelConstructor:o,events:function(){var e={};return n.extend(e,a.prototype.events),e["change input[name='credentialsType']"]="changeCredentialsType",e["click #findAwsDataSources"]="refreshAwsDataSourceTree",e},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.deepDefaults=m.deepDefaults(e,{awsSettings:h}),this.listenTo(this.model,"change:credentialsType",this.onCredentialsTypeChange),this.listenTo(this.model,"change:driverClass",this.changeUploadDriverButtonState),this.listenTo(this.model,"change",this.updateInput),this.listenTo(this.model.drivers,"change add",this.recheckDriver)},changeCredentialsType:function(){var e=this.$("input[name='credentialsType']:checked").val();this.model.set("credentialsType",e)},recheckDriver:function(){this.model.validate({driverClass:this.model.get("driverClass")}),this.changeUploadDriverButtonState()},changeUploadDriverButtonState:function(){var e=this.$("#driverUploadButton");if(""===this.model.get("driverClass"))d.disable(e[0]);else{d.enable(e[0]);var t=this.model.drivers.getDriverByClass(this.model.get("driverClass"));e.find(".wrap").text(u[t&&t.get("available")?"resource.dataSource.jdbc.upload.editDriverButton":"resource.dataSource.jdbc.upload.addDriverButton"])}},initDriverUploadDialog:function(){var e=this,t=this.model.drivers.getDriverByClass(this.model.get("driverClass"));this.driverUploadDialog=new l({driverAvailable:!(!t||!t.get("available")),driverClass:this.model.get("driverClass")}),this.driverUploadDialog.on("driverUpload",function(t){e.model.drivers.markDriverAsAvailable(t.jdbcDriverClass),n.defer(n.bind(e.model.validate,e.model))})},updateInput:function(){var e=n.keys(this.model.changedAttributes()),t=["accessKey","secretKey","roleArn","connectionUrl","driverClass","dbName"],i=this;n.each(n.intersection(e,t),function(e){var t=i.model.get(e);i.$("[name='"+e+"']").val()!==t&&i.$("[name='"+e+"']").val(t)})},onCredentialsTypeChange:function(){var e=this.model.get("credentialsType")===o.credentialsType.EC2;this.$("#aws_settings")[e?"hide":"show"](),e&&this.showAwsDsTree(this.model.getFullDbTreePath())},refreshAwsDataSourceTree:function(e){e.preventDefault(),this.showAwsDsTree("/")},render:function(){return this.$el.empty(),this.renderTimezoneSection(),this.renderAwsSpecificSection(),this.renderTestConnectionSection(),this.initDataSourceTree(),(this.options.isEditMode||this.model.get("credentialsType")===o.credentialsType.EC2)&&this.showAwsDsTree(this.model.getFullDbTreePath()),this},showAwsDsTree:function(e){this.model.validate({accessKey:this.model.get("accessKey"),secretKey:this.model.get("secretKey")}),this.model.isValid("secretKey")&&this.model.isValid("accessKey")&&this.awsDataSourceTree.showTreePrefetchNodes(e||"/")},templateData:function(){var e=a.prototype.templateData.apply(this,arguments);return n.extend(e,{credentialsType:o.credentialsType,awsRegions:this.deepDefaults.awsSettings.awsRegions,disableAwsDefaults:!this.deepDefaults.awsSettings.isEc2Instance||this.deepDefaults.awsSettings.suppressEc2CredentialsWarnings}),e},renderAwsSpecificSection:function(){this.$el.append(n.template(p,this.templateData())),this.changeUploadDriverButtonState()},initDataSourceTree:function(){var e=this.options.isEditMode,t=this,i={hideLoader:!0,bShowRoot:!1,treeId:"awsDataSourceTree",providerId:"awsDataSourceTreeDataProvider",selectLeavesOnly:!0,additionalParams:function(){return{arn:t.model.get("roleArn"),awsAccessKey:t.model.get("accessKey"),awsSecretKey:t.model.get("secretKey"),region:t.model.get("region"),datasourceUri:t.model.get("uri")}}};this.awsDataSourceTree=c.createRepositoryTree("awsDataSourceTree",i),this.awsDataSourceTree.httpErrorHandler=function(e){var t,i=!1;return-1===e.responseText.indexOf("AWS Access Key is invalid")&&-1===e.responseText.indexOf("The security token included in the request is invalid")||(i=u["error.aws.key.is.invalid"]),!1!==i||-1===e.responseText.indexOf("AWS Secret Key is invalid")&&-1===e.responseText.indexOf("The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method")||(i=u["error.aws.secret.key.is.invalid"]),!1===i&&-1!==e.responseText.indexOf("is not authorized to perform")&&(i=u["error.aws.arn.is.invalid"]),!1===i&&-1!==e.responseText.indexOf("The security token included in the request is invalid")&&(i=u["error.security.token.is.invalid"]),!!i&&(t=new s({modal:!0}),t.setMessage(i),t.open(),!0)},this.awsDataSourceTree.observe("leaf:selected",function(i){var n=i.memo.node.param;if("awsDb"===n.type&&!e){var s=n.extra,a=s.dbUri.split("/");t.model.set({connectionUrlTemplate:s.jdbcTemplate,driverClass:s.jdbcDriverClass,dbName:s.dBName,dbHost:s.dnsAddress,dbPort:s.dbPort,sName:s.dBName,dbService:a[1],dbInstanceIdentifier:a[2]}),t.model.validate({driverClass:t.model.get("driverClass")})}}),this.awsDataSourceTree.observe("tree:loaded",function(){t.model.getFullDbTreePath()&&t.awsDataSourceTree.openAndSelectNode(t.model.getFullDbTreePath(),function(){e=!1})})},remove:function(){this.awsDataSourceTree&&this.awsDataSourceTree.stopObserving(),a.prototype.remove.apply(this,arguments)}})}),define("dataSource/model/AzureSqlDataSourceModel",["require","exports","module","underscore","jquery","./JdbcDataSourceModel","./BaseDataSourceModel","../collection/JdbcDriverCollection","../enum/connectionTypes","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","bundle!jasperserver_messages","settings!awsSettings","bundle!jasperserver_config","../util/settingsUtility"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("./JdbcDataSourceModel"),r=e("./BaseDataSourceModel"),o=e("../collection/JdbcDriverCollection"),l=e("../enum/connectionTypes"),c=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),d=e("bundle!jasperserver_messages"),u=e("settings!awsSettings"),p=e("bundle!jasperserver_config"),h=e("../util/settingsUtility"),m=a.extend({otherDriverIsPresent:!1,type:c.AZURE_SQL_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,a.prototype.defaults,{subscriptionId:"",keyStorePassword:"",keyStoreUri:"",serverName:"",dbName:"",selectedDriverClass:"",useMicrosoftDriver:!1,microsoftDriverAvailable:!1,connectionType:l.AZURE_SQL}),e}(),validation:function(){var e={};return n.extend(e,a.prototype.validation,{subscriptionId:[{required:!0,msg:d["ReportDataSourceValidator.error.azureSqlDataSource.subscriptionId"]}],keyStorePassword:[{required:!0,msg:d["ReportDataSourceValidator.error.azureSqlDataSource.keyStorePassword"]}],keyStoreUri:[{required:!0,msg:d["ReportDataSourceValidator.error.azureSqlDataSource.keyStoreUri"]}],serverName:[{required:!0,msg:d["ReportDataSourceValidator.error.azureSqlDataSource.serverName"]}],dbName:[{required:!0,msg:d["ReportDataSourceValidator.error.not.empty.reportDataSource.dbNameIsEmpty"]}],username:[{required:!0,msg:d["ReportDataSourceValidator.error.not.empty.reportDataSource.username"]}]}),e}(),initialize:function(e,t){r.prototype.initialize.apply(this,arguments);h.deepDefaults(t,{awsSettings:u});this.isNew()||(this.set("password",p["input.password.substitution"]),this.set("keyStorePassword",p["input.password.substitution"])),this.initialization=s.Deferred(),this.drivers=new o([],this.options);var i=this;this.drivers.fetch({reset:!0}).done(function(){i.isNew()?i.set("selectedDriverClass",i.drivers.getDriverByName("sqlserver").get("jdbcDriverClass")):i.set("selectedDriverClass",i.get("driverClass"));var e=i.drivers.getDriverByName("sqlserver_standard");null!=e&&(i.set("microsoftDriverAvailable",e.get("available")),i.set("useMicrosoftDriver",i.get("selectedDriverClass")===e.get("jdbcDriverClass"))),i.initialization.resolve()}),this.on("change:dbName change:serverName change:connectionUrlTemplate change:useMicrosoftDriver",this.updateConnectionUrl),this.on("change:useMicrosoftDriver",this.updateDriverClass)},updateConnectionUrl:function(){if(this.get("connectionUrlTemplate")){var e=this.pick(["dbName","serverName","dbPort"]);e.dbPort=1433;var t=this.drivers.getDriverByName("sqlserver_standard"),i=this.get("connectionUrlTemplate");this.get("useMicrosoftDriver")&&null!=t&&(e.serverName+=".database.windows.net",i=t.get("jdbcUrl")),e.dbHost=e.serverName;var n=this.replaceConnectionUrlTemplatePlaceholdersWithValues(i,e);this.set("connectionUrl",n)}},updateDriverClass:function(){var e=this.drivers.getDriverByName("sqlserver_standard"),t=this.get("useMicrosoftDriver")&&null!=e?"sqlserver_standard":"sqlserver",i=this.drivers.getDriverByName(t).get("jdbcDriverClass");this.set("selectedDriverClass",i),this.set("driverClass",i)},toJSON:function(){var e=a.prototype.toJSON.apply(this,arguments);return this.options.isEditMode&&e.keyStorePassword===p["input.password.substitution"]&&(e.keyStorePassword=null),e},getFullDbTreePath:function(){return this.get("serverName")&&this.get("dbName")?"/"+this.get("serverName")+"/"+this.get("dbName"):null}});i.exports=m}),define("text!dataSource/template/azureSqlSpecificTemplate.htm",[],function(){
return'<fieldset class="group">\n\n    <js-templateNonce></js-templateNonce>\n\n    <legend><span>{{- i18n[\'resource.dataSource.azureSql.settings.title\']}}</span></legend>\n\n    <fieldset class="group shortFields" id="aws_settings">\n\n        <label title="{{- i18n[\'resource.dataSource.azureSql.setting.subscriptionId.title\']}}" class="control input text ">\n            <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.setting.subscriptionId\']}} ({{- i18n[\'required.field\']}}):</span>\n            <input type="text" value="{{- modelAttributes.subscriptionId }}" name="subscriptionId">\n            <span class="message warning"></span>\n            <span class="message hint"></span>\n        </label>\n\n        <label title="{{- i18n[\'resource.dataSource.azureSql.setting.keyStoreUri.title\']}}" class="control input text">\n            <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.setting.keyStoreUri\']}} ({{- i18n[\'required.field\']}}):</span>\n            <input type="text" value="{{- modelAttributes.keyStoreUri }}" name="keyStoreUri">\n            <button class="button action" type="button" name="repositoryBrowserButton">\n                <span class="wrap">{{- i18n[\'dialog.file.browse\'] }}...<span class="icon"></span></span>\n            </button>\n            <span class="message warning"></span>\n            <span class="message hint">{{- i18n[\'resource.dataSource.azureSql.optional.keyStoreUri\']}}</span>\n        </label>\n\n        <label title="{{- i18n[\'resource.dataSource.azureSql.setting.keyStorePassword.title\']}}" class="control input password ">\n            <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.setting.keyStorePassword\']}} ({{- i18n[\'required.field\']}}):</span>\n            <input type="password" autocomplete="off" value="{{- modelAttributes.keyStorePassword }}" name="keyStorePassword">\n            <span class="message warning"></span>\n            <span class="message hint"></span>\n        </label>\n\n    </fieldset>\n\n</fieldset>\n\n<fieldset class="group">\n\n    <legend><span>{{- i18n[\'resource.dataSource.azureSql.tree\']}}</span></legend>\n\n    <button class="button action" id="updateDatabaseTree">\n        <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.updateTree\']}}<span class="icon"></span></span>\n    </button>\n\n</fieldset>\n\n<fieldset class="group">\n\n    <div class="control groupBox" style="height: 150px; margin: 0; width: 538px;">\n        <div class="content">\n            <div class="header">\n                <div class="title"></div>\n            </div>\n            <div class="body" style="height: 137px; overflow: auto; padding: 6px;">\n                <ul class="list collapsible folders hideRoot" id="azureSqlDataSourceTree" style="position: relative; height: 137px; overflow: auto; padding: 6px;"></ul>\n            </div>\n        </div>\n    </div>\n\n</fieldset>\n\n<fieldset class="group shortFields">\n\n    <label title="{{- i18n[\'resource.dataSource.azureSql.server.name.title\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.server.name\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.serverName }}" name="serverName">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.azureSql.database.name.title\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.database.name\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.dbName }}" name="dbName">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.username\']}}" class="control input text ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.username\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.username }}" name="username">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.azureSql.database.username.hint\']}}</span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.jdbc.password\']}}" class="control input password ">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.password\']}}:</span>\n        <input type="password" value="{{- modelAttributes.password }}" name="password">\n        <span class="message warning"></span>\n        <span class="message hint"></span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.azureSql.useMicrosoftDriver\']}}" class="control input checkBox">\n        <span class="wrap">{{- i18n[\'resource.dataSource.azureSql.useMicrosoftDriver\']}}\n            {{ if (!modelAttributes.microsoftDriverAvailable) { }}\n                ({{- i18n["resource.dataSource.azureSql.microsoftDriverMissing"] }})\n            {{ } }}\n            </span>\n        <input type="checkbox" name="useMicrosoftDriver" value="{{- modelAttributes.useMicrosoftDriver }}"\n            {{ if (modelAttributes.useMicrosoftDriver) { }}checked="checked"{{ } }} \n            {{ if (!modelAttributes.microsoftDriverAvailable) { }}disabled="disabled"{{ } }}>\n    </label>\n\n\n</fieldset>\n\n<fieldset class="group mediumFields">\n\n    <label title="{{- i18n[\'resource.analysisConnection.requiredURL\']}}" class="control input text">\n        <span class="wrap">{{- i18n[\'resource.dataSource.jdbc.url\']}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.connectionUrl }}" name="connectionUrl">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n[\'resource.dataSource.azureSql.connectionUrl.hint\']}}</span>\n    </label>\n\n</fieldset>'}),define("text!runtime_dependencies/js-sdk/src/common/templates/components.pickers.htm",[],function(){return'<div class="panel dialog selectFromRepository overlay moveable sizeable centered_horz centered_vert hidden">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="sizer diagonal"></div>\n\t<div class="content hasFooter">\n\t\t<div class="header mover">\n\t\t\t<div class="title">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="body">\n\t\t\t<div class="control groupBox fillParent">\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="body">\n\t\t\t\t\t\t<ul id="selectFromRepoTree"></ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="footer">\n\t\t\t<button id="selectFromRepoBtnSelect" class="button action primary up"><span class="wrap">{{- i18n["button.select"] }}</span><span class="icon"></span></button>\n\t\t\t<button id="selectFromRepoBtnCancel" class="button action up"><span class="wrap">{{- i18n["button.cancel"] }}</span><span class="icon"></span></button>\n\t\t</div>\n\t</div>\n</div>\n'}),define("dataSource/view/AzureSqlDataSourceView",["require","exports","module","underscore","runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog","../view/JdbcDataSourceView","../view/BaseDataSourceView","../model/AzureSqlDataSourceModel","../../dynamicTree/dynamicTree.utils","bundle!jasperserver_messages","bundle!jsexceptions_messages","text!../template/azureSqlSpecificTemplate.htm","text!runtime_dependencies/js-sdk/src/common/templates/components.pickers.htm","../../resource/resource.locate"],function(e,t,i){var n=e("underscore"),s=e("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog"),a=e("../view/JdbcDataSourceView"),r=e("../view/BaseDataSourceView"),o=e("../model/AzureSqlDataSourceModel"),l=e("../../dynamicTree/dynamicTree.utils"),c=e("bundle!jasperserver_messages"),d=e("bundle!jsexceptions_messages"),u=e("text!../template/azureSqlSpecificTemplate.htm"),p=e("text!runtime_dependencies/js-sdk/src/common/templates/components.pickers.htm"),h=e("../../resource/resource.locate");i.exports=a.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.aws.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.aws.page.title.edit",modelConstructor:o,events:function(){var e={};return n.extend(e,a.prototype.events),e["click #updateDatabaseTree"]="updateDatabaseTree",e},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.onModelChange)},onModelChange:function(){var e=n.keys(this.model.changedAttributes()),t=["serverName","dbName","connectionUrl"],i=this;n.each(n.intersection(e,t),function(e){i.$("[name='"+e+"']").val(i.model.get(e))})},updateDatabaseTree:function(e){e.preventDefault(),this.showAzureSqlDsTree("/")},render:function(){return this.$el.empty(),this.renderTimezoneSection(),this.renderAzureSqlSpecificSection(),this.renderTestConnectionSection(),this.initDataSourceTree(),this.options.isEditMode&&this.showAzureSqlDsTree(this.model.getFullDbTreePath()),this},showAzureSqlDsTree:function(e){this.model.validate({subscriptionId:this.model.get("subscriptionId"),keyStorePassword:this.model.get("keyStorePassword"),keyStoreUri:this.model.get("keyStoreUri")}),this.model.isValid("keyStorePassword")&&this.model.isValid("subscriptionId")&&this.azureSqlDataSourceTree.showTreePrefetchNodes(e||"/")},renderAzureSqlSpecificSection:function(){this.$el.append(n.template(u,this.templateData())),this.browseButton=h.initialize({i18n:c,template:p,resourceInput:this.$el.find("[name=keyStoreUri]")[0],browseButton:this.$el.find("[name=repositoryBrowserButton]")[0],providerId:"fileResourceBaseTreeDataProvider",dialogTitle:c["resource.Add.Files.Title"],selectLeavesOnly:!0,onChange:n.bind(function(e){this.model.set("keyStoreUri",e),this.model.validate({keyStoreUri:e})},this)})},initDataSourceTree:function(){var e=this.options.isEditMode,t=this,i={hideLoader:!0,bShowRoot:!1,treeId:"azureSqlDataSourceTree",providerId:"azureSqlDataSourceTreeDataProvider",selectLeavesOnly:!0,additionalParams:function(){return{subscriptionId:t.model.get("subscriptionId"),keyStorePassword:t.model.get("keyStorePassword"),keyStoreUri:t.model.get("keyStoreUri"),datasourceUri:t.model.get("uri")}}};this.azureSqlDataSourceTree=l.createRepositoryTree("azureSqlDataSourceTree",i),this.azureSqlDataSourceTree.httpErrorHandler=function(e){var t,i,n=!1,a=["azure.exception.datasource.recovery.public.ip.not.provided","azure.exception.datasource.recovery.firewall.rule.name.not.provided","azure.exception.datasource.recovery.server.name.not.provided","azure.exception.datasource.recovery.subscription.id.not.provided","azure.exception.datasource.recovery.key.store.file.not.provided","azure.exception.datasource.recovery.key.store.type.not.provided","azure.exception.datasource.key.error","azure.exception.datasource.auth.error","azure.exception.datasource.cannot.retrieve.database.list","azure.exception.datasource.cannot.ensure.firewall.rule","azure.exception.datasource.cannot.recover.datasource"];for(i=0;i<a.length;i++){var r=a[i];if(-1!==e.responseText.indexOf(r)){n=d[r];break}}return!!n&&(t=new s({modal:!0}),t.setMessage(n),t.open(),!0)},this.azureSqlDataSourceTree.observe("leaf:selected",function(i){var n=i.memo.node.param;if("leaf"===n.type&&!e){var s=n.extra;t.model.set({serverName:s.serverName,dbName:s.dBName,connectionUrlTemplate:s.jdbcTemplate,driverClass:s.jdbcDriver})}}),this.azureSqlDataSourceTree.observe("tree:loaded",function(){t.model.getFullDbTreePath()&&t.azureSqlDataSourceTree.openAndSelectNode(t.model.getFullDbTreePath(),function(){e=!1;var i=t.azureSqlDataSourceTree.getSelectedNode();i&&i.param&&i.param.extra&&t.model.set({connectionUrlTemplate:i.param.extra.jdbcTemplate,dbHost:i.param.extra.dnsAddress,dbPort:i.param.extra.dbPort})})})},remove:function(){this.azureSqlDataSourceTree&&this.azureSqlDataSourceTree.stopObserving(),a.prototype.remove.apply(this,arguments)}})}),define("dataSource/model/SubDataSourceModel",["require","exports","module","backbone","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","bundle!jasperserver_messages"],function(e,t,i){var n=e("backbone"),s=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),a=e("bundle!jasperserver_messages");i.exports=n.Model.extend({defaults:{id:void 0,uri:"",name:"",readOnly:!1},idAttribute:"uri",validation:{id:[{required:!0,msg:a["ReportDataSourceValidator.error.not.empty.reportDataSource.name"]},{maxLength:s.settings.NAME_MAX_LENGTH,msg:a["ReportDataSourceValidator.error.too.long.reportDataSource.name"]},{startsWithLetter:!0,msg:a["ReportDataSourceValidator.error.invalid.chars.shouldStartWithLetter"]},{containsOnlyWordCharacters:!0,msg:a["ReportDataSourceValidator.error.invalid.chars.wordCharsOnly"]}]},initialize:function(e){this.set("name",/.*\/(.+)$/.exec(e.uri)[1])}})}),define("dataSource/collection/SubDataSourceCollection",["require","exports","module","backbone","../model/SubDataSourceModel"],function(e,t,i){var n=e("backbone"),s=e("../model/SubDataSourceModel");i.exports=n.Collection.extend({model:s,hasNonReadOnlyItems:function(){return this.some(function(e){return!e.get("readOnly")})}})}),define("dataSource/model/VirtualDataSourceModel",["require","exports","module","underscore","./BaseDataSourceModel","../collection/SubDataSourceCollection","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","bundle!jasperserver_messages"],function(e,t,i){var n=e("underscore"),s=e("./BaseDataSourceModel"),a=e("../collection/SubDataSourceCollection"),r=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),o=e("bundle!jasperserver_messages");i.exports=s.extend({type:r.VIRTUAL_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,s.prototype.defaults,{subDataSources:[]}),e}(),validation:function(){var e={};return n.extend(e,s.prototype.validation,{subDataSources:[{arrayMinLength:1,msg:o["ReportDataSourceValidator.error.sub.datasources.needed"]},{fn:function(e,t,i){var s=n.map(e,function(e){return e.id.toLowerCase()}),a={},r=[];n.each(s,function(e){e in a?a[e]++:a[e]=1});for(var l in a)a[l]>1&&r.push(l);if(r.length>0)return o["ReportDataSourceValidator.error.sub.datasources.id.duplicates"].replace("{0}",r.join(", "))}},{fn:function(){for(var e=null,t=0;t<this.subDataSources.models.length;t++)this.subDataSources.models[t].isValid(!0)||(e=!0);return e}}]}),e}(),initialize:function(e,t){s.prototype.initialize.apply(this,arguments),this.subDataSources=new a(this.get("subDataSources")),this.listenTo(this.subDataSources,"change reset",this.updateSubDataSourcesArray),t.dependentResources&&t.dependentResources.length>0&&this.subDataSources.forEach(function(e){e.set("readOnly",!0)})},updateSubDataSourcesArray:function(){this.set("subDataSources",this.subDataSources.toJSON())}})}),define("components/components.dependent.dialog",["require","exports","module","./components.dialogs","underscore","../core/core.layout","./list.base","runtime_dependencies/js-sdk/src/common/util/xssUtil","jquery"],function(e,t,i){var n=e("./components.dialogs"),s=e("underscore"),a=e("../core/core.layout"),r=e("./list.base"),o=r.dynamicList,l=e("runtime_dependencies/js-sdk/src/common/util/xssUtil"),c=e("jquery");n.dependentResources={dependenciesPanel:null,show:function(e,t,i){this.dependenciesPanel=c("#dependencies"),this._$title=this.dependenciesPanel.find(".content .header .title"),i.dialogTitle&&(this._titleBackup=this._$title.html(),this._$title.html(i.dialogTitle)),n.popup.show(this.dependenciesPanel[0]),this._changeMessage(i),this._switchButtons(i);var a=this._initList(e);this.dependenciesPanel.on("click",function(e){var i=c(e.target).closest("button").attr("id"),r=t&&t[i];s.include(["dependenciesBtnSave","dependenciesBtnSaveAs","dependenciesBtnOk","dependenciesBtnCancel"],i)&&(n.dependentResources.hide(),a.setItems([]),e.stopPropagation(),r&&r())})},hide:function(){this.dependenciesPanel&&(this.dependenciesPanel.off("click"),n.popup.hide(this.dependenciesPanel[0]),this.dependenciesPanel=null),this._titleBackup&&this._$title&&(this._$title.html(this._titleBackup),this._titleBackup=null)},_changeMessage:function(e){c("#topMessage").html(e.topMessage),c("#bottomMessage").html(e.bottomMessage)},_initList:function(e){var t=new o.List("dependenciesList",{listTemplateDomId:"tabular_oneColumn",itemTemplateDomId:"tabular_oneColumn:leaf"}),i=[];return e&&(i=e.collect(function(e){var t=new o.ListItem({cssClassName:a.LEAF_CLASS,value:e});return t.processTemplate=function(e){var t,i=e.select(".uri")[0];return t="string"==typeof this.getValue()?this.getValue():this.getValue().uristring?this.getValue().uristring:this.getValue().URIString,i.update(l.hardEscape(t)),e},t})),t.setItems(i),t.show(),t},_switchButtons:function(e){var t,i={save:c("#dependenciesBtnSave"),saveAs:c("#dependenciesBtnSaveAs"),ok:c("#dependenciesBtnOk"),cancel:c("#dependenciesBtnCancel")};t=e.buttons?e.buttons:e.okOnly?["ok"]:e.canSave?["save","saveAs","cancel"]:["ok","cancel"],s.each(i,function(e,i){t.indexOf(i)<0?e.addClass("hidden"):e.removeClass("hidden")})}},i.exports=n.dependentResources}),define("text!dataSource/template/virtualSpecificTemplate.htm",[],function(){return'<fieldset class="group">\n\n    <js-templateNonce></js-templateNonce>\n    <input type="hidden" name="subDataSources" value=""/>\n    <span class="message warning"></span>\n</fieldset>\n<fieldset class="group">\n    <div style="position:relative" class="content" id="dataSourcesSelector">\n        <div class="body twoColumn_equal pickWells" id="subDsSelectionContainer">\n            <div class="moveButtons" id="moveButtons">\n                <button title="{{- i18n[\'resource.moveRight\'] }}" class="button action square move right up"\n                        disabled="disabled" name="toRight"><span class="wrap">{{- i18n["resource.moveRight"] }}<span\n                        class="icon"></span></span></button>\n                <button title="{{- i18n[\'resource.moveLeft\'] }}" class="button action square move left up"\n                        disabled="disabled" name="toLeft"><span class="wrap">{{- i18n["resource.moveLeft"] }}<span\n                        class="icon"></span></span></button>\n                <button title="{{- i18n[\'resource.moveAllLeft\'] }}" class="button action square move toLeft up"\n                        disabled="disabled" name="allToLeft"><span class="wrap">{{- i18n["resource.moveAllLeft"] }}<span\n                        class="icon"></span></span></button>\n            </div>\n\n            <div class="column secondary" id="availableDataSources">\n                <label for="subDataSourcesTree" class="control">\n                    <span class="wrap">{{- i18n["resource.dataSource.virtual.availableDataSources"] }}</span>\n                    <br>\n\n                    <div class="control groupBox">\n                        <div class="content ">\n                            <div class="header ">\n                                <div class="title"></div>\n                            </div>\n                            <div class="body  ">\n                                <ul class="list collapsible folders" id="subDataSourcesTree"></ul>\n                            </div>\n                        </div>\n                    </div>\n                </label>\n            </div>\n\n            <div class="column primary" id="selectedDataSources">\n                <label for="selectedSubDataSourcesList" class="control">\n                    <span class="wrap">{{- i18n["resource.dataSource.virtual.selectedDataSources"] }}</span>\n                    <br>\n\n                    <div class="content">\n                        <ul class="list tabular twoColumn header" id="selectedDataSourcesHeader">\n                            <li>\n                                <div class="wrap">\n                                    <div class="column one">\n                                        <p class="dataSourceName">{{- i18n["resource.dataSource.name"] }}</p>\n                                    </div>\n                                    <div class="column two">\n                                        <p class="dataSourceID">{{- i18n["resource.dataSource.virtual.subDsId"] }}</p>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                        <div id="selectedSubDataSourcesListContainer">\n                            <ol class="list tabular twoColumn" id="selectedSubDataSourcesList"></ol>\n                        </div>\n                    </div>\n                </label>\n            </div>\n        </div>\n    </div>\n</fieldset>'}),define("text!dataSource/template/dialog/dependenciesTemplate.htm",[],function(){return'<div id="dependencies" class="panel dialog overlay dependencies sizeable moveable hidden centered_vert centered_horz">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="sizer diagonal"></div>\n    <div class="content hasFooter ">\n        <div class="header mover">\n            <div class="title">{{- i18n["dialog.dependencies.title"] }}</div>\n        </div>\n        <div class="body">\n            <p id="topMessage"></p>\n\n            <div class="control groupBox">\n                <ul id="dependenciesList"></ul>\n            </div>\n            <p id="bottomMessage" class="saveMessage"></p>\n        </div>\n        <div class="footer ">\n            <button id="dependenciesBtnSave" class="button action primary up">\n                <span class="wrap">{{- i18n["button.save"] }}</span>\n                <span class="icon"></span>\n            </button>\n            <button id="dependenciesBtnSaveAs" class="button action primary up">\n                <span class="wrap">{{- i18n["button.saveAs"] }}</span>\n                <span class="icon"></span>\n            </button>\n            <button id="dependenciesBtnOk" class="button action primary up">\n                <span class="wrap">{{- i18n["button.ok"] }}</span>\n                <span class="icon"></span>\n            </button>\n            <button id="dependenciesBtnCancel" class="button action up">\n                <span class="wrap">{{- i18n["button.cancel"] }}</span>\n                <span class="icon"></span>\n            </button>\n        </div>\n    </div>\n</div>'}),define("text!dataSource/template/subDataSourceItemTemplate.htm",[],function(){return'<li class="leaf">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="wrap button {{ if (readOnly) { }}disabled{{ } }}">\n        <div class="column one">\n            <p class="dataSourceName">{{- name }}</p>\n        </div>\n        <div class="column two">\n            <input type="text" size="30" class="dataSourceID" value="{{- id }}" {{ if (readOnly) { }}readonly="true"{{ } }}>\n            <div class="wrap validatorMessageContainer">\n                <span class="message warning"></span>\n            </div>\n        </div>\n    </div>\n</li>'}),define("dataSource/view/SubDataSourceItemView",["require","exports","module","backbone","jquery","../../core/core.layout","../../components/list.base","text!../template/subDataSourceItemTemplate.htm","runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"],function(e,t,i){var n=e("backbone"),s=e("jquery"),a=e("../../core/core.layout"),r=e("../../components/list.base"),o=r.dynamicList,l=e("text!../template/subDataSourceItemTemplate.htm"),c=e("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension");i.exports=n.View.extend({events:{"keyup input[type='text']":"updateDataSourceId","change input[type='text']":"updateDataSourceId"},initialize:function(e){var t=this.model.toJSON();this._listItem=new o.UnderscoreTemplatedListItem({template:l,cssClassName:a.LEAF_CLASS,value:t,tooltipText:this.model.get("uri")}),c.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0})},updateDataSourceId:function(e){var t=this.$("input[type='text']"),i={};i.id=s.trim(t.val()),this.model.set(i),this.model.validate(i),this._listItem.setValue(this.model.toJSON())},getListItem:function(){return this._listItem},setRootElement:function(){this.setElement(this._listItem._getElement())},fieldIsValid:function(e,t,i){var n=e.$("input[type='text']").parent();n.removeClass("error"),n.find(".validatorMessageContainer").removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(e,t,i,n){var s=e.$("input[type='text']").parent();s.addClass("error"),s.find(".validatorMessageContainer").addClass("error"),s.find(".message.warning").text(i)}})}),define("text!dataSource/template/subDataSourcesListTemplate.htm",[],function(){return'<ul id="selectedDataSourcesTemplate" class="list tabular twoColumn">\n\n    <js-templateNonce></js-templateNonce>\n</ul>'}),define("dataSource/view/SubDataSourcesListView",["require","exports","module","backbone","underscore","../../components/list.base","../view/SubDataSourceItemView","runtime_dependencies/js-sdk/src/common/util/featureDetection","text!../template/subDataSourcesListTemplate.htm","../../util/utils.common"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("../../components/list.base"),r=a.dynamicList,o=e("../view/SubDataSourceItemView"),l=e("runtime_dependencies/js-sdk/src/common/util/featureDetection"),c=e("text!../template/subDataSourcesListTemplate.htm"),d=e("../../util/utils.common"),u=d.disableSelectionWithoutCursorStyle,p=d.enableSelection;i.exports=n.View.extend({events:{"blur input.dataSourceID":"disableSelection","focus input.dataSourceID":"enableSelection"},initialize:function(e){this.options=e,this.subviews=[],this._list=new r.UnderscoreTemplatedList("selectedSubDataSourcesList",{template:c,dragPattern:"",multiSelect:!0,selectOnMousedown:!l.supportsTouch}),this._list.observe("item:unselected",s.bind(this._itemUnselected,this)),this._list.observe("item:selected",s.bind(this._itemSelected,this)),this.setElement("#selectedSubDataSourcesList",!1),this.listenTo(this.collection,"reset",this.render)},disableSelection:function(){u(this._list._getElement())},enableSelection:function(){p(this._list._getElement())},_itemUnselected:function(e){var t=this.getSubviewByListItem(e.memo.item),i=t?t.model:null;this.trigger("item:unselected",i)},_itemSelected:function(e){var t=this.getSubviewByListItem(e.memo.item),i=t?t.model:null;this.trigger("item:selected",i)},render:function(e,t){this._list.resetSelected();var i=[],n=[],a=[],r=!1,l=this.collection.map(function(e){return e.get("uri")}),c=this;if(t&&t.previousModels&&(a=s.map(t.previousModels,function(e){return e.get("uri")}),s.each(t.previousModels,function(e){s.include(l,e.get("uri"))||n.push(e)}),r=!0),this.collection.forEach(function(e){s.include(a,e.get("uri"))||i.push(e)}),i.length){if(s.each(i,function(e){var t=new o({model:e});c.subviews.push(t),c._list.addItems([t.getListItem()]),c._list.show()}),this._list.show(),r){var d=s.compact(s.map(i,s.bind(c.getSubviewByModel,c)));s.each(d,function(e){c._list.selectItem(e.getListItem(),!0)})}s.each(this.subviews,function(e){s.defer(s.bind(e.setRootElement,e))})}return n.length&&(s.each(n,function(e){c.removeSubview(e)}),this._list.show()),this},getSubviewByModel:function(e){return s.find(this.subviews,function(t){return t.model===e})},getList:function(){return this._list},getListLength:function(){return this._list._items.length},getSelectedModels:function(){var e=this._list.getSelectedItems(),t=s.compact(s.map(e,s.bind(this.getSubviewByListItem,this)));return s.map(t,function(e){return e.model})},getSubviewByListItem:function(e){return s.find(this.subviews,function(t){return t.getListItem()===e})},removeSubview:function(e){var t=this.getSubviewByModel(e);t&&(this._list.removeItems([t.getListItem()]),t.remove(),this._list.show())},removeSubviews:function(){var e=s.map(this.subviews,function(e){return e.getListItem()});this._list.removeItems(e),s.invoke(this.subviews,"remove")},remove:function(){this.removeSubviews(),n.View.prototype.remove.apply(this,arguments)}})}),define("dataSource/view/VirtualDataSourceView",["require","exports","module","underscore","../view/BaseDataSourceView","../model/VirtualDataSourceModel","../model/SubDataSourceModel","../../dynamicTree/dynamicTree.utils","../../components/components.dependent.dialog","bundle!jasperserver_messages","text!../template/virtualSpecificTemplate.htm","text!../template/dialog/dependenciesTemplate.htm","../view/SubDataSourcesListView"],function(e,t,i){var n=e("underscore"),s=e("../view/BaseDataSourceView"),a=e("../model/VirtualDataSourceModel"),r=e("../model/SubDataSourceModel"),o=e("../../dynamicTree/dynamicTree.utils"),l=e("../../components/components.dependent.dialog"),c=e("bundle!jasperserver_messages"),d=e("text!../template/virtualSpecificTemplate.htm"),u=e("text!../template/dialog/dependenciesTemplate.htm"),p=e("../view/SubDataSourcesListView");i.exports=s.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.virtual.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.virtual.page.title.edit",hasDependedResources:!1,modelConstructor:a,events:{"keyup input[type='text'][class!='dataSourceID'], textarea":"updateModelProperty","change input[type='text'][class!='dataSourceID'], textarea, select":"updateModelProperty","click [name=toRight]":"chooseTreeNodes","click [name=toLeft]":"removeSelectedSubDataSources","click [name=allToLeft]":"removeAllSubDataSources"},initialize:function(e){this.dependentResources=e.dependentResources,this._subDataSourcesHiddenNodes={},this.dependentResources&&this.dependentResources.length>0&&(this.hasDependedResources=!0),s.prototype.initialize.apply(this,arguments),this.showDependentResources(),this.listenTo(this.model.subDataSources,"reset",this.updateAllToLeftButtonState)},chooseTreeNodes:function(e){e.preventDefault(),this.$("[name=toRight]").attr("disabled","disabled").removeClass("over");var t=this.subDataSourcesTree.selectedNodes,i=n.compact(n.map(t,function(e){return e?new r({name:e.name,id:e.param.id,uri:e.param.uri,readOnly:!1}):null}));this.model.subDataSources.reset(this.model.subDataSources.models.concat(i));var s=n.map(t,function(e){return e.param.uri});this._hideAvailableSubDataSources(s)},removeAllSubDataSources:function(e){if(e.preventDefault(),!this.hasDependedResources){this.subDataSourcesTree._deselectAllNodes();var t=this;this.model.subDataSources.forEach(function(e){t._unhideAvailableSubDataSources(e.get("uri"))}),this.model.subDataSources.reset([]),this.updateRightButtonState()}},removeSelectedSubDataSources:function(e){e.preventDefault(),this.subDataSourcesTree._deselectAllNodes();var t=this.selectedSubDataSourcesList.getSelectedModels(),i=this,s=[];n.each(t,function(e){i._unhideAvailableSubDataSources(e.get("uri"))}),this.model.subDataSources.forEach(function(e){n.include(t,e)||s.push(e)}),this.model.subDataSources.reset(s),this.updateRightButtonState()},updateAllToLeftButtonState:function(){this.hasDependedResources||0===this.selectedSubDataSourcesList.getListLength()?this.$("[name=allToLeft]").attr("disabled","disabled").removeClass("over"):this.$("[name=allToLeft]").removeAttr("disabled")},updateRightButtonState:function(){for(var e=this.$("[name=toRight]"),t=this.subDataSourcesTree.selectedNodes,i=!1,n=!1,s=0;s<t.length;s++){if(t[s].isParent()||this.model.subDataSources.where({uri:t[s].param.uri}).length){n=!0;break}i=!0}i&&!n?e.removeAttr("disabled"):e.attr("disabled","disabled").removeClass("over")},updateLeftButtonState:function(){var e=this.selectedSubDataSourcesList.getSelectedModels(),t=this.$("[name=toLeft]");e.length>0?t.removeAttr("disabled"):t.attr("disabled","disabled").removeClass("over")},render:function(){return this.$el.empty(),this.renderVirtualSpecificSection(),this.updateAllToLeftButtonState(),this},showDependentResources:function(){
this.hasDependedResources&&l.show(this.dependentResources,{},{canSave:!1,okOnly:!0,topMessage:c["resource.dataSource.virtual.dependencies.top.message"],bottomMessage:c["resource.dataSource.virtual.dependencies.bottom.message"]})},renderVirtualSpecificSection:function(){var e=this,t=function(){e._hideAvailableSubDataSources(e.model.subDataSources.map(function(e){return e.get("uri")}))};this.$el.append(n.template(d,this.templateData())),this.$el.append(n.template(u,this.templateData())),this.selectedSubDataSourcesList=new p({collection:this.model.subDataSources}),this.listenTo(this.selectedSubDataSourcesList,"item:unselected item:selected",n.bind(this.updateLeftButtonState,this)),this.selectedSubDataSourcesList.render(),this.subDataSourcesTree=o.createRepositoryTree("subDataSourcesTree",{treeId:"subDataSourcesTree",providerId:"joinableDsTreeDataProvider",selectLeavesOnly:!0,multiSelectEnabled:!0}),this.subDataSourcesTree.observe("leaf:dblclick",n.bind(this.chooseTreeNodes,this)),this.subDataSourcesTree.observe("node:selected",n.bind(this.updateRightButtonState,this)),this.subDataSourcesTree.observe("node:unselected",n.bind(this.updateRightButtonState,this)),this.subDataSourcesTree.observe("leaf:selected",n.bind(this.updateRightButtonState,this)),this.subDataSourcesTree.observe("leaf:unselected",n.bind(this.updateRightButtonState,this)),this.subDataSourcesTree.observe("children:loaded",t),this.subDataSourcesTree.showTreePrefetchNodes(this.model.subDataSources.map(function(e){return e.get("uri")}).join(","),t)},_hideAvailableSubDataSources:function(e){var t=this;if(n.isArray(e))n.each(e,function(e){t._hideAvailableSubDataSources(e)});else{var i=this.subDataSourcesTree.findLastLoadedNode(e);if(i&&i.param.uri===e){this._subDataSourcesHiddenNodes[e]={parent:i.parent,child:i};var s=i.parent;s.removeChild(i),s.resortChilds()}}},_unhideAvailableSubDataSources:function(e){function t(e,t){e.processNodePath(t,function(i){i.parent&&(e.rootNode!=i.parent&&e.getState(i.parent.id)==o.TreeNode.State.CLOSED&&i.parent.handleNode(),i.param.uri===t&&i.select())})}var i=this,s=[];n.each(n.isArray(e)?e:[e],function(e){var n=i._subDataSourcesHiddenNodes[e];n?(n.parent.addChild(n.child),n.parent.resortChilds(),n.parent.refreshNode(),t(i.subDataSourcesTree,e)):s.push(e)}),s.length&&this.subDataSourcesTree.showTreePrefetchNodes(s.join(","),function(){n.each(s,n.bind(t,this,i.subDataSourcesTree))})},remove:function(){this.selectedSubDataSourcesList&&this.selectedSubDataSourcesList.remove(),s.prototype.remove.apply(this,arguments)}})}),define("dataSource/model/BeanDataSourceModel",["require","exports","module","underscore","./BaseDataSourceModel","../enum/connectionTypes","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","bundle!jasperserver_messages"],function(e,t,i){var n=e("underscore"),s=e("./BaseDataSourceModel"),a=e("../enum/connectionTypes"),r=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),o=e("bundle!jasperserver_messages");i.exports=s.extend({type:r.BEAN_DATA_SOURCE,defaults:function(){var e={};return n.extend(e,s.prototype.defaults,{beanName:"",beanMethod:"",connectionType:a.BEAN}),e}(),validation:function(){var e={};return n.extend(e,s.prototype.validation,{beanName:[{required:!0,msg:o["ReportDataSourceValidator.error.not.empty.reportDataSource.beanName"]}],beanMethod:[{required:!0,msg:o["ReportDataSourceValidator.error.not.empty.reportDataSource.beanMethod"]}]}),e}()})}),define("text!dataSource/template/beanSpecificTemplate.htm",[],function(){return'<fieldset class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n\n    <legend class="offLeft"><span></span></legend>\n\n    <label title="{{- i18n[\'resource.dataSource.bean.name\'] }}" class="control input text">\n        <span class="wrap">{{- i18n["resource.dataSource.bean.name"]}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.beanName }}" name="beanName">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n["resource.dataSource.bean.hint1"]}}</span>\n    </label>\n\n    <label title="{{- i18n[\'resource.dataSource.bean.method\'] }}" class="control input text">\n        <span class="wrap">{{- i18n["resource.dataSource.bean.method"]}} ({{- i18n[\'required.field\']}}):</span>\n        <input type="text" value="{{- modelAttributes.beanMethod }}" name="beanMethod">\n        <span class="message warning"></span>\n        <span class="message hint">{{- i18n["resource.dataSource.bean.hint2"]}}</span>\n    </label>\n\n</fieldset>'}),define("dataSource/view/BeanDataSourceView",["require","exports","module","underscore","../view/BaseDataSourceView","../model/BeanDataSourceModel","text!../template/beanSpecificTemplate.htm"],function(e,t,i){var n=e("underscore"),s=e("../view/BaseDataSourceView"),a=e("../model/BeanDataSourceModel"),r=e("text!../template/beanSpecificTemplate.htm");i.exports=s.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.bean.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.bean.page.title.edit",modelConstructor:a,render:function(){return this.$el.empty(),this.renderBeanSpecificSection(),this.renderTestConnectionSection(),this},renderBeanSpecificSection:function(){this.$el.append(n.template(r,this.templateData()))}})}),define("text!dataSource/template/mongoDbSpecificTemplate.htm",[],function(){return'<fieldset name="customFieldsContainer" class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n\n\t<legend class="offLeft"><span>Access Properties</span></legend>\n\n\n\n\n\t<label title="MongoDB URI (required)" class="control input text">\n\t\t<span class="wrap">{{- i18n[\'MongoDbDataSource.properties.mongoURI\'] }} ({{- i18n[\'required.field\']}}):</span>\n\t\t<input name="mongoURI" type="text" size="40" class="fnormal" value="{{- modelAttributes.mongoURI }}">\n\t\t<span class="message hint"></span>\n\t\t<span class="message warning"></span>\n\t</label>\n\n\n\t<label title="User Name (optional)" class="control input text">\n\t\t<span class="wrap">{{- i18n[\'MongoDbDataSource.properties.username\'] }} ({{- i18n[\'optional.field\']}}):</span>\n\t\t<input name="username" type="text" size="40" class="fnormal" value="{{- modelAttributes.username }}">\n\t\t<span class="message hint"></span>\n\t\t<span class="message warning"></span>\n\t</label>\n\n\t<label title="Password (optional)" class="control input text">\n\t\t<span class="wrap">{{- i18n[\'MongoDbDataSource.properties.password\'] }} ({{- i18n[\'optional.field\']}}):</span>\n\t\t<input name="password" type="password" size="40" class="fnormal" value="{{- modelAttributes.password }}">\n\t\t<span class="message hint"></span>\n\t\t<span class="message warning"></span>\n\t</label>\n\n</fieldset>'}),define("dataSource/view/MongoDbDataSourceView",["require","exports","module","underscore","../view/CustomDataSourceView","text!../template/mongoDbSpecificTemplate.htm"],function(e,t,i){var n=e("underscore"),s=e("../view/CustomDataSourceView"),a=e("text!../template/mongoDbSpecificTemplate.htm");i.exports=s.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.mongo.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.mongo.page.title.edit",render:function(){return this.$el.empty(),this.renderMongoDbSpecificSection(),this.renderTestConnectionSection(),this},renderMongoDbSpecificSection:function(){this.$el.append(n.template(a,this.templateData()))}})}),define("dataSource/enum/mongoJdbcFileSourceTypes",["require","exports","module"],function(e,t,i){i.exports={REPOSITORY:{name:"repository",label:"resource.datasource.text.fileLocation.options.repository"},SERVER_FILE_SYSTEM:{name:"serverFileSystem",label:"resource.datasource.text.fileLocation.options.serverFileSystem"}}}),define("restResource",["require","request","requestSettings","underscore","runtime_dependencies/js-sdk/src/jrs.configs"],function(e){"use strict";var t=e("request"),i=e("requestSettings"),n=e("underscore"),s=e("runtime_dependencies/js-sdk/src/jrs.configs"),a=s.contextPath+"/rest_v2/",r=function(e,s){var r=n.extend({},i,{type:"GET",dataType:"json",url:a+e});t(r).fail(function(){s(null)}).then(function(e){s(e)})};return r.load=function(e,t,i,n){if(n.isBuild)return void i();r(e,i)},r}),define("dataSource/model/MongoDbJdbcDataSourceModel",["require","exports","module","underscore","./CustomDataSourceModel","../enum/mongoJdbcFileSourceTypes","restResource!hypermedia/workflows?parentName=admin","bundle!jasperserver_messages"],function(e,t,i){var n=e("underscore"),s=e("./CustomDataSourceModel"),a=e("../enum/mongoJdbcFileSourceTypes"),r=e("restResource!hypermedia/workflows?parentName=admin"),o=e("bundle!jasperserver_messages"),l=s.extend({fileTypes:["pdf","config"],defaults:function(){var e={};return n.extend(e,s.prototype.defaults,{dataSourceName:"mongoDbJDBCDataSource",fileSourceType:"repository",timeZone:""}),e}(),validation:function(){var e={};return n.extend(e,s.prototype.validation,{serverAddress:[{required:!0,msg:o["ReportDataSourceValidator.error.not.empty.host"]}],portNumber:[{required:!0,msg:o["ReportDataSourceValidator.error.not.empty.server.port"]}],repositoryFileName:[{fn:function(e,t,i){return!i.autoSchemaDefinition&&"repository"===i.fileSourceType&&(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e)?o["fillParameters.error.mandatoryField"]:null}},{fn:function(e,t,i){return i.autoSchemaDefinition||"repository"!==i.fileSourceType||n.isString(e)&&""!==e&&0===e.indexOf("/")?null:o["resource.file.invalid.path"]}}],serverFileName:[{fn:function(e,t,i){return!i.autoSchemaDefinition&&"serverFileSystem"===i.fileSourceType&&(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e)?o["fillParameters.error.mandatoryField"]:null}}]}),e}(),isLocalFileSystemAccessAllowed:function(){return r&&r._embedded&&r._embedded.workflow&&n.find(r._embedded.workflow,function(e){return"serverSettings"===e.name})},parse:function(){var e=s.prototype.parse.apply(this,arguments);if(n.isString(e.fileName)){if(-1!==e.fileName.indexOf("repo:")){var t=e.fileName.split(":");e.fileSourceType=a.REPOSITORY.name,e.repositoryFileName=t[1]}else e.fileSourceType=a.SERVER_FILE_SYSTEM.name,e.serverFileName=e.fileName;delete e.fileName,e.autoSchemaDefinition=!1}else e.autoSchemaDefinition=!0;return e.timezone=e.timeZone,delete e.timeZone,e},toJSON:function(){var e=s.prototype.toJSON.apply(this,arguments);return e.fileName=e.serverFileName,e},customFieldsToJSON:function(e,t){return e.fileSourceType===a.REPOSITORY.name?e.fileName="repo:"+e.repositoryFileName:e.fileSourceType===a.SERVER_FILE_SYSTEM.name&&(e.fileName=e.serverFileName),delete e.repositoryFileName,delete e.serverFileName,e.autoSchemaDefinition&&(delete e.fileName,delete e.fileSourceType),delete e.autoSchemaDefinition,e.timeZone=e.timezone,delete e.timezone,e=s.prototype.customFieldsToJSON.call(this,e,t)},resetValidation:function(){this.validation=n.clone(l.prototype.validation)}});i.exports=l}),define("text!dataSource/template/mongoDbJdbcSpecificTemplate.htm",[],function(){return'<fieldset class="group shortFields mongoDbJdbcSpecificFields">\n\n    <js-templateNonce></js-templateNonce>\n\n\t<legend class="offLeft"><span></span></legend>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.host\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.host"]}} ({{- i18n[\'required.field\']}}):</span>\n\t\t<input type="text" value="{{- modelAttributes.serverAddress }}" name="serverAddress">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.port.number\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.port.number"]}} ({{- i18n[\'required.field\']}}):</span>\n\t\t<input type="text" value="{{- modelAttributes.portNumber }}" name="portNumber">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.database.name\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.database.name"]}}:</span>\n\t\t<input type="text" value="{{- modelAttributes.database }}" name="database">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.user.name\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.user.name"]}}:</span>\n\t\t<input type="text" value="{{- modelAttributes.username }}" name="username">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.password\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.password"]}}:</span>\n\t\t<input type="password" value="{{- modelAttributes.password }}" name="password">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.connection.options\'] }}" class="control input text">\n\t\t<span class="wrap">{{- i18n["resource.datasource.mongoJdbc.connection.options"]}}:</span>\n\t\t<input type="text" value="{{- modelAttributes.connectionOptions }}" name="connectionOptions">\n\t\t<span class="message warning"></span>\n\t\t<span class="message hint"></span>\n\t</label>\n\n\t<div class="control checkBox">\n\t\t<label for="__jrs_autoSchemaDefinitionCheckbox" title="{{- i18n[\'resource.datasource.mongoJdbc.schema.auto.generate\']}}" class="wrap">\n\t\t\t{{- i18n[\'resource.datasource.mongoJdbc.schema.auto.generate\']}}\n\t\t</label>\n\t\t<input type="checkbox" id="__jrs_autoSchemaDefinitionCheckbox" name="autoSchemaDefinition" {{ if (modelAttributes.autoSchemaDefinition) { }}checked{{ } }} {{- isEditMode ? \'disabled=disabled\' : \'\'}} >\n\t</div>\n\n\t<div name="fileLocationContainer" class="section"></div>\n</fieldset>'}),define("text!dataSource/template/mongoDbJdbcFileLocationSectionTemplate.htm",[],function(){return'<div name="fileLocationContainer" class="">\n\n    <js-templateNonce></js-templateNonce>\n\n\t{{ if (_.keys(fileSourceTypeOptions).length > 1) { }}\n\t<div class="">\n\t\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.source\'] }}" class="control select">\n\t\t\t<span class="wrap">{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.source\'] }}:</span>\n\t\t\t<select id="fileSourceSelect" name="fileSourceType" {{- (isEditMode || modelAttributes.autoSchemaDefinition) ? \'disabled=disabled\' : \'\'}}>\n\t\t\t{{ _.each(fileSourceTypeOptions, function(item) { }}\n\t\t\t\t<option value="{{- item.name }}" {{- (item.name == modelAttributes.fileSourceType) ? "selected=selected" : "" }} > {{- i18n[item.label] }}</option>\n\t\t\t{{ }); }}\n\t\t\t</select>\n\t\t\t<span class="message warning"></span>\n\t\t</label>\n\t</div>\n    {{ } }}\n\n\t{{ if (modelAttributes.fileSourceType === "repository") { }}\n\n\t<div id="repositoryInput" class="">\n\t\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.repository.fileLocation\']}}" class="control input text">\n\t\t\t<span class="wrap">{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.repository.fileLocation\']}}{{ if (!modelAttributes.autoSchemaDefinition) { }} ({{- i18n[\'required.field\']}}){{ } }}:</span>\n\t\t\t<input type="text" value="{{- modelAttributes.repositoryFileName }}" name="repositoryFileName" {{- (isEditMode || modelAttributes.autoSchemaDefinition) ? \'disabled=disabled\' : \'\'}}>\n\t\t\t<button class="button action" type="button" name="repositoryBrowserButton"  {{- isEditMode || modelAttributes.autoSchemaDefinition ? \'disabled=disabled\' : \'\'}}>\n\t\t\t       <span class="wrap">{{- i18n[\'dialog.file.browse\'] }}...<span class="icon"></span></span>\n\t\t\t</button>\n\t\t\t<span class="message warning"></span>\n\t\t</label>\n\t</div>\n\n\t{{ } else { }}\n\n\t<div id="serverInput" class="">\n\t\t<label title="{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.serverFileSystem.fileLocation\']}}" class="control browser">\n\t\t\t<span class="wrap">{{- i18n[\'resource.datasource.mongoJdbc.fileLocation.serverFileSystem.fileLocation\']}}{{ if (!modelAttributes.autoSchemaDefinition) { }} ({{- i18n[\'required.field\']}}){{ } }}:</span>\n\t\t\t<input type="text" value="{{- modelAttributes.serverFileName }}" name="serverFileName" {{- (isEditMode || modelAttributes.autoSchemaDefinition) ? \'disabled=disabled\' : \'\'}}>\n\t\t\t<span class="message warning"></span>\n\t\t</label>\n\t</div>\n\n\t{{ } }}\n</div>'}),define("dataSource/view/MongoDbJdbcDataSourceView",["require","exports","module","underscore","jquery","bundle!all","../../resource/resource.locate","../enum/mongoJdbcFileSourceTypes","../view/CustomDataSourceView","../model/MongoDbJdbcDataSourceModel","text!../template/mongoDbJdbcSpecificTemplate.htm","text!../template/mongoDbJdbcFileLocationSectionTemplate.htm","text!runtime_dependencies/js-sdk/src/common/templates/components.pickers.htm"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("bundle!all"),r=e("../../resource/resource.locate"),o=e("../enum/mongoJdbcFileSourceTypes"),l=e("../view/CustomDataSourceView"),c=e("../model/MongoDbJdbcDataSourceModel"),d=e("text!../template/mongoDbJdbcSpecificTemplate.htm"),u=e("text!../template/mongoDbJdbcFileLocationSectionTemplate.htm"),p=e("text!runtime_dependencies/js-sdk/src/common/templates/components.pickers.htm");i.exports=l.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.mongoJdbc.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.mongoJdbc.page.title.edit",modelConstructor:c,browseButton:!1,events:function(){var e=n.extend({},l.prototype.events);return e["change [name=fileSourceType]"]="changeFileSourceType",e["change [name=autoSchemaDefinition]"]="changeAutoSchemaDefinition",e},initialize:function(e){l.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:serverFileName",this.adjustFileSystemConnectButton)},changeFileSourceType:function(){n.defer(n.bind(function(){this.renderFileLocationSection()},this))},changeAutoSchemaDefinition:function(){n.defer(n.bind(function(){this.renderFileLocationSection()},this))},render:function(){return this.$el.empty(),this.renderMongoDbSpecificSection(),this.renderFileLocationSection(),this.renderTimezoneSection(),this.renderTestConnectionSection(),this.$el.find("[name=serverAddress]").focus(),this},validationMethodOnSaveClick:function(e){!this.model.get("parentFolderUri")&&this.model.set("parentFolderUri","/"),!this.model.get("label")&&this.model.set("label",s("[name=dataSourceType] option:selected").text());var t=this;this.model.save({},{dryRun:!0}).fail(function(e){var i=!1;try{i=JSON.parse(e.responseText)}catch(e){}var s=n.isArray(i)?i:[i];n.each(s,function(e){e&&e.errorCode&&e.parameters&&("illegal.parameter.value.error"===e.errorCode&&"resourceReference.uri"===e.parameters[0]?t.fieldIsInvalid(t,"repositoryFileName",a["resource.file.invalid.path"],"name"):"invalid.server.file.system.path"===e.errorCode&&"textDataSource.propertyMap[fileName]"===e.parameters[0]&&t.fieldIsInvalid(t,"serverFileName",a["resource.file.invalid.path"],"name"))})}).done(e)},templateData:function(){var e=n.extend({},o);return this.model.isLocalFileSystemAccessAllowed()||delete e.SERVER_FILE_SYSTEM,n.extend(l.prototype.templateData.apply(this,arguments),{fileSourceTypeOptions:e})},renderMongoDbSpecificSection:function(){this.$el.append(n.template(d,this.templateData()))},renderFileLocationSection:function(){this.renderOrAddAnyBlock(this.$el.find("[name=fileLocationContainer]"),n.template(u,this.templateData())),this.browseButton&&(this.browseButton.remove(),this.browseButton=!1),"repository"!==this.model.get("fileSourceType")||this.model.get("autoSchemaDefinition")||(this.browseButton=r.initialize({i18n:a,template:p,resourceInput:this.$el.find("[name=repositoryFileName]")[0],browseButton:this.$el.find("[name=repositoryBrowserButton]")[0],providerId:"fileResourceBaseTreeDataProvider",dialogTitle:a["resource.Add.Files.Title"],selectLeavesOnly:!0,onChange:n.bind(function(e){this.model.set("repositoryFileName",e),this.model.validate({repositoryFileName:e})},this)}))}})}),define("text!dataSource/template/InternalDiagnosticTemplate.htm",[],function(){return'<fieldset name="customFieldsContainer" class="group shortFields">\n\n    <js-templateNonce></js-templateNonce>\n\t{{- i18n["resource.datasource.internalDiagnostic.line1"] }}\n\t<br/>\n\t{{- i18n["resource.datasource.internalDiagnostic.line2"] }}\n\t<br/>\n\t{{- i18n["resource.datasource.internalDiagnostic.line3"] }}\n\t<br/>\n\t<br/>\n\t<strong>{{- i18n["resource.datasource.internalDiagnostic.line4"] }}</strong>\n</fieldset>'}),define("dataSource/view/DiagnosticCustomDataSourceView",["require","exports","module","../view/BaseDataSourceView","underscore","bundle!all","../model/CustomDataSourceModel","text!../template/InternalDiagnosticTemplate.htm"],function(e,t,i){var n=e("../view/BaseDataSourceView"),s=e("underscore"),a=e("bundle!all"),r=e("../model/CustomDataSourceModel"),o=e("text!../template/InternalDiagnosticTemplate.htm");i.exports=n.extend({PAGE_TITLE_NEW_MESSAGE_CODE:"resource.datasource.jndi.page.title.new",PAGE_TITLE_EDIT_MESSAGE_CODE:"resource.datasource.jndi.page.title.edit",modelConstructor:r,render:function(){return this.$el.empty(),this.renderBlankBody(),this},renderBlankBody:function(){this.$el.append(s.template(o,{i18n:a}))}})}),define("dataSource/factory/dataSourceViewFactory",["require","exports","module","../view/CustomDataSourceView","../enum/dataSourceResourceTypes","../enum/customDataSourceTypes","../view/JdbcDataSourceView","../view/JndiDataSourceView","../view/AwsDataSourceView","../view/AzureSqlDataSourceView","../view/VirtualDataSourceView","../view/BeanDataSourceView","../view/MongoDbDataSourceView","../view/MongoDbJdbcDataSourceView","../view/DiagnosticCustomDataSourceView"],function(e,t,i){var n=e("../view/CustomDataSourceView"),s=e("../enum/dataSourceResourceTypes"),a=e("../enum/customDataSourceTypes"),r=e("../view/JdbcDataSourceView"),o=e("../view/JndiDataSourceView"),l=e("../view/AwsDataSourceView"),c=e("../view/AzureSqlDataSourceView"),d=e("../view/VirtualDataSourceView"),u=e("../view/BeanDataSourceView"),p=e("../view/MongoDbDataSourceView"),h=e("../view/MongoDbJdbcDataSourceView"),m=e("../view/DiagnosticCustomDataSourceView"),f={};f[s.JDBC.toLowerCase()]=r,f[s.JNDI.toLowerCase()]=o,f[s.AWS.toLowerCase()]=l,f[s.AZURE_SQL.toLowerCase()]=c,f[s.VIRTUAL.toLowerCase()]=d,f[s.BEAN.toLowerCase()]=u,f[s.MONGODB]=p,f[s.MONGODBJDBC]=h,f[a.DIAGNOSTIC]=m,i.exports={getView:function(e){var t;return e.dataSourceType?(t=f[e.dataSourceType])||(t=n):t=r,new t(e)},getViewType:function(e,t){var i=/application\/repository\.([^+]+)\+json/.exec(e),n=i&&i[1]?i[1].toLowerCase():e.toLowerCase();return s.CUSTOM.toLowerCase()===n&&(n=t.dataSourceName),n}}}),define("runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation",["require","exports","module","jquery","underscore","./Dialog","../../extension/backboneValidationExtension"],function(e,t,i){var n=e("jquery"),s=e("underscore"),a=e("./Dialog"),r=e("../../extension/backboneValidationExtension");i.exports=a.extend({events:s.extend({"keyup input[type=text], textarea, select":"updateModelProperty","change input[type=text], input:checkbox, textarea, select":"updateModelProperty"},a.prototype.events),initialize:function(){this._bindEvents(),a.prototype.initialize.apply(this,arguments)},_bindEvents:function(){},_unbindEvents:function(){},updateModelProperty:function(e){var t={},i=n(e.target);"input"===i[0].tagName.toLowerCase()&&"text"===i.attr("type")||"select"===i[0].tagName.toLowerCase()&&"true"!==i.attr("multiple")||"textarea"===i[0].tagName.toLowerCase()?t[i.attr("name")]=n.trim(i.val()):"input"===i[0].tagName.toLowerCase()&&"checkbox"===i.attr("type")&&(t[i.attr("name")]=i.is(":checked")),this.beforeModelPropertySet&&this.beforeModelPropertySet(t),this.model.set(t),this.model.validate(t)},bindValidation:function(){r.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0,selector:"name"})},unbindValidation:function(){r.unbind(this)},fieldIsValid:function(e,t,i){var n=e.$("["+i+'="'+t+'"]').parent();n.removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(e,t,i,n){var s=e.$("["+n+'="'+t+'"]').parent();s.addClass("error"),s.find(".message.warning").text(i.toString())},validField:function(e){var t=this.$(e).parent();t.removeClass("error"),t.find(".message.warning").text("")},invalidField:function(e,t){var i=this.$(e).parent();i.addClass("error"),i.find(".message.warning").text(t.toString())},clearValidationErrors:function(){this.$("label").removeClass("error"),this.$(".message.warning").text("")},remove:function(){this.unbindValidation(),this._unbindEvents(),a.prototype.remove.apply(this,arguments)}})}),define("text!dataSource/saveDialog/template/baseSaveDialogTemplate.htm",[],function(){return'<label title="{{- i18n[\'resource.datasource.saveDialog.dataSourceNameTitle\']}}" class="control input text ">\n\n    <js-templateNonce></js-templateNonce>\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.dataSourceName\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" value="{{- model.label }}" name="label">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDialog.resourceIDTitle\']}}" class="control input text ">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.resourceID\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" {{ if (isEditMode) { }}readonly="readonly"{{ } }} value="{{- model.name }}" name="name">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDialog.descriptionTitle\']}}" class="control textArea">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.description\']}}</span>\n\t<textarea type="text" name="description">{{- model.description }}</textarea>\n\t<span class="message warning"></span>\n</label>\n\n{{ if (skipLocation === false) { }}\n<div class="control groupBox treeBox">\n\t<div class="content">\n\t\t<div class="header ">\n\t\t\t<div class="title"></div>\n\t\t</div>\n        <ul class="list collapsible folders"></ul>\n\t</div>\n</div>\n\n<label class="control textArea">\n\t<textarea type="text" class="hidden" name="parentFolderUri"></textarea>\n\t<span class="message warning"></span>\n</label>\n{{ } }}\n'}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/collapsiblePanelTrait",["require","exports","module","underscore","jquery","./abstractPanelTrait"],function(e,t,i){function n(e,t){!t&&e.stopPropagation(),this.onCollapseControlPressed?this.onCollapseControlPressed(e):this.toggleCollapsedState()}function s(){this.$collapser&&this.$collapser.off("mousedown"),this.$el&&this.$el.find(this.expandOnDblClickSelector).off("dblclick")}var a=e("underscore"),r=e("jquery"),o=e("./abstractPanelTrait");i.exports=a.extend({},o,{onConstructor:function(e){this.collapserClass=e.collapserClass||"buttonIconToggle",this.collapserSelector=e.collapserSelector||".buttonIconToggle",this.collapsiblePanelClass=e.collapsiblePanelClass||"collapsiblePanel",this.expandOnDblClickSelector=e.expandOnDblClickSelector||"> p:first",this.allowEventPropagation=!!e.allowMouseDownEventPropagation,this.onCollapseControlPressed=e.onCollapseControlPressed},beforeSetElement:function(){s.call(this)},afterSetElement:function(){this.$el.addClass(this.collapsiblePanelClass),this.$collapser=this.$(this.collapserSelector),this.$collapser.length||(this.$collapser=r("<button></button>").addClass(this.collapserClass),this.$("> .header").prepend(this.$collapser)),this.$collapser.on("mousedown",a.bind(n,this,this.allowEventPropagation)),this.$el.find(this.expandOnDblClickSelector).on("dblclick",a.bind(n,this))},onRemove:function(){s.call(this)}})}),define("runtime_dependencies/js-sdk/src/common/component/list/model/ScalableListModel",["require","exports","module","backbone","underscore"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=n.Model.extend({initialize:function(e){s.bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=e.getData,this.bufferSize=e.bufferSize||100,this.loadFactor=e.loadFactor||.95},_fetchComplete:function(e){this.attributes.total=e.total,this.set({items:e.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+e.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(e.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(e.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(e,t){if(void 0===this.get("bufferStartIndex")||void 0===this.get("bufferEndIndex"))return!0;if(e>=0&&e<this.get("bufferStartIndex")||t<this.get("total")&&t>this.get("bufferEndIndex"))return!0;if(e===this.get("bufferStartIndex")&&t===this.get("bufferEndIndex"))return!1;var i=1-(e-this.get("bufferStartIndex"))/this.bufferSize,n=1-(this.get("bufferEndIndex")-t)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&n>=this.loadFactor},afterFetchComplete:function(e,t){},fetchFailed:function(e,t){this.trigger("fetchFailed",e,t)},fetch:function(e){if(e=s.extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},e),e.force||this._isBufferReloadNecessary(e.top,e.bottom)){if(e.top!==this.attributes.bufferStartIndex||e.bottom!==this.attributes.bufferEndIndex||e.force){var t=e.top+Math.floor((e.bottom-e.top)/2),i=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,t-i),this.get("total")&&!e.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this.afterFetchComplete&&this.afterFetchComplete(this.get("items"),this.get("total"))},reset:function(e){this.attributes={},this.set({items:[]},{silent:!0}),e&&e.silent||this.trigger("change",this)}});i.exports=a}),define("runtime_dependencies/js-sdk/src/common/component/list/model/BaseListWithSelectionModel",["require","exports","module","underscore","./ScalableListModel"],function(e,t,i){var n=e("underscore"),s=e("./ScalableListModel"),a=s.extend({initialize:function(e){s.prototype.initialize.call(this,e),this.select(e.value,{silent:!0})},_addToSelection:function(e,t){throw"Not implemented"},_removeFromSelection:function(e,t){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(e,t){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(e){e&&e.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(e,t,i){for(var n=0;n<e.length;n++)this._addToSelection(e[n].value,n+t);this.trigger("selection:addRange",{start:t,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(e,t){return this.getData().done(function(i){for(var n=0;n<i.data.length;n++)e(i.data[n].value,n);t&&t()}).fail(this.fetchFailed),this},addValueToSelection:function(e,t){return this.selectionStartIndex=t,this._addToSelection(e,t),this.trigger("selection:add",{value:e,index:t})},
addRangeToSelection:function(e,t){if(void 0===this.selectionStartIndex)return void this.addValueToSelection(e,t);if(this.selectionStartIndex!==t){var i=Math.min(this.selectionStartIndex,t),n=Math.max(this.selectionStartIndex,t);if(this.selectionStartIndex=t,i>=this.get("bufferStartIndex")&&n<=this.get("bufferEndIndex")){var s=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),n-this.get("bufferStartIndex")+1);this._addRangeToSelection(s,i,n)}else{var a=this;this.getData({offset:i,limit:n-i+1}).done(function(e){a._addRangeToSelection(e.data,i,n)}).fail(this.fetchFailed)}}},removeValueFromSelection:function(e,t){this._removeFromSelection(e,t),this.trigger("selection:remove",{value:e,index:t})},toggleSelection:function(e,t){this.selectionContains(e,t)?this.removeValueFromSelection(e,t):this.addValueToSelection(e,t)},selectionContains:function(e,t){return this._selectionContains(e,t)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(e,t){throw"Not implemented"},selectAll:function(){var e=this,t=!0;this._fetchAllDataAndModifySelection(function(i,n){t&&(e._clearSelection(),t=!1),e._addToSelection(i,n)},n.bind(this._triggerSelectionChange,this))},invertSelection:function(){var e=this;this._fetchAllDataAndModifySelection(function(t,i){e._selectionContains(t,i)?e._removeFromSelection(t,i):e._addToSelection(t,i)},n.bind(this._triggerSelectionChange,this))}});i.exports=a}),define("runtime_dependencies/js-sdk/src/common/component/list/model/ListWithSelectionModel",["require","exports","module","underscore","./BaseListWithSelectionModel"],function(e,t,i){var n=e("underscore"),s=e("./BaseListWithSelectionModel"),a=s.extend({_addToSelection:function(e,t){this.selection[t]=e},_removeFromSelection:function(e,t){this.selection[t]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(e,t){return this.selection[t]===e},_getSelection:function(){return this.selection},_isSelectionEmpty:function(e){if(!e)return!0;if(n.isArray(e)&&0===e.length)return!0;if(n.isArray(e)||"string"==typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t])return!1;return!0},_selectPendingSelection:function(e,t){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),e,t);else{var i=this;this.getData().done(function(n){i._convertInitialArrayToSelection(n.data,e,t)}).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(e,t,i){for(var n=0;n<e.length;n++)t[e[n].value]&&this._addToSelection(e[n].value,n);this._triggerSelectionChange(i)},_triggerSelectionChange:function(e){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),s.prototype._triggerSelectionChange.call(this,e)},_calcSelectionStartIndex:function(){if(void 0===this.selectionStartIndex)for(var e in this.selection)if(this.selection.hasOwnProperty(e)&&void 0!==this.selection[e]){this.selectionStartIndex=parseInt(e,10);break}},select:function(e,t){if(this._clearSelection(),this._isSelectionEmpty(e))return void this._triggerSelectionChange(t);if(n.isArray(e)||"string"==typeof e){var i={};if("string"==typeof e)i[e]=!0;else for(var s=0;s<e.length;s++)i[e[s]]=!0;this._selectPendingSelection(i,t)}else{for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];void 0!==r&&this._addToSelection(r,a)}this._triggerSelectionChange(t)}}});i.exports=a}),define("text!runtime_dependencies/js-sdk/src/common/component/list/templates/viewPortChunksTemplate.htm",[],function(){return'{{_.each(chunks, function(chunk) { }}\n<div class="j-view-port-chunk" style="height: {{- chunk.height}}px">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n{{ }); }}\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/list/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>'}),define("runtime_dependencies/js-sdk/src/common/component/list/view/ScalableList",["require","exports","module","jquery","backbone","underscore","../model/ScalableListModel","text!../templates/viewPortChunksTemplate.htm","text!../templates/itemsTemplate.htm"],function(e,t,i){var n=e("jquery"),s=e("backbone"),a=e("underscore"),r=e("../model/ScalableListModel"),o=e("text!../templates/viewPortChunksTemplate.htm"),l=e("text!../templates/itemsTemplate.htm"),c=s.View.extend({ListModel:r,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px"},initialize:function(e){return a.bindAll(this,"_fetchVisibleData"),this.model=e.model||new this.ListModel(e),this.chunksTemplate=a.template(e.chunksTemplate||o),this.itemsTemplate=a.template(e.itemsTemplate||l),this.defaultChunkHeight=this.chunkHeight=e.chunkHeight||1e6,this.scrollTimeout=void 0!==e.scrollTimeout?e.scrollTimeout:50,this.manualScrollInterval=e.manualScrollInterval||50,this.lazy=e.lazy,this.defaultItemHeight=e.listItemHeight||21,this.listItemSelector=e.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(e){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData()},onModelChange:function(){this.renderData()},onFetchFailed:function(e,t){this.trigger("listRenderError",e,t)},postProcessChunkModelItem:function(e,t){e.index=this.model.get("bufferStartIndex")+t,void 0===e.label&&(e.label=e.value),e.label=n.trim(e.label)},_renderItems:function(){var e=this.model.get("bufferStartIndex"),t=this.model.get("bufferEndIndex"),i=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,s=this.itemsPerChunk?Math.ceil((t+1)/this.itemsPerChunk):1,a=this;this.$el.find(".j-view-port-chunk").each(function(r,o){var l=a._getChunkModel({index:r+1,firstChunkWithData:i,lastChunkWithData:s,bufferStart:e,bufferEnd:t,total:a.totalItems,itemsPerChunk:a.itemsPerChunk,itemHeight:a.itemHeight,chunkHeight:a.chunkHeight,model:a.model}),c=l?a.itemsTemplate(l):"";n(o).html(c)})},_renderViewChunks:function(e){(this.totalItems!==this.model.get("total")||e)&&(this.totalItems=this.model.get("total"),this.$el.html(this.chunksTemplate({_:a,chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".j-view-port-chunk:first"))},_getViewChunksModel:function(){for(var e=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,t=e>0?this.itemHeight?this.totalItems*this.itemHeight-(e-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;n<e;n++)i.push({height:this.chunkHeight});return i.push({height:t}),i},_calcViewPortConstants:function(e){e=e||{},this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=2?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._renderData(),this.itemsPerView},_getChunkModel:function(e){var t=e.index;if(t<e.firstChunkWithData||t>e.lastChunkWithData)return null;var i=e.itemsPerChunk?Math.max(e.bufferStart,e.itemsPerChunk*(t-1)):e.bufferStart,n=e.itemsPerChunk?Math.min(e.bufferEnd,e.itemsPerChunk*t-1):e.bufferEnd,s=e.itemHeight?i*e.itemHeight-(t-1)*e.chunkHeight:0,r=Array.prototype.slice.call(e.model.get("items"),i-e.bufferStart,n-e.bufferStart+1);return a.each(r,function(t,n){this.postProcessChunkModelItem(t,n+(i-e.bufferStart))},this),{top:s,items:r}},_fetchVisibleData:function(){var e=this._getVisibleItems();this.model.fetch({top:e.top,bottom:e.bottom})},_getVisibleItems:function(){var e=this._getScrollPos(),t=this.model.get("total"),i=Math.min(t-this.itemsPerView,Math.floor(e/this.itemHeight));return{top:i,bottom:Math.min(t-1,i+this.itemsPerView+1)}},_getScrollPos:function(){this._renderData();var e=0;if(this.$firstViewChunk){var t=this.$el.offset(),i=this.$firstViewChunk.offset();t&&i&&(e=t.top-i.top)}return e},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?this._renderData():(this.lazy=null,this.model.fetch()),this},_renderData:function(){this.trigger("before:render:data"),this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")},resize:function(){if(this.$el.is(":visible")){var e=this.$el.outerHeight();e!==this._componentHeight&&(this._componentHeight=e,this.viewPortConstantsInitialized=!1,this._renderData())}},fetch:function(e,t){this.lazy=!1,t=t||{};var i;t.keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0,lazy:!1}),this.model.once("change",function(){t.keepPosition&&this.$el.scrollTop(i),e&&e.apply(this,arguments)},this).fetch({force:!0})},reset:function(e){e=a.defaults(e||{},{lazy:!0}),this.$el.scrollTop(0),this.lazy=e.lazy,this.model.reset(e)},scrollTo:function(e){if("number"==typeof e){var t=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=e*this.itemHeight;n<t?i=n:n+this.itemHeight>t+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});i.exports=c}),define("runtime_dependencies/js-sdk/src/common/component/list/view/ListWithSelection",["require","exports","module","jquery","underscore","../model/ListWithSelectionModel","./ScalableList"],function(e,t,i){var n=e("jquery"),s=e("underscore"),a=e("../model/ListWithSelectionModel"),r=e("./ScalableList"),o={LEFT:"left",RIGHT:"right"},l=r.extend({ListModel:a,globalEvents:!0,initialize:function(e){return s.bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=e.eventListenerPattern||"li",this.markerClass=e.markerClass?e.markerClass:"",this.selectedClass=e.selectedClass?e.selectedClass:"selected",this._initSelection(e.selection),r.prototype.initialize.call(this,e)},delegateEvents:function(){var e=r.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,s.bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,s.bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,s.bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)),!this.globalEvents&&this.$el.on("mouseup",this.eventListenerPattern,this.onGlobalMouseup),e},undelegateEvents:function(){var e=r.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mouseup").off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("mouseout").off("mouseover"),e},_initSelection:function(e){e=s.extend({allowed:{}},e);var t=e.allowed,i=s.isObject(t)?t.left:t;this.selection={allowed:{left:void 0===i||i,right:void 0!==t.right&&t.right},multiple:void 0===e.multiple||e.multiple}},initListeners:function(){r.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),this.globalEvents&&n("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(e,t){r.prototype.postProcessChunkModelItem.call(this,e,t),e.selected=this.model.selectionContains&&this.model.selectionContains(e.value,e.index)},onMousedblclick:function(e){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var t=this._getDomItemData(e.currentTarget);this._singleSelect(e,t.value,t.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(e){return this._getDomItemData(e.currentTarget).item},onItemEvent:function(e,t){var i=t.type,n=this.getItemByEvent(t);this.trigger("list:item:"+i,n,t)},onMousedown:function(e){if(!this.getDisabled()&&(this.selection.allowed.left&&1===e.which||this.selection.allowed.right&&3===e.which)){var t=1===e.which?o.LEFT:o.RIGHT;this.selection.multiple&&(this[t+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(e));var i=this._getDomItemData(e.currentTarget);this.selection.multiple?this._multiSelect(e,i.value,i.index):this._singleSelect(e,i.value,i.index)}},onMousemove:function(e){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(e,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(e);var t=this._getDomItemData(e.currentTarget);this.model.selectionContains(t.value,t.index)||this.model.addRangeToSelection(t.value,t.index)}},onGlobalMouseup:function(e){var t=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(s.each(o,function(e){t[e+"MouseButtonPressed"]=!1}),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(e){this._allowMouseMoveSelection()&&(this.mousePosY=e.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(e){this.$el.find("li"+this.markerClass+"[data-index='"+e.index+"']:not(."+this.selectedClass+")").addClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(e){var t=this,i=Math.max(this.model.get("bufferStartIndex"),e.start),s=Math.min(this.model.get("bufferEndIndex"),e.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each(function(){var e=n(this),a=parseInt(e.attr("data-index"),10);if(a>=i&&a<=s){var r=t.model.get("items")[a-t.model.get("bufferStartIndex")];t.model.selectionContains(r.value,a)&&e.addClass(t.selectedClass)}}),this.selectionChanged=!0},deselectValue:function(e){this.$el.find("li[data-index='"+e.index+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_autoScroll:function(){var e,t=this.$el.offset().top,i=this.$el.scrollTop(),n=void 0!==this.scrollTop?this.scrollTop:i,s=!1;this.mousePosY<t?(e=n-3*this.itemHeight,s=e<i):this.mousePosY>t+this.viewPortHeight&&(e=n+3*this.itemHeight,s=e>i),s&&(this.$el.scrollTop(e),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,e)},_selectRangeOnAutoScroll:function(e,t){var i;if(e<t?i=this._getVisibleItems().bottom:e>t&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(e,t,i){e.shiftKey?this.model.addRangeToSelection(t,i):e.ctrlKey||e.metaKey?this._singleSelect(e,t,i):this.model.toggleSelection(t,i)},_singleSelect:function(e,t,i){this.model.clearSelection().addValueToSelection(t,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(e){for(var t=n(e),i=t.attr("data-index");void 0===i;)t=t.parent(),i=t.attr("data-index");i=parseInt(i,10);var s=this.model.get("items")[i-this.model.get("bufferStartIndex")];return{item:s,value:s.value,index:i}},_mouseMoved:function(e,t){return Math.abs(t.x-e.clientX)+Math.abs(t.y-e.clientY)>=1},_getMousePos:function(e){return{x:e.clientX,y:e.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(e,t){return t=t||{},t&&t.silent||t.modelOptions&&t.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),t=t.modelOptions,this.model.select(e,t),this},selectAll:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(e){return this.setValue({},e)},invertSelection:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(e){return this.disabled=e,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return n("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),r.prototype.remove.call(this)}});i.exports=l}),define("runtime_dependencies/js-sdk/src/common/component/tree/trait/addToSelectionModelTrait",["require","exports","module","underscore","../../list/model/ScalableListModel"],function(e,t,i){var n=e("underscore"),s=e("../../list/model/ScalableListModel");i.exports={afterFetchComplete:function(e,t){s.prototype.afterFetchComplete.apply(this,arguments);var i,a;n.each(e,function(e,t){e.addToSelection&&(e.selected=!0,i=e.value,a=this.get("bufferStartIndex")+t,this.selectionContains&&!this.selectionContains(i,a)&&this.addValueToSelection(i,a),delete e.addToSelection)},this)}}}),define("runtime_dependencies/js-sdk/src/common/component/tree/dataprovider/DataProviderWithSearchCache",["require","exports","module","underscore","jquery"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=function(e){n.bindAll(this,"getData"),e=e||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=e.pageSize||999,this.criteriaKey=e.searchKey||"criteria",this.maxSearchCacheSize=e.maxSearchCacheSize||50,this.getDataByCriteriaHolder={},this.controlGetTotal=void 0!==e.controlGetTotal&&e.controlGetTotal,this.dataConverter=e.dataConverter,this.saveLastCriteria=void 0!==e.saveLastCriteria&&e.saveLastCriteria,this.lastCriteria=null,this.serialRequestsDelay=void 0!==e.serialRequestsDelay?e.serialRequestsDelay:50,this.serialRequestsDelayedPromise=null,this.request=e.request};n.extend(a.prototype,{getData:function(e){if(e=e||{},e[this.criteriaKey])return this._getDataByCriteria(e[this.criteriaKey])(e);if(void 0===e[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(e);this.lastCriteria=null;var t=s.Deferred(),i=this._getPagesToLoad(e);return i?this._requestData(e,i,t):this._resolveDeferredUsingDataFromCache(t,e),t.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.lastCriteria=null},_requestData:function(e,t,i){var s=(t[t.length-1]-t[0]+1)*this.pageSize,a=n.extend({},e,{offset:t[0]*this.pageSize,limit:s});this.controlGetTotal&&(a.skipGetTotal=!0),s>=2147483647/this.pageSize*this.pageSize&&delete a.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete a.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(n.bind(this._requestDataDeferred,this,e,a,i),this.serialRequestsDelay)):this._requestDataDeferred(e,a,i)},_requestDataDeferred:function(e,t,i){this._getPagesToLoad(e)?this.serialRequestsDelayedPromise&&n.isEqual(t,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(i.resolve).fail(i.reject):(this.serialRequestsDelayedPromise={promise:i.promise(),query:t},this.request(t).done(n.bind(this._requestDone,this,e,t,i)).fail(i.reject)):this._resolveDeferredUsingDataFromCache(i,e)},_requestDone:function(e,t,i,n){this._putDataToCache(t,n),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(i,e)},_resolveDeferredUsingDataFromCache:function(e,t){var i=this._getDataFromCache(t);e.resolve({total:this.dataCacheTotal,data:i})},_getPagesToLoad:function(e){var t,i=this._convertLimitOffsetToFirstLast(e),n=this._findPageIndex(i.first),s=this._findPageIndex(i.last),a=[];for(t=n;t<=s;t++)if(!this.dataCachePages[t]){a.push(t);break}for(t=s;t>=n;t--)if(!this.dataCachePages[t]){a.push(t);break}return a.length>0?a:null},_findPageIndex:function(e){return Math.floor(e/this.pageSize)},_convertLimitOffsetToFirstLast:function(e){var t=e&&e.offset?e.offset:0,i=e&&e.limit?t+e.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:2147483647;return this.dataCacheTotal&&i>this.dataCacheTotal-1&&(i=this.dataCacheTotal-1),{first:t,last:i}},_getDataFromCache:function(e){e=n.defaults(e,{offset:0,limit:2147483647});var t=Math.max(0,e.offset),i=Math.min(t+e.limit,this.dataCacheTotal);return this.dataCache.slice(t,i)},_putDataToCache:function(e,t){var i;for(void 0!==t.total&&(this.dataCacheTotal=t.total),e.limit=e.limit||2147483647,i=0;i<t.data.length;i++)this.dataCache[i+e.offset]=this.dataConverter?this.dataConverter(t.data[i]):t.data[i];var n=e.offset/this.pageSize,s=Math.floor((Math.min(e.limit,t.data.length)+e.offset-1)/this.pageSize);for(i=n;i<=s;i++)this.dataCachePages[i]=!0},_getDataByCriteria:function(e){if(!this.getDataByCriteriaHolder[e]){var t,i=Number.MAX_VALUE,n=0,s=0;for(var a in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(a)){s+=1;var r=this.getDataByCriteriaHolder[a];r.index<i&&(i=r.index,t=a),r.index>n&&(n=r.index)}s>=this.maxSearchCacheSize&&delete this.getDataByCriteriaHolder[t],this.getDataByCriteriaHolder[e]={getData:this._createDataProviderForCriteria(e),index:n+1}}return this.lastCriteria=e,this.getDataByCriteriaHolder[e].getData},_createDataProviderForCriteria:function(e){var t=this.request,i=this,s=new a({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(s){var a=n.extend({},s);return a[i.criteriaKey]=e,t(a)}}),r=s.getData;return s.getData=function(e){var t=n.extend({},e);return delete t[i.criteriaKey],r.call(s,t)},s.getData}}),i.exports=a}),define("runtime_dependencies/js-sdk/src/common/component/tree/TreeLevel",["require","exports","module","underscore","../panel/Panel","../panel/trait/collapsiblePanelTrait","../list/view/ListWithSelection","./trait/addToSelectionModelTrait","../list/model/ListWithSelectionModel","./dataprovider/DataProviderWithSearchCache"],function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){this.$el.removeClass(this.loadingClass).addClass(this.openClass),u.invoke(this.plugins,"itemsRendered",this.list.model,this.list);var e=this.list.$("> .j-view-port-chunk > ul > li").addClass(this.cid).length,t=u.isFunction(this.levelHeight)?this.levelHeight():this.levelHeight;t&&e*this.listItemHeight>t?this.list.$el.css({height:t+"px","overflow-y":"auto"}):this.list.$el.css({height:"auto",overflow:"auto"}),this.list._calcViewPortHeight(),this._isReady=!0,this.trigger("ready",this)}function a(e,t){this.listRenderError=!0,this.trigger("listRenderError",e,t,this)}function r(e){var t=[];u.chain(e).keys(e).each(function(i){t.push(e[i])}),this.selection.multiple||d(this),this.trigger("selection:change",t,this,[])}function o(e){var t=[];u.chain(e).keys(e).each(function(i){t.push(e[i])}),this.selection.multiple||d(this),this.trigger("item:dblclick",t)}function l(e,t){for(var i=0;i<t.length;i++)if(t[i]===e)return!0}function c(e,t,i,n){i&&i.exclude&&u.isArray(i.exclude)&&l(e,i.exclude)||(void 0===n||n>0)&&u.chain(e.items).keys().each(function(s){i&&i.exclude&&u.isArray(i.exclude)&&l(e.items[s],i.exclude)||t.call(e.items[s],i),c(e.items[s],t,i,void 0===n?n:--n)})}function d(e,t){t=t&&{exclude:t.exclude},c(e,function(e){this.list.clearSelection(),this.list.model.selection=[]},t)}var u=e("underscore"),p=e("../panel/Panel"),h=e("../panel/trait/collapsiblePanelTrait"),m=e("../list/view/ListWithSelection"),f=e("./trait/addToSelectionModelTrait"),g=e("../list/model/ListWithSelectionModel"),v=e("./dataprovider/DataProviderWithSearchCache"),b=g.extend(f);i.exports=p.extend({constructor:function(e){e||(e={}),u.extend(e,{traits:[h]}),p.prototype.constructor.call(this,e)},initialize:function(e){e||(e={}),this._isReady=!1,this.item=e.item||{},this.id=this.item.id,this.owner=e.owner,this.parent=e.parent,this.itemsTemplate=e.itemsTemplate,this.listItemHeight=e.listItemHeight,this.levelHeight=e.levelHeight,this.lazyLoad=!!e.lazyLoad,this.selection=e.selection||{allowed:!1,multiple:!1},this.resource=this.item.value,this.bufferSize=e.bufferSize,this.cache=void 0!==e.cache&&e.cache,this.allowMouseDownEventPropagation=e.allowMouseDownEventPropagation,this.items={},this.plugins=[];for(var t={el:this.el,model:this.model},i=0,n=e.plugins.length;i<n;i++){var s=e.plugins[i].constr;this.plugins.push(new s(u.extend({},t,e.plugins[i].options)))}this.dataLayer=this.owner.getDataLayer(this),u.invoke(this.plugins,"dataLayerObtained",this.dataLayer),p.prototype.initialize.apply(this,arguments)},render:function(){var e=new b({bufferSize:this.bufferSize,getData:this._getDataProvider(this.cache)});return this.list=new m({markerClass:"."+this.cid,eventListenerPattern:"."+this.cid+":not(.readonly) > p",el:this.$contentContainer,itemsTemplate:this.itemsTemplate,listItemHeight:this.listItemHeight,lazy:!0,selection:this.selection,allowMouseDownEventPropagation:this.allowMouseDownEventPropagation,model:e}),this.list.on("render:data",u.bind(s,this)),this.list.on("listRenderError",u.bind(a,this)),this.list.on("selection:change",u.bind(r,this)),this.list.on("item:dblclick",u.bind(o,this)),this.lazyLoad?this.on("open",this._onOpen,this):this.list.renderData(),this},_getDataProvider:function(e){var t=this,i=u.bind(function(e){return this.obtainData(e,t)},this.dataLayer),s={};return e&&("object"===n(e)&&(s=u.extend(s,e)),s.request=s.request||i,this.dataProvider=new v(s),i=this.dataProvider.getData),function(e){return e||(e={offset:0,limit:100}),e.id=t.id,i(u.extend({},t.owner.context,e),t)}},_onOpen:function(){this.$el.removeClass(this.openClass).addClass(this.loadingClass),this.list.renderData()},setElement:function(e){var t=p.prototype.setElement.apply(this,arguments);return this.list&&(this.list.setElement(this.$contentContainer),this.list.totalItems=-1),u.each(this.plugins,function(t){t.setElement(e)}),this.lazyLoad||this.list&&this.list.renderData(),this.collapsed||(this.open({silent:!0,depth:0}),this.lazyLoad&&this.list.renderData()),t},open:function(e){c(this,p.prototype.open,e,e?e.depth:0),p.prototype.open.call(this,e)},close:function(e){p.prototype.close.call(this,e),c(this,p.prototype.close,e,e?e.depth:void 0),d(this)},getLevel:function(e){return u(this.items).reduce(function(t,i){return t||(i.id===e?i:i.getLevel(e))},!1)},refresh:function(e){this.listRenderError||(this.lazyLoad&&!this.collapsed||!this.lazyLoad?(this.once("ready",u.bind(c,this,this,this.refresh,e,1)),this.list.model.fetch({top:0,bottom:this.list.model.bufferSize,force:!0}),this.list.scrollTo(0)):(this.list.model.set("bufferStartIndex",void 0,{silent:!0}),this.list.model.set("bufferEndIndex",void 0,{silent:!0}),this.list.model.set("total",void 0,{silent:!0}),c(this,this.refresh,e)))},fetch:function(e,t){this.list.fetch(t,e)},recalcConstraints:function(){this.list.resize()},fetchVisibleData:function(){this.list._fetchVisibleData()},resetSelection:function(e){d(this,e),e&&e.silent||this.trigger("selection:change",[])},hasItems:function(){return!!this.$("> .subcontainer > .j-view-port-chunk > ul > li").length},clearCache:function(){u.each(this.items,function(e){e.clearCache()}),this.dataProvider&&this.dataProvider.clear()},remove:function(){var e=this,t=-1;if(u.forEach(u.keys(this.items),function(t){e.items[t].remove()}),this.dataProvider&&this.dataProvider.clear(),this.list.remove(),this.parent){var i=this.parent.id,n=this.owner.getDataLayer(i);if(n&&n.predefinedData&&n.predefinedData[i]&&u.isArray(n.predefinedData[i])){for(var s=0;s<n.predefinedData[i].length;s++)if(n.predefinedData[i][s].id===this.id){t=s;break}t>-1&&(n.predefinedData[i].splice(t,1),delete n.predefinedData[this.id])}delete this.parent.items[this.id]}p.prototype.remove.apply(this,arguments)},isReady:function(){return this._isReady}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer",["require","exports","module","underscore","jquery","../../util/classUtil","../../util/xssUtil","request"],function(e,t,i){function n(e,t){return a.call(this,s.call(this,e),t)}function s(e){for(var t=0,i=e.length;t<i;t++)e[t]={id:this.extractId(e[t]),value:e[t]};return e}function a(e,t){var i,n;if(this.processors&&this.processors.length)for(var s=0,a=this.processors.length;s<a;s++){i=[];for(var r=0,o=e.length;r<o;r++)(n=this.processors[s].processItem(e[r],t,this))&&i.push(n);e=i}return e}var r=e("underscore"),o=e("jquery"),l=e("../../util/classUtil"),c=(e("../../util/xssUtil"),e("request"));i.exports=l.extend({constructor:function(e){this.requestType=e.requestType?e.requestType:"GET",e.getDataUri&&(this.getDataUri=e.getDataUri),this.getDataUri||(this.getDataUri=r.template(e.dataUriTemplate)),e.getDataArray&&(this.getDataArray=e.getDataArray),e.getDataSize&&(this.getDataSize=e.getDataSize),e.extractId&&(this.extractId=e.extractId),this.levelDataId=e.levelDataId?e.levelDataId:"id",this.processors=e.processors||[],this.initialize(e)},initialize:function(e){},extractId:function(e){return e[this.levelDataId]},getDataSize:function(e,t,i){return this.getDataArray(e,t,i).length},getDataArray:function(e,t,i){return e},obtainData:function(e,t){var i=new o.Deferred,s=this;return this.predefinedData&&this.predefinedData[e.id]?i.resolve({total:this.predefinedData[e.id].length,data:this.predefinedData[e.id]}):c({type:this.requestType,dataType:this.dataType||"json",headers:{Accept:this.accept||"application/json","Content-Type":this.contentType||void 0},cache:!1,data:this.data||void 0,url:this.getDataUri(e)}).done(function(){var t=arguments[0];s.dataSize=s.getDataSize.call(s,t,e,arguments[2]),i.resolve({total:s.dataSize,data:n.call(s,s.getDataArray.call(s,t,e,arguments[2]),e)})}).fail(function(e){i.reject(e.status,e.responseText)}),i},_process:n})}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/treeLevelListTemplate.htm",[],function(){
return'<ul class="list collapsible folders" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{ _.each(items, function(item){ }}\n    <li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n        <p class="wrap button draggable" data-tooltip="{{- item.value.label }}"><b class="icon"/> {{- item.value.label }} </p>\n        <div class="subcontainer" />\n    </li>\n    {{ }) }}\n</ul>\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/treeLevelTemplate.htm",[],function(){return'<div>\n\n    <js-templateNonce></js-templateNonce>\n    <ul class="list collapsible folders">\n        <li class="node">\n            <p class="wrap button">\n                <b class="icon" id="handler2" title=""></b>root\n            </p>\n            <div class="subcontainer"/>\n        </li>\n    </ul>\n</div>'}),define("runtime_dependencies/js-sdk/src/common/component/tree/Tree",["require","exports","module","jquery","underscore","backbone","./TreeLevel","./TreeDataLayer","text!./template/treeLevelListTemplate.htm","text!./template/treeLevelTemplate.htm"],function(e,t,i){function n(e){var t=e.list.model.get("items"),i=this;t=a.where(t,{_node:!0}),e.$(".node").each(function(s,r){var l=t[s].id;e.items[l]?e.items[l].setElement(r):(e.items[l]=new o(a.extend({},i._options,{el:r,item:t[s],parent:e})),i.listenTo(e.items[l],"listRenderError",a.bind(function(e,t,i){this.trigger("levelRenderError",e,t,i)},i)),e.listenTo(e.items[l],"ready",a.bind(n,i)),e.listenTo(e.items[l],"selection:change",function(t,i,n){i&&n.push(i),e.list.model.clearSelection(),e.trigger("selection:change",t,e,n)}),e.listenTo(e.items[l],"item:dblclick",function(t){e.list.model.clearSelection(),e.trigger("item:dblclick",t)}),e.items[l].render())}).length&&e.$(".j-view-port-chunk").css({height:"auto"})}var s=e("jquery"),a=e("underscore"),r=e("backbone"),o=e("./TreeLevel"),l=e("./TreeDataLayer"),c=e("text!./template/treeLevelListTemplate.htm"),d=e("text!./template/treeLevelTemplate.htm"),u={ADD:"add",UPDATE:"update"},p=r.View.extend({template:a.template(d),_plugins:[],el:function(){return this.template()},constructor:function(e){e||(e={}),this.defaultDataLayer=new l(e),this.customDataLayers=e.customDataLayers,e.type?(this._type=e.type,e.type=void 0):this._type="tree",e.collapserSelector||(e.collapserSelector="b.icon:eq(0)"),e.predefinedData?(this.defaultDataLayer.predefinedData=e.predefinedData,e.predefinedData=void 0):this.defaultDataLayer.predefinedData={},e.rootless&&(this.rootless=e.rootless,e.rootless=void 0),e.additionalCssClasses&&(this.additionalCssClasses=e.additionalCssClasses,e.additionalCssClasses=void 0),e.getDataLayer&&(this.getDataLayer=e.getDataLayer,e.getDataLayer=void 0),this._options=a.extend({itemsTemplate:c,plugins:this._plugins,owner:this},e),this.context=e.context||{};for(var t=0,i=this._plugins.length;t<i;t++)this._plugins[t].processors&&(this.processors=this.processors.concat(this._plugins[t].processors));r.View.apply(this,arguments)},initialize:function(e){this.rootLevel=new o(a.extend({},this._options,{levelHeight:e.rootLevelHeight},{el:this.$("li")[0]},{item:{id:"/",value:{id:"/",resourceType:"folder"}}})),this.rootless&&this.$el.find("ul:first").addClass("hideRoot"),this.additionalCssClasses&&this.$el.find("ul:first").addClass(this.additionalCssClasses),this.listenTo(this.rootLevel,"ready",a.bind(n,this)),this.listenTo(this.rootLevel,"selection:change",a.bind(function(e,t,i){t&&i&&a.isArray(i)&&(this.rootLevel.selection.multiple||this.rootLevel.resetSelection({silent:!0,exclude:[i[0]]})),this.trigger("selection:change",e)},this)),this.listenTo(this.rootLevel,"item:dblclick",a.bind(function(e){this.trigger("item:dblclick",e)},this));for(var t=0,i=this._plugins.length;t<i;t++)this._plugins[t].constr.treeInitialized.call(this,this._plugins[t].options);this.rootLevel.render(),e.collapsed&&e.lazyLoad&&this.rootless&&this.expand("/")},remove:function(){for(var e=0,t=this._plugins.length;e<t;e++)this._plugins[e].constr.treeRemoved.call(this);this.rootLevel.remove(),r.View.prototype.remove.apply(this,arguments)},expand:function(e,t){var i=this.getLevel(e);return i&&i.open(t),this},collapse:function(e,t){var i=this.getLevel(e);return i&&i.close(t),this},_getNodeByLevelId:function(e){var t,i,n=this.getLevel(e);if(n)return n.parent?(t=n.parent.list,{node:n.item,nodeElement:n.$el,itsList:t}):null;var s=!1;if("list"===this._type)s=this.rootLevel;else if("tree"===this._type){var r=e.split("/");if(r=r.slice(0,r.length-1).join("/"),""===r&&(r="/"),!(s=this.getLevel(r)))return null}return s?(t=s.list,i=a.find(t.model.get("items"),function(t){return t.id===e}),i?{node:i,nodeElement:t.$el.find("li.leaf.selected"),itsList:t}:null):null},select:function(e){var t=this._getNodeByLevelId(e);t&&(t.itsList.model.clearSelection().addValueToSelection(t.node.value,t.node.index),this.trigger("selection:change",t.itsList.getValue()))},deselect:function(e){},addItem:function(e,t){var i=this.getLevel(e),n=u.ADD;return i&&this._getNodeItems(e,i,t,n),this},updateItem:function(e,t){var i=t?this.getLevel(t):this.rootLevel;return i&&this._getNodeItems(i.id,i,e),this},resetSelection:function(e){return this.rootLevel.list.clearSelection(),this.rootLevel.list.model.selection=[],this.rootLevel.resetSelection(e),this},refresh:function(e){e&&(this.context=e),this.rootLevel.refresh()},recalcConstraints:function(){this.rootLevel.recalcConstraints()},fetchVisibleData:function(){this.rootLevel.fetchVisibleData()},clearCache:function(){this.rootLevel.clearCache()},getLevel:function(e){return this.rootLevel.id===e?this.rootLevel:this.rootLevel.getLevel(e)},getDataLayer:function(e){return this.customDataLayers&&this.customDataLayers[e.id]?this.customDataLayers[e.id]:this.defaultDataLayer},_addItem:function(e,t,i){return!a.findWhere(e,{id:i.id})&&e.push(i),e},_updateItem:function(e,t){return a.each(e,function(e){e.id===t.id&&a.extend(e,t)},this),e},_getNodeItems:function(e,t,i,n){var s,r=this.getDataLayer(t),o=t.list.model.get("items")?t.list.model.get("items"):[];r.predefinedData=r.predefinedData||{},s=n===u.ADD?this._addItem(o,e,i):this._updateItem(o,i),r.predefinedData[e]=a.sortBy(s,"label"),t.fetch({force:!0,keepPosition:!0})},_selectTreeNode:function(e,t){if(a.isString(e)&&""!==e){var i=a.bind(function(){var n=a.bind(function(){var n=e,s=this.getLevelId(n);if(this.expand(s),this.select(s),"list"===this._type)this.rootLevel.on("ready",i);else if("tree"===this._type&&t&&t.length){var a=this.$el,r=this._getNodeByLevelId(s);if(!r)return;var o=r.nodeElement;if(!o)return;var l=o.offset().top-a.offset().top-t.height()/2+o.height()/2;t.scrollTop(l)}},this);if("/"===e||"/public"===e||"list"===this._type)n();else{var r=e.replace(/\/$/,""),o=r.substr(0,r.lastIndexOf("/"));o=o||"/";var l=new s.Deferred;this._openPath(o,l,0),l.done(n)}},this);this.rootLevel.isReady()?i():this.rootLevel.on("ready",i)}},_openPath:function(e,t,i){if(!e)return t.resolve();var n,s,r,o,l=this;if("/"===e?s=["/"]:(s=e.split("/"),s[0]="/"),"/"===s[0]&&"public"===s[1]&&(s=a.union(["/public"],a.rest(s,2))),(i=i||0)===s.length)return t.resolve();n=a.first(s,i+1).join("/"),n=n.replace(/\/\//g,"/"),o=this.getLevelId(n),(r=this.getLevel(o))&&(r.collapsed?(r.once("ready",function(){l._openPath(e,t,i+1)}),r.open()):this._openPath(e,t,i+1))},getLevelId:function(e){var t="",i=["/public"];if("/"===e||"/root"===e)t="/root";else{for(var n=!1,s=0;s<i.length;s++)if(0===e.indexOf(i[s])){n=!0;break}t=n?e:"/root/"+e.substr(1)}return t}},{instance:function(e){return new this(e)}});i.exports={use:function(e,t){return function(e){return{use:function(t,i){return e.prototype._plugins.push({constr:t,options:i}),this},create:function(){return e}}}(p.extend({_plugins:[{constr:e,options:t}]}))},create:function(){return p}}}),define("runtime_dependencies/bi-repository/src/bi/repository/enum/olapConnectionTypesEnum",["require","exports","module","../enum/repositoryResourceTypes"],function(e,t,i){var n=e("../enum/repositoryResourceTypes");i.exports=[n.MONDRIAN_CONNECTION,n.SECURE_MONDRIAN_CONNECTION,n.XMLA_CONNECTION]}),define("runtime_dependencies/bi-repository/src/bi/repository/dialog/processor/factory/processorFactory",["require","exports","module","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../../enum/olapConnectionTypesEnum","../../../enum/repositoryResourceTypes","bundle!CommonBundle"],function(e,t,i){function n(e){switch(e.value.resourceType){case l.REPORT_UNIT:e.cssClass="report";break;case l.DOMAIN_TOPIC:e.cssClass="domain topic";break;case l.SEMANTIC_LAYER_DATA_SOURCE:e.cssClass="domain";break;case l.OLAP_CUBE:e.cssClass="olap"}return e}function s(e){return d[e]}var a=e("underscore"),r=e("runtime_dependencies/js-sdk/src/jrs.configs"),o=e("../../../enum/olapConnectionTypesEnum"),l=e("../../../enum/repositoryResourceTypes"),c=e("bundle!CommonBundle"),d={folderTreeProcessor:{processItem:function(e){return e._readonly=!(1==e.value.permissionMask||4&e.value.permissionMask),e}},treeNodeProcessor:{processItem:function(e){return e._node=a.contains(a.union([l.FOLDER],o),e.value.resourceType),e}},i18nItemProcessor:{processItem:function(e){return e.i18n=c,e}},filterPublicFolderProcessor:{processItem:function(e){if(e.value.uri!=="/root"+r.publicFolderUri&&e.value.uri!=="/root"+r.tempFolderUri)return e}},filterEmptyFoldersProcessor:{processItem:function(e){if("folder"!==e.value.resourceType||""!==e.value._links.content)return e}},cssClassItemProcessor:{processItem:n},fakeUriProcessor:{processItem:function(e){return e.value.uri&&e.value.uri.match(/^\/root/)&&(e.value.uri=e.value.uri.replace("/root","")),e}}};i.exports=s}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TreePlugin",["require","exports","module","backbone"],function(e,t,i){var n=e("backbone");i.exports=n.View.extend({dataLayerObtained:function(){},itemsRendered:function(){}},{processors:null,treeInitialized:function(){},treeRemoved:function(){}})}),define("text!runtime_dependencies/js-sdk/src/common/component/tooltip/template/tooltipTemplate.htm",[],function(){return'<div class="{{- cssClasses }}" style="position: absolute; z-index: 100000;">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="content">\n        <div class="body"></div>\n    </div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/common/component/tooltip/Tooltip",["require","exports","module","jquery","underscore","backbone","text!./template/tooltipTemplate.htm"],function(e,t,i){var n=e("jquery"),s=e("underscore"),a=e("backbone"),r=e("text!./template/tooltipTemplate.htm");i.exports=a.View.extend({template:s.template(r),delay:500,offset:{x:10,y:10},attribute:"data-tooltip",cssClasses:"panel info tooltip",contentSelector:".body",triggerEvents:!1,el:function(){return this.template({cssClasses:this.cssClasses})},constructor:function(e){if(e||(e={}),!e.attachTo||0===n(e.attachTo).length)throw new Error("Tooltip should be attached to an element");if(!e.contentTemplate)throw new Error("Tooltip should have contentTemplate");this._shown=!1,this.$attachTo=n(e.attachTo),this.$attachTo[0].tooltip=this,e.delay&&(this.delay=e.delay),e.offset&&(this.offset=e.offset),e.attribute&&(this.attribute=e.attribute),e.cssClasses&&(this.cssClasses=e.cssClasses),this.contentTemplate=e.contentTemplate,this.i18n=e.i18n||{},!s.isUndefined(e.triggerEvents)&&(this.triggerEvents=e.triggerEvents),this.selector="["+this.attribute+"]",s.bindAll(this,"show","_onMouseMove","_onMouseLeave"),this.$attachTo.on("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.on("mouseleave touchend",this.selector,this._onMouseLeave),a.View.prototype.constructor.apply(this,arguments)},_render:function(e,t,i){if(this._event){e=e instanceof a.Model?e.toJSON():e;var n=s.template(this.contentTemplate)({model:e,i18n:this.i18n,options:t||{}});this.$el.find(".body").empty().append(n),this._showTooltip()}i.resolve()},show:function(e,t){var i=new n.Deferred;return this._timer=setTimeout(s.bind(this._render,this,e,t,i),this.delay),i},_showTooltip:function(){n("body").append(this.$el),this._updatePosition(),this._shown=!0,this.triggerEvents&&this.trigger("show",this)},hide:function(){this.contentTemplate&&this._timer&&clearTimeout(this._timer),this.$el.detach(),this._shown=!1,this.triggerEvents&&this.trigger("hide",this)},_updatePosition:function(){var e=this.$el.innerHeight(),t=this.$el.innerWidth(),i=n(window).height(),s=n(window).width(),a=this.offset.y,r=this.offset.x;e+this._event.pageY+this.offset.y+3>=i&&(a=-this.offset.y-e),t+this._event.pageX+this.offset.x+3>=s&&(r=-this.offset.x-t),this.$el.css({top:this._event.pageY+a,left:this._event.pageX+r})},_onMouseMove:function(e){this._event=e},_onMouseLeave:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this._event=null},remove:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this.$attachTo.off("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.off("mouseleave touchend",this.selector,this._onMouseLeave),a.View.prototype.remove.apply(this,arguments)}},{attachTo:function(e,t){var i=this;return t||(t={}),t.attachTo=e||"body",new i(t)},detachFrom:function(e){e=n(e)[0],e.tooltip&&e.tooltip.remove()}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin",["require","exports","module","./TreePlugin","underscore","../../tooltip/Tooltip"],function(e,t,i){var n=e("./TreePlugin"),s=e("underscore"),a=e("../../tooltip/Tooltip");i.exports=n.extend({initialize:function(e){this.tooltip=a.attachTo(e.attachTo,s.omit(e,"el")),this.listensToList=!1,n.prototype.initialize.apply(this,arguments)},itemsRendered:function(e,t){var i=this;this.listensToList||(this.listensToList=!0,this.listenTo(t,"list:item:mouseover",function(e,t){i.tooltip.show(e)}),this.listenTo(t,"list:item:mouseout",function(){i.tooltip.hide()}))},remove:function(){a.detachFrom(this.$el),this.tooltip.remove(),n.prototype.remove.apply(this,arguments)}})}),define("runtime_dependencies/bi-repository/src/bi/repository/util/resourcesTreeGetDataUriFnUtil",["require","exports","module","underscore"],function(e,t,i){var n=e("underscore");i.exports=function(e){return function(t){var i="";if(i+=e.contextPath+"/rest_v2/api/resources?",e.getFolderUri){var s=e.getFolderUri(t.id);s&&(i+="folderUri="+encodeURIComponent(s))}else i+="folderUri="+encodeURIComponent(t.id);return e.recursive?i+="&recursive=true":i+="&recursive=false",e.type&&(i+=e.type.reduce(function(e,t){return e+="&type="+t},"")),e.containerType&&(i+="&containerType="+e.containerType),e.exclude&&(i+="&excludeFolder="+e.exclude),i+="&offset={{= offset }}&limit={{= limit }}",e.forceTotalCount&&(i+="&forceTotalCount=true"),e.forceFullPage&&(i+="&forceFullPage=true"),n.template(i,t)}}}),define("runtime_dependencies/bi-repository/src/bi/repository/util/extractRootLevelDataFromHtmlResponse",["require","exports","module"],function(e,t,i){i.exports=function(e){var t=e.trim().match(/^<div\s?(?:(?:.*)=(?:['"]).*(?:['"]))*>(.*)<\/div>/);return JSON.parse(t?t[1]:"{}")}}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm",[],function(){return'<p class="message label">\n\n    <js-templateNonce></js-templateNonce>\n    {{- model.i18n[\'tooltip.name\'] }}</p>\n<p class="message">{{- model.value.label }}</p>\n<p class="message label">{{- model.i18n[\'tooltip.path\'] }}</p>\n<p class="message">{{- model.value.uri }}</p>'}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm",[],function(){return'<ul class="list collapsible" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n\t{{ _.each(items, function(item){ }}\n\t<li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}} {{- item._readonly ? \'readonly\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n\t\t<p class="wrap button draggable" data-tooltip=\'true\'><b class="icon"/> {{- item.value.label }} </p>\n\t\t<div class="subcontainer" />\n\t</li>\n\t{{ }) }}\n</ul>\n'}),define("runtime_dependencies/bi-repository/src/bi/repository/factory/repositoryTreeFactory",["require","exports","module","runtime_dependencies/js-sdk/src/common/component/tree/Tree","jquery","underscore","bundle!CommonBundle","runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer","../dialog/processor/factory/processorFactory","runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin","../enum/repositoryResourceTypes","../enum/olapConnectionTypesEnum","../util/resourcesTreeGetDataUriFnUtil","../util/extractRootLevelDataFromHtmlResponse","text!../dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm","text!../dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm","runtime_dependencies/js-sdk/src/jrs.configs"],function(e,t,i){function n(e){var t=h.extend({},{i18n:m,contentTemplate:D},e.tooltipOptions);return e.constr||p.use(v,t).create()}function s(e){e=e||{};var t=e.processors=h.map(e.processors,function(e){return g(e)});return n(e).instance({listItemHeight:T,bufferSize:e.treeBufferSize||C,additionalCssClasses:"folders",collapserSelector:e.collapserSelector,openClass:e.openClass,closedClass:e.closedClass,levelDataId:"uri",itemsTemplate:e.treeItemsTemplate||x,collapsed:!0,lazyLoad:!0,rootless:!0,getDataUri:S({getFolderUri:d,contextPath:w.contextPath,recursive:!1,type:e.types,containerType:e.containerType,forceTotalCount:!0,forceFullPage:!0}),selection:{allowed:!0,multiple:!1},customDataLayers:{"/":r(e)},processors:t,getDataArray:function(e){if(e&&e[b.RESOURCE_LOOKUP]){e=e[b.RESOURCE_LOOKUP];var t=this.levelDataId;return h.first(e)[t].match(/^\/public/)||(e=h.map(e,function(e){return e.uri="/root"+e[t],e})),e}return[]},getDataSize:function(e,t,i){return+i.getResponseHeader("Total-Count")},getDataLayer:c})}function a(e){var t=[],i=g("filterPublicFolderProcessor");return h.each(e,function(e){e!==i&&t.push(e)}),t}function r(e){var t=e.processors,i=a(t);return h.extend(new f({dataUriTemplate:e.contextPath+"/flow.html?_flowId=searchFlow&method=getNode&provider=repositoryExplorerTreeFoldersProvider&uri=/&depth=1",processors:i,getDataArray:function(e){e=y(e);var t=h.find(e.children,function(e){return"/public"===e.uri}),i=[{id:"/root",label:e.label,uri:"/",resourceType:"folder",permissionMask:u(e.extra),_links:{content:"@fakeContentLink"}}];return t&&i.push({id:"/public",label:t.label,uri:"/public",resourceType:"folder",permissionMask:u(t.extra),_links:{content:"@fakeContentLink"}}),i}}),{accept:"text/html",dataType:"text"})}function o(e){var t=l(),i=e.processors;return n(e).instance({itemsTemplate:e.treeItemsTemplate||x,listItemHeight:T,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,getDataUri:S({getFolderUri:d,contextPath:w.contextPath,recursive:!0,type:e.types,containerType:e.containerType,forceTotalCount:!0,forceFullPage:!0}),levelDataId:"uri",cache:{searchKey:"searchString",pageSize:100},processors:i,customDataLayers:{olapDataLayer:t},getDataLayer:c,getDataArray:function(e){return e&&e[b.RESOURCE_LOOKUP]?e[b.RESOURCE_LOOKUP]:[]},getDataSize:function(e,t,i){return+i.getResponseHeader("Total-Count")}})}function l(){return new f({requestType:"POST",dataUriTemplate:w.contextPath+"/rest_v2/connections",processors:[g("i18nItemProcessor"),g("cssClassItemProcessor")],levelDataId:"uri",getDataArray:function(e){return e&&e[b.RESOURCE_LOOKUP]?e[b.RESOURCE_LOOKUP]:[]}})}function c(e){var t;if(e=e.item?e:this.getLevel(e.id)){if(t=e.item.value.resourceType,h.contains(_,t)){var i=h.clone(this.customDataLayers.olapDataLayer);return h.extend(i,{accept:"application/repository."+t+".metadata+json",contentType:"application/repository."+t+"+json",data:JSON.stringify(t)}),i}return this.customDataLayers&&this.customDataLayers[e.id]?this.customDataLayers[e.id]:this.defaultDataLayer}}function d(e){return e.match(/^\/root/)?e.replace("/root",""):e}function u(e){var t=2;return e.isWritable&&(t|=4),e.isRemovable&&(t|=16),e.isAdministrable&&(t=1),t}var p=e("runtime_dependencies/js-sdk/src/common/component/tree/Tree"),h=(e("jquery"),e("underscore")),m=e("bundle!CommonBundle"),f=e("runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer"),g=e("../dialog/processor/factory/processorFactory"),v=e("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin"),b=e("../enum/repositoryResourceTypes"),_=e("../enum/olapConnectionTypesEnum"),S=e("../util/resourcesTreeGetDataUriFnUtil"),y=e("../util/extractRootLevelDataFromHtmlResponse"),D=e("text!../dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm"),x=e("text!../dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm"),w=e("runtime_dependencies/js-sdk/src/jrs.configs"),T=22,C=5e3,I=function(e){if(e=e||{},!e.types)throw"Resources types required";return e.listView?o(e):s(e)};I.settings=w,i.exports=I}),define("dataSource/saveDialog/BaseSaveDialogView",["require","exports","module","underscore","bundle!all","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation","text!./template/baseSaveDialogTemplate.htm","settings!treeComponent","runtime_dependencies/bi-repository/src/bi/repository/factory/repositoryTreeFactory","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"],function(e,t,i){var n=e("underscore"),s=e("bundle!all"),a=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),r=e("runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation"),o=e("text!./template/baseSaveDialogTemplate.htm"),l=e("settings!treeComponent"),c=e("runtime_dependencies/bi-repository/src/bi/repository/factory/repositoryTreeFactory"),d=e("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes");i.exports=r.extend({theDialogIsOpen:!1,autoUpdateResourceID:!0,saveDialogTemplate:o,constructor:function(e){e||(e={}),this.options=e;var t=this.extendModel(this.options.model),i=this._getLabelForSaveButton(t);this.autoUpdateResourceID=!this.options.isEditMode,this.preSelectedFolder=e.parentFolderUri,r.prototype.constructor.call(this,{skipLocation:!!e.skipLocation,modal:!0,model:t,minHeight:500,minWidth:440,setMinSizeAsSize:!0,resizable:!e.skipLocation,additionalCssClasses:"dataSourceSaveDialog"+(e.skipLocation?" no-minheight":""),title:s["resource.datasource.saveDialog.save"],content:n.template(this.saveDialogTemplate,{i18n:s,model:n.extend({},t.attributes),skipLocation:!!this.options.skipLocation,isEmbedded:this.options.isEmbedded,isEditMode:this.options.isEditMode}),buttons:[{label:s[i],action:"save",primary:!0},{label:s["resource.datasource.saveDialog.cancel"],action:"cancel",primary:!1}]}),this.on("button:save",n.bind(this._onSaveDialogSaveButtonClick,this)),this.on("button:cancel",n.bind(this._onSaveDialogCancelButtonClick,this))},initialize:function(e){r.prototype.initialize.apply(this,arguments),!n.isUndefined(this.preSelectedFolder)&&this.preSelectedFolder||(this.preSelectedFolder="/"),e.skipLocation||this.initializeTree(),this.listenTo(this.model,"change:label",this._onDataSourceNameChange),this.$contentContainer.find("[name=name]").change(n.bind(this._onResourceIDInputChange,this))},restoreModel:function(){this.originalModelValidation&&(this.model.validation=this.originalModelValidation)},extendModel:function(e){return this.originalModelValidation=e.validation,e.validation=n.extend({},a.prototype.validation,{label:[{required:!0,msg:s["resource.datasource.saveDialog.validation.not.empty.label"]},{maxLength:a.settings.LABEL_MAX_LENGTH,msg:s["resource.datasource.saveDialog.validation.too.long.label"]}],name:[{required:!0,msg:s["resource.datasource.saveDialog.validation.not.empty.name"]},{maxLength:a.settings.NAME_MAX_LENGTH,msg:s["resource.datasource.saveDialog.validation.too.long.name"]},{doesNotContainSymbols:a.settings.NAME_NOT_SUPPORTED_SYMBOLS,msg:s["resource.datasource.saveDialog.validation.invalid.chars.name"]}],description:[{required:!1},{maxLength:a.settings.DESCRIPTION_MAX_LENGTH,msg:s["resource.datasource.saveDialog.validation.too.long.description"]}],parentFolderUri:[{fn:function(e){if(!this.options.skipLocation){if(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e)return s["resource.datasource.saveDialog.validation.not.empty.parentFolderIsEmpty"];if("/"!==e.slice(0,1))return s["resource.datasource.saveDialog.validation.folder.not.found"].replace("{0}",e)}}}]}),e},initializeTree:function(){this.foldersTree=c({processors:["folderTreeProcessor","treeNodeProcessor","i18nItemProcessor","filterPublicFolderProcessor","cssClassItemProcessor","fakeUriProcessor"],treeBufferSize:l.treeLevelLimit,types:[d.FOLDER],tooltipOptions:{}}),this.listenTo(this.foldersTree,"selection:change",function(e){var t;e&&n.isArray(e)&&e[0]&&e[0].uri&&(t=e[0].uri),t&&this.model.set("parentFolderUri",t)}),this.$el.find(".treeBox .folders").append(this.foldersTree.render().el);var e=this.foldersTree.$el.parent().parent().parent();this.foldersTree._selectTreeNode(this.preSelectedFolder,e)},startSaveDialog:function(){this._openDialog()},_openDialog:function(){this.theDialogIsOpen||(this.bindValidation(),r.prototype.open.apply(this,arguments),this.$contentContainer.find("[name=label]").focus(),this.theDialogIsOpen=!0)},_closeDialog:function(){this.theDialogIsOpen&&(this.unbindValidation(),this.clearValidationErrors(),r.prototype.close.apply(this,arguments),this.theDialogIsOpen=!1)},_getLabelForSaveButton:function(){return"resource.datasource.saveDialog.save"},_onDialogResize:function(){var e=this,t=0,i=this.$contentContainer.find(".control.groupBox.treeBox"),n=this.$contentContainer.closest(".jr-mDialog > .jr-mDialog-body");this.$contentContainer.children().not(i).each(function(){t+=e.$(this).outerHeight(!0)}),i.height(n.outerHeight(!0)-t-40)},_onDataSourceNameChange:function(){if(this.autoUpdateResourceID){var e=a.generateResourceName(this.model.get("label"));this.model.set("name",e),this.$("input[name='name']").val(e)}},_onResourceIDInputChange:function(){this.autoUpdateResourceID=!1},_onSaveDialogCancelButtonClick:function(){this.restoreModel(),this._closeDialog()},_onSaveDialogSaveButtonClick:function(){this.model.isValid(!0)&&this.performSave()},performSave:function(){if(this.options.saveFn)return void this.options.saveFn(this.model.attributes,this.model);this.model.save({},{success:n.bind(this._saveSuccessCallback,this),error:n.bind(this._saveErrorCallback,this)})},_saveSuccessCallback:function(e){this._closeDialog(),n.isFunction(this.options.success)&&this.options.success(e)},_saveErrorCallback:function(e,t,i){var a=this,r=!1,o=!1;try{r=JSON.parse(t.responseText)}catch(e){}n.isArray(r)||(r=[r]),n.each(r,function(e){var t=!1,i=!1;e&&(a.theDialogIsOpen&&("version.not.match"===e.errorCode?(t="name",i=s["resource.dataSource.resource.alreadyInUse"]):"mandatory.parameter.error"===e.errorCode?e.parameters&&e.parameters[0]&&(i=s["resource.datasource.saveDialog.parameterIsMissing"],t=e.parameters[0].substr(e.parameters[0].indexOf(".")+1)):"illegal.parameter.value.error"===e.errorCode?e.parameters&&e.parameters[0]&&(t=e.parameters[0].substr(e.parameters[0].indexOf(".")+1),i=s["resource.datasource.saveDialog.parameterIsWrong"]):"folder.not.found"===e.errorCode?(t="parentFolderUri",i=s["ReportDataSourceValidator.error.folder.not.found"].replace("{0}",e.parameters[0])):"access.denied"===e.errorCode&&(t="parentFolderUri",i=s["jsp.accessDenied.errorMsg"])),i&&t&&-1!==["label","name","description","parentFolderUri"].indexOf(t)&&(a.invalidField("[name="+t+"]",i),o=!0))}),!1===o&&n.isFunction(this.options.error)&&this.options.error(e,t,i)}})}),define("runtime_dependencies/js-sdk/src/common/enum/javaTypeMapper",["require","exports","module"],function(e,t,i){i.exports={"java.lang.Date":"javaTypes.java.lang.Date","java.lang.String":"javaTypes.java.lang.String","java.lang.Integer":"javaTypes.java.lang.Integer","java.lang.Boolean":"javaTypes.java.lang.Boolean","java.lang.Double":"javaTypes.java.lang.Double","java.sql.Timestamp":"javaTypes.java.sql.Timestamp","java.lang.Short":"javaTypes.java.lang.Short","java.math.BigDecimal":"javaTypes.java.math.BigDecimal","java.lang.Long":"javaTypes.java.lang.Long","java.sql.Time":"javaTypes.java.sql.Time"}}),define("dataSource/fileDataSource/enum/javaTypes",["require","exports","module"],function(e,t,i){i.exports=["java.lang.Date","java.lang.String","java.lang.Integer","java.lang.Boolean","java.lang.Double","java.sql.Timestamp","java.lang.Short","java.math.BigDecimal","java.lang.Long","java.sql.Time"]}),define("dataSource/fileDataSource/SimpleDomainModel",["require","exports","module","jquery","underscore","request","runtime_dependencies/js-sdk/src/jrs.configs","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"],function(e,t,i){var n=e("jquery"),s=e("underscore"),a=e("request"),r=e("runtime_dependencies/js-sdk/src/jrs.configs"),o=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel");i.exports=o.extend({defaults:{uri:void 0,label:void 0,columns:[],dataSourceUri:void 0},validation:{columns:function(e){var t=[];return s.each(e,function(e,i){e.label||t.push({rowId:i,name:"label"})}),0!==t.length?this.trigger("validationFailed",t):this.trigger("validationPassed"),null}},type:"simpleDomain",url:function(){return r.contextPath+"/rest_v2/domains"},isNew:function(){return!0},constructor:function(e,t){o.prototype.constructor.apply(this,arguments),this.dataSource=t.dataSource,t.dataSource&&t.dataSource.uri&&this.set("dataSourceUri",t.dataSource.uri)},save:function(e,t){return s.defaults(t||(t={}),{headers:{Accept:"application/json","Content-Type":"application/simpleDomain+json; charset=UTF-8"}}),o.prototype.save.call(this,e,t)},parseMetadata:function(e){return s.each(e.columns,function(e){e.show=!0}),e},parse:function(e){var t=o.prototype.parse.apply(this,arguments);return t.dataSource&&(t.dataSourceUri=t.dataSource.dataSourceReference,delete t.dataSource),t.metadata&&(t.columns=t.metadata.columns,delete t.metadata),t},toJSON:function(){var e=o.prototype.toJSON.apply(this,arguments);return e.dataSource={dataSourceReference:e.dataSourceUri},e.metadata={columns:s.reduce(e.columns,function(e,t){return t.show&&e.push(t),e},[]),queryLanguage:"csv"},delete e.dataSourceUri,delete e.columns,e},fetchMetadata:function(){var e=this,t=n.Deferred();return a({type:"POST",url:r.contextPath+"/rest_v2/connections",dataType:"json",data:JSON.stringify(this.dataSource),headers:{"Content-Type":"application/repository.customDataSource+json",Accept:"application/table.metadata+json"}}).done(function(i){i=e.parseMetadata(i),e.set("columns",i.columns),t.resolve(i)}).fail(function(e){t.reject(e)}),t}})}),define("text!runtime_dependencies/js-sdk/src/common/templates/standardConfirm.htm",[],function(){return'<div class="panel dialog overlay standardConfirm moveable centered_horz centered_vert">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="content hasFooter ">\n        <div class="header mover">\n            <div class="title">\n                Confirm\n            </div>\n        </div>\n\n        <div class="body  ">\n        </div>\n\n        <div class="footer ">\n\n            <button class="button action primary up ok" name="buttonOK">\n                <span class="wrap">OK</span>\n                <span class="icon"></span>\n            </button>\n            <button class="button action up cancel" name="buttonCancel">\n                <span class="wrap">Cancel</span>\n                <span class="icon"></span>\n            </button>\n\n        </div>\n\n    </div>\n</div>'}),
define("text!dataSource/saveDialog/template/domainSaveDialogTemplate.htm",[],function(){return'<label title="{{- i18n[\'resource.datasource.saveDomainDialog.domainNameTitle\']}}" class="control input text ">\n\n    <js-templateNonce></js-templateNonce>\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDomainDialog.domainName\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" value="{{- model.label }}" name="label">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDomainDialog.resourceIDTitle\']}}" class="control input text ">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDomainDialog.resourceID\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" {{ if (model.isEditMode) { }}readonly="readonly"{{ } }} value="{{- model.name }}" name="name">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDomainDialog.descriptionTitle\']}}" class="control textArea">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDomainDialog.description\']}}</span>\n\t<textarea type="text" name="description">{{- model.description }}</textarea>\n\t<span class="message warning"></span>\n</label>\n\n{{ if (skipLocation === false) { }}\n<div class="control groupBox treeBox">\n\t<div class="content">\n\t\t<div class="header ">\n\t\t\t<div class="title"></div>\n\t\t</div>\n        <ul class="list collapsible folders"></ul>\n\t</div>\n</div>\n\n<label class="control textArea">\n\t<textarea type="text" class="hidden" name="parentFolderUri"></textarea>\n\t<span class="message warning"></span>\n</label>\n{{ } }}\n\n\x3c!--\n<div class="control checkBox toggle">\n    <label for="__jrs_openInAdHocDesigner" class="wrap">{{- i18n[\'resource.datasource.saveDomainDialog.openInAdhoc\']}}</label>\n    <input type="checkbox" name="openInAdHocDesigner" id="__jrs_openInAdHocDesigner" {{ if (model.openInAdHocDesigner) { }}checked="checked"{{ } }} />\n</div>\n--\x3e'}),define("dataSource/saveDialog/DomainSaveDialogView",["require","exports","module","underscore","jquery","bundle!all","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","./BaseSaveDialogView","text!runtime_dependencies/js-sdk/src/common/templates/standardConfirm.htm","text!./template/domainSaveDialogTemplate.htm","../../components/components.dialogs"],function(e,t,i){var n=e("underscore"),s=e("jquery"),a=e("bundle!all"),r=e("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),o=e("./BaseSaveDialogView"),l=e("text!runtime_dependencies/js-sdk/src/common/templates/standardConfirm.htm"),c=e("text!./template/domainSaveDialogTemplate.htm"),d=e("../../components/components.dialogs");i.exports=o.extend({saveDialogTemplate:c,constructor:function(e){e||(e={}),this.options=e,o.prototype.constructor.call(this,e)},initialize:function(){this.preSelectedFolder=r.getParentFolderFromUri(this.options.dataSource.uri)||"/",o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:openInAdHocDesigner",this._onOpenInAdHocDesignerChange)},extendModel:function(e){var t,i,s,l=o.prototype.extendModel.call(this,e),c=this;return l.set("openInAdHocDesigner",!1),t=e.dataSource.label,i=t+" Domain",s=r.generateResourceName(i),l.set("label",i),l.set("name",s),l.validation=n.extend({},r.prototype.validation,{label:[{required:!0,msg:a["resource.datasource.saveDomainDialog.validation.not.empty.label"]},{maxLength:r.settings.LABEL_MAX_LENGTH,msg:a["resource.datasource.saveDomainDialog.validation.too.long.label"]}],name:[{required:!0,msg:a["resource.datasource.saveDomainDialog.validation.not.empty.name"]},{maxLength:r.settings.NAME_MAX_LENGTH,msg:a["resource.datasource.saveDomainDialog.validation.too.long.name"]},{doesNotContainCharacters:r.settings.NAME_NOT_SUPPORTED_SYMBOLS,msg:a["resource.datasource.saveDomainDialog.validation.invalid.chars.name"]}],description:[{required:!1},{maxLength:r.settings.DESCRIPTION_MAX_LENGTH,msg:a["resource.datasource.saveDomainDialog.validation.too.long.description"]}],parentFolderUri:[{fn:function(e){if(!c.options.skipLocation){if(n.isNull(e)||n.isUndefined(e)||n.isString(e)&&""===e)return a["resource.datasource.saveDomainDialog.validation.not.empty.parentFolderIsEmpty"];if("/"!==e.slice(0,1))return a["resource.datasource.saveDomainDialog.validation.folder.not.found"].replace("{0}",e)}}}]}),l},_onOpenInAdHocDesignerChange:function(){var e=this._getLabelForSaveButton();this.changeButtonLabel("save",a[e])},_getLabelForSaveButton:function(e){e=e||this.model;var t="resource.datasource.saveDialog.save";return e.get("openInAdHocDesigner")&&(t="resource.datasource.saveDomainDialog.saveAndOpenDesigner"),t},_onSaveDialogCancelButtonClick:function(){var e=this,t=s(l);t.find(".body").html("You are about to cancel the creation of a new domain.<br/>If You wish to create a domain in the future,<br/>You will need to go through the regular Domain Designer.<br/>The data source, however, has successfully been saved."),d.popupConfirm.show(t.get(0),!0,{okButtonSelector:"[name=buttonOK]",cancelButtonSelector:"[name=buttonCancel]"}).done(function(){e._closeDialog(),n.isFunction(e.options.success)&&e.options.success()})},performSave:function(){var e=this;this.model.save().done(function(){e._closeDialog(),n.isFunction(e.options.success)&&e.options.success()})}})}),define("text!dataSource/fileDataSource/template/simpleDomainDialogTemplate.htm",[],function(){return'<div class="usageTooltip">\n\n    <js-templateNonce></js-templateNonce>\n    {{- i18n[\'resource.datasource.createDomain.useTooltip\']}}.</div>\n\n<div class="tableHolder">\n    <table class="table" unselectable="on" onselectstart="return false">\n        <tbody>\n\n        <tr class="header">\n            <td class="jrs-grid-cell"><div class="jrs-grid-cell-content">{{- i18n[\'resource.datasource.createDomain.table.fields.show\']}}</div></td>\n            <td class="jrs-grid-cell"><div class="jrs-grid-cell-content">{{- i18n[\'resource.datasource.createDomain.table.fields.fieldName\']}}</div></td>\n            <td class="jrs-grid-cell"><div class="jrs-grid-cell-content">{{- i18n[\'resource.datasource.createDomain.table.fields.displayLabel\']}}</div></td>\n            <td class="jrs-grid-cell"><div class="jrs-grid-cell-content">{{- i18n[\'resource.datasource.createDomain.table.fields.type\']}}</div></td>\n        </tr>\n\n        {{_.each(columns, function(field, y) { }}\n        <tr class="bodyCell" data-fieldId="{{- y }}">\n            <td class="jrs-grid-cell cell_1">\n                <div class="jrs-grid-cell-content">\n                    <input type="checkbox" name="show" {{- field.show ? "checked" : "" }} />\n                </div>\n            </td>\n            <td class="jrs-grid-cell cell_2">\n                <div class="jrs-grid-cell-content">\n                    {{- field.name }}\n                </div>\n            </td>\n            <td class="jrs-grid-cell cell_3">\n                <div class="jrs-grid-cell-content">\n                    <input type="text" name="label" value="{{- field.label }}" />\n                    <span class="message warning"></span>\n                </div>\n            </td>\n            <td class="jrs-grid-cell cell_4">\n                <div class="jrs-grid-cell-content">\n                    <select name="javaType">\n                    {{ _.each(javaTypes, function(javaType) { }}\n                        <option value="{{- javaType }}" {{- javaType === field.javaType ? "selected" : ""}}>{{- i18n[javaTypeMapper[javaType]]}}</option>\n                    {{ }); }}\n                    </select>\n                </div>\n            </td>\n        </tr>\n        {{ }); }}\n        </tbody>\n    </table>\n</div>\n\n<div class="usageDescription">{{- i18n[\'resource.datasource.createDomain.useTooptip.firstPart\']}}.</div>\n\n<div class="usageDescription2">{{- i18n[\'resource.datasource.createDomain.useTooptip.secondPart\']}}.</div>\n'}),define("dataSource/fileDataSource/SimpleDomainView",["require","exports","module","jquery","underscore","bundle!all","runtime_dependencies/js-sdk/src/common/enum/javaTypeMapper","./enum/javaTypes","runtime_dependencies/js-sdk/src/jrs.configs","./SimpleDomainModel","runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation","../saveDialog/DomainSaveDialogView","text!runtime_dependencies/js-sdk/src/common/templates/standardConfirm.htm","text!./template/simpleDomainDialogTemplate.htm","../../components/components.dialogs","../../util/utils.common"],function(e,t,i){var n=e("jquery"),s=e("underscore"),a=e("bundle!all"),r=e("runtime_dependencies/js-sdk/src/common/enum/javaTypeMapper"),o=e("./enum/javaTypes"),l=e("runtime_dependencies/js-sdk/src/jrs.configs"),c=e("./SimpleDomainModel"),d=e("runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation"),u=e("../saveDialog/DomainSaveDialogView"),p=e("text!runtime_dependencies/js-sdk/src/common/templates/standardConfirm.htm"),h=e("text!./template/simpleDomainDialogTemplate.htm"),m=e("../../components/components.dialogs"),f=e("../../util/utils.common"),g=f.redirectToUrl;i.exports=d.extend({hasChanges:!1,modelIsValid:!0,theDialogIsOpen:!1,constructor:function(e){e||(e={}),this.options=e,this.dataSource=e.dataSource?e.dataSource:{};this.model=new c({},e),d.prototype.constructor.call(this,{modal:!0,model:this.model,width:400,additionalCssClasses:"dataSourceCreateNewDomainDialog",title:a["resource.datasource.createDomain.dialogTitle"],content:"",buttons:[{label:a["resource.datasource.createDomain.save"],action:"save",primary:!0},{label:a["resource.datasource.createDomain.cancel"],action:"cancel",primary:!1}]}),this.on("button:save",s.bind(this._onSaveButtonClick,this)),this.on("button:cancel",s.bind(this._onCancelButtonClick,this)),this.model.on("validationPassed",s.bind(this.clearValidationErrors,this)),this.model.on("validationFailed",s.bind(this.validationFailed,this))},initialize:function(e){d.prototype.initialize.apply(this,arguments)},updateModelProperty:function(e){var t,i,s=n(e.target),r=s.attr("type"),o=s.attr("name"),l=s.parents("tr").attr("data-fieldId");i="checkbox"===r||"radio"===r?s.is(":checked"):n.trim(s.val()),t=this.model.get("columns"),t[l][o]=i,this.model.set("columns",t),this.model.validate("columns"),!1===this.hasChanges&&this.changeButtonLabel("save",a["resource.datasource.createDomain.applyAndSave"]),this.hasChanges=!0},startDialog:function(){var e=this;this.theDialogIsOpen||(this.bindValidation(),this.model.fetchMetadata(this.dataSource).done(function(){d.prototype.open.apply(e,arguments);var t=s.template(h,{i18n:a,javaTypes:o,columns:e.model.get("columns"),javaTypeMapper:r});e.setContent(t),e._center()}),this.theDialogIsOpen=!0)},fieldIsValid:function(){},fieldIsInvalid:function(e){},clearValidationErrors:function(){this.$el.find(".error").removeClass("error"),this.modelIsValid=!0},validationFailed:function(e){var t=this;this.clearValidationErrors(),this.modelIsValid=!1,s.each(e,function(e){var i=n(t.$el.find("table tr").get(e.rowId+1));i.find("[name="+e.name+"]").parent().addClass("error"),i.find(".message").text(a["resource.datasource.createDomain.validation.missing.label"])})},_closeDialog:function(){this.theDialogIsOpen&&(this.unbindValidation(),this.clearValidationErrors(),d.prototype.close.apply(this,arguments),this.theDialogIsOpen=!1)},_onCancelButtonClick:function(){var e=this,t=a["resource.datasource.createDomain.cancelMessage"],i=n(p);i.find(".body").html(t),m.popupConfirm.show(i.get(0),!0,{okButtonSelector:"[name=buttonOK]",cancelButtonSelector:"[name=buttonCancel]"}).done(function(){e._closeDialog(),e.options.cancel&&e.options.cancel()})},_onSaveButtonClick:function(){this.modelIsValid&&(this._closeDialog(),this.saveDialog=new u(s.extend({},this.options,{model:this.model,success:function(){g(l.contextPath+"/flow.html?_flowId=repositoryConfirmFlow&resourceType=dataSource&resourceType=domain")}})),this.saveDialog.startSaveDialog())}})}),define("text!dataSource/saveDialog/template/textDataSourceSaveDialogTemplate.htm",[],function(){return'<label title="{{- i18n[\'resource.datasource.saveDialog.dataSourceNameTitle\']}}" class="control input text ">\n\n    <js-templateNonce></js-templateNonce>\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.dataSourceName\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" value="{{- model.label }}" name="label">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDialog.resourceIDTitle\']}}" class="control input text ">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.resourceID\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" {{ if (isEditMode) { }}readonly="readonly"{{ } }} value="{{- model.name }}" name="name">\n\t<span class="message warning"></span>\n</label>\n\n\n<label title="{{- i18n[\'resource.datasource.saveDialog.descriptionTitle\']}}" class="control textArea">\n\t<span class="wrap">{{- i18n[\'resource.datasource.saveDialog.description\']}}</span>\n\t<textarea type="text" name="description">{{- model.description }}</textarea>\n\t<span class="message warning"></span>\n</label>\n\n{{ if (skipLocation === false) { }}\n<div class="control groupBox treeBox">\n\t<div class="content">\n\t\t<div class="header ">\n\t\t\t<div class="title"></div>\n\t\t</div>\n        <ul class="list collapsible folders"></ul>\n\t</div>\n</div>\n\n<label class="control textArea">\n\t<textarea type="text" class="hidden" name="parentFolderUri"></textarea>\n\t<span class="message warning"></span>\n</label>\n{{ } }}\n'}),define("dataSource/saveDialog/TextDataSourceSaveDialogView",["require","exports","module","underscore","bundle!all","../fileDataSource/SimpleDomainView","./BaseSaveDialogView","text!./template/textDataSourceSaveDialogTemplate.htm"],function(e,t,i){var n=e("underscore"),s=(e("bundle!all"),e("../fileDataSource/SimpleDomainView")),a=e("./BaseSaveDialogView"),r=e("text!./template/textDataSourceSaveDialogTemplate.htm");i.exports=a.extend({saveDialogTemplate:r,constructor:function(e){e||(e={}),this.options=n.extend({},e),this.options.isEmbedded=!!this.options.saveFn,a.prototype.constructor.call(this,e)},initialize:function(){this.preSelectedFolder=this.options.model.options.parentFolderUri,a.prototype.initialize.apply(this,arguments)},extendModel:function(e){var t=a.prototype.extendModel.call(this,e);return t.set("prepareDataForReporting",!(this.options.isEmbedded||this.options.isEditMode)),t},_getLabelForSaveButton:function(e){return"resource.datasource.saveDialog.save"},_saveSuccessCallback:function(e,t){if(this.model.get("prepareDataForReporting")){new s({cancel:this.options.success,dataSource:this.model.toJSON()}).startDialog()}else n.isFunction(this.options.success)&&this.options.success();this._closeDialog()}})}),define("dataSource/factory/saveDialogViewFactory",["require","exports","module","../saveDialog/BaseSaveDialogView","../saveDialog/TextDataSourceSaveDialogView","../saveDialog/DomainSaveDialogView"],function(e,t,i){var n=e("../saveDialog/BaseSaveDialogView"),s=e("../saveDialog/TextDataSourceSaveDialogView"),a=e("../saveDialog/DomainSaveDialogView"),r={};r.textDataSource=s,r.domain=a,i.exports={getView:function(e){var t;return t=n,r[e]&&(t=r[e]),t}}}),define("text!dataSource/template/dataSourceMainTemplate.htm",[],function(){return'<div class="column decorated primary addNewDataSource">\n\n\n    <js-templateNonce></js-templateNonce>\n    <div class="content hasFooter">\n        <div class="pageHeader">\n            <div class="pageHeader-title">\n                <div class="pageHeader-title-icon">\n                    <span class="icon datasource"></span>\n                </div>\n                <div class="pageHeader-title-text">\n                    {{ if (!isEditMode) { }}\n                    {{- i18n[\'resource.dataSource.title.new\'] }}\n                    {{ } }}\n                </div>\n            </div>\n        </div>\n        <div class="body {{ if (supportsTouch) { }}swipeScroll{{ } }}">\n            <div id="stepDisplay">\n                <fieldset class="row instructions">\n                    <legend class="offLeft"><span>{{- i18n["resource.dataSource.instructions"] }}</span></legend>\n                    <h2 class="textAccent02">\n                        {{ if (isEditMode) { }}\n                        {{- i18n["resource.dataSource.instructions.form.header.edit"] }}\n                        {{ } else { }}\n                        {{- i18n["resource.dataSource.instructions1"] }}\n                        {{ } }}\n\n                    </h2>\n                </fieldset>\n\n                <fieldset class="row inputs oneColumn">\n                    <legend class="offLeft"><span>{{- i18n["resource.dataSource.inputs"] }}</span></legend>\n                    <div class="column primary">\n                        <div class="content">\n                            <div class="header">\n                                <div class="title {{ if (isEditMode) { }}disabled{{ } }}">{{- i18n["resource.dataSource.type"] }}</div>\n                                <label class="control select inline" title="{{- i18n[\'resource.dataSource.dsType\'] }}">\n                                    <span class="wrap offLeft">{{- i18n[\'resource.dataSource.dsType\'] }}</span>\n                                    <select name="dataSourceType" {{ if (isEditMode) { }}disabled="disabled"{{ } }}>\n                                        {{ _.each(dataSourceTypeOptions, function(option) { }}\n                                        <option value="{{- option.value }}">{{- option.label }}</option>\n                                        {{ }); }}\n                                    </select>\n                                    <span class="message warning"></span>\n                                </label>\n                            </div>\n                            <div class="body dataSourceBody"></div>\n                        </div>\n                    </div>\n                </fieldset>\n            </div>\n        </div>\n        <div class="footer ">\n            <fieldset id="wizardNav">\n                <button class="button primary action up" id="saveBtn"><span class="wrap">{{- i18n[\'resource.datasource.saveDialog.save\'] }}</span><span class="icon"></span></button>\n                <button class="button up action" id="cancelBtn"><span class="wrap">{{- i18n[\'resource.datasource.saveDialog.cancel\'] }}</span><span class="icon"></span></button>\n            </fieldset>\n        </div>\n    </div>\n</div>\n'}),define("dataSource/collection/CustomDataSourceCollection",["require","exports","module","backbone","underscore","runtime_dependencies/js-sdk/src/jrs.configs"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("runtime_dependencies/js-sdk/src/jrs.configs");i.exports=n.Collection.extend({url:a.contextPath+"/rest_v2/customDataSources",parse:function(e){var t=[];return e.definition&&s.each(e.definition,function(e){t.push({id:e})}),t}})}),define("dataSource/DataSourceController",["require","exports","module","backbone","underscore","jquery","bundle!all","./model/BaseDataSourceModel","../util/touch.controller","runtime_dependencies/js-sdk/src/common/util/featureDetection","../util/historyHelper","./factory/dataSourceViewFactory","./enum/dataSourceResourceTypes","./factory/saveDialogViewFactory","text!./template/dataSourceMainTemplate.htm","text!runtime_dependencies/js-sdk/src/common/templates/dialogErrorPopupTemplate.htm","runtime_dependencies/js-sdk/src/jrs.configs","./collection/CustomDataSourceCollection","settings!awsSettings","./util/settingsUtility","../util/redirectToUrlUtil","../components/components.dialogs"],function(e,t,i){var n=e("backbone"),s=e("underscore"),a=e("jquery"),r=e("bundle!all"),o=e("./model/BaseDataSourceModel"),l=e("../util/touch.controller"),c=e("runtime_dependencies/js-sdk/src/common/util/featureDetection"),d=e("../util/historyHelper"),u=e("./factory/dataSourceViewFactory"),p=e("./enum/dataSourceResourceTypes"),h=e("./factory/saveDialogViewFactory"),m=e("text!./template/dataSourceMainTemplate.htm"),f=e("text!runtime_dependencies/js-sdk/src/common/templates/dialogErrorPopupTemplate.htm"),g=e("runtime_dependencies/js-sdk/src/jrs.configs"),v=e("./collection/CustomDataSourceCollection"),b=e("settings!awsSettings"),_=e("./util/settingsUtility"),S=e("../util/redirectToUrlUtil"),y=e("../components/components.dialogs"),D=s.template(g.contextPath+"/domaindesigner.html?dataSource={{-resourceUri}}");i.exports=n.View.extend({dataSourceType:!1,dataSourceView:!1,saveDialog:!1,events:{"change select[name='dataSourceType']":"onDataSourceTypeChange","click #saveBtn, #createDomainBtn":"onSaveClick","click #cancelBtn":"onCancelClick"},historyBackToken:"DataSourceControllerHistory",constructor:function(e){var t=Array.prototype.slice.call(arguments,0);e=a.extend(!0,{},e),t[0]=e,this.isEditMode=e.isEditMode,n.View.apply(this,t)},initialize:function(e){this.options=e,this.dataSourceType=void 0,c.supportsTouch&&this.initSwipeScroll(),d.saveReferrer(this.historyBackToken),this.fetchingCustomDataSourcesDeferred=a.Deferred(),this.fetchingTheModelDeferred=a.Deferred(),this.customDataSourceCollection=new v,this.customDataSourceCollection.fetch().done(s.bind(function(){this.renderDataSourceContainer()},this));var t=_.deepDefaults(e,{awsSettings:b});if(this.options.resourceUri){var i=this,n=new o({uri:this.options.resourceUri});n.fetch().then(function(e,t,s){i.dataSource=n.attributes,i.dataSourceType=u.getViewType(s.getResponseHeader("Content-Type"),i.dataSource),i.fetchingTheModelDeferred.resolve()})}else this.options.dataSource&&this.options.dataSourceClientType?(this.dataSource=this.options.dataSource,this.dataSourceType=u.getViewType(this.options.dataSourceClientType,this.options.dataSource),this.fetchingTheModelDeferred.resolve()):(t.awsSettings.productTypeIsEc2&&(this.dataSourceType=u.getViewType(p.AWS,null)),this.fetchingTheModelDeferred.resolve())},renderDataSourceContainer:function(){var e={AZURE_SQL:"AzureSql",AWS:"Aws",BEAN:"Bean",JDBC:"JDBC",JNDI:"JNDI",VIRTUAL:"Virtual"},t=s.chain(e).map(function(e,t){return{value:p[t].toLowerCase(),label:r["resource.dataSource.dstype"+e]}}).value();this.customDataSourceCollection.forEach(function(e){var i=e.get("id");t.push({value:i,label:r[i+".name"]?r[i+".name"]:i})}),t=s.sortBy(t,function(e){return e.label.toLowerCase()}),this.$el.append(s.template(m,{dataSourceTypeOptions:t,i18n:r,supportsTouch:c.supportsTouch,isEditMode:this.isEditMode})),this.fetchingCustomDataSourcesDeferred.resolve()},initSwipeScroll:function(){var e=this.$("#stepDisplay");e.length&&new l(e.parent()[0],e.parent().parent()[0],{})},render:function(){a.when(this.fetchingCustomDataSourcesDeferred,this.fetchingTheModelDeferred).done(s.bind(function(){this._render()},this))},_render:function(){var e={};return this.dataSourceView&&(e={label:this.dataSourceView.model.get("label"),name:this.dataSourceView.model.get("name"),description:this.dataSourceView.model.get("description")}),this.dataSourceView&&this.dataSourceView.remove(),delete this.dataSourceView,0===this.$(".row.inputs .body:eq(0)").length&&this.$(".row.inputs > .column > .content").append("<div class='body dataSourceBody'></div>"),this.dataSourceType||(this.dataSourceType=p.JDBC.toLowerCase()),this.dataSourceView=u.getView(s.extend(this.options,{dataSourceType:this.dataSourceType,dataSource:s.extend({},this.dataSource,e),el:this.$(".row.inputs .body:eq(0)")})),this.$(".dataSourceBody").attr("dstype",this.dataSourceType.toLowerCase()),this.$("select[name='dataSourceType']").val(this.dataSourceType),this.dataSource&&this.dataSource.label&&this.$(".pageHeader .pageHeader-title-text").text(this.dataSource.label),this},onDataSourceTypeChange:function(e){var t=a(e.target).val();this.dataSourceType!=t&&(this.dataSourceType=t,this.render())},_prepareSaveDialog:function(e){this.saveDialog&&this.saveDialog.remove();var t=h.getView(this.dataSourceType);this.saveDialog=new t(s.extend({},this.options,{model:this.dataSourceView.model,saveFn:this.options.saveFn,success:s.bind(e?this._onSaveAndCreateDomainDone:this._onSaveDone,this),error:s.bind(this._onSaveFail,this)}))},onSaveClick:function(e){if(this.dataSourceView.model.isValid(!0)){var t=this,i=e&&"createDomainBtn"==e.currentTarget.id,n=function(){t._prepareSaveDialog(i),t.saveDialog.startSaveDialog()};return s.isUndefined(this.dataSourceView.model.validationMethodOnSaveClick)?s.isUndefined(this.dataSourceView.validationMethodOnSaveClick)?void n():void this.dataSourceView.validationMethodOnSaveClick(n):void this.dataSourceView.model.validationMethodOnSaveClick(n)}},_onSaveDone:function(){S.redirect(g.contextPath+"/flow.html?_flowId=repositoryConfirmFlow&resourceType=dataSource")},_onSaveAndCreateDomainDone:function(e){S.redirect(D({resourceUri:e.get("uri")}))},_onSaveFail:function(e,t){this.saveDialog&&(this.saveDialog.close(),this.saveDialog.remove());var i=this,n=!1,a=!1;try{n=JSON.parse(t.responseText)}catch(e){}if(s.isArray(n)||(n=[n]),s.each(n,function(e){var t=!1,n=!1;e&&("mandatory.parameter.error"===e.errorCode?e.parameters&&e.parameters[0]&&(n=r["resource.datasource.saveDialog.parameterIsMissing"],t=e.parameters[0].substr(e.parameters[0].indexOf(".")+1)):"illegal.parameter.value.error"===e.errorCode&&e.parameters&&e.parameters[0]&&(t=e.parameters[0].substr(e.parameters[0].indexOf(".")+1),n=r["resource.datasource.saveDialog.parameterIsWrong"]),"ConnectionUrl"===t&&(t="connectionUrl"),n&&t&&(i.dataSourceView.invalidField("[name="+t+"]",n),a=!0))}),!1===a){var o=s.template(f,{message:"Failed to save data source.",errorCode:n[0]?n[0].errorCode:null,errorMsg:n.message,respText:t.responseText});y.errorPopup.show(o)}},onCancelClick:function(){this.options.cancelFn?this.options.cancelFn():d.restore(this.historyBackToken)}})}),define("resource/resource.query",["require","exports","module","prototype","./resource.base","./resource.locate","../util/utils.common","../dataSource/DataSourceController","runtime_dependencies/js-sdk/src/jrs.configs","jquery","underscore"],function(e,t,i){var n=e("prototype"),s=n.$,a=e("./resource.base"),r=e("./resource.locate"),o=e("../util/utils.common"),l=o.ValidationModule,c=e("../dataSource/DataSourceController"),d=e("runtime_dependencies/js-sdk/src/jrs.configs"),u=e("jquery"),p=e("underscore"),h={STEP1_PAGE_ID:"addResource_query_step1",STEP2_PAGE_ID:"addResource_locateDataSource",STEP3_PAGE_ID:"addResource_query_step3",LABEL_ID:"query.label",RESOURCE_ID_ID:"query.name",DESCRIPTION_ID:"query.description",JUMP_TO_PAGE_ID:"jumpToPage",DONE_BUTTON_ID:"done",NEXT_BUTTON_ID:"next",JUMP_TO_BUTTON_ID:"jumpButton",NEW_DATA_SOURCE_LINK_ID:"newDataSourceLink",LOCAL_DATA_SOURCE_ID:"LOCAL",RESOURCE_URI_INPUT_ID:"resourceUri",QUERY_SQL:"query.sql",_canGenerateId:!0,initialize:function(e){this._step1Page=s(this.STEP1_PAGE_ID),this._step2Page=s(this.STEP2_PAGE_ID),this._step3Page=s(this.STEP3_PAGE_ID),this._step1Page&&(this._form=s(document.body).select("form")[0],this._label=s(this.LABEL_ID),this._resourceId=s(this.RESOURCE_ID_ID),this._description=s(this.DESCRIPTION_ID),this._label.validator=a.labelValidator.bind(this),this._resourceId.validator=a.resourceIdValidator.bind(this),this._description.validator=a.descriptionValidator.bind(this)),this._step2Page&&(this._form=s(document.body).select("form")[0],this._dataSourceUri=s(this.RESOURCE_URI_INPUT_ID),this._dataSourceUri.validator=a.dataSourceValidator.bind(this)),this._step3Page&&(this._form=s(document.body).select("form")[0],this._query=s(this.QUERY_SQL),this._query.validator=a.queryValidator.bind(this)),this._nextButton=s(this.NEXT_BUTTON_ID),this._doneButton=s(this.DONE_BUTTON_ID),this._jumpToPage=s(this.JUMP_TO_PAGE_ID),this._jumpButton=s(this.JUMP_TO_BUTTON_ID),this._newDataSourceLink=s(this.NEW_DATA_SOURCE_LINK_ID),this._localDataSource=s(this.LOCAL_DATA_SOURCE_ID),this._isEditMode=!!e&&e.isEditMode,r.initialize({resourceInput:"resourceUri",browseButton:"browser_button",newResourceLink:"newDataSourceLink",treeId:"queryTreeRepoLocation",providerId:"dsTreeDataProvider",dialogTitle:a.messages["resource.Query.Title"],selectLeavesOnly:!0}),this._initEvents()},_initEvents:function(){if(this._nextButton.observe("click",function(e){this._isDataValid()||e.stop(),this._localDataSource&&this._localDataSource.checked&&(e.stop(),this._newDataSourceLink.click())}.bindAsEventListener(this)),this._doneButton.observe("click",function(e){this._isDataValid()||e.stop()}.bindAsEventListener(this)),this._form.observe("keyup",function(e){var t=e.element();t==this._resourceId&&this._resourceId.getValue()!=a.generateResourceId(this._label.getValue())&&(this._canGenerateId=!1),t==this._label&&!this._isEditMode&&this._canGenerateId&&(this._resourceId.setValue(a.generateResourceId(this._label.getValue())),l.validate(a.getValidationEntries([this._resourceId])))}.bindAsEventListener(this)),this._newDataSourceLink){var e=this;this._newDataSourceLink.observe("click",function(t){if(e._localDataSource.checked){var i=d.addDataSource?p.clone(d.addDataSource.initOptions):{};i.saveFn=function(t,i){t.type=i.type;var n=document.createElement("input");n.type="hidden",n.name="dataSourceJson",n.value=JSON.stringify(p.extend(i.toJSON(),{name:t.name})),e._form.appendChild(n),n=document.createElement("input"),n.type="hidden",n.name="dataSourceType",n.value=i.type,e._form.appendChild(n),n=document.createElement("input"),n.type="hidden",n.name="_eventId_saveDatasource",e._form.appendChild(n),e._form.submit()},i.cancelFn=function(){e._form.submit()},i.skipLocation=!0,window.localContext&&window.localContext.initOptions&&window.localContext.initOptions&&(window.localContext.initOptions.dataSourceJson?(i.isEditMode=!0,i.dataSource=window.localContext.initOptions.dataSourceJson,i.dataSourceClientType=window.localContext.initOptions.dataSourceJson.type):window.localContext.initOptions.dataSourceUri&&(i.isEditMode=!0,i.resourceUri=window.localContext.initOptions.dataSourceUri));var n=new c(i);u("#display").append(n.$el),u("#selectFromRepository").remove(),n.render()}}.bindAsEventListener(this))}},_isDataValid:function(){var e=!0;return this._label&&(e=e&&l.validate(a.getValidationEntries([this._label]))),this._resourceId&&(this._resourceId.getValue()!=a.generateResourceId(this._label.getValue())&&(this._canGenerateId=!1),!this._isEditMode&&this._canGenerateId&&(this._resourceId.setValue(a.generateResourceId(this._label.getValue())),e=e&&l.validate(a.getValidationEntries([this._resourceId])))),this._description&&(e=e&&l.validate(a.getValidationEntries([this._description]))),this._dataSourceUri&&!this._dataSourceUri.disabled&&(e=e&&l.validate(a.getValidationEntries([this._dataSourceUri]))),this._query&&(e=e&&l.validate(a.getValidationEntries([this._query]))),e},jumpTo:function(e){return this._jumpToPage.setValue(e),this._jumpButton.click(),!1}};void 0===e&&document.observe("dom:loaded",function(){h.initialize(window.localContext.initOptions)}),i.exports=h}),define("addResource/query/addQueryWithResourceLocatorMain",["require","exports","module","requirejs-domready","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../resource/resource.base","../../resource/resource.query","jquery","../../util/utils.common","../../resource/resource.locate"],function(e,t,i){var n=e("requirejs-domready"),s=e("underscore"),a=e("runtime_dependencies/js-sdk/src/jrs.configs"),r=e("../../resource/resource.base"),o=e("../../resource/resource.query"),l=e("jquery"),c=e("../../util/utils.common"),d=c.isIPad;e("../../resource/resource.locate"),n(function(){var e=a.addQuery.localContext.initOptions;s.extend(window.localContext,a.addQuery.localContext),s.extend(r.messages,a.addQuery.resource.messages),o.initialize(e),a.addQuery.buttonFlowControls&&(l("#steps1_2").on("click",function(){return o.jumpTo("reportNaming")}),
l("#step3").on("click",function(){return o.jumpTo("resources")}),l("#step4").on("click",function(){return o.jumpTo("dataSource")}),l("#step5").on("click",function(){return o.jumpTo("query")}),l("#step6").on("click",function(){return o.jumpTo("customization")})),d()&&r.initSwipeScroll()})});