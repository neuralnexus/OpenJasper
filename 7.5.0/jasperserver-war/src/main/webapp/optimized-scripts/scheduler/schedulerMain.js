define("scheduler/util/schedulerUtils",["require","exports","module","runtime_dependencies/js-sdk/src/jrs.configs","underscore","../../util/utils.common"],function(t,e,i){var n=t("runtime_dependencies/js-sdk/src/jrs.configs"),s=t("underscore"),o=t("../../util/utils.common"),r=o.redirectToUrl;i.exports={SCHEDULER_BACK_URL_STORAGE_NAME:"tibco-jrs-scheduler-back-url",getParamsFromUri:function(){var t={},e=document.location.search.substr(1).split("&");s.each(e,function(e){var i=e.split("="),n=i[0],s=i[1];""!==s&&(t[n]=decodeURIComponent(s))});var i=document.location.hash.substr(1);0===i.indexOf("runInBackground@")&&(i=i.replace("runInBackground@",""));var n=i.split("@@");return t.reportUri=n.shift(),s.each(n,function(e){var i=e.split("="),n=i[0],s=i[1];""!==s&&(t[n]=decodeURIComponent(s))}),t},saveCurrentLocation:function(){-1===document.referrer.indexOf("login.html")&&window.localStorage&&localStorage.setItem(this.SCHEDULER_BACK_URL_STORAGE_NAME,encodeURIComponent(document.referrer))},getBackToPreviousLocation:function(){var t=encodeURIComponent(document.location.href),e=window.localStorage?localStorage.getItem(this.SCHEDULER_BACK_URL_STORAGE_NAME):"";if(e&&e!==t){var i=decodeURIComponent(e);if(i)return void r(i)}r(n.contextPath+"/flow.html?_flowId=searchFlow")}}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("xregexp",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.XRegExp=t()}}(function(){return function(){function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){return s(e[r][1][t]||t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}return t}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(t){function e(t){var e=/^(?:\(\?:\))*\^/,i=/\$(?:\(\?:\))*$/;return e.test(t)&&i.test(t)&&i.test(t.replace(/\\[\s\S]/g,""))?t.replace(e,"").replace(i,""):t}function i(e,i){var n=i?"x":"";return t.isRegExp(e)?e[r]&&e[r].captureNames?e:t(e.source,n):t(e,n)}function n(e){return e instanceof RegExp?e:t.escape(e)}function s(t,e,i){return t["subpattern".concat(i)]=e,t}function o(t,e,i){return t+(e<i.length-1?"{{subpattern".concat(e,"}}"):"")}var r="xregexp",a=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,l=t.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,a],"g",{conjunction:"or"});t.tag=function(e){return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];var c=a.map(n).reduce(s,{}),d=i.raw.map(o).join("");return t.build(d,c,e)}},t.build=function(n,s,o){o=o||"";var c=-1!==o.indexOf("x"),d=/^\(\?([\w$]+)\)/.exec(n);d&&(o=t._clipDuplicates(o+d[1]));var u={};for(var h in s)if(s.hasOwnProperty(h)){var p=i(s[h],c);u[h]={pattern:e(p.source),names:p[r].captureNames||[]}}var m,f=i(n,c),g=0,b=0,v=[0],_=f[r].captureNames||[],y=f.source.replace(l,function(t,e,i,n,s){var o,r,l,c=e||i;if(c){if(!u.hasOwnProperty(c))throw new ReferenceError("Undefined property ".concat(t));e?(o=_[b],v[++b]=++g,r="(?<".concat(o||c,">")):r="(?:",m=g;var d=u[c].pattern.replace(a,function(t,e,i){if(e){if(o=u[c].names[g-m],++g,o)return"(?<".concat(o,">")}else if(i)return l=+i-1,u[c].names[l]?"\\k<".concat(u[c].names[l],">"):"\\".concat(+i+m);return t});return"".concat(r).concat(d,")")}if(n){if(o=_[b],v[++b]=++g,o)return"(?<".concat(o,">")}else if(s)return l=+s-1,_[l]?"\\k<".concat(_[l],">"):"\\".concat(v[+s]);return t});return t(y,o)}};i.default=n,e.exports=i.default},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(t){function e(t,e,i,n){return{name:t,value:e,start:i,end:n}}t.matchRecursive=function(i,n,s,o,r){o=o||"",r=r||{};var a,l,c,d,u,h=-1!==o.indexOf("g"),p=-1!==o.indexOf("y"),m=o.replace(/y/g,""),f=r,g=f.escapeChar,b=r.valueNames,v=[],_=0,y=0,C=0,S=0;if(n=t(n,m),s=t(s,m),g){if(g.length>1)throw new Error("Cannot use more than one escape character");g=t.escape(g),u=new RegExp("(?:".concat(g,"[\\S\\s]|(?:(?!").concat(t.union([n,s],"",{conjunction:"or"}).source,")[^").concat(g,"])+)+"),o.replace(/[^imu]+/g,""))}for(;;){if(g&&(C+=(t.exec(i,u,C,"sticky")||[""])[0].length),c=t.exec(i,n,C),d=t.exec(i,s,C),c&&d&&(c.index<=d.index?d=null:c=null),c||d)y=(c||d).index,C=y+(c||d)[0].length;else if(!_)break;if(p&&!_&&y>S)break;if(c)_||(a=y,l=C),++_;else{if(!d||!_)throw new Error("Unbalanced delimiter found in string");if(!--_&&(b?(b[0]&&a>S&&v.push(e(b[0],i.slice(S,a),S,a)),b[1]&&v.push(e(b[1],i.slice(a,l),a,l)),b[2]&&v.push(e(b[2],i.slice(l,y),l,y)),b[3]&&v.push(e(b[3],i.slice(y,C),y,C))):v.push(i.slice(l,y)),S=C,!h))break}y===C&&++C}return h&&!p&&b&&b[0]&&i.length>S&&v.push(e(b[0],i.slice(S),S,i.length)),v}};i.default=n,e.exports=i.default},{}],3:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("@babel/runtime-corejs2/core-js/get-iterator")),o=function(t){function e(t){return t.replace(/[- _]+/g,"").toLowerCase()}function i(t){var e=/^\\[xu](.+)/.exec(t);return e?c(e[1]):t.charCodeAt("\\"===t[0]?1:0)}function n(e){var n="",s=-1;return t.forEach(e,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(t){var e=i(t[1]);e>s+1&&(n+="\\u".concat(u(d(s+1))),e>s+2&&(n+="-\\u".concat(u(d(e-1))))),s=i(t[2]||t[1])}),s<65535&&(n+="\\u".concat(u(d(s+1))),s<65534&&(n+="-\\uFFFF")),n}function o(t){return l[t]["b!"]||(l[t]["b!"]=n(l[t].bmp))}function r(t,e){var i=l[t],n="";return i.bmp&&!i.isBmpLast&&(n="[".concat(i.bmp,"]").concat(i.astral?"|":"")),i.astral&&(n+=i.astral),i.isBmpLast&&i.bmp&&(n+="".concat(i.astral?"|":"","[").concat(i.bmp,"]")),e?"(?:(?!".concat(n,")(?:[�-�][�-�]|[\0-￿]))"):"(?:".concat(n,")")}function a(t,e){var i=e?"a!":"a=";return l[t][i]||(l[t][i]=r(t,e))}var l={},c=t._dec,d=t._hex,u=t._pad4;t.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(t,i,n){var s="P"===t[1]||!!t[2],r=-1!==n.indexOf("A"),c=e(t[4]||t[3]),d=l[c];if("P"===t[1]&&t[2])throw new SyntaxError("Invalid double negation "+t[0]);if(!l.hasOwnProperty(c))throw new SyntaxError("Unknown Unicode token "+t[0]);if(d.inverseOf){if(c=e(d.inverseOf),!l.hasOwnProperty(c))throw new ReferenceError("".concat("Unicode token missing data "+t[0]," -> ").concat(d.inverseOf));d=l[c],s=!s}if(!d.bmp&&!r)throw new SyntaxError("Astral mode required for Unicode token "+t[0]);if(r){if("class"===i)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return a(c,s)}return"class"===i?s?o(c):d.bmp:"".concat((s?"[^":"[")+d.bmp,"]")},{scope:"all",optionalFlags:"A",leadChar:"\\"}),t.addUnicodeData=function(i){var n=!0,o=!1,r=void 0;try{for(var a,c=(0,s.default)(i);!(n=(a=c.next()).done);n=!0){var d=a.value;if(!d.name)throw new Error("Unicode token requires name");if(!(d.inverseOf||d.bmp||d.astral))throw new Error("Unicode token has no character data "+d.name);l[e(d.name)]=d,d.alias&&(l[e(d.alias)]=d)}}catch(t){o=!0,r=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}t.cache.flush("patterns")},t._getUnicodeProperty=function(t){var i=e(t);return l[i]}};i.default=o,e.exports=i.default},{"@babel/runtime-corejs2/core-js/get-iterator":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],4:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("../../tools/output/blocks")),o=function(t){if(!t.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");t.addUnicodeData(s.default)};i.default=o,e.exports=i.default},{"../../tools/output/blocks":81,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],5:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("../../tools/output/categories")),o=function(t){if(!t.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");t.addUnicodeData(s.default)};i.default=o,e.exports=i.default},{"../../tools/output/categories":82,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],6:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("../../tools/output/properties")),o=function(t){if(!t.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var e=s.default;e.push({name:"Assigned",inverseOf:"Cn"}),t.addUnicodeData(e)};i.default=o,e.exports=i.default},{"../../tools/output/properties":83,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],7:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("../../tools/output/scripts")),o=function(t){if(!t.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");t.addUnicodeData(s.default)};i.default=o,e.exports=i.default},{"../../tools/output/scripts":84,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],8:[function(t,e,i){"use strict";var n=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("./xregexp")),o=n(t("./addons/build")),r=n(t("./addons/matchrecursive")),a=n(t("./addons/unicode-base")),l=n(t("./addons/unicode-blocks")),c=n(t("./addons/unicode-categories")),d=n(t("./addons/unicode-properties")),u=n(t("./addons/unicode-scripts"));(0,o.default)(s.default),(0,r.default)(s.default),(0,a.default)(s.default),(0,l.default)(s.default),(0,c.default)(s.default),(0,d.default)(s.default),(0,u.default)(s.default);var h=s.default;i.default=h,e.exports=i.default},{"./addons/build":1,"./addons/matchrecursive":2,"./addons/unicode-base":3,"./addons/unicode-blocks":4,"./addons/unicode-categories":5,"./addons/unicode-properties":6,"./addons/unicode-scripts":7,"./xregexp":9,"@babel/runtime-corejs2/helpers/interopRequireDefault":15}],9:[function(t,e,i){"use strict";function n(t){var e=!0;try{new RegExp("",t)}catch(t){e=!1}return e}function s(t,e,i,n,s){if(t[j]={captureNames:e},s)return t;if(t.__proto__)t.__proto__=S.prototype;else for(var o in S.prototype)t[o]=S.prototype[o];return t[j].source=i,t[j].flags=n?n.split("").sort().join(""):n,t}function o(t){return k.replace.call(t,/([\s\S])(?=[\s\S]*\1)/g,"")}function r(t,e){if(!S.isRegExp(t))throw new TypeError("Type RegExp expected");var i=t[j]||{},n=c(t),r="",a="",l=null,u=null;return e=e||{},e.removeG&&(a+="g"),e.removeY&&(a+="y"),a&&(n=k.replace.call(n,new RegExp("[".concat(a,"]+"),"g"),"")),e.addG&&(r+="g"),e.addY&&(r+="y"),r&&(n=o(n+r)),e.isInternalOnly||(void 0!==i.source&&(l=i.source),null!=i.flags&&(u=r?o(i.flags+r):i.flags)),t=s(new RegExp(e.source||t.source,n),d(t)?i.captureNames.slice(0):null,l,u,e.isInternalOnly)}function a(t){return(0,D.default)(t,16)}function l(t,e,i){return"("===t.input[t.index-1]||")"===t.input[t.index+t[0].length]||"|"===t.input[t.index-1]||"|"===t.input[t.index+t[0].length]||t.index<1||t.index+t[0].length>=t.input.length||k.test.call(/^\(\?[:=!]/,t.input.substr(t.index-3,3))||h(t.input,t.index+t[0].length,i)?"":"(?:)"}function c(t){return z?t.flags:k.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(t))[1]}function d(t){return!(!t[j]||!t[j].captureNames)}function u(t){return(0,D.default)(t,10).toString(16)}function h(t,e,i){return k.test.call(-1!==i.indexOf("x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,t.slice(e))}function p(t,e){return U.call(t)==="[object ".concat(e,"]")}function m(t){for(;t.length<4;)t="0".concat(t);return t}function f(t,e){if(o(e)!==e)throw new SyntaxError("Invalid duplicate regex flag ".concat(e));t=k.replace.call(t,/^\(\?([\w$]+)\)/,function(t,i){if(k.test.call(/[gy]/,i))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat(t));return e=o(e+i),""});var i=!0,n=!1,s=void 0;try{for(var r,a=(0,I.default)(e);!(i=(r=a.next()).done);i=!0){var l=r.value;if(!q[l])throw new SyntaxError("Unknown regex flag ".concat(l))}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return{pattern:t,flags:e}}function g(t){var e={};return p(t,"String")?(S.forEach(t,/[^\s,]+/,function(t){e[t]=!0}),e):t}function b(t){if(!/^[\w$]$/.test(t))throw new Error("Flag must be a single character A-Za-z0-9_$");q[t]=!0}function v(t,e,i,n,s){for(var o,r,a=M.length,l=t[i],c=null;a--;)if(r=M[a],!(r.leadChar&&r.leadChar!==l||r.scope!==n&&"all"!==r.scope||r.flag&&-1===e.indexOf(r.flag))&&(o=S.exec(t,r.regex,i,"sticky"))){c={matchLength:o[0].length,output:r.handler.call(s,o,n,e),reparse:r.reparse};break}return c}function _(t){E.astral=t}function y(t){E.namespacing=t}function C(t){if(null==t)throw new TypeError("Cannot convert null or undefined to object");return t}function S(t,e){if(S.isRegExp(t)){if(void 0!==e)throw new TypeError("Cannot supply flags when copying a RegExp");return r(t)}if(t=void 0===t?"":String(t),e=void 0===e?"":String(e),S.isInstalled("astral")&&-1===e.indexOf("A")&&(e+="A"),A[t]||(A[t]={}),!A[t][e]){for(var i,n={hasNamedCapture:!1,captureNames:[]},o=R,a="",l=0,c=f(t,e),d=c.pattern,u=c.flags;l<d.length;){do{(i=v(d,u,l,o,n))&&i.reparse&&(d=d.slice(0,l)+i.output+d.slice(l+i.matchLength))}while(i&&i.reparse);if(i)a+=i.output,l+=i.matchLength||1;else{var h=S.exec(d,F[o],l,"sticky"),p=(0,T.default)(h,1),m=p[0];a+=m,l+=m.length,"["===m&&o===R?o=N:"]"===m&&o===N&&(o=R)}}A[t][e]={pattern:k.replace.call(a,/(?:\(\?:\))+/g,"(?:)"),flags:k.replace.call(u,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var g=A[t][e];return s(new RegExp(g.pattern,g.flags),g.captures,t,e)}var x=t("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var w=x(t("@babel/runtime-corejs2/core-js/object/create")),T=x(t("@babel/runtime-corejs2/helpers/slicedToArray")),I=x(t("@babel/runtime-corejs2/core-js/get-iterator")),D=x(t("@babel/runtime-corejs2/core-js/parse-int")),j="xregexp",E={astral:!1,namespacing:!1},k={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},P={},L={},A={},M=[],R="default",N="class",F={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},O=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,V=void 0===k.exec.call(/()??/,"")[1],z=void 0!==/x/.flags,H={},U=H.toString,$=n("u"),B=n("y"),q={g:!0,i:!0,m:!0,u:$,y:B};S.prototype=/(?:)/,S.version="4.2.4",S._clipDuplicates=o,S._hasNativeFlag=n,S._dec=a,S._hex=u,S._pad4=m,S.addToken=function(t,e,i){i=i||{};var n=i,s=n.optionalFlags;if(i.flag&&b(i.flag),s){s=k.split.call(s,"");var o=!0,a=!1,l=void 0;try{for(var c,d=(0,I.default)(s);!(o=(c=d.next()).done);o=!0){b(c.value)}}catch(t){a=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(a)throw l}}}M.push({regex:r(t,{addG:!0,addY:B,isInternalOnly:!0}),handler:e,scope:i.scope||R,flag:i.flag,reparse:i.reparse,leadChar:i.leadChar}),S.cache.flush("patterns")},S.cache=function(t,e){return L[t]||(L[t]={}),L[t][e]||(L[t][e]=S(t,e))},S.cache.flush=function(t){"patterns"===t?A={}:L={}},S.escape=function(t){return k.replace.call(C(t),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},S.exec=function(t,e,i,n){var s,o="g",a=!1,l=!1;a=B&&!!(n||e.sticky&&!1!==n),a?o+="y":n&&(l=!0,o+="FakeY"),e[j]=e[j]||{};var c=e[j][o]||(e[j][o]=r(e,{addG:!0,addY:a,source:l?"".concat(e.source,"|()"):void 0,removeY:!1===n,isInternalOnly:!0}));return i=i||0,c.lastIndex=i,s=P.exec.call(c,t),l&&s&&""===s.pop()&&(s=null),e.global&&(e.lastIndex=s?c.lastIndex:0),s},S.forEach=function(t,e,i){for(var n,s=0,o=-1;n=S.exec(t,e,s);)i(n,++o,t,e),s=n.index+(n[0].length||1)},S.globalize=function(t){return r(t,{addG:!0})},S.install=function(t){t=g(t),!E.astral&&t.astral&&_(!0),!E.namespacing&&t.namespacing&&y(!0)},S.isInstalled=function(t){return!!E[t]},S.isRegExp=function(t){return"[object RegExp]"===U.call(t)},S.match=function(t,e,i){var n=e.global&&"one"!==i||"all"===i,s=(n?"g":"")+(e.sticky?"y":"")||"noGY";e[j]=e[j]||{};var o=e[j][s]||(e[j][s]=r(e,{addG:!!n,removeG:"one"===i,isInternalOnly:!0})),a=k.match.call(C(t),o);return e.global&&(e.lastIndex="one"===i&&a?a.index+a[0].length:0),n?a||[]:a&&a[0]},S.matchChain=function(t,e){return function t(i,n){function s(t){if(o.backref){var e="Backreference to undefined group: ".concat(o.backref),i=isNaN(o.backref);if(i&&S.isInstalled("namespacing")){if(!(o.backref in t.groups))throw new ReferenceError(e)}else if(!t.hasOwnProperty(o.backref))throw new ReferenceError(e);var n=i&&S.isInstalled("namespacing")?t.groups[o.backref]:t[o.backref];r.push(n||"")}else r.push(t[0])}var o=e[n].regex?e[n]:{regex:e[n]},r=[],a=!0,l=!1,c=void 0;try{for(var d,u=(0,I.default)(i);!(a=(d=u.next()).done);a=!0){var h=d.value;S.forEach(h,o.regex,s)}}catch(t){l=!0,c=t}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}return n!==e.length-1&&r.length?t(r,n+1):r}([t],0)},S.replace=function(t,e,i,n){var s=S.isRegExp(e),o=e.global&&"one"!==n||"all"===n,a=(o?"g":"")+(e.sticky?"y":"")||"noGY",l=e;s?(e[j]=e[j]||{},l=e[j][a]||(e[j][a]=r(e,{addG:!!o,removeG:"one"===n,isInternalOnly:!0}))):o&&(l=new RegExp(S.escape(String(e)),"g"));var c=P.replace.call(C(t),l,i);return s&&e.global&&(e.lastIndex=0),c},S.replaceEach=function(t,e){var i=!0,n=!1,s=void 0;try{for(var o,r=(0,I.default)(e);!(i=(o=r.next()).done);i=!0){var a=o.value;t=S.replace(t,a[0],a[1],a[2])}}catch(t){n=!0,s=t}finally{try{i||null==r.return||r.return()}finally{if(n)throw s}}return t},S.split=function(t,e,i){return P.split.call(C(t),e,i)},S.test=function(t,e,i,n){return!!S.exec(t,e,i,n)},S.uninstall=function(t){t=g(t),E.astral&&t.astral&&_(!1),E.namespacing&&t.namespacing&&y(!1)},S.union=function(t,e,i){function n(t,e,i){var n=o[a-s];if(e){if(++a,n)return"(?<".concat(n,">")}else if(i)return"\\".concat(+i+s);return t}i=i||{};var s,o,r=i.conjunction||"or",a=0;if(!p(t,"Array")||!t.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var l=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],d=!0,u=!1,h=void 0;try{for(var m,f=(0,I.default)(t);!(d=(m=f.next()).done);d=!0){var g=m.value;S.isRegExp(g)?(s=a,o=g[j]&&g[j].captureNames||[],c.push(k.replace.call(S(g.source).source,l,n))):c.push(S.escape(g))}}catch(t){u=!0,h=t}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}var b="none"===r?"":"|";return S(c.join(b),e)},P.exec=function(t){var e=this.lastIndex,i=k.exec.apply(this,arguments);if(i){if(!V&&i.length>1&&-1!==i.indexOf("")){var n=r(this,{removeG:!0,isInternalOnly:!0});k.replace.call(String(t).slice(i.index),n,function(){for(var t=arguments.length,e=1;e<t-2;++e)void 0===(e<0||arguments.length<=e?void 0:arguments[e])&&(i[e]=void 0)})}var s=i;if(S.isInstalled("namespacing")&&(i.groups=(0,w.default)(null),s=i.groups),this[j]&&this[j].captureNames)for(var o=1;o<i.length;++o){var a=this[j].captureNames[o-1];a&&(s[a]=i[o])}this.global&&!i[0].length&&this.lastIndex>i.index&&(this.lastIndex=i.index)}return this.global||(this.lastIndex=e),i},P.test=function(t){return!!P.exec.call(this,t)},P.match=function(t){if(S.isRegExp(t)){if(t.global){var e=k.match.apply(this,arguments);return t.lastIndex=0,e}}else t=new RegExp(t);return P.exec.call(t,C(this))},P.replace=function(t,e){var i,n,s,o=S.isRegExp(t);return o?(t[j]&&(n=t[j].captureNames),i=t.lastIndex):t+="",s=p(e,"Function")?k.replace.call(String(this),t,function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];if(n){var a;S.isInstalled("namespacing")?(a=(0,w.default)(null),s.push(a)):(s[0]=new String(s[0]),a=s[0]);for(var l=0;l<n.length;++l)n[l]&&(a[n[l]]=s[l+1])}return o&&t.global&&(t.lastIndex=s[s.length-2]+s[0].length),e.apply(void 0,s)}):k.replace.call(null==this?this:String(this),t,function(){function t(t,e,i,o){if(e=e||i){var r=+e;if(r<=s.length-3)return s[r]||"";if((r=n?n.indexOf(e):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat(t));return s[r+1]||""}if("$"===o)return"$";if("&"===o||0==+o)return s[0];if("`"===o)return s[s.length-1].slice(0,s[s.length-2]);if("'"===o)return s[s.length-1].slice(s[s.length-2]+s[0].length);if(o=+o,!isNaN(o)){if(o>s.length-3)throw new SyntaxError("Backreference to undefined group ".concat(t));return s[o]||""}throw new SyntaxError("Invalid token ".concat(t))}for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return k.replace.call(String(e),O,t)}),o&&(t.global?t.lastIndex=0:t.lastIndex=i),s},P.split=function(t,e){if(!S.isRegExp(t))return k.split.apply(this,arguments);var i,n=String(this),s=[],o=t.lastIndex,r=0;return e=(void 0===e?-1:e)>>>0,S.forEach(n,t,function(t){t.index+t[0].length>r&&(s.push(n.slice(r,t.index)),t.length>1&&t.index<n.length&&Array.prototype.push.apply(s,t.slice(1)),i=t[0].length,r=t.index+i)}),r===n.length?k.test.call(t,"")&&!i||s.push(""):s.push(n.slice(r)),t.lastIndex=o,s.length>e?s.slice(0,e):s},S.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(t,e){if("B"===t[1]&&e===R)return t[0];throw new SyntaxError("Invalid escape ".concat(t[0]))},{scope:"all",leadChar:"\\"}),S.addToken(/\\u{([\dA-Fa-f]+)}/,function(t,e,i){var n=a(t[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(t[0]));if(n<=65535)return"\\u".concat(m(u(n)));if($&&-1!==i.indexOf("u"))return t[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),S.addToken(/\[(\^?)\]/,function(t){return t[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),S.addToken(/\(\?#[^)]*\)/,l,{leadChar:"("}),S.addToken(/\s+|#[^\n]*\n?/,l,{flag:"x"}),S.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),S.addToken(/\\k<([\w$]+)>/,function(t){var e=isNaN(t[1])?this.captureNames.indexOf(t[1])+1:+t[1],i=t.index+t[0].length;if(!e||e>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(t[0]));return"\\".concat(e).concat(i===t.input.length||isNaN(t.input[i])?"":"(?:)")},{leadChar:"\\"}),S.addToken(/\\(\d+)/,function(t,e){if(!(e===R&&/^[1-9]/.test(t[1])&&+t[1]<=this.captureNames.length)&&"0"!==t[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(t[0]));return t[0]},{scope:"all",leadChar:"\\"}),S.addToken(/\(\?P?<([\w$]+)>/,function(t){if(!isNaN(t[1]))throw new SyntaxError("Cannot use integer as capture name ".concat(t[0]));if(!S.isInstalled("namespacing")&&("length"===t[1]||"__proto__"===t[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(t[0]));if(-1!==this.captureNames.indexOf(t[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(t[0]));return this.captureNames.push(t[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),S.addToken(/\((?!\?)/,function(t,e,i){return-1!==i.indexOf("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var K=S;i.default=K,e.exports=i.default},{"@babel/runtime-corejs2/core-js/get-iterator":11,"@babel/runtime-corejs2/core-js/object/create":12,"@babel/runtime-corejs2/core-js/parse-int":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":15,"@babel/runtime-corejs2/helpers/slicedToArray":18}],10:[function(t,e,i){e.exports=t("core-js/library/fn/array/is-array")},{"core-js/library/fn/array/is-array":19}],11:[function(t,e,i){e.exports=t("core-js/library/fn/get-iterator")},{"core-js/library/fn/get-iterator":20}],12:[function(t,e,i){e.exports=t("core-js/library/fn/object/create")},{"core-js/library/fn/object/create":21}],13:[function(t,e,i){e.exports=t("core-js/library/fn/parse-int")},{"core-js/library/fn/parse-int":22}],14:[function(t,e,i){function n(t){if(s(t))return t}var s=t("../core-js/array/is-array");e.exports=n},{"../core-js/array/is-array":10}],15:[function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n},{}],16:[function(t,e,i){function n(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,l=s(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw r}}return i}var s=t("../core-js/get-iterator");e.exports=n},{"../core-js/get-iterator":11}],17:[function(t,e,i){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=n},{}],18:[function(t,e,i){function n(t,e){return s(t)||o(t,e)||r()}var s=t("./arrayWithHoles"),o=t("./iterableToArrayLimit"),r=t("./nonIterableRest");e.exports=n},{"./arrayWithHoles":14,"./iterableToArrayLimit":16,"./nonIterableRest":17}],19:[function(t,e,i){t("../../modules/es6.array.is-array"),e.exports=t("../../modules/_core").Array.isArray},{"../../modules/_core":29,"../../modules/es6.array.is-array":75}],20:[function(t,e,i){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),e.exports=t("../modules/core.get-iterator")},{"../modules/core.get-iterator":74,"../modules/es6.string.iterator":79,"../modules/web.dom.iterable":80}],21:[function(t,e,i){t("../../modules/es6.object.create");var n=t("../../modules/_core").Object;e.exports=function(t,e){return n.create(t,e)}},{"../../modules/_core":29,"../../modules/es6.object.create":77}],22:[function(t,e,i){t("../modules/es6.parse-int"),e.exports=t("../modules/_core").parseInt},{"../modules/_core":29,"../modules/es6.parse-int":78}],23:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],24:[function(t,e,i){e.exports=function(){}},{}],25:[function(t,e,i){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":44}],26:[function(t,e,i){var n=t("./_to-iobject"),s=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,i,r){var a,l=n(e),c=s(l.length),d=o(r,c);if(t&&i!=i){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((t||d in l)&&l[d]===i)return t||d||0;return!t&&-1}}},{"./_to-absolute-index":65,"./_to-iobject":67,"./_to-length":68}],27:[function(t,e,i){var n=t("./_cof"),s=t("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(t){}};e.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=r(e=Object(t),s))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},{"./_cof":28,"./_wks":72}],28:[function(t,e,i){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],29:[function(t,e,i){var n=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},{}],30:[function(t,e,i){var n=t("./_a-function");e.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":23}],31:[function(t,e,i){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],32:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":36}],33:[function(t,e,i){var n=t("./_is-object"),s=t("./_global").document,o=n(s)&&n(s.createElement);e.exports=function(t){return o?s.createElement(t):{}}},{"./_global":37,"./_is-object":44}],34:[function(t,e,i){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],35:[function(t,e,i){var n=t("./_global"),s=t("./_core"),o=t("./_ctx"),r=t("./_hide"),a=t("./_has"),l=function(t,e,i){var c,d,u,h=t&l.F,p=t&l.G,m=t&l.S,f=t&l.P,g=t&l.B,b=t&l.W,v=p?s:s[e]||(s[e]={}),_=v.prototype,y=p?n:m?n[e]:(n[e]||{}).prototype;p&&(i=e);for(c in i)(d=!h&&y&&void 0!==y[c])&&a(v,c)||(u=d?y[c]:i[c],v[c]=p&&"function"!=typeof y[c]?i[c]:g&&d?o(u,n):b&&y[c]==u?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):f&&"function"==typeof u?o(Function.call,u):u,f&&((v.virtual||(v.virtual={}))[c]=u,t&l.R&&_&&!_[c]&&r(_,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{"./_core":29,"./_ctx":30,"./_global":37,"./_has":38,"./_hide":39}],36:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],37:[function(t,e,i){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],38:[function(t,e,i){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],39:[function(t,e,i){var n=t("./_object-dp"),s=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":32,"./_object-dp":51,"./_property-desc":57}],40:[function(t,e,i){var n=t("./_global").document;e.exports=n&&n.documentElement},{"./_global":37}],41:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":32,"./_dom-create":33,"./_fails":36}],42:[function(t,e,i){var n=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":28}],43:[function(t,e,i){var n=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":28}],44:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],45:[function(t,e,i){"use strict";var n=t("./_object-create"),s=t("./_property-desc"),o=t("./_set-to-string-tag"),r={};t("./_hide")(r,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,i){t.prototype=n(r,{next:s(1,i)}),o(t,e+" Iterator")}},{"./_hide":39,"./_object-create":50,"./_property-desc":57,"./_set-to-string-tag":59,"./_wks":72}],46:[function(t,e,i){"use strict";var n=t("./_library"),s=t("./_export"),o=t("./_redefine"),r=t("./_hide"),a=t("./_iterators"),l=t("./_iter-create"),c=t("./_set-to-string-tag"),d=t("./_object-gpo"),u=t("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(t,e,i,m,f,g,b){l(i,e,m);var v,_,y,C=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},S=e+" Iterator",x="values"==f,w=!1,T=t.prototype,I=T[u]||T["@@iterator"]||f&&T[f],D=I||C(f),j=f?x?C("entries"):D:void 0,E="Array"==e?T.entries||I:I;if(E&&(y=d(E.call(new t)))!==Object.prototype&&y.next&&(c(y,S,!0),n||"function"==typeof y[u]||r(y,u,p)),x&&I&&"values"!==I.name&&(w=!0,D=function(){return I.call(this)}),n&&!b||!h&&!w&&T[u]||r(T,u,D),a[e]=D,a[S]=p,f)if(v={values:x?D:C("values"),keys:g?D:C("keys"),entries:j},b)for(_ in v)_ in T||o(T,_,v[_]);else s(s.P+s.F*(h||w),e,v);return v}},{"./_export":35,"./_hide":39,"./_iter-create":45,"./_iterators":48,"./_library":49,"./_object-gpo":53,"./_redefine":58,"./_set-to-string-tag":59,"./_wks":72}],47:[function(t,e,i){
e.exports=function(t,e){return{value:e,done:!!t}}},{}],48:[function(t,e,i){e.exports={}},{}],49:[function(t,e,i){e.exports=!0},{}],50:[function(t,e,i){var n=t("./_an-object"),s=t("./_object-dps"),o=t("./_enum-bug-keys"),r=t("./_shared-key")("IE_PROTO"),a=function(){},l=function(){var e,i=t("./_dom-create")("iframe"),n=o.length;for(i.style.display="none",t("./_html").appendChild(i),i.src="javascript:",e=i.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[r]=t):i=l(),void 0===e?i:s(i,e)}},{"./_an-object":25,"./_dom-create":33,"./_enum-bug-keys":34,"./_html":40,"./_object-dps":52,"./_shared-key":60}],51:[function(t,e,i){var n=t("./_an-object"),s=t("./_ie8-dom-define"),o=t("./_to-primitive"),r=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),s)try{return r(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":25,"./_descriptors":32,"./_ie8-dom-define":41,"./_to-primitive":70}],52:[function(t,e,i){var n=t("./_object-dp"),s=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){s(t);for(var i,r=o(e),a=r.length,l=0;a>l;)n.f(t,i=r[l++],e[i]);return t}},{"./_an-object":25,"./_descriptors":32,"./_object-dp":51,"./_object-keys":55}],53:[function(t,e,i){var n=t("./_has"),s=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=s(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},{"./_has":38,"./_shared-key":60,"./_to-object":69}],54:[function(t,e,i){var n=t("./_has"),s=t("./_to-iobject"),o=t("./_array-includes")(!1),r=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var i,a=s(t),l=0,c=[];for(i in a)i!=r&&n(a,i)&&c.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~o(c,i)||c.push(i));return c}},{"./_array-includes":26,"./_has":38,"./_shared-key":60,"./_to-iobject":67}],55:[function(t,e,i){var n=t("./_object-keys-internal"),s=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return n(t,s)}},{"./_enum-bug-keys":34,"./_object-keys-internal":54}],56:[function(t,e,i){var n=t("./_global").parseInt,s=t("./_string-trim").trim,o=t("./_string-ws"),r=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=s(String(t),3);return n(i,e>>>0||(r.test(i)?16:10))}:n},{"./_global":37,"./_string-trim":63,"./_string-ws":64}],57:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],58:[function(t,e,i){e.exports=t("./_hide")},{"./_hide":39}],59:[function(t,e,i){var n=t("./_object-dp").f,s=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},{"./_has":38,"./_object-dp":51,"./_wks":72}],60:[function(t,e,i){var n=t("./_shared")("keys"),s=t("./_uid");e.exports=function(t){return n[t]||(n[t]=s(t))}},{"./_shared":61,"./_uid":71}],61:[function(t,e,i){var n=t("./_core"),s=t("./_global"),o=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:t("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":29,"./_global":37,"./_library":49}],62:[function(t,e,i){var n=t("./_to-integer"),s=t("./_defined");e.exports=function(t){return function(e,i){var o,r,a=String(s(e)),l=n(i),c=a.length;return l<0||l>=c?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(r=a.charCodeAt(l+1))<56320||r>57343?t?a.charAt(l):o:t?a.slice(l,l+2):r-56320+(o-55296<<10)+65536)}}},{"./_defined":31,"./_to-integer":66}],63:[function(t,e,i){var n=t("./_export"),s=t("./_defined"),o=t("./_fails"),r=t("./_string-ws"),a="["+r+"]",l="​",c=RegExp("^"+a+a+"*"),d=RegExp(a+a+"*$"),u=function(t,e,i){var s={},a=o(function(){return!!r[t]()||l[t]()!=l}),c=s[t]=a?e(h):r[t];i&&(s[i]=c),n(n.P+n.F*a,"String",s)},h=u.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(d,"")),t};e.exports=u},{"./_defined":31,"./_export":35,"./_fails":36,"./_string-ws":64}],64:[function(t,e,i){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],65:[function(t,e,i){var n=t("./_to-integer"),s=Math.max,o=Math.min;e.exports=function(t,e){return t=n(t),t<0?s(t+e,0):o(t,e)}},{"./_to-integer":66}],66:[function(t,e,i){var n=Math.ceil,s=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?s:n)(t)}},{}],67:[function(t,e,i){var n=t("./_iobject"),s=t("./_defined");e.exports=function(t){return n(s(t))}},{"./_defined":31,"./_iobject":42}],68:[function(t,e,i){var n=t("./_to-integer"),s=Math.min;e.exports=function(t){return t>0?s(n(t),9007199254740991):0}},{"./_to-integer":66}],69:[function(t,e,i){var n=t("./_defined");e.exports=function(t){return Object(n(t))}},{"./_defined":31}],70:[function(t,e,i){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var i,s;if(e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;if("function"==typeof(i=t.valueOf)&&!n(s=i.call(t)))return s;if(!e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":44}],71:[function(t,e,i){var n=0,s=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+s).toString(36))}},{}],72:[function(t,e,i){var n=t("./_shared")("wks"),s=t("./_uid"),o=t("./_global").Symbol,r="function"==typeof o;(e.exports=function(t){return n[t]||(n[t]=r&&o[t]||(r?o:s)("Symbol."+t))}).store=n},{"./_global":37,"./_shared":61,"./_uid":71}],73:[function(t,e,i){var n=t("./_classof"),s=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||o[n(t)]}},{"./_classof":27,"./_core":29,"./_iterators":48,"./_wks":72}],74:[function(t,e,i){var n=t("./_an-object"),s=t("./core.get-iterator-method");e.exports=t("./_core").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},{"./_an-object":25,"./_core":29,"./core.get-iterator-method":73}],75:[function(t,e,i){var n=t("./_export");n(n.S,"Array",{isArray:t("./_is-array")})},{"./_export":35,"./_is-array":43}],76:[function(t,e,i){"use strict";var n=t("./_add-to-unscopables"),s=t("./_iter-step"),o=t("./_iterators"),r=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,s(1)):"keys"==e?s(0,i):"values"==e?s(0,t[i]):s(0,[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":24,"./_iter-define":46,"./_iter-step":47,"./_iterators":48,"./_to-iobject":67}],77:[function(t,e,i){var n=t("./_export");n(n.S,"Object",{create:t("./_object-create")})},{"./_export":35,"./_object-create":50}],78:[function(t,e,i){var n=t("./_export"),s=t("./_parse-int");n(n.G+n.F*(parseInt!=s),{parseInt:s})},{"./_export":35,"./_parse-int":56}],79:[function(t,e,i){"use strict";var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":46,"./_string-at":62}],80:[function(t,e,i){t("./es6.array.iterator");for(var n=t("./_global"),s=t("./_hide"),o=t("./_iterators"),r=t("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],d=n[c],u=d&&d.prototype;u&&!u[r]&&s(u,r,c),o[c]=o.Array}},{"./_global":37,"./_hide":39,"./_iterators":48,"./_wks":72,"./es6.array.iterator":76}],81:[function(t,e,i){e.exports=[{name:"InAdlam",astral:"�[�-�]"},{name:"InAegean_Numbers",astral:"�[�-�]"},{name:"InAhom",astral:"�[�-�]"},{name:"InAlchemical_Symbols",astral:"�[�-�]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"�[�-�]"},{name:"InAncient_Greek_Musical_Notation",astral:"�[�-�]"},{name:"InAncient_Greek_Numbers",astral:"�[�-�]"},{name:"InAncient_Symbols",astral:"�[�-�]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"�[�-�]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"�[�-�]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"�[�-�]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"�[�-�]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBhaiksuki",astral:"�[�-�]"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"�[�-�]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"�[�-�]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"�[�-�]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_And_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"�[�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCarian",astral:"�[�-�]"},{name:"InCaucasian_Albanian",astral:"�[�-�]"},{name:"InChakma",astral:"�[�-�]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InChess_Symbols",astral:"�[�-�]"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"�[�-�]"},{name:"InCounting_Rod_Numerals",astral:"�[�-�]"},{name:"InCuneiform",astral:"�[�-�]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"�[�-�]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"�[�-�]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Extended_C",bmp:"ᲀ-᲏"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"�[�-�]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDogra",astral:"�[�-�]"},{name:"InDomino_Tiles",astral:"�[�-�]"},{name:"InDuployan",astral:"�[�-�]"},{name:"InEarly_Dynastic_Cuneiform",astral:"�[�-�]"},{name:"InEgyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"InElbasan",astral:"�[�-�]"},{name:"InEmoticons",astral:"�[�-�]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"�[�-�]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"�[�-�]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"�[�-�]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Extended",bmp:"Ა-Ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGlagolitic_Supplement",astral:"�[�-�]"},{name:"InGothic",astral:"�[�-�]"},{name:"InGrantha",astral:"�[�-�]"},{name:"InGreek_And_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGunjala_Gondi",astral:"�[�-�]"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanifi_Rohingya",astral:"�[�-�]"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"�[�-�]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"�-�"},{name:"InHigh_Surrogates",bmp:"�-�"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"�[�-�]"},{name:"InImperial_Aramaic",astral:"�[�-�]"},{name:"InIndic_Siyaq_Numbers",astral:"�[�-�]"},{name:"InInscriptional_Pahlavi",astral:"�[�-�]"},{name:"InInscriptional_Parthian",astral:"�[�-�]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"�[�-�]"},{name:"InKana_Extended_A",astral:"�[�-�]"},{name:"InKana_Supplement",astral:"�[�-�]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"�[�-�]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"�[�-�]"},{name:"InKhudawadi",astral:"�[�-�]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"�[�-�]"},{name:"InLinear_B_Ideograms",astral:"�[�-�]"},{name:"InLinear_B_Syllabary",astral:"�[�-�]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"�-�"},{name:"InLycian",astral:"�[�-�]"},{name:"InLydian",astral:"�[�-�]"},{name:"InMahajani",astral:"�[�-�]"},{name:"InMahjong_Tiles",astral:"�[�-�]"},{name:"InMakasar",astral:"�[�-�]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"�[�-�]"},{name:"InMarchen",astral:"�[�-�]"},{name:"InMasaram_Gondi",astral:"�[�-�]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"�[�-�]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMayan_Numerals",astral:"�[�-�]"},{name:"InMedefaidrin",astral:"�[�-�]"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"�[�-�]"},{name:"InMeroitic_Cursive",astral:"�[�-�]"},{name:"InMeroitic_Hieroglyphs",astral:"�[�-�]"},{name:"InMiao",astral:"�[�-�]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"�[�-�]|�[�-�]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"�[�-�]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMongolian_Supplement",astral:"�[�-�]"},{name:"InMro",astral:"�[�-�]"},{name:"InMultani",astral:"�[�-�]"},{name:"InMusical_Symbols",astral:"�[�-�]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"�[�-�]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNewa",astral:"�[�-�]"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InNushu",astral:"�[�-�]"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"�[�-�]"},{name:"InOld_Italic",astral:"�[�-�]"},{name:"InOld_North_Arabian",astral:"�[�-�]"},{name:"InOld_Permic",astral:"�[�-�]"},{name:"InOld_Persian",astral:"�[�-�]"},{name:"InOld_Sogdian",astral:"�[�-�]"},{name:"InOld_South_Arabian",astral:"�[�-�]"},{name:"InOld_Turkic",astral:"�[�-�]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"�[�-�]"},{name:"InOsage",astral:"�[�-�]"},{name:"InOsmanya",astral:"�[�-�]"},{name:"InPahawh_Hmong",astral:"�[�-�]"},{name:"InPalmyrene",astral:"�[�-�]"},{name:"InPau_Cin_Hau",astral:"�[�-�]"},{name:"InPhags_Pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"�[�-�]"},{name:"InPhoenician",astral:"�[�-�]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"�[�-�]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"�[�-�]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"�[�-�]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"�[�-�]"},{name:"InShavian",astral:"�[�-�]"},{name:"InShorthand_Format_Controls",astral:"�[�-�]"},{name:"InSiddham",astral:"�[�-�]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"�[�-�]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSogdian",astral:"�[�-�]"},{name:"InSora_Sompeng",astral:"�[�-�]"},{name:"InSoyombo",astral:"�[�-�]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_And_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"�[�-�]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"�[�-�]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[�-�][�-�]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[�-�][�-�]"},{name:"InSutton_SignWriting",astral:"�[�-�]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InSyriac_Supplement",bmp:"ࡠ-࡯"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"�[�-�]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"�[�-�]"},{name:"InTakri",astral:"�[�-�]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTangut",astral:"[�-�][�-�]"},{name:"InTangut_Components",astral:"�[�-�]"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"�[�-�]"},{name:"InTransport_And_Map_Symbols",astral:"�[�-�]"},{name:"InUgaritic",astral:"�[�-�]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"�[�-�]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"�[�-�]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"},{name:"InZanabazar_Square",astral:"�[�-�]"}]},{}],82:[function(t,e,i){e.exports=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜؝۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-������-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-��-���-��-��-���-��-�����-���-������-��-��-�����������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-����-��-�]|�[�-��-��-��-����-��-�]|�[���-��-�����-����-����-��-������-��-��-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-����-�]|�[�-����-��-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-��-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�����-���-��-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[�-��-�]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"�[��]|�[�-�]|�[�-�]|�[��-�]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿؝܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"�[�������-��-��-��-���-��-��-��-��-��-��-��-��-���-��-�]|�[���-��-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-������-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-��-��-����-��-���-��-�����-���-������-��-��-�����������������-��-����-��-�]|�[���-��-��-����-��-��-��-��-��-����-��-�]|�[�-��-��-��-����-��-�]|�[���-��-�����-����-����-��-������-��-��-�]|�[�-�]|�[��-��-�]|[���-��-��-����-�����-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-���-��-����-��-����-��-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-����-�]|�[�-����-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[������-�]|�[���-��-��-��-�]|�[�-��-�����������-��-�����������������������-����-��-�]|�[�-��-������-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�����-���-��-��-��-��-�]|�[�-�]|�[�-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[��-��-��-�]|[��][��]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[�-��-�][�-�]|[��][�-�]"},{name:"Cs",alias:"Surrogate",bmp:"�-�"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-�]|�[�-��-��-��-���-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[�-��-����-����-��-���-�]|�[�-��-���-��-����-���-����-���-�]|�[�-�]|�[�-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-���-���]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"�[�-��-��-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"�[�-�]|�[�-���]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-���-�]|�[�-��-��-��-���-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-��-��-�����-��-��-���-��-�]|�[�-����-����-��-���-�]|�[�-��-���-��-����-���-����-���-�]|�[�-�]|�[�-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-��]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-�]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳷-᳹᷀-᷹᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[�-��-�]|�[�-��-��-��-��-��-�����-��-��-��-���-��-����-����-�����-��-�]|�[�-���-��-��-����-��-��-�]|�[�-��-��-��-���-��-�]|�[�-��-��-��-��-�����-���-����-��-�]|�[�-��-�]|�[�-��-�]|�[��]|�[�-��-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"�[����-��������-����-�����-������-����-����]|�[�-�����-���-���-��-���-�����������]|�[�-������]|�[������-������]|�[�-�]|�[���-�]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"�[���-�]|�[�-����-��-����]|�[�-��-�]|�[��-��-��-����-��-��-�����-��-��-�������-�������-��-�]|�[�-��-����-�������-��������-�������-���-��-��-�]|�[�-����-��-��-���-��-��-���]|�[�-��-���-��-������-�����-��������]|�[�-��-�]|�[�-�]|�[��]|�[�-��-��-��-��-�]|�[�-��-����-��-�]|�[�-��-��-����-�]|�[�-��-�]|�[�-�]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-��-����-��-����-�]|�[�-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-��-�]|�[�-��-��-�]|�[�-�]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-�]|�[�-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-�]|�[�-�]|�[�-��-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",
astral:"�[�-����-�]|�[�-�]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"�[�-��-����-��-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-��-��-�]|�[�-��-�]|�[��]|�[�-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-��-��-�]|�[�-�]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹎、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[��-��-��-�]|�[�-�����]|�[�-�]|�[����-��]|�[�-�]|𛲟|�[�-�]|�[��]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹎、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"�[�-���]|𐕯|�[����-���-��-��-�]|�[�-�]|�[�-����-��-����-����-��-��]|�[�-�����-��-��-��-�]|�[��-��-��-�]|�[�-�����]|�[�-�]|�[����-��]|�[�-�]|𛲟|�[�-�]|�[��]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₿℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[����������]|�[�-��-��-��-���]|�[����]|�[�-��-��-��-��-��-��-��-��-��-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-₿꠸﷼﹩＄￠￡￥￦",astral:"𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"�[�-�]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"�[����������]|�[��]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"�[�-��-��-��-���-�]|�[���]|𑜿|�[�-��]|𛲜|�[�-��-��-��-����-��-��-���-�]|�[�-��-��-��-���]|𞲬|�[�-��-��-��-��-��-��-��-��-��-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}]},{}],83:[function(t,e,i){e.exports=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഀ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽꣾꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-����-����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-�]|�[�-��-��-��-��-��-���-��-����-��-����-���-��-��-��-��-��-����-��-����-��-��������-�]|�[�-��-��-��-�����-��-��-��-����-��-��-�]|�[�-��-���-��-��-��-���-�]|�[�-��-��-���-��-��-��-����-�����-�����-����-����-���-�]|�[�-�]|�[�-��-�]|[��-��-��-��-��-�][�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��-���]|�[�-�]|�[�-�]|�[�-��-�]|�[�-��-��-��-��]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-����-�]|�[�-��-��]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[�-�][�-�]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"�[�-�]|�[�-�]|[�-�][�-�]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[����������������][��]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-��-��-�]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}]},{}],84:[function(t,e,i){e.exports=[{name:"Adlam",astral:"�[�-��-���]"},{name:"Ahom",astral:"�[�-��-��-�]"},{name:"Anatolian_Hieroglyphs",astral:"�[�-�]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࢶ-ࢽ࣓-ࣣ࣡-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-���]"},{name:"Armenian",bmp:"Ա-Ֆՙ-ֈ֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"�[�-��-�]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"�[�-�]"},{name:"Bassa_Vah",astral:"�[�-��-�]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"�[�-��-��-��-�]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆺ"},{name:"Brahmi",astral:"�[�-��-��]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"�[�-�]"},{name:"Caucasian_Albanian",astral:"�[�-��]"},{name:"Chakma",astral:"�[�-��-�]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₿℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⯈⯊-⯾⸀-⹎⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"�[�-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-����-��-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-�]|�[�-�]|�[�-��-��-��-��-��-��-��-��-��-����-��-����-��-�]|�[�-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-���-��-��-��-��-�]|�[��-�]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"�[�-�]|�[�-��-��-�]"},{name:"Cypriot",astral:"�[�-���-�����]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"�[�-�]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣿ"},{name:"Dogra",astral:"�[�-�]"},{name:"Duployan",astral:"�[�-��-��-��-��-�]"},{name:"Egyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"Elbasan",astral:"�[�-�]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ",astral:"�[�-��-��-����-�]"},{name:"Gothic",astral:"�[�-�]"},{name:"Grantha",astral:"�[�-��-����-��-����-��-����-����-��-��-�]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"�[�-��]|�[�-�]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"�[�-����-����-��-�]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎",astral:"[�-��-��-��-�][�-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"�[�-��-�]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"�[�-����-�]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"�[�-�]|🈀"},{name:"Imperial_Aramaic",astral:"�[�-��-�]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"�[��]|𑌻|�[�-��-��-��-�]|�[�-�]"},{name:"Inscriptional_Pahlavi",astral:"�[�-��-�]"},{name:"Inscriptional_Parthian",astral:"�[�-��-�]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"�[�-��]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"�[�-����-��-��-��-��-��-�]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"�[�-��-�]"},{name:"Khudawadi",astral:"�[�-��-�]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞹꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"�[�-��-��-�]"},{name:"Linear_B",astral:"�[�-��-��-����-��-��-�]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"�[�-�]"},{name:"Lydian",astral:"�[�-��]"},{name:"Mahajani",astral:"�[�-�]"},{name:"Makasar",astral:"�[�-�]"},{name:"Malayalam",bmp:"ഀ-ഃഅ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"�[�-��-�]"},{name:"Marchen",astral:"�[�-��-��-�]"},{name:"Masaram_Gondi",astral:"�[�-����-�����-��-�]"},{name:"Medefaidrin",astral:"�[�-�]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"�[�-��-�]"},{name:"Meroitic_Cursive",astral:"�[�-��-��-�]"},{name:"Meroitic_Hieroglyphs",astral:"�[�-�]"},{name:"Miao",astral:"�[�-��-��-�]"},{name:"Modi",astral:"�[�-��-�]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡸᢀ-ᢪ",astral:"�[�-�]"},{name:"Mro",astral:"�[�-��-���]"},{name:"Multani",astral:"�[�-���-��-��-�]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"�[�-��-�]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"�[�-����]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|�[�-�]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"�[�-��-��-�]"},{name:"Old_Italic",astral:"�[�-��-�]"},{name:"Old_North_Arabian",astral:"�[�-�]"},{name:"Old_Permic",astral:"�[�-�]"},{name:"Old_Persian",astral:"�[�-��-�]"},{name:"Old_Sogdian",astral:"�[�-�]"},{name:"Old_South_Arabian",astral:"�[�-�]"},{name:"Old_Turkic",astral:"�[�-�]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"�[�-��-�]"},{name:"Osmanya",astral:"�[�-��-�]"},{name:"Pahawh_Hmong",astral:"�[�-��-��-��-��-�]"},{name:"Palmyrene",astral:"�[�-�]"},{name:"Pau_Cin_Hau",astral:"�[�-�]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"�[�-��]"},{name:"Psalter_Pahlavi",astral:"�[�-��-��-�]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"�[�-��-�]"},{name:"Shavian",astral:"�[�-�]"},{name:"Siddham",astral:"�[�-��-�]"},{name:"SignWriting",astral:"�[�-��-��-�]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"�[�-�]"},{name:"Sogdian",astral:"�[�-�]"},{name:"Sora_Sompeng",astral:"�[�-��-�]"},{name:"Soyombo",astral:"�[�-��-�]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"�[�-��-�]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Tangut",astral:"𖿠|[�-�][�-�]|�[�-�]|�[�-�]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"�[�-��-�]"},{name:"Ugaritic",astral:"�[�-��]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"�[�-��]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"�[�-�]"}]},{}]},{},[8])(8)}),define("scheduler/enum/jobStateEnum",["require","exports","module"],function(t,e,i){i.exports={NORMAL:"NORMAL",PAUSED:"PAUSED",EXECUTING:"EXECUTING"}}),define("scheduler/model/jobModel",["require","exports","module","jquery","underscore","backbone","runtime_dependencies/js-sdk/src/jrs.configs","settings!globalConfiguration","xregexp","../enum/jobStateEnum","momentExtension","../../util/utils.common"],function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("jquery"),o=t("underscore"),r=t("backbone"),a=t("runtime_dependencies/js-sdk/src/jrs.configs"),l=t("settings!globalConfiguration"),c=t("xregexp"),d=t("../enum/jobStateEnum"),u=t("momentExtension"),h=t("../../util/utils.common"),p=h.getTZOffset,m=!1,f={},g={},b=function(t){var e,i=[{id:0,value:"dd",key:"day-of-month-2",result:"DD"},{id:1,value:"DD",key:"day-of-week",result:"dddd"},{id:2,value:"mm",key:"month-2",result:"MM"},{id:3,value:"MM",key:"month-name",result:"MMMM"},{id:4,value:"yy",key:"year-4",result:"YYYY"},{id:5,value:"d",key:"day-of-month-1",result:"D"},{id:6,value:"D",key:"day-of-week-abbr",result:"ddd"},{id:7,value:"m",key:"month-1",result:"M"},{id:8,value:"M",key:"month-name-abbr",result:"MMM"},{id:9,value:"y",key:"year-2",result:"YY"},{id:10,value:"oo",key:"day-of-year-2",result:"DDDD"},{id:11,value:"o",key:"day-of-year-1",result:"DDD"}];for(e=0;e<i.length;e++)t=t.replace(new RegExp(i[e].value,"g"),"{"+i[e].id+"}");for(e=0;e<i.length;e++)t=t.replace(new RegExp("\\{"+i[e].id+"\\}","g"),i[e].result);return t}(a.calendar.timepicker.dateFormat),v=a.calendar.timepicker.timeFormat.replace(":ss",""),_=b+" "+v;i.exports=r.Model.extend({ftpPortDefaults:{ftp:"21",ftps:"990",sftp:"22"},urlRoot:a.contextPath+"/rest_v2/jobs",validateAll:function(t){var e=this,i=s.Deferred();return this.runServerValidationRequests().always(function(n){var s=e.isValid(t);n&&n.errorCode&&(s=!1,e.trigger("invalid",[n],{switchToErrors:!1})),s?i.resolve():i.reject()}),i},isValid:function(t){return!this.validate(this.attributes,{validate:!0,editMode:t}).length},validate:function(t,e){if(e=e||{},!0===e.validate){var i,n=[];t.trigger&&(2==t.trigger.startType&&(t.trigger.startDate?u(t.trigger.startDate,_,!0).isValid()?!e.editMode&&this.ifPastDate(t.trigger.startDate,t.trigger.timezone)&&n.push({field:"startDate",errorCode:"error.before.current.date.trigger.startDate"}):n.push({field:"startDate",errorCode:"error.invalid.date"}):n.push({field:"startDate",errorCode:"report.scheduling.job.edit.specify.startdate"})),"simple"===t.trigger.type?(this.isNumeric(t.trigger.recurrenceInterval)?this.isNumeric(t.trigger.recurrenceInterval,{minValue:-2147483648,maxValue:2147483647})||n.push({field:"recurrenceInterval",errorCode:"typeMismatch.java.lang.Integer"}):n.push({field:"recurrenceInterval",errorCode:"report.scheduling.job.edit.specify.recurrenceinterval"}),"numberOfTimes"===t.trigger.radioEndDate&&(this.isNumeric(t.trigger.occurrenceCount)?this.isNumeric(t.trigger.occurrenceCount,{minValue:-2147483648,maxValue:2147483647})||n.push({field:"occurrenceCount",errorCode:"typeMismatch.java.lang.Integer"}):n.push({field:"occurrenceCount",errorCode:"report.scheduling.job.edit.specify.numberoftimestorunreport"})),"specificDate"===t.trigger.radioEndDate&&(t.trigger.endDate?u(t.trigger.endDate,_,!0).isValid()?(this.ifPastDate(t.trigger.endDate,t.trigger.timezone)&&n.push({field:"simpleEndDate",errorCode:"error.before.current.date.trigger.endDate"}),2==t.trigger.startType&&t.trigger.startDate&&+new Date(t.trigger.startDate)>=+new Date(t.trigger.endDate)&&n.push({field:"simpleEndDate",errorCode:"error.before.start.date.trigger.endDate"})):n.push({field:"simpleEndDate",errorCode:"error.invalid.date"}):n.push({field:"simpleEndDate",errorCode:"report.scheduling.job.edit.specify.enddate"}))):"calendar"===t.trigger.type&&("selectedMonths"===t.trigger.radioWhichMonth&&0===t.trigger.months.month.length&&n.push({field:"monthSelector",errorCode:"report.scheduling.job.edit.specify.monthswhenjobshouldrun"}),t.trigger.endDate&&(u(t.trigger.endDate,_,!0).isValid()?(this.ifPastDate(t.trigger.endDate,t.trigger.timezone)&&n.push({field:"calendarEndDate",errorCode:"error.before.current.date.trigger.endDate"}),2==t.trigger.startType&&t.trigger.startDate&&+new Date(t.trigger.startDate)>=+new Date(t.trigger.endDate)&&n.push({field:"calendarEndDate",errorCode:"error.before.start.date.trigger.endDate"})):n.push({field:"calendarEndDate",errorCode:"error.invalid.date"})),"selectedDays"===t.trigger.radioWhichDay&&0===t.trigger.weekDays.day.length&&n.push({field:"daySelector",errorCode:"report.scheduling.job.edit.specify.dayswhenjobshouldrun"}),"datesInMonth"===t.trigger.radioWhichDay&&((i=this.parseIntervals(t.trigger.monthDays,"daysInMonth"))||n.push({field:"datesInMonth",errorCode:"report.scheduling.job.edit.specify.whenjobshouldrun"})),this.parseIntervals(t.trigger.hours,"hours")||n.push({field:"hours",errorCode:"error.not.empty.trigger.hours"}),this.parseIntervals(t.trigger.minutes,"minutes")||n.push({field:"minutes",errorCode:"error.not.empty.trigger.minutesshould"})));var s=t.repositoryDestination;if(s.outputDescription&&s.outputDescription.length>250&&n.push({field:"outputDescription",errorCode:"report.scheduling.job.output.long.description"}),s.sequentialFilenames&&!s.timestampPattern&&n.push({field:"timestampPattern",errorCode:"report.scheduling.job.output.timestamppattern"}),t.baseOutputFilename||n.push({field:"baseOutputFilename",errorCode:"error.not.empty.baseOutputFilename"}),t.baseOutputFilename&&!this.isValidFileName(t.baseOutputFilename)&&n.push({field:"baseOutputFilename",errorCode:"error.invalid.chars.baseOutputFilename"}),t.outputFormats.outputFormat&&t.outputFormats.outputFormat.length||n.push({field:"outputFormats",errorCode:"error.report.job.no.output.formats"}),s.saveToRepository&&!s.folderURI&&n.push({field:"outputRepository",errorCode:"error.not.empty.folderURI"}),s.saveToRepository&&s.folderURI&&!this.isValidUri(s.folderURI)&&n.push({field:"outputRepository",errorCode:"error.report.job.invalid.chars.folderURI"}),o.isUndefined(s.outputLocalFolder)||""!==s.outputLocalFolder||n.push({field:"outputHostFileSystem",errorCode:"error.not.empty.folder"}),s.outputFTPInfo.enabled&&(s.outputFTPInfo.serverName?this.isHostName(s.outputFTPInfo.serverName)||n.push({field:"ftpAddress",errorCode:"error.report.scheduling.empty.ftp.server"}):n.push({field:"ftpAddress",errorCode:"error.report.scheduling.empty.ftp.server"}),s.outputFTPInfo.port&&this.isNumeric(s.outputFTPInfo.port)?0<(i=parseInt(s.outputFTPInfo.port,10))&&i<=65535||n.push({field:"ftpPort",errorCode:"error.report.scheduling.empty.ftp.port"}):n.push({field:"ftpPort",errorCode:"error.report.scheduling.empty.ftp.port"}),"sftp"===s.outputFTPInfo.type&&s.outputFTPInfo.sshKeyEnabled&&(s.outputFTPInfo.sshKey&&""!==s.outputFTPInfo.sshKey?this.isValidUri(s.outputFTPInfo.sshKey)||n.push({field:"sshKey",errorCode:"error.report.job.invalid.chars.sshKey"}):n.push({field:"sshKey",errorCode:"error.not.empty.sshKey"}))),t.mailNotification){var r=t.mailNotification.toAddresses&&t.mailNotification.toAddresses.address||"",a=t.mailNotification.ccAddresses&&t.mailNotification.ccAddresses.address||"",l=t.mailNotification.bccAddresses&&t.mailNotification.bccAddresses.address||"",c=t.mailNotification.subject||"",d=t.mailNotification.messageText||"";r&&!this.validateEmails(r)&&n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),a&&!this.validateEmails(a)&&n.push({field:"cc_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),l&&!this.validateEmails(l)&&n.push({field:"bcc_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),(r||c)&&(r||n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),c||n.push({field:"subject_suc",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),d&&(r||n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),c||n.push({field:"subject_suc",errorCode:"report.scheduling.job.edit.specify.messagesubject"}))}if(t.alert){var h=t.alert.toAddresses&&t.alert.toAddresses.address||"",p=t.alert.subject||"";t.alert.messageText,t.alert.messageTextWhenJobFails;h&&!this.validateEmails(h)&&n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),(h||p)&&(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),p||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),-1===t.alert.jobState.indexOf("SUCCESS_ONLY")&&-1===t.alert.jobState.indexOf("ALL")||(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),p||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),-1===t.alert.jobState.indexOf("FAIL_ONLY")&&-1===t.alert.jobState.indexOf("ALL")||(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),p||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"}))}return this.trigger("clearAllErrors"),n.length?this.trigger("invalid",n):this.trigger("valid",[]),n}},update:function(t,e){if("object"===n(e)){e=o.extend({},this.get(t),e);for(var i in e)e.hasOwnProperty(i)&&void 0===e[i]&&delete e[i]}this.set(t,e)},value:function(t){var e=this.attributes;t=t.split("/");for(var i=0,n=t.length-1;i<n;i++){if(!e)return;e=e[t[i]]}if(e)return e[t[t.length-1]]},sync:function(t,e,i){return"update"===t?t="create":"create"===t&&(t="update"),i||(i={}),i.contentType="application/job+json",i.beforeSend=function(t){t.setRequestHeader("Accept","application/job+json")},i.cache=!1,r.sync(t,e,i)},parse:function(t){if(t.trigger&&("simpleTrigger"in t.trigger?t.trigger.type="simpleTrigger":"calendarTrigger"in t.trigger&&(t.trigger.type="calendarTrigger"),t.trigger.type&&(o.extend(t.trigger,t.trigger[t.trigger.type]),delete t.trigger[t.trigger.type]),"simpleTrigger"===t.trigger.type&&null===t.trigger.recurrenceInterval?t.trigger.type="none":"simpleTrigger"===t.trigger.type?t.trigger.type="simple":"calendarTrigger"===t.trigger.type?t.trigger.type="calendar":t.trigger.type="none","none"===t.trigger.type&&(t.trigger.occurrenceCount=""),void 0===t.trigger.startType&&(t.trigger.startType=1),t.trigger.startDate&&(t.trigger.startDate=this.formatDate(t.trigger.startDate)),void 0!==t.trigger.timezone&&null!==t.trigger.timezone||(t.trigger.timezone=a.usersTimeZone||"America/Los_Angeles"),"simple"!==t.trigger.type&&"calendar"!==t.trigger.type||void 0!==t.trigger.calendarName&&null!==t.trigger.calendarName||(t.trigger.calendarName=""),void 0!==t.trigger.recurrenceInterval&&null!==t.trigger.recurrenceInterval||(t.trigger.recurrenceInterval=1),void 0!==t.trigger.recurrenceIntervalUnit&&null!==t.trigger.recurrenceIntervalUnit||(t.trigger.recurrenceIntervalUnit="DAY"),void 0!==t.trigger.occurrenceCount&&null!==t.trigger.occurrenceCount||(t.trigger.occurrenceCount=""),void 0===t.trigger.endDate||null===t.trigger.endDate?t.trigger.endDate="":t.trigger.endDate=this.formatDate(t.trigger.endDate),t.trigger.endDate?t.trigger.endDate&&(t.trigger.radioEndDate="specificDate",t.trigger.occurrenceCount=""):-1!=t.trigger.occurrenceCount&&t.trigger.occurrenceCount?t.trigger.radioEndDate="numberOfTimes":(t.trigger.radioEndDate="indefinitely",t.trigger.occurrenceCount=""),t.trigger.months||(t.trigger.months={}),o.isArray(t.trigger.months.month)||(t.trigger.months.month=[]),t.trigger.radioWhichMonth="everyMonth",0<t.trigger.months.month.length&&t.trigger.months.month.length<12?t.trigger.radioWhichMonth="selectedMonths":12==t.trigger.months.month.length&&(t.trigger.radioWhichMonth="everyMonth",t.trigger.months.month=[]),t.trigger.weekDays||(t.trigger.weekDays={}),o.isArray(t.trigger.weekDays.day)||(t.trigger.weekDays.day=[]),void 0===t.trigger.monthDays||null===t.trigger.monthDays?t.trigger.monthDays="":t.trigger.monthDays=t.trigger.monthDays.toString().replace(/ /g,"").replace(/,/g,", "),void 0!==t.trigger.daysType?"month"==t.trigger.daysType.toLowerCase()?(t.trigger.radioWhichDay="datesInMonth",t.trigger.weekDays.day=[]):"week"==t.trigger.daysType.toLowerCase()?(t.trigger.radioWhichDay="selectedDays",t.trigger.monthDays=""):(t.trigger.radioWhichDay="everyDay",t.trigger.weekDays.day=[],t.trigger.monthDays=""):0<t.trigger.weekDays.day.length&&t.trigger.weekDays.day.length<7?t.trigger.radioWhichDay="selectedDays":t.trigger.monthDays?t.trigger.radioWhichDay="datesInMonth":t.trigger.radioWhichDay="everyDay",void 0===t.trigger.hours||null===t.trigger.hours?t.trigger.hours="0":t.trigger.hours=t.trigger.hours.toString().replace(/ /g,"").replace(/,/g,", "),void 0===t.trigger.minutes||null===t.trigger.minutes?t.trigger.minutes="0":t.trigger.minutes=t.trigger.minutes.toString().replace(/ /g,"").replace(/,/g,", ")),void 0===t.repositoryDestination||null===t.repositoryDestination)t.repositoryDestination={overwriteFiles:!0,sequentialFilenames:!1,saveToRepository:!0,timestampPattern:"yyyyMMddHHmm",outputFTPInfo:{propertiesMap:{},type:"ftp",port:"21",implicit:!0,pbsz:0}};else{if(void 0===t.repositoryDestination.outputFTPInfo||null===t.repositoryDestination.outputFTPInfo)t.repositoryDestination.outputFTPInfo={};else{var e=t.repositoryDestination.outputFTPInfo;e.enabled=!!e.serverName&&!!e.userName,e.sshKeyEnabled=!!e.sshKey,e.enabled&&(t.repositoryDestination.outputFTPInfo.password=a.VALUE_SUBSTITUTION),e.sshKeyEnabled&&(t.repositoryDestination.outputFTPInfo.sshPassphrase=a.VALUE_SUBSTITUTION)}t.repositoryDestination.timestampPattern||(t.repositoryDestination.timestampPattern="yyyyMMddHHmm")}void 0!==t.repositoryDestination.outputFTPInfo.port&&null!==t.repositoryDestination.outputFTPInfo.port||(t.repositoryDestination.outputFTPInfo.port=this.ftpPortDefaults[t.repositoryDestination.outputFTPInfo.type]);if(t.mailNotification=t.mailNotification||{toAddresses:{address:""},ccAddresses:{address:""},bccAddresses:{address:""},subject:"",messageText:"",resultSendType:"SEND"},t.alert=t.alert||{toAddresses:{address:""},subject:"",messageText:"",messageTextWhenJobFails:"",jobState:"NONE"},void 0===t.mailNotification.resultSendType||null===t.mailNotification.resultSendType)t.mailNotification.resultSendType="SEND";else{var i=t.mailNotification.resultSendType;"SEND"!==i&&"SEND_ATTACHMENT"!==i&&"SEND_ATTACHMENT_NOZIP"!==i&&"SEND_EMBED"!==i&&"SEND_ATTACHMENT_ZIP_ALL"!==i&&"SEND_EMBED_ZIP_ALL_OTHERS"!==i&&(t.mailNotification.resultSendType="SEND")}var n,s=["toAddresses","ccAddresses","bccAddresses"];for(n=0;n<s.length;n++)void 0===t.mailNotification[s[n]]||null===t.mailNotification[s[n]]?t.mailNotification[s[n]]={address:""}:void 0!==t.mailNotification[s[n]].address&&null!==t.mailNotification[s[n]].address||(t.mailNotification[s[n]].address=""),o.isArray(t.mailNotification[s[n]].address)&&t.mailNotification[s[n]].address.length>0?t.mailNotification[s[n]].address=t.mailNotification[s[n]].address.join(", "):t.mailNotification[s[n]].address="";return t.mailNotification.toAddresses.address||(t.mailNotification={toAddresses:{address:""},ccAddresses:{address:""},bccAddresses:{address:""},subject:"",messageText:"",resultSendType:"SEND"}),void 0===t.alert.toAddresses||null===t.alert.toAddresses?t.alert.toAddresses={address:""}:void 0!==t.alert.toAddresses.address&&null!==t.alert.toAddresses.address||(t.alert.toAddresses.address=""),o.isArray(t.alert.toAddresses.address)&&t.alert.toAddresses.address.length>0?t.alert.toAddresses.address=t.alert.toAddresses.address.join(", "):t.alert={toAddresses:{address:""},subject:"",messageText:"",messageTextWhenJobFails:"",jobState:"NONE",includingReportJobInfo:!1,includingStackTrace:!1},t},toJSON:function(){var t=s.extend(!0,{},this.attributes),e={};if(t.trigger&&(t.trigger.startType=parseInt(t.trigger.startType,10),1===t.trigger.startType?t.trigger.startDate=null:t.trigger.startDate=u(t.trigger.startDate,_,!0).format("YYYY-MM-DD HH:mm"),"none"===t.trigger.type?(t.trigger.type="simpleTrigger",t.trigger.endDate=null,t.trigger.occurrenceCount=1,t.trigger.recurrenceInterval=null,t.trigger.recurrenceIntervalUnit=null,delete t.trigger.hours,delete t.trigger.minutes,delete t.trigger.months,delete t.trigger.daysType,delete t.trigger.weekDays,delete t.trigger.monthDays,delete t.trigger.calendarName):"simple"===t.trigger.type?(t.trigger.type="simpleTrigger","numberOfTimes"==t.trigger.radioEndDate&&(t.trigger.endDate=null),"specificDate"==t.trigger.radioEndDate&&(t.trigger.occurrenceCount=-1,t.trigger.endDate=u(t.trigger.endDate,_,!0).format("YYYY-MM-DD HH:mm")),"indefinitely"==t.trigger.radioEndDate&&(t.trigger.occurrenceCount=-1,t.trigger.endDate=null),t.trigger.recurrenceInterval=parseInt(t.trigger.recurrenceInterval,10),t.trigger.recurrenceIntervalUnit=t.trigger.recurrenceIntervalUnit.toUpperCase(),""===t.trigger.calendarName&&(t.trigger.calendarName=null),delete t.trigger.hours,delete t.trigger.minutes,delete t.trigger.months,delete t.trigger.daysType,delete t.trigger.weekDays,delete t.trigger.monthDays):"calendar"===t.trigger.type&&(t.trigger.type="calendarTrigger","everyMonth"===t.trigger.radioWhichMonth&&(t.trigger.months.month=[1,2,3,4,5,6,7,8,9,10,11,12]),"everyDay"===t.trigger.radioWhichDay||7==t.trigger.weekDays.day.length?(t.trigger.daysType="ALL",t.trigger.weekDays.day=[],t.trigger.monthDays=""):"selectedDays"===t.trigger.radioWhichDay?(t.trigger.daysType="WEEK",
t.trigger.monthDays=""):"datesInMonth"===t.trigger.radioWhichDay&&(t.trigger.daysType="MONTH",t.trigger.weekDays.day=[]),t.trigger.monthDays=t.trigger.monthDays.replace(/ /g,""),""===t.trigger.endDate?delete t.trigger.endDate:t.trigger.endDate=u(t.trigger.endDate,_,!0).format("YYYY-MM-DD HH:mm"),t.trigger.hours=t.trigger.hours.replace(/ /g,""),t.trigger.minutes=t.trigger.minutes.replace(/ /g,""),""===t.trigger.calendarName&&(t.trigger.calendarName=null),delete t.trigger.occurrenceCount,delete t.trigger.recurrenceInterval,delete t.trigger.recurrenceIntervalUnit),delete t.trigger.radioEndDate,delete t.trigger.radioWhichMonth,delete t.trigger.radioWhichDay,t.trigger&&t.trigger.type&&(e[t.trigger.type]=t.trigger,delete e[t.trigger.type].type,t.trigger=e)),t.repositoryDestination&&(t.repositoryDestination.outputFTPInfo&&(t.repositoryDestination.outputFTPInfo.enabled||(t.repositoryDestination.outputFTPInfo={type:"ftp",port:21,folderPath:null,password:null,propertiesMap:{},serverName:null,userName:null,sshKey:null,sshPassphrase:null}),t.repositoryDestination.outputFTPInfo.password===a.VALUE_SUBSTITUTION&&delete t.repositoryDestination.outputFTPInfo.password,"sftp"===t.repositoryDestination.outputFTPInfo.type&&t.repositoryDestination.outputFTPInfo.sshKeyEnabled?t.repositoryDestination.outputFTPInfo.sshPassphrase===a.VALUE_SUBSTITUTION&&delete t.repositoryDestination.outputFTPInfo.sshPassphrase:(delete t.repositoryDestination.outputFTPInfo.sshKey,delete t.repositoryDestination.outputFTPInfo.sshPassphrase),"enabled"in t.repositoryDestination.outputFTPInfo&&delete t.repositoryDestination.outputFTPInfo.enabled,"sshKeyEnabled"in t.repositoryDestination.outputFTPInfo&&delete t.repositoryDestination.outputFTPInfo.sshKeyEnabled),t.repositoryDestination.sequentialFilenames||(t.repositoryDestination.timestampPattern=null)),t.mailNotification){var i,n=["toAddresses","ccAddresses","bccAddresses"];for(i=0;i<n.length;i++)if(t.mailNotification[n[i]]&&void 0!==t.mailNotification[n[i]].address){if(!t.mailNotification[n[i]].address){delete t.mailNotification[n[i]];continue}t.mailNotification[n[i]].address=t.mailNotification[n[i]].address.replace(/ /g,"").split(",")}t.mailNotification.toAddresses&&void 0!==t.mailNotification.toAddresses.address||delete t.mailNotification}return t.alert&&(t.alert.toAddresses&&void 0!==t.alert.toAddresses.address&&(t.alert.toAddresses.address?t.alert.toAddresses.address=t.alert.toAddresses.address.replace(/ /g,"").split(","):delete t.alert.toAddresses.address),t.alert.toAddresses&&void 0!==t.alert.toAddresses.address||delete t.alert),t},state:function(t){var e={jobId:[this.id],toJSON:function(){return this},trigger:function(){return this}};return this.get("state").value=t?d.NORMAL:d.PAUSED,this.trigger("change"),r.sync.call(this,"update",e,{url:a.contextPath+"/rest_v2/jobs/"+(t?"resume":"pause"),type:"POST"})},loadParameters:function(t){t=t||this.get("source").reportUnitURI;var e=this,i=a.contextPath+"/rest_v2/reports"+encodeURI(t)+"/inputControls/";return r.sync.call(this,"read",new r.Model,{url:i,type:"GET"}).done(function(t){if(t&&t.inputControl){for(var i={},n=t.inputControl,s=0;s<n.length;s++)i[n[s].id]=null;e.update("source",{parameters:{parameterValues:i}})}else e.trigger("failedToGet_IC")}).fail(function(){e.trigger("failedToGet_IC")})},checkSaveValidation:function(t){t=t||{};var e=s.Deferred(),i=0,n=function(){3===++i&&e.resolve()},o=function(){e.reject()};return this.testDates(t.editMode).done(n).fail(o),this.validateParametersIC().done(n).fail(o),this.testOutputHostFileSystemFolder().done(n).fail(o),e},testDates:function(t){var e=[],i=s.Deferred(),n=this.attributes.trigger;return!t&&2==n.startType&&n.startDate&&this.ifPastDate(n.startDate,n.timezone)&&e.push({field:"startDate",errorCode:"error.before.current.date.trigger.startDate"}),"simple"===n.type&&"specificDate"===n.radioEndDate&&n.endDate&&this.ifPastDate(n.endDate,n.timezone)?e.push({field:"simpleEndDate",errorCode:"error.before.current.date.trigger.endDate"}):"calendar"===n.type&&n.endDate&&this.ifPastDate(n.endDate,n.timezone)&&e.push({field:"calendarEndDate",errorCode:"error.before.current.date.trigger.endDate"}),e.length?(this.trigger("invalid",e,{switchToErrors:!0}),i.reject()):i.resolve()},testFTPConnection:function(t){if(m)return void("function"==typeof t&&t());var e=this.get("repositoryDestination");if(!(e&&e.outputFTPInfo&&e.outputFTPInfo.enabled))return void("function"==typeof t&&t());e=e.outputFTPInfo;var i=this,n={host:e.serverName,userName:e.userName,folderPath:e.folderPath,type:e.type,protocol:e.protocol,port:e.port,implicit:e.implicit,prot:e.prot,pbsz:e.pbsz,toJSON:function(){return this},trigger:function(){return this}};return this.get("id")&&(n.holder="job:"+this.get("id")),e.password!==a.VALUE_SUBSTITUTION&&(n.password=e.password),"sftp"===e.type&&e.sshKeyEnabled&&(n.sshKey=e.sshKey,e.sshPassphrase!==a.VALUE_SUBSTITUTION&&(n.sshPassphrase=e.sshPassphrase)),m=!0,s("#ftpTestButton").addClass("checking"),s("[data-field=ftpTest]").text(""),r.sync.call(this,"update",n,{url:a.contextPath+"/rest_v2/connections",contentType:"application/connections.ftp+json",headers:{Accept:"application/json"},type:"POST",success:function(e,n){m=!1,s("#ftpTestButton").removeClass("checking"),i.trigger("valid",[{field:"ftpTest",errorCode:"report.scheduling.connection.passed"}]),"function"==typeof t&&t(void 0)},error:function(e){m=!1,s("#ftpTestButton").removeClass("checking"),i.trigger("invalid",[{field:"ftpTest",errorCode:"report.scheduling.connection.failed"}]),"function"==typeof t&&t(e)}})},validateParametersIC:function(){var t=this,e=s.Deferred();return this.get("source")&&this.get("source").parameters?(this.controlsController.validate().then(function(i){i?e.resolve():(t.trigger("invalid",[{field:"parametersErrorNotifierStub",errorCode:"report.scheduling.list.state.5"}],{switchToErrors:!0}),e.reject())}),e):e.resolve()},runServerValidationRequests:function(){var t=s.Deferred(),e=0,i=function(){2===++e&&t.resolve()},n=function(e){t.reject(e)};return this.testOutputRepositoryFolder().done(i).fail(n),this.testSshKey().done(i).fail(n),t},testSshKey:function(){var t=s.Deferred(),e=this.get("repositoryDestination")?this.get("repositoryDestination").outputFTPInfo:null;if(!e||!e.enabled||!e.sshKeyEnabled)return t.resolve();var i=e.sshKey;return i&&""!==i&&this.isValidUri(i)?o.isUndefined(g[i])?(this.resource("file",i,function(e,n){e?(g[i]={field:"sshKey",errorCode:"error.report.job.report.inexistent.sshKey",errorArguments:[i]},t.reject(g[i])):(g[i]={},t.resolve())}),t):g[i].errorCode?t.reject(g[i]):t.resolve():t.resolve()},testOutputRepositoryFolder:function(){var t=s.Deferred();if(!this.get("repositoryDestination"))return t.resolve();if(!this.get("repositoryDestination").saveToRepository)return t.resolve();var e=this.get("repositoryDestination").folderURI;return e&&""!==e?this.isValidUri(e)?o.isUndefined(f[e])?(this.checkPermissionOnFolder(e,function(i,n){var s=null;i?s="error.report.job.report.inexistent.output":1!==n&&30!==n&&6!==n&&(s="error.report.job.output.folder.notwriteable"),s?(f[e]={field:"outputRepository",errorCode:s,errorArguments:[e]},t.reject(f[e])):(f[e]={},t.resolve())}),t):f[e].errorCode?t.reject(f[e]):t.resolve():t.reject({field:"outputRepository",errorCode:"error.report.job.invalid.chars.folderURI"}):t.reject({field:"outputRepository",errorCode:"error.not.empty.folder"})},testOutputHostFileSystemFolder:function(){var t=this,e=s.Deferred();if("false"===a.enableSaveToHostFS||!1===a.enableSaveToHostFS)return e.resolve();if(!this.get("repositoryDestination"))return e.resolve();var i=this.get("repositoryDestination").outputLocalFolder;if(o.isUndefined(i)||null===i)return e.resolve();if(!i)return this.trigger("invalid",[{field:"outputHostFileSystem",errorCode:"report.scheduling.output.localhostpath"}],{switchToErrors:!0}),e.reject();var n={path:this.get("repositoryDestination").outputLocalFolder,toJSON:function(){return this},trigger:function(){return this}};return r.sync.call(this,"update",n,{url:a.contextPath+"/rest_v2/connections",contentType:"application/connections.lfs+json",type:"POST",headers:{Accept:"application/json"}}).done(function(){e.resolve()}).fail(function(){t.trigger("invalid",[{field:"outputHostFileSystem",errorCode:"report.scheduling.output.localhostpath"}],{switchToErrors:!0}),e.reject()}),e},checkPermissionOnFolder:function(t,e){return r.sync.call(this,"read",new r.Model,{url:a.contextPath+"/rest_v2/resources"+t,headers:{Accept:"application/repository.folder+json"},type:"GET",success:function(t,i){"function"==typeof e&&e(void 0,t.permissionMask)},error:function(t){try{t=JSON.parse(t.responseText)}catch(t){}"function"==typeof e&&e(t)}})},resource:function(t,e,i){return r.sync.call(this,"read",new r.Model,{url:a.contextPath+"/rest_v2/resources"+e,headers:{Accept:"application/repository."+t+"+json"},type:"GET",success:function(t,e){"function"==typeof i&&i(void 0,t)},error:function(t){"function"==typeof i&&i(t)}})},parseUri:function(t){var e;return"/"!==t[0]&&(t="/"+t),t&&(e=t.match(/^(.*)\/([^\/]+)$/))?(""===e[1]&&(e[1]="/"),{full:e[0],folder:e[1],file:e[2]}):{}},createFromUri:function(t){this.trigger("clearAllErrors"),this.clear({silent:!0}),t=this.parseUri(t);var e=o.extend({},a.reportJobEditorDefaults);this.set(this.parse({baseOutputFilename:t.file,outputFormats:{outputFormat:["PDF"]},source:{reportUnitURI:t.full},trigger:{timezone:a.usersTimeZone||"America/Los_Angeles"},outputTimeZone:a.usersTimeZone||"America/Los_Angeles",repositoryDestination:{overwriteFiles:!0,sequentialFilenames:!1,folderURI:void 0===e["scheduler.job.repositoryDestination.folderURI"]?t.folder:e["scheduler.job.repositoryDestination.folderURI"],saveToRepository:!0,timestampPattern:"yyyyMMddHHmm",outputFTPInfo:{propertiesMap:{},type:"ftp",port:"21",implicit:!0,pbsz:0}}}))},formatDate:function(t){return t?u(t,"YYYY-MM-DD HH:mm").format(_):""},parseIntervals:function(t,e){if(!(t=t||!1))return!1;t=t.replace(/ /g,"");var i,n,s,o=t.split(","),r=[],a={};1==o.length&&(o=t.split("/"));var l=1,c=31;if("hours"===e&&(l=0,c=23),"minutes"===e&&(l=0,c=59),o.length<1)return!1;for(i=0;i<o.length;i++)if(-1!==o[i].indexOf("-")){if(s=o[i].split("-"),!this.isNumeric(s[0],{allowZero:!0}))return!1;if(!this.isNumeric(s[1],{allowZero:!0}))return!1;if(s[0]=parseInt(s[0],10),s[1]=parseInt(s[1],10),!(l<=s[0]&&s[0]<=c))return!1;if(!(l<=s[1]&&s[1]<=c))return!1;if(s[0]>=s[1])return!1;for(n=s[0];n<=s[1];n++)void 0===a[n]&&(r.push(n),a[n]=1)}else{if(!this.isNumeric(o[i],{allowZero:!0}))return!1;if(o[i]=parseInt(o[i],10),!(l<=o[i]&&o[i]<=c))return!1;void 0===a[o[i]]&&(r.push(o[i]),a[o[i]]=1)}return r},ifPastDate:function(t,e){if(!t||!e)return!1;var i,n,s,o;return i=p(e),n=u().utcOffset()/60,s=n-i,o=+u().format("X"),+u(t,_,!0).add(1,"minute").format("X")+3600*s<o},isHostName:function(t){return!!t&&/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/.test(t)},isEmail:function(t){return!!t&&new c(l.emailRegExpPattern,"g").test(t)},isValidFileName:function(t){return!!t&&!new RegExp(l.resourceIdNotSupportedSymbols,"g").test(t)},isValidUri:function(t){return!!t&&!new RegExp(l.resourceIdNotSupportedSymbols,"g").test(t.replace(/\//g,""))},validateEmails:function(t){if(!t)return!1;t=t.split(new RegExp(" *, *"));for(var e=0;e<t.length;e++)if(!this.isEmail(t[e]))return!1;return!0},isNumeric:function(t,e){var i;if(!t)return!1;if(e=e||{},e.allowNegative=e.allowNegative||!1,e.allowZero=e.allowZero||!1,e.maxValue=e.maxValue||!1,e.minValue=e.minValue||!1,"string"==typeof t){if(t.match(/\D/))return!1;if(i=parseInt(t,10),o.isNaN(i))return!1}return!(!1===e.allowNegative&&i<0)&&((!1!==e.allowZero||0!==i)&&(!(e.maxValue&&e.maxValue<i)&&!(e.minValue&&i<e.minValue)))}})}),define("runtime_dependencies/js-sdk/src/common/util/domUtil",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s=0;i.exports={getScrollbarWidth:function(){if(s)return s;var t=document.createElement("div");return t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),s=t.offsetWidth-t.clientWidth,document.body.removeChild(t),s},hasScrollBar:function(t,e){e="vertical"===e?"scrollTop":"scrollLeft";var i=!!t[e];return i||(t[e]=1,i=!!t[e],t[e]=0),i},isScrollable:function(t){var e=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;if(e)return"scroll"==e.overflow||"auto"==e.overflow||"scroll"==e.overflowX||"auto"==e.overflowX||"scroll"==e.overflowY||"auto"==e.overflowY},getElementOffset:function(t){var e=0,i=0;if(t.offsetParent)for(e=t.offsetLeft,i=t.offsetTop;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}},getMargins:function(t){var e={top:parseInt(t.css("margin-top"),10),right:parseInt(t.css("margin-right"),10),bottom:parseInt(t.css("margin-bottom"),10),left:parseInt(t.css("margin-left"),10)};return n.each(e,function(t,i){isNaN(e[i])&&(e[i]=0)}),e},getPaddings:function(t){var e={top:parseInt(t.css("padding-top"),10),right:parseInt(t.css("padding-right"),10),bottom:parseInt(t.css("padding-bottom"),10),left:parseInt(t.css("padding-left"),10)};return n.each(e,function(t,i){isNaN(e[i])&&(e[i]=0)}),e}}}),define("util/tools.infiniteScroll",["require","exports","module","./utils.common","prototype"],function(t,e,i){var n=t("./utils.common"),s=n.doNothing,o=n.isSupportsTouch,r=n.isIPad,a=t("prototype"),l=a.$,c=function(t){this._id=t.id,this._contentId=t.contentId?t.contentId:void 0,this._scroll=t.scroll,this._loadFactor=t.loadFactor?t.loadFactor:.95,this._lastContentHeight=0,this._loading=!1,t.control?void 0!==t.control.length&&t.control.length>1?this._control=l(t.control[0]):this._control=l(t.control):this._control=this._scroll?this._scroll.parent:l(this._id),this._scroll?this._content=this._scroll.element:t.content?void 0!==t.content.length&&t.content.length>1?this._content=l(t.content[0]):this._content=l(t.content):this._content=this._contentId?l(this._contentId):this._control.childElements()[0],this._eventType=o()?"touchmove":"scroll",this._control.observe(this._eventType,this._onScrollHandler.bind(this))};c.addMethod("destroy",function(){this._control&&this._control.stopObserving(this._eventType,this._handler)}),c.addMethod("_onScrollHandler",function(t){var e=this._scroll?-1*this._scroll.y:this._control.scrollTop,i=this._content.getHeight(),n=this._control.getHeight();i!=this._lastContentHeight&&(this._loading=!1);var s=!this._loading&&0!=i;(s=this._scroll?s&&this._scroll.isBottom():s&&(n+e)/i>this._loadFactor)&&(this._loading=!0,this._lastContentHeight=i,r()&&this.wait(),this.onLoad())}),c.addMethod("onLoad",s),c.addMethod("reset",function(){r()?this._scroll.reset():this._control.scrollTop=0,this._loading=!1}),c.addMethod("wait",function(){if(!this._waitIndicator){this._waitIndicator=new Element("div",{class:"dimmer resultsOverlay"});var t=this._control.getDimensions(),e=this._control.positionedOffset();this._waitIndicator.setStyle({zIndex:"4000",top:e.top+"px",left:e.left+"px",height:t.height+"px",width:t.width+"px"}),this._control.insert({after:this._waitIndicator})}this._waitIndicator.show()}),c.addMethod("stopWaiting",function(){this._waitIndicator&&this._waitIndicator.hide()}),window.InfiniteScroll=c,i.exports=c}),define("text!scheduler/template/list/oneJob.htm",[],function(){return'<div class="wrap draggable">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="column one">\n        <p class="jobID">{{- model.id }}</p>\n    </div>\n    <div class="column two">\n        <p class="jobName">{{- model.label }}</p>\n        <p class="jobOwner">{{- model.owner }}</p>\n    </div>\n    <div class="column three">\n        <p class="jobState">{{- model.state.value }}</p>\n    </div>\n    <div class="column four">\n        <p class="lastRanDate">\n            {{- lastRanDate }}\n        </p>\n        <p class="nextRunDate">\n            {{- nextRunDate }}\n        </p>\n    </div>\n    <div class="column five">\n\t    <div class="jobDelete">\n\t\t    <button name="deleteJob" class="button action simple delete"></button>\n\t    </div>\n\t    <div class="jobEdit">\n\t\t    <button name="editJob" class="button action simple edit"></button>\n\t    </div>\n\t    <p class="jobEnabled">\n\t\t    <input name="enableJob" type="checkbox" {{ if (isJobEnabled) { }} checked="checked" {{ } }} ></input>\n\t    </p>\n    </div>\n</div>\n\n'}),define("text!scheduler/template/list/oneMasterJob.htm",[],function(){return'<div class="wrap draggable">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="column one">\n        <p class="jobResource" title="{{- model.reportLabel }}">{{- model.reportLabel }} </p>\n        <p class="jobResourcePath" title="{{- model.reportUnitURI }}">{{- model.reportUnitURI }}</p>\n    </div>\n    <div class="column two">\n        <p class="jobName">{{- model.label }}</p>\n        <p class="jobDescription" title="{{- model.description }}">{{- model.description }}</p>\n    </div>\n    <div class="column three">\n        <p class="jobID">{{- model.id }}</p>\n        <p class="jobOwner">{{- model.owner }}</p>\n        <p class="jobState">{{- model.state.value }}</p>\n    </div>\n    <div class="column four">\n        <p class="lastRanDate">\n            {{- lastRanDate }}\n        </p>\n        <p class="nextRunDate">\n            {{- nextRunDate }}\n        </p>\n    </div>\n    <div class="column five">\n\t    <div class="jobDelete">\n\t\t    <button name="deleteJob" class="button action simple delete"></button>\n\t    </div>\n\t    <div class="jobEdit">\n\t\t    <button name="editJob" class="button action simple edit"></button>\n\t    </div>\n\t    <div class="jobEnabled">\n\t\t    <input name="enableJob" type="checkbox" {{ if (isJobEnabled) { }} checked="checked" {{ } }}></input>\n\t    </div>\n    </div>\n</div>\n\n'}),define("runtime_dependencies/js-sdk/src/common/util/classUtil",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s={mixin:function(){var t,e,i=Array.prototype,n=i.shift.call(arguments);for(t=0;t<arguments.length;t+=1)if(arguments[t])for(e in arguments[t])arguments[t].hasOwnProperty(e)&&(n[e]=arguments[t][e]);return n},inherit:function(t,e){var i;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)};var o=function(){};return o.prototype=t.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.prototype.constructor=i,i.parent=t.prototype,i.extend=function(t){return s.inherit(i,t)},i},extend:function(t){return s.inherit(function(){},t)}};i.exports=s}),define("runtime_dependencies/js-sdk/src/common/component/base/Dimmer",["require","exports","module","jquery","../../util/classUtil"],function(t,e,i){var n,s,o=t("jquery"),r=t("../../util/classUtil");i.exports=r.extend({constructor:function(t){n||(s=0,n=o("<div id='dialogDimmer' class='dimmer'></div>").css(t),o(document.body).append(n),n.hide()),s++},css:function(t){return n.css(t),this},show:function(){var t=this.getCount()||0;return this.setCount(++t),n.show(),this},hide:function(){if(this.isVisible()){var t=this.getCount();return this.setCount(--t),!t&&n.hide(),this}},setCount:function(t){n.data({count:t})},getCount:function(){return parseInt(n.data("count"),10)},isVisible:function(){return n.is(":visible")},remove:function(){this._removed||(this._removed=!0,n&&(--s||(n.remove(),n=null)))}})}),define("text!runtime_dependencies/js-sdk/src/common/component/panel/template/panelTemplate.htm",[],function(){return'<div class="panel {{- additionalCssClasses }}">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="header">\n        <div class="title">{{- title}}</div>\n    </div>\n    <div class="subcontainer"></div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/common/component/panel/Panel",["require","exports","module","underscore","backbone","text!./template/panelTemplate.htm"],function(t,e,i){var n=t("underscore"),s=t("backbone"),o=t("text!./template/panelTemplate.htm");i.exports=s.View.extend({defaultTemplate:o,el:function(){var t=this.getTemplateArguments();return this.template(t)},getTemplateArguments:function(){return{title:this.title,additionalCssClasses:this.additionalCssClasses}},constructor:function(t){t||(t={}),this.template=n.template(t.template||this.defaultTemplate),this.title=t.title||"",this.dataNameAttribute=t.dataNameAttribute||"",this.additionalCssClasses=t.additionalCssClasses||"",this.content=t.content||"",this.collapsed=!t.collapsed,this.openClass=t.openClass||"open",this.closedClass=t.closedClass||"closed",this.loadingClass=t.loadingClass||"loading",this.fixedHeight=t.fixedHeight||!1,this.contentContainer=t.contentContainer||".subcontainer",this.overflow=t.overflow||"auto",this.traits=t.traits||[],n.each(this.traits,n.bind(function(t){t.extension&&n.extend(this,t.extension)},this)),this.invokeTraits("onConstructor",t),s.View.apply(this,arguments)},invokeTraits:function(t){var e=Array.prototype.slice.call(arguments,1),i=this;n.each(this.traits,function(n){n[t]&&n[t].apply(i,e)})},initialize:function(t){this.invokeTraits("beforeInitialize",t),this.content&&this.setContent(this.content),this.toggleCollapsedState(),this.dataNameAttribute&&this.$el.attr("data-name",this.dataNameAttribute),this.invokeTraits("afterInitialize",t)},setElement:function(t){this.invokeTraits("beforeSetElement",t);var e=s.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.$(this.contentContainer),this.$contentContainer[this.collapsed?"hide":"show"](),this.invokeTraits("afterSetElement",t),e},open:function(t){return this.invokeTraits("beforeOpen",t),this.$contentContainer.show(),this.$el.removeClass(this.closedClass).addClass(this.openClass),this.collapsed=!1,t&&t.renderContent&&this.renderContent(),this.invokeTraits("afterOpen",t),t&&t.silent||this.trigger("open",this),this},close:function(t){return this.invokeTraits("beforeClose",t),this.$contentContainer.hide(),this.$el.removeClass(this.openClass).addClass(this.closedClass),this.collapsed=!0,this.invokeTraits("afterClose",t),t&&t.silent||this.trigger("close",this),this},setContent:function(t,e){this.content=t;var i=this.renderContent();this.$contentContainer[!0===e?"append":"html"](i)},renderContent:function(){return this.content instanceof s.View?this.content.render().$el:this.content},setHeight:function(t){var e=this.$("> .header").outerHeight();this.$contentContainer.css({height:n.isNumber(t)?t-e+"px":"auto",overflow:this.overflow})},toggleCollapsedState:function(){return this.collapsed?this.open():this.close(),this},remove:function(){this.invokeTraits("onRemove"),this.content&&this.content.remove&&this.content.remove(),s.View.prototype.remove.call(this)}})}),define("runtime_dependencies/js-sdk/src/common/component/base/OptionView",["require","exports","module","backbone","underscore"],function(t,e,i){var n=t("backbone"),s=t("underscore");i.exports=n.View.extend({events:{click:"select",mouseover:"mouseover",mouseout:"mouseout"},constructor:function(t){if(!t||!t.template)throw new Error("Option should have defined template");if(!(t.model&&t.model instanceof n.Model))throw new Error("Option should have associated Backbone.Model");this.template=s.template(t.template),this.disabledClass=t.disabledClass,this.hiddenClass=t.hiddenClass,this.toggleClass=t.toggleClass,this.overClass=t.overClass||"over",n.View.apply(this,arguments)},initialize:function(){n.View.prototype.initialize.apply(this,arguments);var t=this;!0===this.model.get("disabled")&&this.disable(),!0===this.model.get("hidden")&&this.hide(),!0===this.model.get("selected")&&this.addSelection(),this.listenTo(this.model,"change:over",function(e,i){i?t.$("> p").addClass(t.overClass):t.$("> p").removeClass(t.overClass)})},el:function(){return this.template(this.model.toJSON())},enable:function(){this.$el.removeAttr("disabled").removeClass(this.disabledClass)},disable:function(){this.$el.attr("disabled","disabled").addClass(this.disabledClass)},over:function(){this.model.set({over:!0})},leave:function(){this.model.set({over:!1})},show:function(){this.$el.show().removeClass(this.hiddenClass)},hide:function(){this.$el.hide().addClass(this.hiddenClass)},isVisible:function(){return this.$el.is(":visible")},isDisabled:function(){return this.$el.is(":disabled")},select:function(t){this.model.trigger("select",this,this.model,t),this.trigger("click",this,this.model,t)},addSelection:function(){this.$el.addClass(this.toggleClass),this.model.set("selected",!0)},removeSelection:function(){this.$el.removeClass(this.toggleClass),this.model.unset("selected")},mouseover:function(t){this.trigger("mouseover",this,this.model,t)},mouseout:function(t){this.trigger("mouseout",this,this.model,t)}})}),define("runtime_dependencies/js-sdk/src/common/component/base/OptionContainer",["require","exports","module","backbone","underscore","./OptionView"],function(t,e,i){function n(t){if(!t||o.isEmpty(t))throw new Error("Init options must be specified");if(!t.options||!t.options.length)throw new Error("Option views descriptors must be specified");if(!t.mainTemplate&&!t.el)throw new Error("Option container must have a template");if(!t.optionTemplate)throw new Error("Option container must have an option template")}var s=t("backbone"),o=t("underscore"),r=t("./OptionView");i.exports=s.View.extend({events:{mouseout:"_mouseout",mouseover:"_mouseover"},el:function(){return o.template(this.template)()},constructor:function(t){n(t),this.contextName=t.contextName||"option",this.contentContainer=t.contentContainer?t.contentContainer:t.el||".content > ul",this.toggle=!!t.toggle,this.toggleClass=t.toggleClass||"active",this.options=[],this.collection=t.collection||new s.Collection,delete t.collection,t.options&&this.collection.reset(t.options),this.hasGroups=!(!this.collection.models[0]||!this.collection.models[0].get("groupId")),this.defalutOptionView=this.hasGroups?this.collection.where({default:!0}):[this.collection.findWhere({default:!0})],this.listenTo(this.collection,"select",this._selectOption),this.listenTo(this.collection,"update reset",this.render),this.template=t.mainTemplate,this.optionTemplate=t.optionTemplate,s.View.apply(this,arguments)},_mouseout:function(){this.trigger("container:mouseout")},_mouseover:function(){this.trigger("container:mouseover")},setElement:function(t){var e=s.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.contentContainer?this.$(this.contentContainer).addBack().filter(this.contentContainer):this.$el,e},initialize:function(){this.render(),this.toggle&&this.defalutOptionView&&o.each(this.defalutOptionView,function(t){t&&this.getOptionView(t.get("action")).addSelection()},this)},render:function(){var t=this;o.each(this.options,function(e){t.stopListening(e,"mouseover"),t.stopListening(e,"mouseout"),e.remove()}),this.options=[],this.collection.forEach(function(e){var i=new r({template:t.optionTemplate,model:e,toggleClass:t.toggleClass});t.listenTo(i,"mouseover",function(e,i){t.trigger("mouseover",e,t,i)}),t.listenTo(i,"mouseout",function(e,i){t.trigger("mouseout",e,t,i)}),t.options.push(i),t.$contentContainer.append(i.$el)})},_onKeyDown:function(t){var e=this.getOptionView(t.keyCode,"triggerOnKeyCode");e&&!e.isDisabled()&&e.select()},_selectOption:function(t,e){if(this.toggle){var i=e.get("groupId"),n=this.hasGroups?o.reduce(this.options,function(t,e){return e.model.get("groupId")===i&&t.push(e),t},[]):this.options;o.each(n,function(t){t.removeSelection()},this),t.addSelection()}this.trigger("selection",t,e),this.trigger(this.contextName+":"+e.get("action"),t,e)},getOptionView:function(t,e){return o.find(this.options,function(i){return i.model.get(e||"action")===t})},resetSelection:function(t,e){t=t||[],this.toggle&&(this.hasGroups?(t.length<this.defalutOptionView.length&&o.each(this.defalutOptionView,function(e){var i={groupId:e.get("groupId")};!o.findWhere(t,i)&&e&&t.push(o.extend(i,{action:e.get("action")}))}),t=o.pluck(t,"action")):!t.length&&this.defalutOptionView[0]&&t.push(this.defalutOptionView[0].get("action")),o.each(this.options,function(i){t.length&&o.contains(t,i.model.get("action"))?e?this._selectOption(i,i.model):i.addSelection():i.removeSelection()},this))},select:function(){var t=Array.prototype.slice.call(arguments,0);this.toggle&&o.each(this.options,function(e){!t.length||o.contains(t,e.model.get("action"))?e.addSelection():e.removeSelection()},this)},deselect:function(){var t=Array.prototype.slice.call(arguments,0);this.toggle&&o.each(this.options,function(e){(!t.length||o.contains(t,e.model.get("action")))&&e.removeSelection()},this)},getSelection:function(){return o.chain(this.options).filter(function(t){return t.model.get("selected")}).map(function(t){return t.model.get("action")}).value()},show:function(){return o.each(this.options,function(t){var e=t.model.get("test");e&&!e()?t.hide():t[t.model.get("hidden")?"hide":"show"]()}),this.$el.show(),this.trigger("show",this),this},hide:function(){return this.$el.hide(),this.trigger("hide",this),this},enable:function(t){var e=Array.prototype.slice.call(arguments);o.each(this.options,function(t){(!e.length||o.contains(e,t.model.get("action")))&&t.enable()})},disable:function(t){var e=Array.prototype.slice.call(arguments);o.each(this.options,function(t){(!e.length||o.contains(e,t.model.get("action")))&&t.disable()})},addOptions:function(t,e){this.collection.add(t,o.extend(e||{},{silent:!0})),this.collection.reset(this.collection.toJSON())},removeOptions:function(t){var e=this.collection.filter(function(e){return!o.contains(t,e.get("action"))});e.length<this.collection.length&&this.collection.reset(e)},remove:function(){o.invoke(this.options,"remove"),s.View.prototype.remove.apply(this,arguments)}})}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/abstractPanelTrait",["require","exports","module"],function(t,e,i){var n={extension:{},onConstructor:function(){},beforeInitialize:function(){},afterInitialize:function(){},beforeSetElement:function(){},afterSetElement:function(){},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},onRemove:function(){}};i.exports=n}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/ui/disable-selection",["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/ui/widgets/resizable",["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),
width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,s,o,r=this.options,a=this;if(this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)e=t.trim(n[i]),s="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+s),o.css({zIndex:r.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,n,s,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,o=this.axis,r=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,o,r,a,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,o=n?0:d.sizeDiff.width,r={width:d.helper.width()-o,height:d.helper.height()-s},a=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(t.extend(r,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),s<o.maxHeight&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),r&&d&&(t.top=l-e.minHeight),s&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(s[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,s,o,r,a,l=t(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,h=u instanceof t?u.get(0):/parent/.test(u)?d.parent().get(0):u;h&&(l.containerElement=t(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,o=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:s,l.parentData={element:h,left:n.left,top:n.top,width:r,height:a}))},resize:function(e){var i,n,s,o,r=t(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,d=r._aspectRatio||e.shiftKey,u={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),d&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-l.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,d&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,s=e.containerPosition,o=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,c=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0};t(s.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),s={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,s=i.size,o=i.originalSize,r=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((s.width-o.width)/c)*c,h=Math.round((s.height-o.height)/d)*d,p=o.width+u,m=o.height+h,f=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<m,b=n.minWidth&&n.minWidth>p,v=n.minHeight&&n.minHeight>m;n.grid=l,b&&(p+=c),v&&(m+=d),f&&(p-=c),g&&(m-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=m):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=m,i.position.top=r.top-h):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=m,i.position.left=r.left-u):((m-d<=0||p-c<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),m-d>0?(i.size.height=m,i.position.top=r.top-h):(m=d-e.height,i.size.height=m,i.position.top=r.top+o.height-m),p-c>0?(i.size.width=p,i.position.left=r.left-u):(p=c-e.width,i.size.width=p,i.position.left=r.left+o.width-p))}}),t.ui.resizable}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/resizablePanelTrait",["require","exports","module","underscore","./abstractPanelTrait","jquery-ui/ui/widgets/resizable"],function(t,e,i){function n(t,e){this.trigger("resize",t,e)}function s(t,e){this.trigger("resizeStart",t,e)}function o(t,e){this.trigger("resizeStop",t,e)}var r=t("underscore"),a=t("./abstractPanelTrait");t("jquery-ui/ui/widgets/resizable"),i.exports=r.extend({},a,{onConstructor:function(t){t||(t={}),this.handles=t.handles||"e, s, se",this.minWidth=t.minWidth||10,this.minHeight=t.minHeight||10,this.maxWidth=t.maxWidth||null,this.maxHeight=t.maxHeight||null,this.alsoResize=t.alsoResize||!1,this.resizableEl=t.resizableEl},afterSetElement:function(){this.$resizableEl=this.$el.find(this.resizableEl).length?this.$el.find(this.resizableEl):this.$el;var t=this.handles;"function"==typeof t&&(t=t(this.$el)),this.$resizableEl.resizable({handles:t,minHeight:this.minHeight,minWidth:this.minWidth,maxWidth:this.maxWidth,maxHeight:this.maxHeight,alsoResize:this.alsoResize,resize:r.bind(n,this),start:r.bind(s,this),stop:r.bind(o,this)})},onRemove:function(){try{this.$el.resizable("destroy")}catch(t){}}})}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/dialogTemplate.htm",[],function(){return'<div class="jr-mDialog jr {{- additionalCssClasses }}" tabindex="-1">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mDialog-header mover jr">\n        <h1 class="jr-mDialog-header-title jr">{{- title }}</h1>\n    </div>\n    <div class="jr-mDialog-body jr {{- additionalBodyCssClasses }}">\n        <div class="jr-mDialog-body-wrapper jr subcontainer"></div>\n    </div>\n    <div class="jr-mDialog-footer jr"></div>\n\n</div>\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/dialogButtonTemplate.htm",[],function(){return"<button class=\"button action up {{- primary ? 'primary' : ''}} {{- (typeof float !== 'undefined' ? 'right' : '') }}\">\n\n    <js-templateNonce></js-templateNonce>\n    <span class=\"wrap\">{{- label }}<span class=\"icon\"></span></span>\n</button>\n"}),define("runtime_dependencies/js-sdk/src/common/component/dialog/Dialog",["require","exports","module","underscore","jquery","../base/Dimmer","../panel/Panel","../base/OptionContainer","../panel/trait/resizablePanelTrait","text!./template/dialogTemplate.htm","text!./template/dialogButtonTemplate.htm","jquery-ui/ui/widgets/draggable"],function(t,e,i){var n=t("underscore"),s=t("jquery"),o=t("../base/Dimmer"),r=t("../panel/Panel"),a=t("../base/OptionContainer"),l=t("../panel/trait/resizablePanelTrait"),c=t("text!./template/dialogTemplate.htm"),d=t("text!./template/dialogButtonTemplate.htm");t("jquery-ui/ui/widgets/draggable");var u=r.extend({defaultTemplate:c,events:{mousedown:"_focus",touchstart:"_focus",keydown:"_onKeyDown",keyup:"_onKeyboardEvent",keypress:"_onKeyboardEvent",resize:"_onDialogResize"},constructor:function(t){t||(t={}),t.traits||(t.traits=[]),this.resizable=t.resizable||!1,this.modal=t.modal||!1,this.additionalBodyCssClasses=t.additionalBodyCssClasses||"",this.resizable&&-1===n.indexOf(t.traits,l)&&t.traits.push(l),r.call(this,t)},initialize:function(t){this.dialogOptions=n.extend({},t),this.collapsed=!this.collapsed,this.resetSizeOnOpen=!!n.isUndefined(t.resetSizeOnOpen)||t.resetSizeOnOpen,n.isEmpty(t.buttons)||(this.buttons=new a({options:t.buttons,el:this.$(".jr-mDialog-footer")[0]||this.$(".footer")[0],contextName:"button",optionTemplate:t.dialogButtonTemplate||d})),r.prototype.initialize.apply(this,arguments),this.buttons&&this.listenTo(this.buttons,n.map(t.buttons,function(t){return"button:"+t.action}).join(" "),n.bind(function(t,e){this.trigger("button:"+e.get("action"),t,e)},this)),this.render()},getTemplateArguments:function(){var t=r.prototype.getTemplateArguments.apply(this,arguments);return n.extend(t,{additionalBodyCssClasses:this.additionalBodyCssClasses})},setElement:function(t){var e=r.prototype.setElement.apply(this,arguments);return this.buttons&&this.buttons.setElement(this.$(".jr-mDialog-footer")[0]||this.$(".footer")[0]),e},setTitle:function(t){this.$(".jr-mDialog-header > .jr-mDialog-header-title").text(t)},render:function(){return this.$el.hide(),this.modal&&(this.dimmer=new o({zIndex:900})),s("body").append(this.$el),this.$el.draggable({handle:".mover",addClasses:!1,containment:"document"}),this},open:function(t){if(this.isVisible())return this;this.resetSizeOnOpen&&(this.$el.css({height:"",width:""}),this.$el.find("textarea").css({height:"",width:""})),r.prototype.open.apply(this,arguments),this.modal&&this.dimmer.css({zIndex:++u.highestIndex}).show(),this._setMinSize();var e=this._position(t);return this.$el.css({top:e.top,left:e.left,position:"absolute"}),this._increaseZIndex(),this.buttons&&this.buttons.$(".over").removeClass("over"),this.$el.show(),this.$el.find("input").first().focus(),this._onDialogResize(),this.trigger("dialog:visible"),this},close:function(){if(this.isVisible())return this.$el.css({zIndex:--u.highestIndex}),this.modal&&this.dimmer.css({zIndex:--u.highestIndex}).hide(),this.$el.hide(),r.prototype.close.apply(this,arguments),this},addCssClasses:function(t){this.$el.addClass(t)},toggleCollapsedState:function(){return this},enableButton:function(t){this.buttons.enable(t)},disableButton:function(t){this.buttons.disable(t)},isVisible:function(){return this.$el.is(":visible")},_setMinSize:function(){this.dialogOptions.minWidth&&this.$el.css({minWidth:this.dialogOptions.minWidth}),this.dialogOptions.minHeight&&this.$el.css({minHeight:this.dialogOptions.minHeight}),this.dialogOptions.setMinSizeAsSize&&this.$el.css({width:this.dialogOptions.minWidth,height:this.dialogOptions.minHeight})},_position:function(t){var e,i,n=s("body"),o=this.$el.height(),r=this.$el.width();if(t&&void 0!==t.top&&void 0!==t.left){e=t.top,i=t.left;var a=n.height(),l=n.width(),c=a-t.top,d=l-t.left;c<o&&(e=t.top-o,e=e<0?a/2-o/2:e),d<r&&(i=t.left-r,i=i<0?l/2-r/2:i)}else e=s(window).height()/2-o/2,i=s(window).width()/2-r/2;return{top:Math.max(0,e),left:Math.max(0,i)}},_focus:function(){!this.modal&&this._increaseZIndex()},_increaseZIndex:function(){this.$el.css({zIndex:++u.highestIndex})},_onKeyDown:function(t){this.buttons._onKeyDown(t),t.stopPropagation()},_onKeyboardEvent:function(t){t.stopPropagation()},_onDialogResize:function(){},remove:function(){this.buttons&&this.buttons.remove(),this.dimmer&&this.dimmer.remove();try{this.$el.draggable("destroy")}catch(t){}r.prototype.remove.call(this)}},{highestIndex:5e3,resetHighestIndex:function(t){u.highestIndex=t||5e3}});i.exports=u}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/confirmDialogTemplate.htm",[],function(){return"<p class='confirmationText'>\n\n    <js-templateNonce></js-templateNonce>\n    {{ print(_.xssSoftEscape(text)) }}\n</p>"}),define("runtime_dependencies/js-sdk/src/common/component/dialog/ConfirmationDialog",["require","exports","module","underscore","./Dialog","text!./template/confirmDialogTemplate.htm","bundle!CommonBundle"],function(t,e,i){var n=t("underscore"),s=t("./Dialog"),o=t("text!./template/confirmDialogTemplate.htm"),r=t("bundle!CommonBundle");i.exports=s.extend({constructor:function(t){t||(t={}),this.confirmDialogTemplate=t.confirmDialogTemplate||n.template(o),s.prototype.constructor.call(this,{modal:!0,additionalCssClasses:t.additionalCssClasses||"confirmationDialog",title:t.title||r["dialog.confirm.title"],content:this.confirmDialogTemplate({text:t.text}),buttons:[{label:t.yesLabel||r["button.yes"],action:"yes",primary:!0},{label:t.noLabel||r["button.no"],action:"no",primary:!1}]})},initialize:function(){s.prototype.initialize.apply(this,arguments),this.on("button:yes",this.close),this.on("button:no",this.close)},setContent:function(t){s.prototype.setContent.call(this,this.confirmDialogTemplate({text:t}))}})}),define("runtime_dependencies/js-sdk/src/common/util/datetime/RelativeDate",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s=function(t,e,i){this.setKeyword(t),this.setSign(e),this.setNumber(i)};s.prototype.setKeyword=function(t){this.keyword=t.toUpperCase()},s.prototype.setSign=function(t){this.sign=t},s.prototype.setNumber=function(t){if(n.isNumber(t))this.number=t;else{var e=parseInt(t,10);isNaN(e)?this.number=0:this.number=e}},s.prototype.toString=function(){return n.isNumber(this.number)&&!isNaN(this.number)&&this.number>0&&("+"===this.sign||"-"===this.sign)&&this.keyword in s.PATTERNS?this.keyword+this.sign+this.number.toString():this.keyword in s.PATTERNS?this.keyword:""},s.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},s.parse=function(t){if(s.isValid(t))for(var e in s.PATTERNS){var i=s.PATTERNS[e].exec(t);if(null!==i&&n.isArray(i)&&5===i.length)return new s(i[1],i[3],i[4])}},s.isValid=function(t){if(t instanceof s)return""!==t.toString();if(n.isString(t))for(var e in s.PATTERNS)if(s.PATTERNS[e].test(t))return!0;return!1},i.exports=s}),define("runtime_dependencies/js-sdk/src/common/util/datetime/RelativeTimestamp",["require","exports","module","./RelativeDate","underscore"],function(t,e,i){var n=t("./RelativeDate"),s=t("underscore"),o=function(){n.apply(this,arguments)},r=function(){};r.prototype=n.prototype,o.prototype=new r,o.prototype.constructor=o,o.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},o.parse=function(t){if(o.isValid(t))for(var e in o.PATTERNS){var i=o.PATTERNS[e].exec(t);if(null!==i&&s.isArray(i)&&5===i.length)return new o(i[1],i[3],i[4])}},o.isValid=function(t){if(t instanceof o)return""!==t.toString();if(s.isString(t))for(var e in o.PATTERNS)if(o.PATTERNS[e].test(t))return!0;return!1},i.exports=o}),define("runtime_dependencies/js-sdk/src/common/util/parse/date",["require","exports","module","momentExtension","../../../jrs.configs","underscore","../datetime/RelativeDate","../datetime/RelativeTimestamp"],function(t,e,i){function n(t){var e=t;return e=t.indexOf("yy")>-1?e.replace("yy","YYYY"):e.replace("y","YY"),t.indexOf("mm")>-1?e=e.replace("mm","MM"):t.indexOf("MM")>-1?e=e.replace("MM","MMMM"):t.indexOf("m")>-1?e=e.replace("m","M"):t.indexOf("M")>-1&&(e=e.replace("M","MMM")),t.indexOf("dd")>-1?e=e.replace("dd","DD"):t.indexOf("DD")>-1?e=e.replace("DD","dddd"):t.indexOf("d")>-1?e=e.replace("d","D"):t.indexOf("D")>-1&&(e=e.replace("D","ddd")),e}function s(t){return t.toUpperCase()}function o(t){return t.toLowerCase().replace("hh","HH")}function r(t){return t.replace("aaa","a")}function a(t,e,i){var s=n(t),r=o(e);return s+(null!=i?i:" ")+r}function l(t,e,i){i=void 0!==i&&i,e=e||" ";var a=t.split(e),l=a[0],c=a.length>1?a[1]:null,d=i?s:n,u=i?r:o;(l.indexOf("h")>0||l.indexOf("H")>0||l.indexOf("s")>0)&&(c=l,l=null);var h="";return l&&(h+=d(l)),c&&(h&&(h+=e),h+=u(c)),h}function c(t){return F(t,n(U.dateFormat),!0)}function d(t){return F(t,a(U.dateFormat,U.timeFormat,U.timestampSeparator),!0)}function u(t){return z.isValid(t)}function h(t){return H.isValid(t)}function p(t){return V.isDate(t)&&F(t).isValid()||V.isString(t)&&""!==t&&c(t).isValid()}function m(t){return V.isDate(t)&&F(t).isValid()||V.isString(t)&&""!==t&&d(t).isValid()}function f(t){return F(t,B,!0).isValid()}function g(t,e){if(p(t)&&p(e)){return v(V.isDate(t)?F(t):c(t),V.isDate(e)?F(e):c(e))}}function b(t,e){if(m(t)&&m(e)){return v(V.isDate(t)?F(t):d(t),V.isDate(e)?F(e):d(e))}}function v(t,e){return t.isBefore(e)?-1:t.isAfter(e)?1:0}function _(t){var e=F(t);if(V.isDate(t)&&e.isValid())return e.format(B)}function y(t){var e=F(t,B,!0);if(e.isValid())return e.toDate()}function C(t){return D(t,a(U.dateFormat,U.timeFormat,U.timestampSeparator),B)}function S(t){return D(t,B,a(U.dateFormat,U.timeFormat,U.timestampSeparator))}function x(t){return D(t,n(U.dateFormat),q)}function w(t){return D(t,q,n(U.dateFormat))}function T(t){return D(t,o(U.timeFormat),K)}function I(t){return D(t,K,o(U.timeFormat))}function D(t,e,i){if(z.isValid(t))return t;var n=F(t,e,!0);return n.isValid()?n.format(i):t}function j(t){return F(t,q,!0)}function E(t){return t.format(q)}function k(t){return t.format(n(U.dateFormat))}function P(t,e){var i;return i=e?F.tz(t,e).tz($):F.utc(t).tz($),i.format(n(U.dateFormat))}function L(t,e){var i=F.duration(t),n=F.utc();return e&&n.tz(e),n.hours(i.hours()),n.minutes(i.minutes()),n.seconds(i.seconds()),n.tz($).format(o(U.timeFormat))}function A(t,e){var i;return i=e?F.tz(t,e).tz($):F.utc(t).tz($),i.format(a(U.dateFormat,U.timeFormat,U.timestampSeparator))}function M(t,e){t=x(t);var i=F.tz(t,$);return i=e?i.tz(e):i.utc(),i.format(q)}function R(t,e){var i=F.duration(t),n=F.utc(),s=n.tz($);s.hours(i.hours()),s.minutes(i.minutes()),s.seconds(i.seconds());var o;return o=e?s.tz(e):s.utc(),o.format(K)}function N(t,e){t=C(t);var i=F.tz(t,$);return i=e?i.tz(e):i.utc(),i.format(B)}var F=t("momentExtension"),O=t("../../../jrs.configs"),V=t("underscore"),z=t("../datetime/RelativeDate"),H=t("../datetime/RelativeTimestamp"),U=O.localeSettings,$=O.userTimezone,B="YYYY-MM-DD[T]HH:mm:ss",q="YYYY-MM-DD",K="HH:mm:ss";i.exports={isRelativeDate:u,isRelativeTimestamp:h,isDate:p,isTimestamp:m,isIso8601Timestamp:f,compareDates:g,compareTimestamps:b,iso8601DateToMoment:j,momentToIso8601Date:E,momentToLocalizedDate:k,dateObjectToIso8601Timestamp:_,iso8601TimestampToDateObject:y,localizedTimestampToIsoTimestamp:C,isoTimestampToLocalizedTimestamp:S,localizedDateToIsoDate:x,isoDateToLocalizedDate:w,localizedTimeToIsoTime:T,isoTimeToLocalizedTime:I,toMomentDateOrTimeOrTimestampPattern:l,isoDateToLocalizedDateByTimezone:P,localizedDateToIsoDateByTimezone:M,isoTimeToLocalizedTimeByTimezone:L,localizedTimeToIsoTimeByTimezone:R,isoTimestampToLocalizedTimestampByTimezone:A,localizedTimestampToIsoTimestampByTimezone:N}}),define("scheduler/view/jobView",["require","exports","module","underscore","backbone","text!../template/list/oneJob.htm","text!../template/list/oneMasterJob.htm","bundle!all","runtime_dependencies/js-sdk/src/common/util/xssUtil","runtime_dependencies/js-sdk/src/common/component/dialog/ConfirmationDialog","../enum/jobStateEnum","runtime_dependencies/js-sdk/src/common/util/parse/date"],function(t,e,i){var n=t("underscore"),s=t("backbone"),o=t("text!../template/list/oneJob.htm"),r=t("text!../template/list/oneMasterJob.htm"),a=t("bundle!all"),l=t("runtime_dependencies/js-sdk/src/common/util/xssUtil"),c=t("runtime_dependencies/js-sdk/src/common/component/dialog/ConfirmationDialog"),d=t("../enum/jobStateEnum"),u=t("runtime_dependencies/js-sdk/src/common/util/parse/date"),h=function(t){
return t.state.previousFireTime?u.isoTimestampToLocalizedTimestampByTimezone(t.state.previousFireTime):""},p=function(t){var e=t.state.value;return e!==d.NORMAL&&e!==d.EXECUTING?a["report.scheduling.list.label.disabled"]:t.state.nextFireTime?u.isoTimestampToLocalizedTimestampByTimezone(t.state.nextFireTime):""},m=function(t){var e=t.state.value;return e===d.NORMAL||e===d.EXECUTING};i.exports=s.View.extend({tagName:"li",className:"jobs first leaf",events:{"click [name=editJob]":"edit","click [name=deleteJob]":"remove","change [name=enableJob]":"enable"},initialize:function(t){this.options=n.extend({},t);var e=this.options.masterViewMode?r:o;this.template=n.template(e),this.model.on("change",this.render,this)},render:function(){var t=this.model.toJSON();return this.$el.html(this.template({model:t,i18n:a,lastRanDate:h(t),nextRunDate:p(t),isJobEnabled:m(t)})),this},edit:function(){this.trigger("editJobPressed",this.model.get("id"))},remove:function(){var t=this,e=a["report.scheduling.editing.job.confirm.delete"].replace("{name}",l.hardEscape(this.model.get("label"))).replace("{newline}","<br><br>"),i=new c({title:a["report.scheduling.editing.job.confirm.title"],text:e,additionalCssClasses:"schedulerJobRemoveDialog"});this.listenTo(i,"button:yes",function(){t.model.destroy()}),i.open()},enable:function(t){this.model.state(t.target.checked)}})}),define("scheduler/collection/jobsCollection",["require","exports","module","jquery","underscore","backbone","runtime_dependencies/js-sdk/src/jrs.configs","../../scheduler/model/jobModel"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("backbone"),r=t("runtime_dependencies/js-sdk/src/jrs.configs"),a=t("../../scheduler/model/jobModel");i.exports=o.Collection.extend({model:a,initialize:function(t,e){this.options=s.extend({},e),this.initialAmountOfJobsToLoad=100,this.amountOfJobsToLoad=100,this.amountOfLoadedJobs=0},setSearchingTerm:function(t){this.searchingTerm=t},getSearchingTerm:function(){return this.searchingTerm},getReportUri:function(){return this.options.parentReportURI||this.options.reportUri},fetch:function(){if(this.urlsOfReportsToFetchJobs=[],this.options.masterViewMode)return void this.getJobsWithPagination();if(this.getReportUri()){if(this.urlsOfReportsToFetchJobs.push(this.getReportUri()),!r.isProVersion)return void this.getJobsOfAllReportsWeHave();var t=this;this.getReportOptions().always(function(){t.getJobsOfAllReportsWeHave()})}},getReportOptions:function(){var t=this,e=this.getReportUri();return this.request({url:r.contextPath+"/rest_v2/reports"+e+"/options"}).done(function(e){if(e=e.reportOptionsSummary)for(var i=0,n=e.length;i<n;i++)e[i].uri&&t.urlsOfReportsToFetchJobs.push(e[i].uri)}).fail(function(){})},getJobsOfAllReportsWeHave:function(){var t=this,e=[],i=0;s.each(this.urlsOfReportsToFetchJobs,function(n){t.getJobOfReport(n).done(function(i){e=e.concat(t.parse(i))}).fail(function(e){t.trigger("error",e)}).always(function(){++i===t.urlsOfReportsToFetchJobs.length&&t.reset(e)})})},getJobsFromBackend:function(t,e){var i=["sortType=SORTBY_REPORTURI"];if(t&&i.push("startIndex="+t),e&&i.push("numberOfRows="+e),this.searchingTerm){var s=encodeURI(this.searchingTerm);i.push("label="+s)}var o=this,a=n.Deferred(),l=r.contextPath+"/rest_v2/jobs?"+i.join("&");return this.request({url:l}).done(function(t){var e=o.parse(t);o.amountOfLoadedJobs+=e.length,a.resolve(e)}).fail(function(t){o.trigger("error",t),a.reject(t)}),a},getJobOfReport:function(t){var e=r.contextPath+"/rest_v2/jobs?reportUnitURI="+encodeURI(t);return this.request({url:e})},getJobsWithPagination:function(){this.amountOfLoadedJobs=0;var t=this;this.getJobsFromBackend(this.amountOfLoadedJobs,this.initialAmountOfJobsToLoad).done(function(e){t.reset(e)})},loadMoreJobs:function(){var t=this;this.getJobsFromBackend(this.amountOfLoadedJobs,this.amountOfJobsToLoad).done(function(e){t.add(e)})},parse:function(t){return t?t.jobsummary:[]},request:function(t){return t=t||{},t.cache=!1,o.sync.call(this,"read",new o.Model,t)},permission:function(t,e){return o.sync.call(this,"read",new o.Model,{url:r.contextPath+"/rest_v2/resources/"+t.replace(/\/[^\/]+$/,""),cache:!1,headers:{Accept:"application/repository.folder+json"},type:"GET",success:function(t,i){"function"==typeof e&&e(void 0,t.permissionMask)},error:function(t){"function"==typeof e&&e(t)}})}})}),define("text!scheduler/template/jobsViewTemplate.htm",[],function(){return'<div class="page column decorated primary listOfJobs singleReportView">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="content">\n\n\t\t<div class="header ">\n\t\t\t<div class="title">\n\t\t\t\t{{- i18n["report.scheduling.list.header"] }}: <span class="path">{{- reportUri }}</span>\n\t\t\t</div>\n\n\t\t\t<div class="toolbar">\n\t\t\t\t<ul class="list buttonSet">\n\t\t\t\t\t<li class="node open">\n\t\t\t\t\t\t<ul class="list buttonSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<button name="backButton" class="button capsule text up">\n\t\t\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.list.button.back"] }}</span>\n\t\t\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<button name="scheduleJob" class="button capsule text first up">\n\t\t\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.list.button.new"] }}</span>\n\t\t\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<button name="runJob" class="button capsule text last up">\n\t\t\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.list.button.now"] }}</span>\n\t\t\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<button name="refreshList" class="button capsule text up">\n\t\t\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.list.button.refresh"] }}</span>\n\t\t\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="subheader">\n\t\t\t<ul id="resultsListHeader" class="list collapsible tabular jobs header">\n\t\t\t\t<li id="" class="jobs first leaf">\n\t\t\t\t\t<div class="wrap">\n\t\t\t\t\t\t<div class="column one">\n\t\t\t\t\t\t\t<p class="jobID">{{- i18n["report.scheduling.list.header.id"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column two">\n\t\t\t\t\t\t\t<p class="jobName">{{- i18n["report.scheduling.list.header.label"] }}</p>\n\t\t\t\t\t\t\t<p class="jobOwner">{{- i18n["report.scheduling.list.header.owner"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column three">\n\t\t\t\t\t\t\t<p class="jobState">{{- i18n["report.scheduling.list.header.state"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column four">\n\t\t\t\t\t\t\t<p class="lastRanDate">{{- i18n["report.scheduling.list.header.prevFireTime"] }}</p>\n\t\t\t\t\t\t\t<p class="nextRunDate">{{- i18n["report.scheduling.list.header.nextFireTime"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column five">\n\t\t\t\t\t\t\t<p class="jobEnabled">{{- i18n["report.scheduling.list.label.enabled"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="body">\n\t\t\t<div id="jobsSummaryContainer">\n\t\t\t\t<div name="jobsContainer" class="body"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'}),define("text!scheduler/template/masterViewTemplate.htm",[],function(){return'<div class="page column decorated primary listOfJobs masterView">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="content">\n\n\t\t<div class="header ">\n\t\t\t<div class="title">\n\t\t\t\t{{- i18n["menu.jobs"] }}\n\t\t\t</div>\n\t\t\t<span data-component-type="search" data-tab-index="3" class="control searchLockup " id="secondarySearchBox">\n\t\t\t\t<label class="offLeft" for="secondarySearchInput">{{- i18n["SEARCH_SEARCH"] }}</label>\n\t\t\t\t<div class="wrap">\n\t\t\t\t\t<input type="text" tabindex="" name="jobSearchInput" id="secondarySearchInput" class="" value="{{- searchTerm }}">\n\t\t\t\t</div>\n\t\t\t\t<b class="right">\n\t\t\t\t\t<a name="jobSearchClear" class="button searchClear"></a>\n\t\t\t\t</b>\n\t\t\t\t<a class="button search up" name="jobSearchIcon"></a>\n\t\t\t</span>\n\t\t\t\x3c!--\n\t\t\t<ul js-stdnav="false" js-navtype="none" tabindex="-1" class="list tabSet text control horizontal" id="sortMode" style="-moz-user-select: none;">\n\t\t\t\t<li class="label first" id="sortMode_item1" js-navtype="dynamiclist" tabindex="-1" disabled="disabled">\n\t\t\t\t\t<p class="wrap">{{- i18n["report.scheduling.sortby"] }}:</p>\n\t\t\t\t</li>\n\t\t\t\t<li class="tab selected cursor" id="sortMode_item2" js-navtype="dynamiclist" tabindex="-1">\n\t\t\t\t\t<p class="wrap button">{{- i18n["report.scheduling.name"] }}</p>\n\t\t\t\t</li>\n\t\t\t\t<li class="tab last" id="sortMode_item3" js-navtype="dynamiclist" tabindex="-1">\n\t\t\t\t\t<p class="wrap button ">{{- i18n["report.scheduling.modified.date"] }}</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t--\x3e\n\t\t</div>\n\n\t\t<div class="subheader">\n\t\t\t<ul id="resultsListHeader" class="list collapsible tabular jobs header">\n\t\t\t\t<li id="" class="jobs first leaf">\n\t\t\t\t\t<div class="wrap">\n\t\t\t\t\t\t<div class="column one">\n\t\t\t\t\t\t\t<p class="jobResource">{{- i18n["report.scheduling.list.resource"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column two">\n\t\t\t\t\t\t\t<p class="jobName">{{- i18n["report.scheduling.list.header.label"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column three">\n\t\t\t\t\t\t\t<p class="jobID">{{- i18n["report.scheduling.list.header.id"] }}</p>\n\t\t\t\t\t\t\t<p class="jobOwner">{{- i18n["report.scheduling.list.header.owner"] }}</p>\n\t\t\t\t\t\t\t<p class="jobState">{{- i18n["report.scheduling.list.header.state"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column four">\n\t\t\t\t\t\t\t<p class="lastRanDate">{{- i18n["report.scheduling.list.header.prevFireTime"] }}</p>\n\n\t\t\t\t\t\t\t<p class="nextRunDate">{{- i18n["report.scheduling.list.header.nextFireTime"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="column five">\n\t\t\t\t\t\t\t<p class="jobEnabled">{{- i18n["report.scheduling.list.label.enabled"] }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="body" id="jobsSummaryContainer">\n\t\t\t<div name="jobsContainer" class="body"></div>\n\t\t</div>\n\t</div>\n</div>\n'}),define("text!scheduler/template/list/listOfJobsTemplate.htm",[],function(){return'<ul name="listOfJobs" id="listOfJobs" class="list collapsible tabular jobs sixColumn">\n\n    <js-templateNonce></js-templateNonce>\n</ul>'}),define("text!scheduler/template/list/nothingToDisplayTemplate.htm",[],function(){return'<div class="panel info nothingToDisplay centered_vert centered_horz" id="nothingToDisplay">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="content ">\n\t\t<div class="header ">\n\t\t\t<div class="title"></div>\n\t\t</div>\n\t\t<div class="body  ">\n\t\t\t<p class="message">{{- message }}</p>\n\t\t</div>\n\t</div>\n</div>'}),define("scheduler/view/jobsView",["require","exports","module","jquery","underscore","bundle!all","backbone","../../util/utils.common","runtime_dependencies/js-sdk/src/common/util/domUtil","../../util/touch.controller","../../util/tools.infiniteScroll","./jobView","../collection/jobsCollection","text!../template/jobsViewTemplate.htm","text!../template/masterViewTemplate.htm","text!../template/list/listOfJobsTemplate.htm","text!../template/list/nothingToDisplayTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("backbone"),a=t("../../util/utils.common"),l=a.isSupportsTouch,c=a.isIPad,d=t("runtime_dependencies/js-sdk/src/common/util/domUtil"),u=t("../../util/touch.controller"),h=t("../../util/tools.infiniteScroll"),p=t("./jobView"),m=t("../collection/jobsCollection"),f=t("text!../template/jobsViewTemplate.htm"),g=t("text!../template/masterViewTemplate.htm"),b=t("text!../template/list/listOfJobsTemplate.htm"),v=t("text!../template/list/nothingToDisplayTemplate.htm");i.exports=r.View.extend({events:{"click [name=backButton]":"backButtonClick","click [name=scheduleJob]":"createButtonClick","click [name=runJob]":"runButtonClick","click [name=refreshList]":"refreshButtonClick","keydown [name=jobSearchInput]":"jobSearchInputKeyDown","click [name=jobSearchIcon]":"jobSearchIconClick","click [name=jobSearchClear]":"clearJobSearch"},initialize:function(t){this.options=s.extend({},t),this.options=s.omit(this.options,"model"),this.jobsViewCollection=new m(null,this.options),this.listenTo(this.jobsViewCollection,"add",this.createAndAddJobView),this.listenTo(this.jobsViewCollection,"reset destroy",this.renderCollection)},refresh:function(){this.jobsViewCollection.fetch()},searchJobs:function(){var t=this.$el.find("[name=jobSearchInput]").val();t&&(this.$el.find("[name=jobSearchClear]").addClass("up"),this.jobsViewCollection.setSearchingTerm(t),this.jobsViewCollection.fetch())},clearJobSearch:function(){this.$el.find("[name=jobSearchClear]").removeClass("up"),this.$el.find("[name=jobSearchInput]").val(""),this.jobsViewCollection.setSearchingTerm(""),this.jobsViewCollection.fetch()},render:function(){var t=this.options.masterViewMode?g:f,e={i18n:o,reportUri:this.options.reportUri,searchTerm:this.jobsViewCollection.getSearchingTerm()};this.setElement(n(s.template(t,e))),this.renderCollection()},renderCollection:function(){var t=this.$el.find("[name=jobsContainer]").empty();this.jobsViewCollection.length?(t.append(n(s.template(b,{}))),this.jobsViewCollection.each(s.bind(this.createAndAddJobView,this)),this.initInfiniteScroll(),this.adjustTableHeaderWidth()):t.append(n(s.template(v,{message:this.options.masterViewMode?o["report.scheduling.list.no.jobs"]:o["report.scheduling.list.no.jobs.for.report"]})))},initInfiniteScroll:function(){var t=this.$el.find("#listOfJobs")[0],e=this.$el.find("#jobsSummaryContainer")[0];this.options.masterViewMode&&t&&(l()&&(this._touchController||(this._touchController=new u(t,t.up(),{forceLayout:!0})),this.listenTo(t,"layout_update orientationchange",function(){n(t).css("min-width",n(e).width()+"px"),t.width(n(e).width())})),c()?this._infiniteScroll=new h({control:e,content:t,scroll:this._touchController||void 0}):this._infiniteScroll=new h({control:e,content:t}),this._infiniteScroll.onLoad=s.bind(function(){this._infiniteScroll.wait(),this.jobsViewCollection.loadMoreJobs(),this._infiniteScroll.stopWaiting()},this))},adjustTableHeaderWidth:function(){var t=this.$el.find(".content > .subheader .wrap"),e=this.$el.find(".content > .body"),i=d.hasScrollBar(e[0],"vertical");t.css("margin-right",(i?15:0)+"px")},jobSearchInputKeyDown:function(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.clearJobSearch()),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.searchJobs())},jobSearchIconClick:function(){this.searchJobs()},createAndAddJobView:function(t){var e=new p({model:t,masterViewMode:this.options.masterViewMode});this.listenTo(e,"editJobPressed",this.editJobPressed);var i=e.render().$el;this.$el.find("[name=listOfJobs]").append(i)},editJobPressed:function(t){this.trigger("editJobPressed",t)},backButtonClick:function(){this.trigger("backButtonPressed")},createButtonClick:function(){this.trigger("createNewJobRequest")},runButtonClick:function(){this.trigger("runNowRequest")},refreshButtonClick:function(){this.refresh()}})}),define("text!runtime_dependencies/js-sdk/src/common/component/dialog/template/alertDialogTemplate.htm",[],function(){return"<p class='alertText'>\n\n    <js-templateNonce></js-templateNonce>\n    {{- message }}\n</p>"}),define("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog",["require","exports","module","underscore","./Dialog","../../util/xssUtil","text!./template/alertDialogTemplate.htm","bundle!CommonBundle"],function(t,e,i){var n=t("underscore"),s=t("./Dialog"),o=t("../../util/xssUtil"),r=t("text!./template/alertDialogTemplate.htm"),a=t("bundle!CommonBundle");i.exports=s.extend({contentTemplate:n.template(r),constructor:function(t){t||(t={}),s.prototype.constructor.call(this,{modal:!1!==t.modal,message:t.message,additionalCssClasses:"alertDialog "+(t.additionalCssClasses||""),title:t.title||a["dialog.exception.title"],buttons:[{label:a["button.close"],action:"close",primary:!0}]},t)},initialize:function(t){s.prototype.initialize.apply(this,arguments),this.on("button:close",this.close),this.setMessage(t.message)},setMessage:function(t){t=o.softHtmlEscape(t,{whiteList:["br"]}),this.content=this.contentTemplate({message:t});var e=this.renderContent();this.$contentContainer.html(e)}})}),define("runtime_dependencies/js-sdk/src/common/enum/httpStatusCodes",["require","exports","module"],function(t,e,i){i.exports={100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"}}),define("runtime_dependencies/js-sdk/src/common/enum/errorCodes",["require","exports","module"],function(t,e,i){i.exports={UNEXPECTED_ERROR:"unexpected.error",INVALID_RESOURCE_TYPE:"invalid.resource.type",ACCESS_DENIED:"access.denied"}}),define("runtime_dependencies/js-sdk/src/common/model/BaseModel",["require","exports","module","underscore","backbone","../enum/httpStatusCodes","../enum/errorCodes"],function(t,e,i){var n=t("underscore"),s=t("backbone"),o=t("../enum/httpStatusCodes"),r=t("../enum/errorCodes"),a=s.Model.extend({initialize:function(){this.on("error",a.unifyServerErrors)},serialize:function(){return n.clone(this.attributes)}},{unifyServerErrors:function(t,e){var i=o[e.status],n=a.createServerError(e);t.trigger("error:"+i,t,n,e),t.trigger("error:all",t,n,e)},createServerError:function(t){var e;try{e=JSON.parse(t.responseText)}catch(t){e={message:"Can't parse server response",errorCode:r.UNEXPECTED_ERROR,parameters:[]}}return e}});i.exports=a}),function(t){"object"==typeof exports?module.exports=t(require("backbone"),require("underscore")):"function"==typeof define&&define.amd&&define("backbone-validation",["backbone","underscore"],t)}(function(t,e){return t.Validation=function(e){"use strict";var i={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n={formatLabel:function(t,e){return c[i.labelFormatter](t,e)},format:function(){var t=Array.prototype.slice.call(arguments);return t.shift().replace(/\{(\d+)\}/g,function(e,i){return void 0!==t[i]?t[i]:e})}},s=function(i,n,o){return n=n||{},o=o||"",e.each(i,function(e,r){i.hasOwnProperty(r)&&(e&&"object"==typeof e&&!(e instanceof Array||e instanceof Date||e instanceof RegExp||e instanceof t.Model||e instanceof t.Collection)?s(e,n,o+r+"."):n[o+r]=e)}),n},o=function(){var t=function(t){return e.reduce(e.keys(e.result(t,"validation")||{}),function(t,e){return t[e]=void 0,t},{})},o=function(t,i){var n=t.validation?e.result(t,"validation")[i]||{}:{};return(e.isFunction(n)||e.isString(n))&&(n={fn:n}),e.isArray(n)||(n=[n]),e.reduce(n,function(t,i){return e.each(e.without(e.keys(i),"msg"),function(e){t.push({fn:d[e],val:i[e],msg:i.msg})}),t},[])},a=function(t,i,s,r){return e.reduce(o(t,i),function(o,a){var l=e.extend({},n,d),c=a.fn.call(l,s,i,a.val,t,r);return!1!==c&&!1!==o&&(c&&!o?e.result(a,"msg")||c:o)},"")},l=function(t,i){var n,o={},r=!0,l=e.clone(i),c=s(i);return e.each(c,function(e,i){(n=a(t,i,e,l))&&(o[i]=n,r=!1)}),{invalidAttrs:o,isValid:r}},c=function(i,n){return{preValidate:function(t,i){var n,s=this,o={};return e.isObject(t)?(e.each(t,function(t,e){(n=s.preValidate(e,t))&&(o[e]=n)}),e.isEmpty(o)?void 0:o):a(this,t,i,e.extend({},this.attributes))},isValid:function(t){var i=s(this.attributes);return e.isString(t)?!a(this,t,i[t],e.extend({},this.attributes)):e.isArray(t)?e.reduce(t,function(t,n){return t&&!a(this,n,i[n],e.extend({},this.attributes))},!0,this):(!0===t&&this.validate(),!this.validation||this._isValid)},validate:function(o,r){var a=this,c=!o,d=e.extend({},n,r),u=t(a),h=e.extend({},u,a.attributes,o),p=s(o||h),m=l(a,h);if(a._isValid=m.isValid,e.each(u,function(t,e){m.invalidAttrs.hasOwnProperty(e)||d.valid(i,e,d.selector)}),e.each(u,function(t,e){var n=m.invalidAttrs.hasOwnProperty(e),s=p.hasOwnProperty(e);n&&(s||c)&&d.invalid(i,e,m.invalidAttrs[e],d.selector)}),e.defer(function(){a.trigger("validated",a._isValid,a,m.invalidAttrs),a.trigger("validated:"+(a._isValid?"valid":"invalid"),a,m.invalidAttrs)}),!d.forceUpdate&&e.intersection(e.keys(m.invalidAttrs),e.keys(p)).length>0)return m.invalidAttrs}}},u=function(t,i,n){e.extend(i,c(t,n))},h=function(t){delete t.validate,delete t.preValidate,delete t.isValid},p=function(t){u(this.view,t,this.options)},m=function(t){h(t)};return{version:"0.9.1",configure:function(t){e.extend(i,t)},bind:function(t,n){n=e.extend({},i,r,n);var s=n.model||t.model,o=n.collection||t.collection;if(void 0===s&&void 0===o)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";s?u(t,s,n):o&&(o.each(function(e){u(t,e,n)}),o.bind("add",p,{view:t,options:n}),o.bind("remove",m))},unbind:function(t,i){i=e.extend({},i);var n=i.model||t.model,s=i.collection||t.collection;n?h(n):s&&(s.each(function(t){h(t)}),s.unbind("add",p),s.unbind("remove",m))},mixin:c(null,i)}}(),r=o.callbacks={valid:function(t,e,i){t.$("["+i+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,i,n){t.$("["+n+'~="'+e+'"]').addClass("invalid").attr("data-error",i)}},a=o.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},l=o.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},c=o.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||c.sentenceCase(t,e)}},d=o.validators=function(){var t=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){var e=/^\s+/,i=/\s+$/;return null===t?"":t.toString().replace(e,"").replace(i,"")},i=function(t){return e.isNumber(t)||e.isString(t)&&t.match(a.number)},n=function(i){return!(e.isNull(i)||e.isUndefined(i)||e.isString(i)&&""===t(i)||e.isArray(i)&&e.isEmpty(i))};return{fn:function(t,i,n,s,o){return e.isString(n)&&(n=s[n]),n.call(s,t,i,o)},required:function(t,i,s,o,r){var a=e.isFunction(s)?s.call(o,t,i,r):s;return!(!a&&!n(t))&&(a&&!n(t)?this.format(l.required,this.formatLabel(i,o)):void 0)},acceptance:function(t,i,n,s){if("true"!==t&&(!e.isBoolean(t)||!1===t))return this.format(l.acceptance,this.formatLabel(i,s))},min:function(t,e,n,s){if(!i(t)||t<n)return this.format(l.min,this.formatLabel(e,s),n)},max:function(t,e,n,s){if(!i(t)||t>n)return this.format(l.max,this.formatLabel(e,s),n)},range:function(t,e,n,s){if(!i(t)||t<n[0]||t>n[1])return this.format(l.range,this.formatLabel(e,s),n[0],n[1])},length:function(t,i,n,s){if(!e.isString(t)||t.length!==n)return this.format(l.length,this.formatLabel(i,s),n)},minLength:function(t,i,n,s){if(!e.isString(t)||t.length<n)return this.format(l.minLength,this.formatLabel(i,s),n)},maxLength:function(t,i,n,s){if(!e.isString(t)||t.length>n)return this.format(l.maxLength,this.formatLabel(i,s),n)},rangeLength:function(t,i,n,s){if(!e.isString(t)||t.length<n[0]||t.length>n[1])return this.format(l.rangeLength,this.formatLabel(i,s),n[0],n[1])},oneOf:function(t,i,n,s){if(!e.include(n,t))return this.format(l.oneOf,this.formatLabel(i,s),n.join(", "))},equalTo:function(t,e,i,n,s){if(t!==s[i])return this.format(l.equalTo,this.formatLabel(e,n),this.formatLabel(i,n))},pattern:function(t,e,i,s){if(!n(t)||!t.toString().match(a[i]||i))return this.format(l[i]||l.inlinePattern,this.formatLabel(e,s),i)}}}();return e.each(d,function(t,i){d[i]=e.bind(d[i],e.extend({},n,d))}),o}(e),t.Validation}),define("runtime_dependencies/js-sdk/src/common/util/parse/NumberUtils",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s=function(t){function e(t){return"."===t?t="\\.":" "===t&&(t="\\s"),t}t=t||{},this.DECIMAL_SEPARATOR=t.decimalSeparator||".",this.GROUPING_SEPARATOR=t.groupingSeparator||",",this.decimalSeparator=e(this.DECIMAL_SEPARATOR),this.groupingSeparator=e(this.GROUPING_SEPARATOR),this.DECIMAL_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*("+this.decimalSeparator+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+this.decimalSeparator+"[0-9]+)?|0("+this.decimalSeparator+"[0-9]+)?)$"),this.INTEGER_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$")};s.prototype.number_format=function(t,e,i,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+t)?+t:0,o=isFinite(+e)?Math.abs(e):0,r=void 0===n?",":n,a=void 0===i?".":i,l=(o?function(t,e){var i=Math.pow(10,e);return""+(Math.round(t*i)/i).toFixed(e)}(s,o):""+Math.round(s)).split(".");return l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(a)},s.prototype.isInt=function(t){return this.isNumberInt(t)||this.isStringInt(t)},s.prototype.isNumberInt=function(t){return n.isNumber(t)&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY&&(t===+t&&t===(0|t)||t%1==0)},s.prototype.isStringInt=function(t){return n.isString(t)&&this.INTEGER_NUMBER_PATTERN.test(t)},s.prototype.isInt32=function(t){return this.isInt(t)&&this.parseNumber(t)>=-2147483648&&this.parseNumber(t)<=2147483647},s.prototype.isDecimal=function(t){return n.isNumber(t)&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY||n.isString(t)&&this.DECIMAL_NUMBER_PATTERN.test(t)},s.prototype.parseNumber=function(t){if(n.isNumber(t))return t;if(n.isString(t)&&this.DECIMAL_NUMBER_PATTERN.test(t)){t=t.replace(new RegExp(this.groupingSeparator,"g"),"").replace(new RegExp(this.decimalSeparator,"g"),".");var e=1*t;return e>9007199254740992||e<-9007199254740992?(window.console&&window.console.warn(t+" is out of the ["+-9007199254740992+", 9007199254740992] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):e}},s.prototype.formatNumber=function(t,e){e=e||{};var i=t.toString().split(".")[1],s=i?i.length:0;n.isUndefined(e.decimalPlacesAmount)||(s=e.decimalPlacesAmount);try{return this.number_format(t,s,e.decimalSeparator||this.DECIMAL_SEPARATOR,e.groupingSeparator||this.GROUPING_SEPARATOR)}catch(e){return t.toString()}},i.exports=s}),define("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension",["require","exports","module","backbone-validation","underscore","../util/parse/NumberUtils"],function(t,e,i){var n=t("backbone-validation"),s=t("underscore"),o=t("../util/parse/NumberUtils"),r=new o,a=n.mixin.validate;n.mixin.validate=function(t,e){e||(e={});var i=this;return a.call(this,t,s.extend({valid:function(t,e){i.trigger("validate:"+e,i,e)},invalid:function(t,e,n){i.trigger("validate:"+e,i,e,n)}},e))},s.extend(n.validators,{doesNotContainSymbols:function(t,e,i){if(new RegExp("["+i+"]","g").test(t))return"Attribute '"+e+"' contains forbidden symbols"},integerNumber:function(t){if(!r.isNumberInt(t))return"Value is not a valid integer number"},type:function(t,e,i){function n(t){var e;return"string"==t?e=s.isString:"number"===t?e=s.isNumber:"object"===t?e=s.isObject:"boolean"===t?e=s.isBoolean:"null"===t?e=s.isNull:"undefined"===t&&(e=s.isUndefined),e}if(s.isArray(i)||(i=[i]),!i.some(function(e){return n(e)(t)}))return"'{attr}' is not {type}".replace("{attr}",e).replace("'{type}'",i.join(" "))},url:function(t){if(!/(http|https):\/\/.*\..*./.test(t))return"Value is not a valid url"},hexColor:function(t){if(!/^#[0-9a-f]{3,6}$/i.test(t))return"Value is not a valid hex color"},xRegExpPattern:function(t,e,i,n){if(!i.test(t))return"Value does not match pattern"},startsWithLetter:function(t,e,i,n){if(!t.substr(0,1).match(/[A-Za-z]/))return"Value should start with letter"},containsOnlyWordCharacters:function(t,e,i,n){if(t.search(/\W/)>=0)return"Value should contain only word characters (letters, digits and underscore)"},arrayMinLength:function(t,e,i,n){if(s.isArray(t)&&t.length<i)return"Array length is less than "+i}}),i.exports=n}),
define("runtime_dependencies/js-sdk/src/common/util/i18nMessage",["require","exports","module","underscore","./classUtil"],function(t,e,i){var n=t("underscore"),s=t("./classUtil"),o={INDEX:"index",KEY_VALUE:"keyValue"},r=s.extend({constructor:function(t){this.code=t,this.args=Array.prototype.slice.call(arguments,1)},bundle:{}});r.prototype.toString=function(){var t=this.bundle[this.code];if(!t)return this.code;var e=this._getArgsType(this.args);return e===o.INDEX?t=this._interpolateIndexArgs(this.args,t):e===o.KEY_VALUE&&(t=this._interpolateObjectArgs(this.args,t)),t},r.prototype._getArgsType=function(t){if(t&&t.length){var e=n.first(t);return n.isObject(e)?o.KEY_VALUE:o.INDEX}},r.prototype._interpolateObjectArgs=function(t,e){var i=t[0].separator||", ",s=t.reduce(function(t,e){var n=e.key,s=e.value;return t[n]?t[n]=t[n]+i:t[n]="",t[n]=t[n]+s,t},{});return e=n.keys(s).reduce(function(t,e){var i=s[e],n="\\{"+e+"\\}";return t.replace(new RegExp(n,"g"),i)},e)},r.prototype._interpolateIndexArgs=function(t,e){for(var i=0,n=t.length;i<n;i++){var s=t[i],o="\\{"+i+"\\}";e=e.replace(new RegExp(o,"g"),s)}return e},r.create=function(t){return function(e){var i=Object.create(r.prototype);return i=n.extend(i,{bundle:t,code:e,args:Array.prototype.slice.call(arguments,1)}),i.toString(i)}},i.exports=r}),define("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel",["require","exports","module","jquery","underscore","runtime_dependencies/js-sdk/src/common/model/BaseModel","runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension","request","bundle!RepositoryResourceBundle","runtime_dependencies/js-sdk/src/common/util/i18nMessage"],function(t,e,i){function n(t,e,i,n,s){return l({type:e,dataType:"json",url:t.contextPath+"/rest_v2/resources"+i+"?overwrite="+n+"&createFolders="+s,headers:{Accept:"application/json","Content-Location":t.get("uri")}}).done(function(e){t.set("uri",e.uri)})}var s=t("jquery"),o=t("underscore"),r=t("runtime_dependencies/js-sdk/src/common/model/BaseModel"),a=t("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"),l=t("request"),c=t("bundle!RepositoryResourceBundle"),d=t("runtime_dependencies/js-sdk/src/common/util/i18nMessage"),u=d.extend({bundle:c}),h={LABEL_MAX_LENGTH:100,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:250,NAME_NOT_SUPPORTED_SYMBOLS:"~!#\\$%^|\\s`@&*()\\-+={}\\[\\]:;\"'\\<\\>,?/\\|\\\\"},p=/application\/repository\.([^\+]+)\+json/,m=r.extend({idAttribute:"uri",type:void 0,urlRoot:function(){return(this.contextPath||"")+"/rest_v2/resources"},defaults:{name:void 0,parentFolderUri:void 0,uri:void 0,label:void 0,description:void 0,permissionMask:void 0,creationDate:void 0,updateDate:void 0,version:void 0},validation:{name:function(t,e,i){return t&&t.length>h.NAME_MAX_LENGTH?new u("error.field.max.length","name",h.NAME_MAX_LENGTH):t&&new RegExp("["+h.NAME_NOT_SUPPORTED_SYMBOLS+"]","g").test(t)?new u("error.field.bad.symbols","name",h.NAME_NOT_SUPPORTED_SYMBOLS):void 0},label:function(t,e,i){return o.isEmpty(t)?new u("error.field.required","label"):t.length>h.LABEL_MAX_LENGTH?new u("error.field.max.length","label",h.LABEL_MAX_LENGTH):void 0},description:function(t,e,i){if(t&&t.length>h.DESCRIPTION_MAX_LENGTH)return new u("error.field.max.length","description",h.DESCRIPTION_MAX_LENGTH)},parentFolderUri:[{required:!0,msg:new u("error.field.required","parentFolderUri")}]},url:function(){return this.isNew()?this.urlRoot()+encodeURI(this.get("parentFolderUri")):this.urlRoot()+encodeURI(this.id)},constructor:function(t,e){e||(e={}),o.defaults(e,{parse:!0}),r.call(this,t,e)},initialize:function(t,e){this.contextPath=e.contextPath,e.type&&(this.type=e.type),this.on("change:parentFolderUri change:name",this._updateUri),this.on("change:uri",this._updateNameAndParentFolderUri),r.prototype.initialize.apply(this,arguments)},clone:function(){return new this.constructor(this.attributes,{contextPath:this.contextPath})},parse:function(t){return void 0!==t.uri?(t.name=m.getNameFromUri(t.uri),t.parentFolderUri=m.getParentFolderFromUri(t.uri)):t.parentFolderUri&&t.name&&(t.uri=m.constructUri(t.parentFolderUri,t.name)),t},toJSON:function(){var t=this.serialize();return delete t.name,delete t.parentFolderUri,t},_updateUri:function(){var t=this.get("name"),e=this.get("parentFolderUri"),i=m.constructUri(e,t);i&&this.set("uri",i)},_updateNameAndParentFolderUri:function(){var t=this.get("uri"),e=m.getNameFromUri(t),i=m.getParentFolderFromUri(t);this.set({name:e,parentFolderUri:i})},fetch:function(t){return o.defaults(t||(t={}),{headers:{Accept:"application/json"}}),t.url=this.url()+"?expanded="+(!0===t.expanded),delete t.expanded,r.prototype.fetch.call(this,t)},sync:function(t,e,i){if("read"===t){var n=i.success,s=this;i.success=function(t,e,i){var o=i.getResponseHeader("Content-Type"),r=p.exec(o);if(!r||!r[1])throw new Error("Unsupported response content type: "+o);s.type=r[1],n&&n(t,e,i)}}return r.prototype.sync.call(this,t,e,i)},save:function(t,e,i){var n;if(o.isUndefined(t)||o.isNull(t)||o.isObject(t)?(n=t||{},i=e):(n={})[t]=e,!this.type)throw new Error("Resource type is unspecified. It's not possible to save a resource without it's type specified");return o.defaults(i||(i={}),{headers:{Accept:"application/json","Content-Type":"application/repository."+this.type+"+json; charset=UTF-8"}}),i=this._getSaveUrlOptions(i),r.prototype.save.call(this,n,i)},_getSaveUrlOptions:function(t){var e=this.url()+"?createFolders="+(!0===t.createFolders);return e+="&overwrite="+(!0===t.overwrite),e+="&expanded="+(!0===t.expanded),e+="&dry-run="+(!0===t.dryRun),t=o.omit(t,["createFolders","overwrite","expanded","dryRun"]),t=o.extend({},t,{url:e})},isWritable:function(){var t=this.get("permissionMask"),e=!1;return o.isUndefined(t)||(e=1===t||4&t),e},checkLabelExistenceOnServer:function(){var t=this.get("label"),e=this.get("parentFolderUri");return this.operationInProgress=s.Deferred(),l({type:"GET",dataType:"json",url:this.contextPath+"/rest_v2/resources?folderUri="+encodeURIComponent(e)+"&q="+encodeURIComponent(t)+"&recursive=false",headers:{Accept:"application/json"}}).done(this._checkLabelExistenceOnServerDone.bind(this)).fail(this._checkLabelExistenceOnServerFail.bind(this)),this.operationInProgress},_checkLabelExistenceOnServerDone:function(t,e,i){var n=[];t&&t.resourceLookup&&t.resourceLookup.length>0&&(n=t.resourceLookup),this.operationInProgress.resolve({foundResources:n})},_checkLabelExistenceOnServerFail:function(t){404===t.status?this.operationInProgress.resolve({foundResources:[]}):this.operationInProgress.reject(t)},copyTo:function(t,e,i){return n(this,"POST",t,!!e,arguments.length<3||i)},moveTo:function(t,e,i){return n(this,"PUT",t,!!e,arguments.length<3||i)}},{settings:h,getNameFromUri:function(t){if(t){var e=t.split("/");return e[e.length-1]}},getParentFolderFromUri:function(t){if(t){var e=t.split("/");return 2===e.length&&""!==e[1]?"/":e.slice(0,e.length-1).join("/")}},constructUri:function(t,e){if(e&&t)return-1!==t.indexOf("/",t.length-1)?t+e:t+"/"+e},generateResourceName:function(t){var e="";return t&&(e=t.replace(new RegExp("["+m.settings.NAME_NOT_SUPPORTED_SYMBOLS+"]","g"),"_")),e}});o.extend(m.prototype,a.mixin),i.exports=m}),define("runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation",["require","exports","module","jquery","underscore","./Dialog","../../extension/backboneValidationExtension"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("./Dialog"),r=t("../../extension/backboneValidationExtension");i.exports=o.extend({events:s.extend({"keyup input[type=text], textarea, select":"updateModelProperty","change input[type=text], input:checkbox, textarea, select":"updateModelProperty"},o.prototype.events),initialize:function(){this._bindEvents(),o.prototype.initialize.apply(this,arguments)},_bindEvents:function(){},_unbindEvents:function(){},updateModelProperty:function(t){var e={},i=n(t.target);"input"===i[0].tagName.toLowerCase()&&"text"===i.attr("type")||"select"===i[0].tagName.toLowerCase()&&"true"!==i.attr("multiple")||"textarea"===i[0].tagName.toLowerCase()?e[i.attr("name")]=n.trim(i.val()):"input"===i[0].tagName.toLowerCase()&&"checkbox"===i.attr("type")&&(e[i.attr("name")]=i.is(":checked")),this.beforeModelPropertySet&&this.beforeModelPropertySet(e),this.model.set(e),this.model.validate(e)},bindValidation:function(){r.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0,selector:"name"})},unbindValidation:function(){r.unbind(this)},fieldIsValid:function(t,e,i){var n=t.$("["+i+'="'+e+'"]').parent();n.removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(t,e,i,n){var s=t.$("["+n+'="'+e+'"]').parent();s.addClass("error"),s.find(".message.warning").text(i.toString())},validField:function(t){var e=this.$(t).parent();e.removeClass("error"),e.find(".message.warning").text("")},invalidField:function(t,e){var i=this.$(t).parent();i.addClass("error"),i.find(".message.warning").text(e.toString())},clearValidationErrors:function(){this.$("label").removeClass("error"),this.$(".message.warning").text("")},remove:function(){this.unbindValidation(),this._unbindEvents(),o.prototype.remove.apply(this,arguments)}})}),define("text!scheduler/saveDialog/template/saveDialogTemplate.htm",[],function(){return'<label title="{{- i18n[\'report.scheduling.saveDialog.jobNameTitle\']}}" class="control input text ">\n\n    <js-templateNonce></js-templateNonce>\n\t<span class="wrap">{{- i18n[\'report.scheduling.saveDialog.jobName\']}} ({{- i18n[\'required.field\']}}):</span>\n\t<input type="text" value="{{- model.label }}" name="label">\n\t<span class="message warning"></span>\n</label>\n\n<label title="{{- i18n[\'report.scheduling.saveDialog.descriptionTitle\']}}" class="control textArea">\n\t<span class="wrap">{{- i18n[\'report.scheduling.saveDialog.description\']}}</span>\n\t<textarea type="text" name="description">{{- model.description }}</textarea>\n\t<span class="message warning"></span>\n</label>\n'}),define("scheduler/saveDialog/SaveDialogView",["require","exports","module","underscore","bundle!all","runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel","runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation","text!./template/saveDialogTemplate.htm"],function(t,e,i){var n=t("underscore"),s=t("bundle!all"),o=t("runtime_dependencies/bi-repository/src/bi/repository/model/RepositoryResourceModel"),r=t("runtime_dependencies/js-sdk/src/common/component/dialog/DialogWithModelInputValidation"),a=t("text!./template/saveDialogTemplate.htm"),l={};i.exports=r.extend({theDialogIsOpen:!1,saveDialogTemplate:a,constructor:function(t){t||(t={}),l=n.extend({},t);var e=this.extendModel(t.model),i=this._getLabelForSaveButton(e);r.prototype.constructor.call(this,{skipLocation:!!l.skipLocation,modal:!0,model:e,resizable:!0,additionalCssClasses:"schedulerSaveDialog jr-uWidth-425px jr-uHeight-275px",title:s["report.scheduling.saveDialog.save"],content:n.template(this.saveDialogTemplate,{i18n:s,model:n.extend({},e.attributes),skipLocation:!!l.skipLocation,isEmbedded:l.isEmbedded,isEditMode:l.isEditMode}),buttons:[{label:s[i],action:"save",primary:!0},{label:s["report.scheduling.saveDialog.cancel"],action:"cancel",primary:!1}]}),this.on("button:save",n.bind(this._onSaveDialogSaveButtonClick,this)),this.on("button:cancel",n.bind(this._onSaveDialogCancelButtonClick,this))},initialize:function(){r.prototype.initialize.apply(this,arguments)},restoreModel:function(){this.originalModelValidation&&(this.model.validation=this.originalModelValidation)},extendModel:function(t){return this.originalModelValidation=t.validation,t.validation=n.extend({},o.prototype.validation,{name:null,parentFolderUri:null,label:[{required:!0,msg:s["report.scheduling.saveDialog.validation.not.empty.label"]},{maxLength:o.LABEL_MAX_LENGTH,msg:s["report.scheduling.saveDialog.validation.too.long.label"]}],description:[{required:!1},{maxLength:o.DESCRIPTION_MAX_LENGTH,msg:s["report.scheduling.saveDialog.validation.too.long.description"]}]}),t},startSaveDialog:function(){this._openDialog()},closeDialog:function(){this.restoreModel(),this._closeDialog()},_openDialog:function(){this.theDialogIsOpen||(this.bindValidation(),r.prototype.open.apply(this,arguments),this.$contentContainer.find("[name=label]").focus(),this.theDialogIsOpen=!0)},_closeDialog:function(){this.theDialogIsOpen&&(this.unbindValidation(),this.clearValidationErrors(),r.prototype.close.apply(this,arguments),this.theDialogIsOpen=!1)},_getLabelForSaveButton:function(){return"report.scheduling.saveDialog.save"},_onDialogResize:function(){var t=this,e=0,i=this.$contentContainer.find("textarea"),n=this.$contentContainer.closest(".jr-mDialog > .jr-mDialog-body");this.$contentContainer.children().not(i).each(function(){e+=t.$(this).outerHeight(!0)}),i.height(n.outerHeight(!0)-e-60)},_onSaveDialogCancelButtonClick:function(){this.restoreModel(),this._closeDialog()},_onSaveDialogSaveButtonClick:function(){this.model.isValid(!0)&&this.performSave()},performSave:function(){var t=this;this.model.checkSaveValidation({editMode:l.isEditMode}).done(function(){t.model.save({},{success:n.bind(t._saveSuccessCallback,t),error:n.bind(t._saveErrorCallback,t)})}).fail(function(){t.trigger("saveValidationFailed")})},_saveSuccessCallback:function(t,e){this._closeDialog(),n.isFunction(l.onSaveDone)&&l.onSaveDone()},_saveErrorCallback:function(t,e,i){var o=this,r=!1,a=!1;try{r=JSON.parse(e.responseText)}catch(t){}r.error&&(r=r.error),n.isArray(r)||(r=[r]),n.each(r,function(t){if("label"===t.field){var e="";"error.not.empty"===t.errorCode&&(e=s["error.not.empty.label"]),"version.not.match"===t.errorCode&&(e=s["report.scheduling.resource.exists"]),"mandatory.parameter.error"===t.errorCode&&(e=s["report.scheduling.saveDialog.parameterIsMissing"]),""!==e&&(o.invalidField("[name=label]",e),a=!0)}}),!1===a&&n.isFunction(l.onSaveFail)&&l.onSaveFail(t,e,i)}})}),define("text!scheduler/template/editor/scheduleTabTemplate.htm",[],function(){return'<div class="scheduleTab">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="neverFire">\n\t\t<input type="text" name="triggerWillNeverFire" class="hidden">\n\n\t\t<div data-field="triggerWillNeverFire" class="warning message"></div>\n\t</div>\n\n\t\x3c!-- *START, SCHEDULE START SECTION --\x3e\n\t<div id="scheduleStart" class="section">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.schedulestart"] }}\n\t\t</h4>\n\t\t\x3c!-- *START JOB GROUP --\x3e\n\t\t<fieldset id="jobCommon" class="group first">\n\t\t\t<legend><span>\n\t\t\t\t{{- i18n["report.scheduling.job.edit.startdate"] }}:\n\t\t\t</span></legend>\n\t\t\t<ul class="list inputSet">\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t<label for="startImmediately" class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.start.immediately"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="startImmediately" name="startType" type="radio" value="1">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="leaf last">\n\t\t\t\t\t<div id="startDateLabel" class="control radio twoLine">\n\t\t\t\t\t\t<label for="startDate" class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.onspecificdate"] }}:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="startDate" name="startType" type="radio" value="2">\n\n\t\t\t\t\t\t<div id="startOn" class="control picker inline">\n\t\t\t\t\t\t\t<input type="text" name="startDate" class="datepicker">\n\n\t\t\t\t\t\t\t<div data-field="startDate" class="warning message"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</fieldset>\n\t\t\x3c!-- TIME ZONE GROUP --\x3e\n\t\t<fieldset id="timeZone" class="group">\n\t\t\t<label class="control select inline twoLine">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.timezone"] }}:\n\t\t\t\t</span>\n\t\t\t\t<select name="schedulerTimeZone">\n\t\t\t\t\t{{\n\t\t\t\t\t\t_.each(timeZones, function(zone) {\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t<option value="{{- zone.value }}">\n\t\t\t\t\t\t\t\t{{- zone.title }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</fieldset>\n\t</div>\n\t\x3c!-- *END, SCHEDULE START SECTION --\x3e\n\n\n\t\x3c!-- *START, RECURRENCE SECTION --\x3e\n\t<div id="scheduleRecurrence" class="section">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.trigger.recurrence"] }}:\n\t\t</h4>\n\n\t\t\x3c!-- RECURRENCE TYPE GROUP --\x3e\n\t\t<fieldset id="recurrenceSelector" class="group first">\n\t\t\t<label class="control select inline twoLine">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.recurrencetype"] }}:\n\t\t\t\t</span>\n\t\t\t\t<select name="recurrenceType">\n\t\t\t\t\t<option value="none">{{- i18n["report.scheduling.job.edit.recurrencetype.none"] }}</option>\n\t\t\t\t\t<option value="simple">{{- i18n["report.scheduling.job.edit.recurrencetype.simple"] }}</option>\n\t\t\t\t\t<option value="calendar">{{- i18n["report.scheduling.job.edit.recurrencetype.calendar"] }}</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</fieldset>\n\n\t\t\x3c!-- *START, simple recurrence repetition --\x3e\n\t\t<fieldset id="simpleRecurrenceInterval" data-recurrence="simple" class="group">\n\t\t\t<label class="control select inline">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.repeatevery"] }} ({{- i18n["required.field"] }}):\n\t\t\t\t</span>\n\n\t\t\t\t<div class="control inline">\n\t\t\t\t\t<input name="recurrenceInterval" type="text">\n\n\t\t\t\t\t<div data-field="recurrenceInterval" class="warning message"></div>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<select name="recurrenceIntervalUnit">\n\t\t\t\t<option value="MINUTE">{{- i18n["job.interval.unit.minute.label"] }}</option>\n\t\t\t\t<option value="HOUR">{{- i18n["job.interval.unit.hour.label"] }}</option>\n\t\t\t\t<option value="DAY">{{- i18n["job.interval.unit.day.label"] }}</option>\n\t\t\t\t<option value="WEEK">{{- i18n["job.interval.unit.week.label"] }}</option>\n\t\t\t</select>\n\t\t</fieldset>\n\t\t\x3c!-- *END, simple recurrence repetition --\x3e\n\t</div>\n\n\t\x3c!-- *START simple recurrence end date --\x3e\n\t<fieldset id="scheduleEndSimple" class="section" data-recurrence="simple">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.scheduleend"] }}\n\t\t</h4>\n\t\t<fieldset data-recurrence="simple" class="group first">\n\t\t\t<legend class="">\n\t\t\t\t<span>\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.enddate"] }}:\n\t\t\t\t</span>\n\t\t\t</legend>\n\t\t\t<ul class="list inputSet">\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div class="control radio twoLine">\n\t\t\t\t\t\t<label for="fixedRepeat" class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.runasetnumberoftimes"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.numberofruns"] }}:\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input id="fixedRepeat" type="radio" name="endat" value="numberOfTimes">\n\t\t                    <span class="control inline twoLine">\n\t\t                        <input type="text" id="maxOccurrences" name="occurrenceCount">\n\t\t                        <div data-field="occurrenceCount" class="warning message"></div>\n\t\t                    </span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div id="calendarRepeatSet" class="control radio twoLine">\n\t\t\t\t\t\t<label for="calendarRepeat" class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.rununtilaspecifieddate"] }}:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="calendarRepeat" type="radio" name="endat" value="specificDate">\n\t\t                    <span id="repeatEndDate" class="control picker inline twoline">\n\t\t                        <input type="text" class="datepicker" name="simpleEndDate">\n\t\t                        <div data-field="simpleEndDate" class="warning message"></div>\n\t\t                    </span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="leaf last">\n\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t<label for="indefiniteRepeat" class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.runindefinitely"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="indefiniteRepeat" type="radio" name="endat" value="indefinitely">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</fieldset>\n\t</fieldset>\n\t\x3c!-- *END simple recurrence end date --\x3e\n\t\x3c!-- *END, SIMPLE RECURRENCE --\x3e\n\n\n\t\x3c!-- *START, CALENDAR RECURRENCE --\x3e\n\t\x3c!-- *START calendar recurrence repetition --\x3e\n\t<div class="section">\n\t\t<fieldset id="calendarRecurrence" data-recurrence="calendar" class="group first">\n\t\t\t<ul class="list">\n\t\t\t\t<li id="months" class="node">\n\t\t\t\t\t<fieldset class="group">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.months"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div title="Select to recur every month" class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="everyMonth_radio" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.months.all"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type="radio" name="whichMonth" id="everyMonth_radio" value="everyMonth">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div id="selectedMonths" class="control radio twoLine">\n\t\t\t\t\t\t\t\t\t<label for="selectedMonths_radio" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.months.selected"] }}:\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input id="selectedMonths_radio" type="radio" name="whichMonth" value="selectedMonths" />\n\t                                <span class="control select multiple">\n\t                                    <select name="monthSelector" size="12" class="monthSelector" multiple="multiple">\n\t\t                                    <option value="1">{{- i18n["monts.label.jan"] }}</option>\n\t\t                                    <option value="2">{{- i18n["monts.label.feb"] }}</option>\n\t\t                                    <option value="3">{{- i18n["monts.label.mar"] }}</option>\n\t\t                                    <option value="4">{{- i18n["monts.label.apr"] }}</option>\n\t\t                                    <option value="5">{{- i18n["monts.label.may"] }}</option>\n\t\t                                    <option value="6">{{- i18n["monts.label.jun"] }}</option>\n\t\t                                    <option value="7">{{- i18n["monts.label.jul"] }}</option>\n\t\t                                    <option value="8">{{- i18n["monts.label.aug"] }}</option>\n\t\t                                    <option value="9">{{- i18n["monts.label.sep"] }}</option>\n\t\t                                    <option value="10">{{- i18n["monts.label.oct"] }}</option>\n\t\t                                    <option value="11">{{- i18n["monts.label.nov"] }}</option>\n\t\t                                    <option value="12">{{- i18n["monts.label.dec"] }}</option>\n\t                                    </select>\n\t                                    <div data-field="monthSelector" class="warning message"></div>\n\t                                </span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</li>\n\n\t\t\t\t<li id="days" class="node">\n\t\t\t\t\t<fieldset class="group">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.days"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="everyDay_radio" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.days.all"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input id="everyDay_radio" type="radio" name="whichDay" value="everyDay">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div id="weekDays" class="control radio twoLine">\n\t\t\t\t\t\t\t\t\t<label for="weekDays_radio" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.selecteddays"] }}:\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input id="weekDays_radio" type="radio" name="whichDay" value="selectedDays" />\n\t                                <span class="control select multiple">\n\t                                    <select name="daySelector" size="7" class="daySelector" multiple="multiple">\n\t\t                                    <option value="1">{{- i18n["week.days.label.sun"] }}</option>\n\t\t                                    <option value="2">{{- i18n["week.days.label.mon"] }}</option>\n\t\t                                    <option value="3">{{- i18n["week.days.label.tue"] }}</option>\n\t\t                                    <option value="4">{{- i18n["week.days.label.wed"] }}</option>\n\t\t                                    <option value="5">{{- i18n["week.days.label.thu"] }}</option>\n\t\t                                    <option value="6">{{- i18n["week.days.label.fri"] }}</option>\n\t\t                                    <option value="7">{{- i18n["week.days.label.sat"] }}</option>\n\t                                    </select>\n\t                                    <div data-field="daySelector" class="warning message"></div>\n\t                                </span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div id="monthDays" class="control radio twoLine">\n\t\t\t\t\t\t\t\t\t<label for="monthDays_radio" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.datesinmonth"] }}:\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input id="monthDays_radio" type="radio" name="whichDay" value="datesInMonth">\n\n\t\t\t\t\t\t\t\t\t<div class="control input inline text">\n\t\t\t\t\t\t\t\t\t\t<input id="theMonthDays" name="datesInMonth" type="text" />\n\t\t\t\t\t\t\t\t\t\t<p class="message hint">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.enterdatesordateranges"] }}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<div data-field="datesInMonth" class="warning message"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</li>\n\n\t\t\t\t<li id="repeatTimes" class="node">\n\t\t\t\t\t<fieldset class="group">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.recurrence.times"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control text twoLine">\n\t\t\t\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.hours"] }} ({{- i18n["required.field"] }}):\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<input type="text" name="hours">\n\n\t\t\t\t\t\t\t\t\t\t<p class="message hint">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.hours.tip"] }}\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t<div data-field="hours" class="warning message"></div>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control text twoLine">\n\t\t\t\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.minutes"] }} ({{- i18n["required.field"] }}):\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<input type="text" name="minutes">\n\n\t\t\t\t\t\t\t\t\t\t<p class="message hint">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.trigger.label.minutes.tip"] }}\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t<div data-field="minutes" class="warning message"></div>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</fieldset>\n\t</div>\n\t\x3c!-- *END calendar recurrence repetition --\x3e\n\t\x3c!-- *END, CALENDAR RECURRENCE --\x3e\n\n\t\x3c!-- *START calendar recurrence end date --\x3e\n\t<fieldset id="calendarEnd" class="section" data-recurrence="calendar">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.scheduleend"] }}\n\t\t</h4>\n\t\t<fieldset id="calendarEnd" class="group first">\n\t\t\t<label class="control twoLine">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.enddate"] }}:\n\t\t\t\t</span>\n\t\t\t        <span class="control picker">\n\t\t\t            <input id="trigger_endDate_calendar" name="calendarEndDate" type="text" class="datepicker">\n\t\t\t            <div data-field="calendarEndDate" class="warning message"></div>\n\t\t\t        </span>\n\t\t\t</label>\n\t\t</fieldset>\n\t</fieldset>\n\t\x3c!-- *END calendar recurrence end date --\x3e\n\n\t\x3c!-- *START holidays --\x3e\n\t<div class="section" name="calendarBlockHolder">\n\t</div>\n\t\x3c!-- *END holidays --\x3e\n</div>\n'}),define("text!scheduler/template/editor/holidayCalendarTemplate.htm",[],function(){return'<div class="section calendarBlock">\n\n    <js-templateNonce></js-templateNonce>\n\t<div id="holidayCalendar" class="section holidayCalendar">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.holidays"] }}\n\t\t</h4>\n\t\t<fieldset class="group first">\n\t\t\t<label class="control twoLine">\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.calendar.ofdates.toexclude"] }}:\n\t\t\t\t\t\t</span>\n\t\t\t\t<select name="calendarSelect"></select>\n\t\t\t</label>\n\t\t</fieldset>\n\t</div>\n</div>\n'}),define("scheduler/view/editor/holidayCalView",["require","exports","module","jquery","underscore","bundle!all","backbone","text!../../template/editor/holidayCalendarTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("backbone"),a=t("text!../../template/editor/holidayCalendarTemplate.htm");i.exports=r.View.extend({initialize:function(){this.collection.on("reset",this.onReset,this)},onReset:function(){this.$el.empty().append(n(s.template(a,{i18n:o})));var t=this.$el.find(".calendarBlock"),e=this.$el.find("[name=calendarSelect]");if(t.removeClass("disabled").find("select").attr("disabled",!1),e.empty(""),0===this.collection.size())return e.append(n("<option>").attr("value","").text(o["report.scheduling.job.edit.trigger.calendars.nocalendars"])),void t.addClass("disabled").find("select").attr("disabled","disabled");e.append(n("<option>").attr("value","").text(o["label.none"])),this.collection.forEach(function(t){e.append(n("<option>").attr("value",t.id).text(t.id))},this)}})}),define("scheduler/model/holidayCal",["require","exports","module","backbone","runtime_dependencies/js-sdk/src/jrs.configs"],function(t,e,i){var n=t("backbone"),s=t("runtime_dependencies/js-sdk/src/jrs.configs");i.exports=n.Model.extend({urlRoot:s.contextPath+"/rest_v2/jobs/calendars"})}),define("scheduler/collection/holidayCalsCollection",["require","exports","module","jquery","backbone","runtime_dependencies/js-sdk/src/jrs.configs","../../scheduler/model/holidayCal"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("runtime_dependencies/js-sdk/src/jrs.configs"),r=t("../../scheduler/model/holidayCal");i.exports=s.Collection.extend({url:o.contextPath+"/rest_v2/jobs/calendars",model:r,parse:function(t){var e=[]
;return t&&t.calendarName&&n.each(t.calendarName,function(t,i){e.push({id:i})}),e}})}),define("scheduler/view/editor/scheduleTabView",["require","exports","module","jquery","underscore","bundle!all","runtime_dependencies/js-sdk/src/jrs.configs","backbone","text!../../template/editor/scheduleTabTemplate.htm","runtime_dependencies/js-sdk/src/components/dateAndTime/DateAndTimePicker","./holidayCalView","../../collection/holidayCalsCollection","momentExtension"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("runtime_dependencies/js-sdk/src/jrs.configs"),a=t("backbone"),l=t("text!../../template/editor/scheduleTabTemplate.htm"),c=t("runtime_dependencies/js-sdk/src/components/dateAndTime/DateAndTimePicker"),d=t("./holidayCalView"),u=t("../../collection/holidayCalsCollection"),h=t("momentExtension"),p=r.calendar.timepicker.dateFormat,m=r.calendar.timepicker.timeFormat.replace(":ss","");i.exports=a.View.extend({events:{"change [name=startType]":"setStartType","change [name=startDate]":"setStartDate","change [name=schedulerTimeZone]":"setTimeZone","change [name=recurrenceType]":"setRecurrenceType","change [name=recurrenceInterval]":"setRecurrenceInterval","change [name=recurrenceIntervalUnit]":"setRecurrenceIntervalUnit","change [name=endat]":"setEnDat","change [name=occurrenceCount]":"setOccurrenceCount","change [name=simpleEndDate]":"setEndDate","change [name=calendarEndDate]":"setEndDate","change [name=whichMonth]":"monthRadioSelector","change [name=monthSelector]":"setMonthSelector","change [name=whichDay]":"dayRadioSelector","change [name=daySelector]":"setDaySelector","change [name=datesInMonth]":"setDatesInMonth","change [name=hours]":"setHours","change [name=minutes]":"setMinutes","change [name=calendarSelect]":"setCalendar"},initialize:function(){this.calCollection=new u,this.calView=new d({collection:this.calCollection}),this.calCollection.fetch({reset:!0,data:{calendarType:"holiday"}}),this.listenTo(this.model,"change:trigger",this.triggerChanged)},render:function(){this.setElement(n(s.template(l,{_:s,i18n:o,timeZones:r.timeZones}))),this.$el.find("[name=calendarBlockHolder]").append(this.calView.$el),this.setupDatepickersOn()},setupDatepickersOn:function(){var t=this;this.$el.find(".datepicker").each(function(e,i){var s=n(i);new c({el:s[0],constrainInput:!0,dateFormat:p,timeFormat:m,showOn:"button",buttonText:""}),s.next().addClass("button").addClass("picker"),t.listenTo(t.model,"change:trigger",function(){var t=h.tz(this.model.get("trigger").timezone).utcOffset();n.datepicker._getInst(n(i)[0]).settings.timepicker.timezone=t}),n(i)[0].getValue=function(){return n(this).val()}})},triggerChanged:function(){var t=this.model.get("trigger");this.$el.find("[name=startType]").filter("[value="+t.startType+"]").prop("checked",!0),this.$el.find("[name=startDate]").val(t.startDate),this.$el.find("[name=schedulerTimeZone]").val(t.timezone),this.$el.find("[name=recurrenceType]").val(t.type),this.$el.find("fieldset[data-recurrence]").addClass("hidden"),this.$el.find('fieldset[data-recurrence="'+t.type+'"]').removeClass("hidden"),"none"===t.type&&this.$el.find("[name=calendarBlockHolder]").addClass("hidden"),"simple"===t.type&&(this.$el.find("[name=recurrenceInterval]").val(t.recurrenceInterval),this.$el.find("[name=recurrenceIntervalUnit]").val(t.recurrenceIntervalUnit),this.$el.find("[name=endat]").filter("[value="+t.radioEndDate+"]").prop("checked",!0),this.$el.find("[name=occurrenceCount]").val(t.occurrenceCount),this.$el.find("[name=simpleEndDate]").val(t.endDate),this.$el.find("[name=calendarBlockHolder]").removeClass("hidden"),this.$el.find("[name=calendarSelect]").val(t.calendarName)),"calendar"===t.type&&(this.$el.find("[name=whichMonth]").filter("[value="+t.radioWhichMonth+"]").prop("checked",!0),this.$el.find("[name=monthSelector]").val(t.months.month),this.$el.find("[name=whichDay]").filter("[value="+t.radioWhichDay+"]").prop("checked",!0),this.$el.find("[name=daySelector]").val(t.weekDays.day),this.$el.find("[name=datesInMonth]").val(t.monthDays),this.$el.find("[name=hours]").val(t.hours),this.$el.find("[name=minutes]").val(t.minutes),this.$el.find("[name=calendarEndDate]").val(t.endDate),this.$el.find("[name=calendarBlockHolder]").removeClass("hidden"),this.$el.find("[name=calendarSelect]").val(t.calendarName))},setStartType:function(t){this.model.update("trigger",{startType:n(t.target).val()})},setStartDate:function(t){this.model.update("trigger",{startType:"2",startDate:n(t.target).val()})},setTimeZone:function(t){this.model.update("trigger",{timezone:n(t.target).val()})},setRecurrenceType:function(t){this.model.update("trigger",{type:n(t.target).val()})},setRecurrenceInterval:function(t){this.model.update("trigger",{recurrenceInterval:n(t.target).val()})},setRecurrenceIntervalUnit:function(t){this.model.update("trigger",{recurrenceIntervalUnit:n(t.target).val()})},setEnDat:function(t){this.model.update("trigger",{radioEndDate:n(t.target).val()})},setOccurrenceCount:function(t){this.model.update("trigger",{occurrenceCount:n(t.target).val()})},setEndDate:function(t){this.model.update("trigger",{endDate:n(t.target).val()})},monthRadioSelector:function(t){this.model.update("trigger",{radioWhichMonth:n(t.target).val()})},setMonthSelector:function(t){for(var e=n(t.target).val()||[],i=0,s=e.length;i<s;i++)e[i]=parseInt(e[i]);this.model.update("trigger",{months:{month:e}})},dayRadioSelector:function(t){this.model.update("trigger",{radioWhichDay:n(t.target).val()})},setDaySelector:function(t){for(var e=n(t.target).val()||[],i=0,s=e.length;i<s;i++)e[i]=parseInt(e[i]);this.model.update("trigger",{weekDays:{day:e}})},setDatesInMonth:function(t){this.model.update("trigger",{monthDays:n(t.target).val()})},setHours:function(t){this.model.update("trigger",{hours:n(t.target).val()})},setMinutes:function(t){this.model.update("trigger",{minutes:n(t.target).val()})},setCalendar:function(t){this.model.update("trigger",{calendarName:n(t.target).val()})}})}),define("text!scheduler/template/editor/parametersTabTemplate.htm",[],function(){return'<div class="parametersTab">\n\n    <js-templateNonce></js-templateNonce>\n\n\t{{ if (config.isProVersion) { }}\n\t<div class="saveCurrentValuesContainer">\n\t\t<button name="saveCurrentValuesButton" id="save" type="button" class="button options up ">\n\t\t\t<span class="wrap">{{- i18n[\'report.scheduling.job.edit.parameters.save\'] }}</span><span class="icon"></span>\n\t\t</button>\n\t</div>\n\t{{ } }}\n\n\t<ul class="list inputControls inputControlsContainer" id="inputControlsContainer"></ul>\n\n\t\x3c!-- The next block needed just to create standard for Scheduler behavior, when we are switching to the\n\ttab where the error happened. To indicate what on this tab an error happened we introduce dummy control, which may have\n\tspecial error class. The warning element is also dummy --\x3e\n\t<label class="hidden">\n\t\t<input type="text" name="parametersErrorNotifierStub" class="">\n\t\t<span class="message warning" data-field="parametersErrorNotifierStub"></span>\n\t</label>\n</div>'}),define("controls/controls.base",["require","exports","module","prototype","../core/core.layout","../util/utils.common","../components/components.dialogs","jquery","underscore"],function(t,e,i){var n=t("prototype"),s=n.$,o=n.$$,r=n.Template,a=n.$break,l=t("../core/core.layout"),c=t("../util/utils.common"),d=c.matchAny,u=t("../components/components.dialogs"),h=t("jquery"),p=t("underscore"),m={INPUT_CONTROLS_FORM:"inputControlsForm",INPUT_CONTROLS_CONTAINER:"inputControlsContainer",INPUT_CONTROLS_DIALOG:"inputControls",SAVE_REPORT_OPTIONS_DIALOG:"saveValues",REPORT_OPTIONS_SELECTOR:"savedValues",TOOLBAR_CONTROLS_BUTTON:"ICDialog",DEFAULT_OPTION_TEXT:"Options",NULL_SUBSTITUTION_VALUE:null,NULL_SUBSTITUTION_LABEL:null,NOTHING_SUBSTITUTION_VALUE:null,_BUTTON_OK:"ok",_BUTTON_SAVE:"save",_BUTTON_REMOVE:"remove",_BUTTON_APPLY:"apply",_BUTTON_CANCEL:"cancel",TEMP_REPORT_CONTAINER:"tempReportContainer",WRAPPER_ERROR_FLAG_PREFIX_SELECTOR:"div[id^=error_]",WRAPPERS_ERRORS_DIV:"wrappersErrors",EVAL_SCRIPT_ELEMENT_NAME:"_evalScript",CALENDAR_ICON_SPAN:'<span class="button picker calTriggerWrapper" />',_messages:{},getMessage:function(t,e){var i=this._messages[t];return i?new r(i).evaluate(e||{}):""},setControlError:function(t,e){t&&(t=s(t),e?(t.up().addClassName(l.ERROR_CLASS),t.nextSiblings()[0].update(e)):(t.up().removeClassName(l.ERROR_CLASS),t.nextSiblings()[0].update("")))},setControlsErrors:function(t){var e=o(m.WRAPPER_ERROR_FLAG_PREFIX_SELECTOR),i=0,n=-1;e.each(function(e){var s=!1;t&&t.each(function(t){if(e.id.indexOf(t[0])>-1)throw m.setControlError(e,t[1]),n<0&&(h("#inputControlsForm .leaf").each(function(t,e){t<i&&(n+=e.clientHeight)}),h(".groupBox .content .body")[0].scrollTop=n),s=!0,a;i++}),s||m.setControlError(e,"")})},buildParams:function(t){var e="";if(p.isObject(t)&&!p.isEmpty(t)){var i=function(t){return t.length>0&&"&"!=t[t.length-1]&&(t+="&"),t};p.each(t,function(t,n){e=i(e),p.isArray(t)?p.each(t,function(t){e=i(e),e+=n+"="+encodeURIComponent(t)}):e+=n+"="+encodeURIComponent(t)})}return e},buildSelectedDataUri:function(t,e){var i=m.buildParams(t);if(p.isObject(e)&&!p.isEmpty(e)){return i+"&"+m.buildParams(e)}return i}},f=function(t){var e=this;this._dom=s(m.INPUT_CONTROLS_DIALOG),this.buttonActions=t,h("#"+m.INPUT_CONTROLS_DIALOG).on("mouseup touchend","button",function(t){if(this.id&&!this.id.empty()&&!this.disabled){var i=e.buttonActions["button#"+this.id];i&&i()}})};f.addMethod("_dialogClickHandler",function(t){var e=t.element();for(var i in this.buttonActions)if(d(e,[i],!0))return this.buttonActions[i](),void t.stop()}),f.addMethod("show",function(){u.popup.show(this._dom)}),f.addMethod("hide",function(){u.popup.hide(this._dom)});var g=function(t){this._dom=s(m.SAVE_REPORT_OPTIONS_DIALOG),this.input=this._dom.select("input#savedValuesName")[0],this.overwrite=!1,this.buttonActions=t,this._dialogClickHandler=this._dialogClickHandler.bindAsEventListener(this),this._dom.observe("click",this._dialogClickHandler)};g.addMethod("remove",function(){this._dom.stopObserving("click",this._dialogClickHandler)}),g.addMethod("_dialogClickHandler",function(t){var e=t.element();for(var i in this.buttonActions)if(d(e,[i],!0))return this.buttonActions[i](),void t.stop()}),g.addMethod("show",function(){this.input.setValue(m.DEFAULT_OPTION_TEXT),u.popup.show(this._dom)}),g.addMethod("hide",function(){u.popup.hide(this._dom),this.hideWarning()}),g.addMethod("showWarning",function(t){var e=h("#"+m.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");t&&e.text(t),e.show()}),g.addMethod("hideWarning",function(){var t=h("#"+m.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");t.text(""),t.hide()}),e.ControlsBase=m,e.OptionsDialog=g,e.ControlDialog=f}),define("controls/controls.options",["require","exports","module"],function(t,e,i){function n(){}i.exports=n}),define("controls/controls.logging",["require","exports","module","../namespace/namespace"],function(t,e,i){var n=t("../namespace/namespace"),s=n.JRS;s.Log=function(t){window.console||(window.console={log:function(){},debug:function(){},error:function(){}})}(),i.exports=s.Log}),define("controls/controls.core",["require","exports","module","prototype","../namespace/namespace","../core/core.ajax","underscore","../components/components.dialogs","jquery","./controls.logging"],function(t,e,i){var n=t("prototype"),s=n.$,o=t("../namespace/namespace"),r=o.JRS,a=t("../core/core.ajax"),l=a.ajax,c=t("underscore"),d=t("../components/components.dialogs"),u=t("jquery");t("./controls.logging"),r.Controls=function(t,e,i){function n(t){return function(i){return e.template(t)(e.defaults({data:void 0,uuid:void 0,message:void 0,description:void 0},i))}}var o=navigator.userAgent.toLowerCase().indexOf("msie")>-1;return{Base:e.extend(function(){},{extend:function(t,i){var n,s=this;n=t&&e.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},e.extend(n,s,i);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,t&&e.extend(n.prototype,t),n.__super__=s.prototype,n}}),TemplateEngine:{render:function(t,i,s){if(!s)return n(t)(i);if(s==this.STD_PLACEHOLDERS){var o=String(t);return e.each(i,function(t,e){var i=new RegExp("\\{"+e+"\\}");o=o.replace(i,t)}),o}},renderUrl:function(t,i,n){var s=e.template(t)(i);return o&&!n&&(s=encodeURI(s)),s},getTemplateText:function(e){return t("#"+e).html()},createTemplate:function(e){var i=t("#"+e),s=i.html();if(s&&s.length>0)return n(s)},createTemplateSection:function(t,e){var i="\x3c!--#val--\x3e(\\s|\\S)*\x3c!--/val--\x3e",s=i.replace(/val/g,t),o=new RegExp(s,"g");return n(this.getTemplateText(e).match(o)[0])},STD_PLACEHOLDERS:"std_placeholder"},Utils:{LOADING_DIALOG_DELAY:800,INPUT_CONTROLS_COMPONENT_ID:"input-controls",isElementInDom:function(t){var e=t.nextSibling,i=t.parentNode&&11!==t.parentNode.nodeType;return e||i},setInnerHtml:function(i,n,s){var r,a,l;if(this.isElementInDom(i)&&(r=i.nextSibling,a=i.parentNode,l=i.style.display,i.style.display="none",a.removeChild(i)),t(i).html(""),o&&"SELECT"==i.tagName){var c=document.createDocumentFragment();e.each(s.data,function(i){var n=document.createElement("OPTION");n.value=e.isUndefined(i.value)?i.id:i.value,t(n).html(i.label),i.selected&&n.setAttribute("selected","selected"),c.appendChild(n)}),i.appendChild(c)}else t(i).html(n(s));if(r?a.insertBefore(i,r):a.appendChild(i),i.style.display=l,o&&"SELECT"==i.tagName){var d=i.getAttribute("style");i.removeAttribute("style"),i.setAttribute("style",d)}},wait:function(e){return t.Deferred(function(t){setTimeout(t.resolve,e)})},showLoadingDialogOn:function(n,o,r){this.wait(o||this.LOADING_DIALOG_DELAY).then(e.bind(function(){"pending"==n.state()&&(i.popup.showShared(s(l.LOADING_ID),r,{focus:!1,owner:this.INPUT_CONTROLS_COMPONENT_ID}),t.when(n).always(e.bind(function(){var t=this.INPUT_CONTROLS_COMPONENT_ID;this.wait(500).then(function(){window.viewer&&window.viewer.loading?window.viewer.loaded&&i.popup.hideShared(s(l.LOADING_ID),t):i.popup.hideShared(s(l.LOADING_ID),t)})},this)))},this))},createTimer:function(e){var i=new t.Deferred;return i.done(function(t){var i=(new Date).getTime(),n=i-t;console.log(e+" took time: "+n+" msec.")}),{start:function(){return this.startTime=(new Date).getTime(),this},stop:function(){return i.resolve(this.startTime),this}}}},listen:function(i,n){e.each(i,function(i,n){t(document).on(n,e.bind(i,this))},n||this)},ignore:function(e,i){t(document).off(e,i)}}}(u,c,d),window.Controls=r.Controls,i.exports=r.Controls}),define("controls/controls.dataconverter",["require","exports","module","../namespace/namespace","underscore","./controls.core"],function(t,e,i){var n=t("../namespace/namespace"),s=n.JRS,o=t("underscore");t("./controls.core"),function(t,e,i){var n=i.Base.extend({structureFormater:function(t){if(!t)return t;var i=e.map(t.inputControl,function(t){return t.readOnly="true"==String(t.readOnly),t.uri=t.uri.replace("repo:",""),t}),n=e.map(i,function(t){return t.state});return n=e.compact(n),e.each(i,function(t){delete t.state}),e.extend({structure:i},this.convertResponseToControlsState(n))},convertResponseToControlsState:function(t){var i={},n=t.inputControlState?t.inputControlState:t,s=function(t){var e={value:t.value,label:t.label};return"true"==String(t.selected)&&(e.selected=!0),e},o=function(t){return e.isArray(t)?e.map(t,s):[]},r=function(t){return e.isUndefined(t.value)||e.isNull(t.value)?o(t.options):t.value};return e.each(n,function(t){t&&t.uri&&(i[t.id]={error:e.isUndefined(t.error)?null:t.error,values:r(t)})}),{state:i}}});t.DataConverter=n}(s.Controls,o,s.Controls),i.exports=s.Controls}),define("controls/controls.datatransfer",["require","exports","module","../namespace/namespace","runtime_dependencies/js-sdk/src/jrs.configs","../components/components.dialogs","underscore","jquery","./controls.core","./controls.dataconverter"],function(t,e,i){var n=t("../namespace/namespace"),s=n.JRS,o=t("runtime_dependencies/js-sdk/src/jrs.configs"),r=t("../components/components.dialogs"),a=t("underscore"),l=t("jquery");t("./controls.core"),t("./controls.dataconverter"),s.Controls=function(t,e,i,n){function s(e){var s;try{try{s=t.parse(e.responseText)}catch(t){}if(s&&s.error)i.each(s.error,function(t){var e=n.getViewModel(),i=t.inputControlUri.replace("repo:",""),s=e.find({uri:i});t.errorCode?s.set({error:t.errorCode}):t.defaultMessage&&s.set({error:t.defaultMessage})});else if(e.getResponseHeader("LoginRequested")||401===e.status)document.location=o.urlContext;else if(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError")){var a="";a=s?i.template("<div><b>{{-message}}</b></div><p>{{ if (parameters) for (var i = 0; i < parameters.length; i++) { }}<div>{{-parameters[i]}}</div>{{ } }}</p>")(s):window.statusText,r.errorPopup.show(a)}}catch(t){}}return i.extend(n,{DataTransfer:n.Base.extend({CONTROLS_STRUCTURE_TEMPLATE_URI:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}/values",constructor:function(t){this.dataConverter=t.dataConverter,this.initialize(t)},initialize:function(t){},setReportUri:function(t){this.currentReportUri=t},buildUrl:function(t,e,s){return e=i.isArray(e)?e.join(";"):e||"",n.TemplateEngine.renderUrl(s,{reportUri:t,controlIds:e})},sendRequest:function(n,r,a){var l={url:n,type:"GET",dataType:"json",cache:!1};i.isEmpty(r)||i.extend(l,{type:"POST",processData:!1,data:t.stringify(r),contentType:"application/json"});var c=i.defaults(a||{},l);return c.headers||(c.headers={}),i.defaults(c.headers,{"X-Suppress-Basic":"true","Accept-Language":o.userLocale.replace(/_/g,"-")}),e.ajax(c).fail(s)},fetchControlsStructure:function(t,e){var s=this.buildUrl(this.currentReportUri,t,this.CONTROLS_STRUCTURE_TEMPLATE_URI),o=this.sendRequest(s,e).then(i.bind(this.dataConverter.structureFormater,this.dataConverter));return n.Utils.showLoadingDialogOn(o,null,!0),o},updateControlsStructure:function(t,e){var n=this.buildUrl(e||this.currentReportUri,null,this.CONTROLS_STRUCTURE_TEMPLATE_URI);return this.sendRequest(n,t,{type:"PUT"}).then(i.bind(this.dataConverter.structureFormater,this.dataConverter))},fetchInitialControlValues:function(t,e){var i=this.buildUrl(t,null,this.INITIAL_CONTROLS_VALUES_TEMPLATE_URL),s=this.sendRequest(i,e).then(this.dataConverter.convertResponseToControlsState);return n.Utils.showLoadingDialogOn(s,null,!0),s},fetchControlsUpdatedValues:function(t,s){var o=this.buildUrl(this.currentReportUri,t,this.CONTROLS_VALUES_TEMPLATE_URL),r=this.dataConverter;this.fullUpdateDeferred&&"pending"==this.fullUpdateDeferred.state()&&this.fullUpdateDeferred.reject();var a=new e.Deferred,l=n.Utils.wait(n.DataTransfer.FREQUENT_CHANGES_MIN_DELAY);return l.done(i.bind(function(){this.sendRequest(o,s).then(r.convertResponseToControlsState).done(function(t){"pending"==a.state()&&a.resolve(t)}).fail(function(){a.reject(this,arguments)})},this)),a.fail(function(){l.reject()}),n.Utils.showLoadingDialogOn(a,null,!0),this.fullUpdateDeferred=a,a}},{CONTROLS_STRUCTURE_TEMPLATE_URI:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:o.contextPath+"/rest_v2/reports{{=reportUri}}/inputControls/{{=controlIds}}/values",FREQUENT_CHANGES_MIN_DELAY:400})})}(JSON,l,a,s.Controls),i.exports=s.Controls}),define("controls/controls.basecontrol",["require","exports","module","../namespace/namespace","underscore","jquery","./controls.core"],function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("../namespace/namespace"),o=s.JRS,r=t("underscore"),a=t("jquery");t("./controls.core"),o.Controls=function(t,e,i){function s(t){if(e.isArray(t)){var i=e.filter(t,function(t){return t.selected});return e.map(i,function(t){return t.id||""===t.id?t:t.value})}return t}return e.extend(i,{BaseControl:i.Base.extend({id:null,elem:null,error:null,templateChunks:{},constructor:function(t){this.initialize.apply(this,arguments)},getElem:function(){return this.elem},setElem:function(t){this.elem=t},bindCustomEventListeners:function(){},isSingleSelect:function(){return!e.isArray(this.get("selection"))},isSingleValue:function(){return!e.isArray(this.get("values"))},getTemplateSection:function(t){return this.templateChunks[this.type+"_"+t]||(this.templateChunks[this.type+"_"+t]=i.TemplateEngine.createTemplateSection(t,this.type)),this.templateChunks[this.type+"_"+t]},initialize:function(t){this.baseRender(t),this.isVisible(t)&&this.bindCustomEventListeners()},fireControlSelectionChangeEvent:function(e){t(document).trigger(i.CHANGE_CONTROL,this,e)},baseRender:function(n){n&&e.extend(this,n);var s=i.TemplateEngine.createTemplate(this.type);if(s){var o=t(s(this));this.setElem(o)}},update:function(t){},get:function(t){return this[t]},isValid:function(){return null===this.error||this.error&&this.error instanceof String&&0===this.error.length},isVisible:function(t){return!t||void 0===t.visible||!0===t.visible},updateWarningMessage:function(){var t=null!=this.error?this.error:"";this.getElem()&&this.getElem().find(".warning").text(t)},refresh:function(){var t=this.get("values"),e=this.get("selection");t=this.isSingleValue()?e:i.BaseControl.merge(t,e),this.values=t,this.initialize(this),this.isVisible(this)&&this.update(t)},set:function(t,i){if(e.extend(this,t),void 0!==t.values&&(this.isVisible(this)&&this.update(t.values),this.isSingleValue()?this.selection=t.values:this.isSingleSelect()?this.selection=s(t.values)[0]:this.selection=s(t.values)),void 0!==t.selection&&(this.isSingleValue()&&(this.values=t.selection),!i&&this.fireControlSelectionChangeEvent()),void 0!==t.disabled&&!this.get("readOnly")){var n=t.disabled;i||(n?this.disable():this.enable())}void 0!==t.error&&this.updateWarningMessage()},find:function(t){if(void 0!==t&&t&&"object"==n(t)){var i=e.keys(t)[0],s=e.values(t)[0];return e.find(this.get("values"),function(t){return t[i]===s})}},enable:function(){this.getElem().find("input").prop("disabled",!1),this.getElem().find("select").prop("disabled",!1)},disable:function(){this.getElem().find("input").prop("disabled",!0),this.getElem().find("select").prop("disabled",!0)}},{merge:function(t,i){return e.isNull(t)||e.isUndefined(t)?i:e.isNull(i)||e.isUndefined(i)?t:e.isArray(i)?e.map(t,function(t){return void 0!==e.find(i,function(e){return e===t.value})?t.selected=!0:delete t.selected,t}):this.merge(t,[i])}}),CHANGE_CONTROL:"changed:control"})}(a,r,o.Controls),i.exports=o.Controls}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/ui/widgets/sortable",["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return n=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),e.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===s||t.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],s))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||e+d>o&&e+d<r,p=u&&h
;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!s)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,o,r,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(o=t(c[n],this.document[0]),s=o.length-1;s>=0;s--)(r=t.data(o[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&l.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,c,d=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(s=t(h[i],this.document[0]),n=s.length-1;n>=0;n--)(o=t.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],n=0,c=a.length;n<c;n++)l=t(a[n]),l.data(this.widgetName+"-item",r),d.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]);return e._addClass(s,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(s,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,o,r,a,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&t.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,o=null,d=h.floating||this._isFloating(this.currentItem),r=d?"left":"top",a=d?"width":"height",u=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,e[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[u]-l)<s&&(s=Math.abs(e[u]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}),define("controls/controls.viewmodel",["require","exports","module","../namespace/namespace","underscore","jquery","runtime_dependencies/js-sdk/src/common/util/browserDetection","./controls.core","./controls.basecontrol","jquery-ui/ui/widgets/sortable"],function(t,e,i){var n=t("../namespace/namespace"),s=n.JRS,o=t("underscore"),r=t("jquery"),a=t("runtime_dependencies/js-sdk/src/common/util/browserDetection");t("./controls.core"),t("./controls.basecontrol"),t("jquery-ui/ui/widgets/sortable"),s.Controls=function(t,e,i){var n=a.isIE(),s=function(){var e,i=(new Date).getTime();return function(){var n=(new Date).getTime(),s=this;n-i>400&&(i=n,t(this).trigger("scrollstart")),clearTimeout(e),e=setTimeout(function(){t(s).trigger("scrollstop")},300)}}(),o=i.Base.extend({constructor:function(t){this.containerSelector=t&&t.containerSelector||i.ViewModel.DEFAULT_CONTAINER,this.controls={},i.getViewModel=e.bind(function(){return this},this),e.bindAll(this,"registerEvents","onControlChange","_getAllSlaveControlIds","_getParentControlIds"),this.registerEvents()},registerEvents:function(){i.ignore("changed:control",this.onControlChange),i.listen({"changed:control":this.onControlChange})},onControlChange:function(n,s){var o,r,a=s.slaveDependencies&&s.slaveDependencies.length;if(a){r=this._getAllSlaveControlIds(s.id);var l=this._getParentControlIds(r),c=e.union(r,l);o=this.get("selection"),e.isEmpty(c)||e.each(o,function(t,i){-1===e.indexOf(c,i)&&delete o[i]})}else o=this.get("selection");t(document).trigger(i.ViewModel.CHANGE_SELECTION,[o,r,a]),a||t(document).trigger(i.ViewModel.CHANGE_VALUES,[this.state])},_getAllSlaveControlIds:function(t){var i=[],n=this.findControl({id:t});return n&&!e.isEmpty(n.slaveDependencies)&&e.each(n.slaveDependencies,function(t){i.push(t),i.push.apply(i,this._getAllSlaveControlIds(t))},this),e.uniq(i)},_getParentControlIds:function(t){var i=[];return e.each(t,function(t){var e=this.findControl({id:t});i.push.apply(i,e.masterDependencies)},this),e.uniq(i)}},{DEFAULT_CONTAINER:"#inputControlsContainer",CHANGE_VALUES:"viewmodel:values:changed",CHANGE_SELECTION:"viewmodel:selection:changed",CHANGE_ORDER:"viewmodel:order:changed",isSelectionChanged:function(t,i){var n=t?e(t).keys():[],s=i?e(i).keys():[];if(e.union(n,s).length===n.length){var o=t?e.flatten(e(t).values()):[],r=i?e.flatten(e(i).values()):[];return e.difference(o,r).length>0||e.difference(r,o).length>0}return!0}}),r={getControls:function(){return this.controls},instantiate:function(t){this.controls={},e.each(t,this.createControl,this)},createControl:function(t){var e=function(t){for(var e in i)if(t.toLowerCase()===e.toLowerCase())return i[e]}(t.type);if(!e)throw new Error("Can not find implementation of the control type: "+t.type);return this.controls[t.id]=new e(t),this.controls[t.id]},removeControl:function(t){delete this.controls[t]},reorderControl:function(e,n){if(1!=this.structure.length){for(var s,o=e<n?1:-1,r=e<n?Math.min(e,n):Math.max(e,n),a=e<n?Math.max(e,n):Math.min(e,n),l=r;l!=a;l+=o)s=this.structure[l],this.structure[l]=this.structure[l+o],this.structure[l+o]=s;t(document).trigger(i.ViewModel.CHANGE_ORDER,[this.structure])}},set:function(n,s){if(n){if(e.extend(this,n),void 0!==n.structure){var o=n.structure;this.instantiate(o),this.draw(o)}if(void 0!==n.state){var r=n.state;this.update(r),!s&&t(document).trigger(i.ViewModel.CHANGE_VALUES,[n.state])}}},get:function(t){if(t){if("selection"===t){var i={};return e.each(this.getControls(),function(t){var n=t.get("selection");n instanceof Array?i[t.id]=n:e.isUndefined(n)||(i[t.id]=[n])}),i}return this[t]}},findControl:function(t){var i=e.keys(t)[0],n=e.values(t)[0];return e.find(this.getControls(),function(t){return t[i]===n})},pluck:function(t){return e.pluck(this.getControls(),t)}},l={draw:function(t){var i=this.getContainer();if(i.empty(),n&&(i.attr("js-stdnav","false"),i.attr("js-navtype","none")),e.each(t,function(t){if(t.visible){var e=this.findControl({id:t.id});e.makeResizable&&e.makeResizable(),i.append(e.getElem())}},this),window.Report&&window.Report.icReorderEnabled){var s=window.Controls.layouts.LAYOUT_TOP_OF_PAGE==Report.reportControlsLayout;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||this._initSortable({container:i,horizontalLayout:s})}},update:function(t){e.each(t,function(t,e){this.findControl({id:e}).set({values:t.values,error:t.error})},this)},getContainer:function(){return this.container&&1==this.container.length?this.container:(this.container=t(this.containerSelector),this.container)},removeValidationMessages:function(){e.each(this.getControls(),function(t){t.set({error:null})})},areAllControlsValid:function(){return e.isEmpty(e.filter(this.getControls(),function(t){return!t.isValid()}))},setContainer:function(e){this.container=t(e)},reloadContainer:function(){return this.container=t(this.containerSelector),this.container},disable:function(){e.each(this.getControls(),function(t){t.set({disabled:!0})})},enable:function(){e.each(this.getControls(),function(t){t.set({disabled:!1})})},_initSortable:function(i){var o=i.container,r=i.horizontalLayout,a=!1,l=this,c=t(o).sortable({delay:200,placeholder:r?"verticalPlaceholder":"horizontalPlaceholder",axis:r?"x":"y",items:"> .leaf",cancel:"input,textarea,button,select,option,.list.inputSet,.jr-mSizer",start:function(t,e){e.item.data("oldIndex",e.item.index()),a=!0},stop:e.bind(function(t,e){var i=e.item.data("oldIndex"),n=e.item.index();i!=n&&this.reorderControl(i,n),a=!1},this)});if(n){var d=i.parent||c.parent();d.off("scroll",s),d.off("scrollstart"),d.off("scrollstop"),d.on("scroll",s),d.on("scrollstart",function(){if(!a)try{c.sortable("destroy")}catch(t){}}),d.on("scrollstop",function(){!a&&l._initSortable({parent:d,container:o,horizontalLayout:r})})}}};return e.extend(o.prototype,r,l),e.extend(i,{ViewModel:o})}(r,o,s.Controls),i.exports=s.Controls}),define("runtime_dependencies/js-sdk/src/components/singleSelect/manager/KeyboardManager",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s=function(t){return this.initialize(t),this};n.extend(s.prototype,{systemKeyCodes:[16,17,18,91],keydownHandlers:{38:"onUpKey",40:"onDownKey",13:"onEnterKey",27:"onEscKey",36:"onHomeKey",35:"onEndKey",9:"onTabKey",33:"onPageUpKey",34:"onPageDownKey"},initialize:function(t){n.bindAll(this,"onKeydown"),t.keydownHandlers&&(this.keydownHandlers=t.keydownHandlers),this.stopPropagation=t.stopPropagation,this.keydownTimeout=t.keydownTimeout||200,this.context=t.context,this.deferredKeydownHandler=t.deferredKeydownHandler,this.immediateHandleCondition=t.immediateHandleCondition,this.immediateKeydownHandler=t.immediateKeydownHandler},onKeydown:function(t){this._isSystemKeyPressed(t)||(this._canImmediatelyHandleKeyboardEvent(t)?this._immediatelyHandleKeyboardEvent(t):this.deferredHandleKeyboardEvent(t),this.stopPropagation&&t.stopPropagation())},deferredHandleKeyboardEvent:function(t){this.deferredKeydownHandler&&(this.keydownTimeout>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(n.bind(this.deferredKeydownHandler,this.context,t),this.keydownTimeout)):this.deferredKeydownHandler.call(this.context,t))},_isSystemKeyPressed:function(t){return n.indexOf(this.systemKeyCodes,t.which)>-1},_immediateHandleCondition:function(t){return this.immediateHandleCondition&&this.immediateHandleCondition.call(this.context,t)},_canImmediatelyHandleKeyboardEvent:function(t){var e=this.keydownHandlers[""+t.which];return e&&"function"==typeof this.context[e]||this._immediateHandleCondition(t)},_immediatelyHandleKeyboardEvent:function(t){var e=this.keydownHandlers[""+t.which];e&&"function"==typeof this.context[e]?this.context[e].call(this.context,t):this._immediateHandleCondition(t)&&this.immediateKeydownHandler&&this.immediateKeydownHandler.call(this.context,t)}}),i.exports=s}),define("runtime_dependencies/js-sdk/src/components/scalableList/model/ScalableListModel",["require","exports","module","backbone","underscore"],function(t,e,i){var n=t("backbone"),s=t("underscore"),o=n.Model.extend({initialize:function(t){t=t||{},s.bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=t.getData,this.bufferSize=t.bufferSize||100,this.loadFactor=t.loadFactor||.95},_fetchComplete:function(t){this.attributes.total=t.total,this.set({items:t.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+t.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(t.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(t.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(t,e){if(void 0===this.get("bufferStartIndex")||void 0===this.get("bufferEndIndex"))return!0;if(t>=0&&t<this.get("bufferStartIndex")||e<this.get("total")&&e>this.get("bufferEndIndex"))return!0;if(t===this.get("bufferStartIndex")&&e===this.get("bufferEndIndex"))return!1;var i=1-(t-this.get("bufferStartIndex"))/this.bufferSize,n=1-(this.get("bufferEndIndex")-e)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&n>=this.loadFactor},afterFetchComplete:function(t,e){},fetchFailed:function(t,e){this.trigger("fetchFailed",t,e)},fetch:function(t){if(t=s.extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},t),t.force||this._isBufferReloadNecessary(t.top,t.bottom)){if(t.top!==this.attributes.bufferStartIndex||t.bottom!==this.attributes.bufferEndIndex||t.force){var e=t.top+Math.floor((t.bottom-t.top)/2),i=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,e-i),this.get("total")&&!t.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this.afterFetchComplete&&this.afterFetchComplete(this.get("items"),this.get("total"))},reset:function(t){this.attributes={},this.set({items:[]},{silent:!0}),t&&t.silent||this.trigger("change",this)}});i.exports=o}),define("runtime_dependencies/js-sdk/src/components/scalableList/model/BaseListWithSelectionModel",["require","exports","module","underscore","./ScalableListModel"],function(t,e,i){var n=t("underscore"),s=t("./ScalableListModel"),o=s.extend({initialize:function(t){s.prototype.initialize.call(this,t),this.select(t.value,{silent:!0})},_addToSelection:function(t,e){throw"Not implemented"},_removeFromSelection:function(t,e){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(t,e){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(t){t&&t.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(t,e,i){for(var n=0;n<t.length;n++)this._addToSelection(t[n].value,n+e);this.trigger("selection:addRange",{start:e,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(t,e){return this.getData().done(function(i){for(var n=0;n<i.data.length;n++)t(i.data[n].value,n);e&&e()}).fail(this.fetchFailed),this},addValueToSelection:function(t,e){return this.selectionStartIndex=e,this._addToSelection(t,e),this.trigger("selection:add",{value:t,index:e})},addRangeToSelection:function(t,e){if(void 0===this.selectionStartIndex)return void this.addValueToSelection(t,e);if(this.selectionStartIndex!==e){var i=Math.min(this.selectionStartIndex,e),n=Math.max(this.selectionStartIndex,e);if(this.selectionStartIndex=e,i>=this.get("bufferStartIndex")&&n<=this.get("bufferEndIndex")){var s=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),n-this.get("bufferStartIndex")+1);this._addRangeToSelection(s,i,n)}else{var o=this;this.getData({offset:i,limit:n-i+1}).done(function(t){o._addRangeToSelection(t.data,i,n)}).fail(this.fetchFailed)}}},removeValueFromSelection:function(t,e){this._removeFromSelection(t,e),this.trigger("selection:remove",{value:t,index:e})},toggleSelection:function(t,e){this.selectionContains(t,e)?this.removeValueFromSelection(t,e):this.addValueToSelection(t,e)},selectionContains:function(t,e){return this._selectionContains(t,e)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(t,e){throw"Not implemented"},selectAll:function(){var t=this,e=!0;this._fetchAllDataAndModifySelection(function(i,n){e&&(t._clearSelection(),e=!1),t._addToSelection(i,n)},n.bind(this._triggerSelectionChange,this))},invertSelection:function(){var t=this;this._fetchAllDataAndModifySelection(function(e,i){t._selectionContains(e,i)?t._removeFromSelection(e,i):t._addToSelection(e,i)},n.bind(this._triggerSelectionChange,this))}});i.exports=o}),define("runtime_dependencies/js-sdk/src/components/scalableList/model/ListWithSelectionModel",["require","exports","module","underscore","./BaseListWithSelectionModel"],function(t,e,i){var n=t("underscore"),s=t("./BaseListWithSelectionModel"),o=s.extend({_addToSelection:function(t,e){this.selection[e]=t},_removeFromSelection:function(t,e){this.selection[e]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(t,e){return this.selection[e]===t},_getSelection:function(){return this.selection},_isSelectionEmpty:function(t){if(!t)return!0;if(n.isArray(t)&&0===t.length)return!0;if(n.isArray(t)||"string"==typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&void 0!==t[e])return!1;return!0},_selectPendingSelection:function(t,e){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),t,e);else{var i=this;this.getData().done(function(n){i._convertInitialArrayToSelection(n.data,t,e)}).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(t,e,i){for(var n=0;n<t.length;n++)e[t[n].value]&&this._addToSelection(t[n].value,n);this._triggerSelectionChange(i)},_triggerSelectionChange:function(t){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),s.prototype._triggerSelectionChange.call(this,t)},_calcSelectionStartIndex:function(){if(void 0===this.selectionStartIndex)for(var t in this.selection)if(this.selection.hasOwnProperty(t)&&void 0!==this.selection[t]){this.selectionStartIndex=parseInt(t,10);break}},select:function(t,e){if(this._clearSelection(),this._isSelectionEmpty(t))return void this._triggerSelectionChange(e);if(n.isArray(t)||"string"==typeof t){var i={};if("string"==typeof t)i[t]=!0;else for(var s=0;s<t.length;s++)i[t[s]]=!0;this._selectPendingSelection(i,e)}else{for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];void 0!==r&&this._addToSelection(r,o)}this._triggerSelectionChange(e)}}});i.exports=o}),define("runtime_dependencies/js-sdk/src/components/scalableList/model/listWithNavigationModelTrait",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore"),s={activate:function(t,e){if("number"!=typeof t)return void this.setActive(n.extend({},e));if(e=e||{},t>=this.get("bufferStartIndex")&&t<=this.get("bufferEndIndex")){var i=this.get("items")[t-this.get("bufferStartIndex")];i&&this.setActive(n.extend(e,{index:t,item:i}))}else{var s=this;this.getData({offset:t,limit:1}).done(function(i){s.setActive(n.extend(e,{index:t,item:i.data[0]}))}).fail(this.fetchFailed)}},setActive:function(t){this.active&&t.index===this.active.index&&t.item.value===this.active.value||(this.active=t&&"number"==typeof t.index?{index:t.index,value:t.item.value,label:t.item.label}:void 0,t&&t.silent||(this.trigger("change"),this.trigger("active:changed",this.active)))},getActive:function(){return this.active}};i.exports=s}),
define("runtime_dependencies/js-sdk/src/components/singleSelect/model/SingleSelectListModel",["require","exports","module","underscore","../../scalableList/model/ListWithSelectionModel","../../scalableList/model/listWithNavigationModelTrait"],function(t,e,i){var n=t("underscore"),s=t("../../scalableList/model/ListWithSelectionModel"),o=t("../../scalableList/model/listWithNavigationModelTrait"),r=s.extend(o);r=r.extend({setActive:function(t){o.setActive.call(this,n.extend(t,{silent:!0}));var e={};"number"==typeof t.index&&(e[t.index]=t.item.value),this.select(e)},_convertInitialArrayToSelection:function(t,e,i){for(var n=0;n<t.length;n++)e[t[n].value]&&(this._addToSelection(t[n].value,n),this.getActive()||o.setActive.call(this,{index:n,item:t[n],silent:!0}));this._triggerSelectionChange(i)},_convertSelectionObject:function(t){for(var e in t)if(t.hasOwnProperty(e)&&void 0!==t[e]){var i=t[e];return{index:parseInt(e,10),value:i}}},_select:s.prototype.select,select:function(t,e){var i,s=!1;if(!t||"string"==typeof t||n.isArray(t))o.setActive.call(this,{silent:!0});else if(i=this._convertSelectionObject(t)){var r=this.getActive();r&&i.value===r.value&&i.index===r.index||(s=!0)}else o.setActive.call(this,{silent:!0});return s?this.activate(i.index):this._select(t,e),this}}),i.exports=r}),define("text!runtime_dependencies/js-sdk/src/components/scalableList/templates/viewPortChunksTemplate.htm",[],function(){return'{{_.each(chunks, function(chunk) { }}\n<div class="jr-jViewPortChunk" style="height: {{- chunk.height}}px">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n{{ }); }}\n'}),define("text!runtime_dependencies/js-sdk/src/components/scalableList/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>'}),define("runtime_dependencies/js-sdk/src/components/scalableList/view/ScalableList",["require","exports","module","jquery","backbone","underscore","../model/ScalableListModel","text!../templates/viewPortChunksTemplate.htm","text!../templates/itemsTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("../model/ScalableListModel"),a=t("text!../templates/viewPortChunksTemplate.htm"),l=t("text!../templates/itemsTemplate.htm"),c=s.View.extend({ListModel:r,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px; min-height: 100px;"},initialize:function(t){return o.bindAll(this,"_fetchVisibleData"),this.model=t.model||new this.ListModel(t),this.chunksTemplate=o.template(t.chunksTemplate||a),this.itemsTemplate=o.template(t.itemsTemplate||l),this.defaultChunkHeight=this.chunkHeight=t.chunkHeight||1e6,this.scrollTimeout=void 0!==t.scrollTimeout?t.scrollTimeout:50,this.manualScrollInterval=t.manualScrollInterval||50,this.lazy=t.lazy,this.defaultItemHeight=t.listItemHeight||21,this.listItemSelector=t.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(t){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData()},onModelChange:function(){this.renderData()},onFetchFailed:function(t,e){this.trigger("listRenderError",t,e)},postProcessChunkModelItem:function(t,e){t.index=this.model.get("bufferStartIndex")+e,void 0===t.label&&(t.label=t.value),t.label=n.trim(t.label)},_renderItems:function(){var t=this.model.get("bufferStartIndex"),e=this.model.get("bufferEndIndex"),i=this.itemsPerChunk?Math.ceil((t+1)/this.itemsPerChunk):1,s=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,o=this;this.$el.find(".jr-jViewPortChunk").each(function(r,a){var l=n(a),c=o._getChunkModel({index:r+1,firstChunkWithData:i,lastChunkWithData:s,bufferStart:t,bufferEnd:e,total:o.totalItems,itemsPerChunk:o.itemsPerChunk,itemHeight:o.itemHeight,chunkHeight:o.chunkHeight,model:o.model}),d=c?o.itemsTemplate(c):"",u=a.children[0];u&&a.removeChild(u),l.append(d)})},_renderViewChunks:function(t){var e,i=this;(this.totalItems!==this.model.get("total")||t)&&(this.totalItems=this.model.get("total"),e=Array.prototype.slice.call(this.$el[0].children),e.forEach(function(t){i.$el[0].removeChild(t)}),this.$el.append(this.chunksTemplate({_:o,chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".jr-jViewPortChunk:first"))},_getViewChunksModel:function(){for(var t=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,e=t>0?this.itemHeight?this.totalItems*this.itemHeight-(t-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;n<t;n++)i.push({height:this.chunkHeight});return i.push({height:e}),i},_calcViewPortConstants:function(){this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=2?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},resizeViewPort:function(t){this.viewPortHeight=t,this.$el.outerHeight(this.viewPortHeight),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1,this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems()},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._calcViewPortConstants(),this.itemsPerView},_getChunkModel:function(t){var e=t.index;if(e<t.firstChunkWithData||e>t.lastChunkWithData)return null;var i=t.itemsPerChunk?Math.max(t.bufferStart,t.itemsPerChunk*(e-1)):t.bufferStart,n=t.itemsPerChunk?Math.min(t.bufferEnd,t.itemsPerChunk*e-1):t.bufferEnd,s=t.itemHeight?i*t.itemHeight-(e-1)*t.chunkHeight:0,r=Array.prototype.slice.call(t.model.get("items"),i-t.bufferStart,n-t.bufferStart+1);return o.each(r,function(e,n){this.postProcessChunkModelItem(e,n+(i-t.bufferStart))},this),{top:s,items:r}},_fetchVisibleData:function(){var t=this._getVisibleItems();this.model.fetch({top:t.top,bottom:t.bottom})},_getVisibleItems:function(){var t=this._getScrollPos(),e=this.model.get("total"),i=Math.min(e-this.itemsPerView,Math.floor(t/this.itemHeight));return{top:i,bottom:Math.min(e-1,i+this.itemsPerView+1)}},_getScrollPos:function(){this._calcViewPortConstants();var t=0;if(this.$firstViewChunk){var e=this.$el.offset(),i=this.$firstViewChunk.offset();e&&i&&(t=e.top-i.top)}return t},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?(this.trigger("before:render:data"),this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")):(this.lazy=null,this.model.fetch()),this},resize:function(){if(this.$el.is(":visible")){var t=this.$el.outerHeight();t!==this._componentHeight&&(this._componentHeight=t,this.viewPortConstantsInitialized=!1,this._calcViewPortConstants())}},fetch:function(t,e){this.lazy=!1,e=e||{};var i;e.keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0,lazy:!1}),this.model.once("change",function(){e.keepPosition&&this.$el.scrollTop(i),t&&t.apply(this,arguments)},this).fetch({force:!0})},reset:function(t){t=o.defaults(t||{},{lazy:!0}),this.$el.scrollTop(0),this.lazy=t.lazy,this.model.reset(t)},scrollTo:function(t){if("number"==typeof t){var e=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=t*this.itemHeight;n<e?i=n:n+this.itemHeight>e+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});i.exports=c}),define("runtime_dependencies/js-sdk/src/components/scalableList/view/ListWithSelection",["require","exports","module","jquery","underscore","../model/ListWithSelectionModel","./ScalableList"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("../model/ListWithSelectionModel"),r=t("./ScalableList"),a={LEFT:"left",RIGHT:"right"},l=r.extend({ListModel:o,initialize:function(t){return s.bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=t.eventListenerPattern||"li",this.markerClass=t.markerClass?t.markerClass:"",this.selectedClass=t.selectedClass?t.selectedClass:"jr-isSelected",this._initSelection(t.selection),r.prototype.initialize.call(this,t)},delegateEvents:function(){var t=r.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,s.bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,s.bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,s.bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("click",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)),t},undelegateEvents:function(){var t=r.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mouseup").off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("click").off("mouseout").off("mouseover"),t},_initSelection:function(t){t=s.extend({allowed:{}},t);var e=t.allowed,i=s.isObject(e)?e.left:e;this.selection={allowed:{left:void 0===i||i,right:void 0!==e.right&&e.right},multiple:void 0===t.multiple||t.multiple}},initListeners:function(){r.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),n("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(t,e){r.prototype.postProcessChunkModelItem.call(this,t,e),t.selected=this.model.selectionContains&&this.model.selectionContains(t.value,t.index)},onMousedblclick:function(t){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var e=this._getDomItemData(t.currentTarget);this._singleSelect(t,e.value,e.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(t){return this._getDomItemData(t.currentTarget).item},onItemEvent:function(t,e){var i=e.type,n=this.getItemByEvent(e);this.trigger("list:item:"+i,n,e)},onMousedown:function(t){if(!this.getDisabled()&&(this.selection.allowed.left&&1===t.which||this.selection.allowed.right&&3===t.which)){var e=1===t.which?a.LEFT:a.RIGHT;this.selection.multiple&&(this[e+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(t));var i=this._getDomItemData(t.currentTarget);this.selection.multiple?this._multiSelect(t,i.value,i.index):this._singleSelect(t,i.value,i.index)}},onMousemove:function(t){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(t,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(t);var e=this._getDomItemData(t.currentTarget);this.model.selectionContains(e.value,e.index)||this.model.addRangeToSelection(e.value,e.index)}},onGlobalMouseup:function(t){var e=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(s.each(a,function(t){e[t+"MouseButtonPressed"]=!1}),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(t){this._allowMouseMoveSelection()&&(this.mousePosY=t.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(t){this._selectItemByIndex(t.index),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(t){var e=this,i=Math.max(this.model.get("bufferStartIndex"),t.start),s=Math.min(this.model.get("bufferEndIndex"),t.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each(function(){var t=n(this),o=parseInt(t.attr("data-index"),10);if(o>=i&&o<=s){var r=e.model.get("items")[o-e.model.get("bufferStartIndex")];e.model.selectionContains(r.value,o)&&t.addClass(e.selectedClass)}}),this.selectionChanged=!0},deselectValue:function(t){this._deselectItemByIndex(t.index),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_selectItemByIndex:function(t){this.$el.find("li"+this.markerClass+"[data-index='"+t+"']:not(."+this.selectedClass+")").addClass(this.selectedClass)},_deselectItemByIndex:function(t){this.$el.find("li[data-index='"+t+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass)},_autoScroll:function(){var t,e=this.$el.offset().top,i=this.$el.scrollTop(),n=void 0!==this.scrollTop?this.scrollTop:i,s=!1;this.mousePosY<e?(t=n-3*this.itemHeight,s=t<i):this.mousePosY>e+this.viewPortHeight&&(t=n+3*this.itemHeight,s=t>i),s&&(this.$el.scrollTop(t),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,t)},_selectRangeOnAutoScroll:function(t,e){var i;if(t<e?i=this._getVisibleItems().bottom:t>e&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(t,e,i){t.shiftKey?this.model.addRangeToSelection(e,i):t.ctrlKey||t.metaKey?this._singleSelect(t,e,i):this.model.toggleSelection(e,i)},_singleSelect:function(t,e,i){this.model.clearSelection().addValueToSelection(e,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(t){for(var e=n(t),i=e.attr("data-index");void 0===i;)e=e.parent(),i=e.attr("data-index");i=parseInt(i,10);var s=this.model.get("items")[i-this.model.get("bufferStartIndex")];return{item:s,value:s.value,index:i}},_mouseMoved:function(t,e){return Math.abs(e.x-t.clientX)+Math.abs(e.y-t.clientY)>=1},_getMousePos:function(t){return{x:t.clientX,y:t.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(t,e){return e=e||{},e&&e.silent||e.modelOptions&&e.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),e=e.modelOptions,this.model.select(t,e),this},selectAll:function(t){return t&&t.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(t){return this.setValue({},t)},invertSelection:function(t){return t&&t.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(t){return this.disabled=t,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return n("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),r.prototype.remove.call(this)}});i.exports=l}),define("runtime_dependencies/js-sdk/src/components/scalableList/view/ListWithNavigation",["require","exports","module","./ListWithSelection","../model/ListWithSelectionModel","../model/listWithNavigationModelTrait"],function(t,e,i){var n=t("./ListWithSelection"),s=t("../model/ListWithSelectionModel"),o=t("../model/listWithNavigationModelTrait"),r=n.extend({canActivate:!0,initialize:function(t){t=t||{};var e=s.extend(o);t.model=t.model||new e(t),n.prototype.initialize.call(this,t)},onMousemove:function(t){if(n.prototype.onMousemove.call(this,t),!this.mouseMovePos||this._mouseMoved(t,this.mouseMovePos)){this.mouseMovePos=this._getMousePos(t);var e=this._getDomItemData(t.currentTarget);this.activate(e.index)}},setCanActivate:function(t){this.canActivate=t},getCanActivate:function(){return this.canActivate&&!this.getDisabled()},activateFirst:function(){this.activate(0)},activateLast:function(){this.activate(Math.max(0,this.model.get("total")-1))},activateNext:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+1))},activatePrevious:function(){this.activate(Math.max(0,this._getActiveIndex()-1))},pageDown:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+this._getItemsPerView()))},pageUp:function(){this.activate(Math.max(0,this._getActiveIndex()-this._getItemsPerView()))},getActiveValue:function(){return this.model.getActive&&this.model.getActive()},activate:function(t,e){if(this.getCanActivate()){var i=this.getActiveValue();if(i&&i.index===t)return;if(!e||!e.silent){var n=this;this.model.once("active:changed",function(){n.trigger("active:changed",n.getActiveValue())})}this.model.activate(t,e)}},postProcessChunkModelItem:function(t,e){n.prototype.postProcessChunkModelItem.call(this,t,e);var i=this._getActiveIndex&&this._getActiveIndex();t.active=void 0!==i&&i===this.model.get("bufferStartIndex")+e},_getActiveIndex:function(){var t=this.getActiveValue();return t&&t.index}});i.exports=r}),define("runtime_dependencies/js-sdk/src/components/singleSelect/view/SingleSelectList",["require","exports","module","underscore","../model/SingleSelectListModel","../../scalableList/view/ListWithNavigation"],function(t,e,i){var n=t("underscore"),s=t("../model/SingleSelectListModel"),o=t("../../scalableList/view/ListWithNavigation"),r=o.extend({events:n.extend({},o.prototype.events,{"mouseup li":"onMouseup"}),initialize:function(t){var e=t.model||new s(t);o.prototype.initialize.call(this,n.extend({model:e,lazy:!0,selection:{allowed:!0,multiple:!1}},t))},onMouseup:function(){this.trigger("item:mouseup")},activate:function(t){if(this.getCanActivate()){var e=this.getActiveValue();if(e&&e.index===t)return;this.model.once("selection:change",this._triggerSelectionChanged,this).activate(t)}}});i.exports=r}),define("runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/SearcheableDataProvider",["require","exports","module","jquery","underscore"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=function(t){s.bindAll(this,"getData","_filterValues","_shouldFilter"),this.indexMapping={},this.internalGetData=t.getData};s.extend(o.prototype,{getData:function(t){var e=new n.Deferred;if(t&&void 0!==t.criteria)return this.dataCache=null,this.criteria=t.criteria,e.resolve(),e.promise();var i=this;return i._shouldFilter()?(this.dataCache?this._resolvePromise(t,e):this.internalGetData().done(function(n){i.indexMapping={},i.reverseIndexMapping={},i.dataCache=i._filterValues(n.data),i._resolvePromise(t,e)}).fail(e.reject),e.promise()):(this.indexMapping=null,this.reverseIndexMapping=null,this.dataCache=null,this.internalGetData(t))},getIndexMapping:function(){return this.indexMapping},getReverseIndexMapping:function(){return this.reverseIndexMapping},_resolvePromise:function(t,e){var i=t&&t.offset?t.offset:0,n=t&&t.limit?i+t.limit:this.dataCache.length,s=this._getDataSegment(this.dataCache,i,n);e.resolve({data:s,total:this.dataCache.length})},_shouldFilter:function(){return this.criteria},_filterValues:function(t){for(var e=[],i=0,n=0;n<t.length;n++){var s=t[n];(void 0===s.label?s.value:s.label).toLowerCase().indexOf(this.criteria.toLowerCase())>-1&&(e[i]=s,this.indexMapping[i]=n,this.reverseIndexMapping[n]=i,i+=1)}return e},_getDataSegment:function(t,e,i){i=Math.min(i,t.length);for(var n=[],s=e;s<i;s++)n.push({label:t[s].label,value:t[s].value});return n}}),i.exports=o}),define("runtime_dependencies/js-sdk/src/components/singleSelect/manager/DropDownManager",["require","exports","module","underscore","jquery"],function(t,e,i){var n=t("underscore"),s=t("jquery"),o=s("body"),r=function(t){return this.initialize(t),this};n.extend(r.prototype,{initialize:function(t){n.bindAll(this,"checkOffset","setNewOffset"),this.$dropDownEl=t.dropDownEl,this.calcOffset=t.calcOffset,this.isOffsetChanged=t.isOffsetChanged||this._isOffsetChanged,this.recalcInterval=t.recalcInterval||500,this.onOffsetChanged=t.onOffsetChanged},startCalc:function(){this.checkOffset(this.setNewOffset),clearInterval(this.recalcTimer),this.recalcTimer=setInterval(n.bind(this.checkOffset,this,this.onOffsetChanged),this.recalcInterval)},stopCalc:function(){clearInterval(this.recalcTimer)},checkOffset:function(t){var e=this.calcOffset(),i=this.$dropDownEl.position(),n=o.offset();(n.top||n.left)&&(i.top+=n.top,i.left+=n.left),this.$dropDownEl.width()!==e.width&&this.setNewOffset(e),this.isOffsetChanged(i,e)&&t&&t(e)},setNewOffset:function(t){this.$dropDownEl.css("top",t.top-o.offset().top).css("left",t.left-o.offset().left).css("width",t.width)},_isOffsetChanged:function(t,e){return Math.floor(t.top)!==Math.floor(e.top)||Math.floor(t.left)!==Math.floor(e.left)}}),i.exports=r}),define("text!runtime_dependencies/js-sdk/src/components/singleSelect/templates/singleSelectTemplate.htm",[],function(){return'<div class="jr-mSingleselect jr">\n\n    <js-templateNonce></js-templateNonce>\n    <a class="jr-mSingleselect-input jr">\n        <span class="jr-mSingleselect-input-placeholder jr">{{- i18n[\'sic.singleselect.select.one\'] }}</span>\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\n        <div class="jr-mSingleselect-input-expander jr"></div>\n    </a>\n    <div class="jr-mSingleselect-search jr">\n        <input type="text" placeholder="{{- i18n[\'sic.multiselect.search\'] }}" class="jr-mInput-search jr" value="{{- value}}">\n    </div>\n</div>\n'}),define("text!runtime_dependencies/js-sdk/src/components/singleSelect/templates/singleSelectTemplate_IE10_11.htm",[],function(){return'<div class="jr-mSingleselect jr">\n\n    <js-templateNonce></js-templateNonce>\n    <a class="jr-mSingleselect-input jr">\n        <span class="jr-mSingleselect-input-placeholder jr">Click to select item...</span>\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\n        <div class="jr-mSingleselect-input-expander jr"></div>\n    </a>\n    <div class="jr-mSingleselect-search jr">\n        <input type="text" class="jr-mInput-search jr" value="{{- value}}">\n    </div>\n</div>\n'}),define("text!runtime_dependencies/js-sdk/src/components/singleSelect/templates/listTemplate.htm",[],function(){return'<div class="jr-mScalablelist jr" draggable="false" ondragstart="return false" unselectable="on" onselectstart="return false">\n\n    <js-templateNonce></js-templateNonce>\n</div>'}),define("text!runtime_dependencies/js-sdk/src/components/singleSelect/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>'}),define("text!runtime_dependencies/js-sdk/src/components/singleSelect/templates/dropDownTemplate.htm",[],function(){return'<div class="jr-mSingleselect-dropdownContainer jr">\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mSingleselect-dropdown jr"></div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/components/singleSelect/view/SingleSelect",["require","exports","module","jquery","backbone","underscore","../manager/KeyboardManager","./SingleSelectList","../model/SingleSelectListModel","../dataprovider/SearcheableDataProvider","../manager/DropDownManager","text!../templates/singleSelectTemplate.htm","text!../templates/singleSelectTemplate_IE10_11.htm","text!../templates/listTemplate.htm","text!../templates/itemsTemplate.htm","text!../templates/dropDownTemplate.htm","bundle!ScalableInputControlsBundle","../../../common/util/browserDetection","../../../common/util/xssUtil"],function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("jquery"),o=t("backbone"),r=t("underscore"),a=t("../manager/KeyboardManager"),l=t("./SingleSelectList"),c=t("../model/SingleSelectListModel"),d=t("../dataprovider/SearcheableDataProvider"),u=t("../manager/DropDownManager"),h=t("text!../templates/singleSelectTemplate.htm"),p=t("text!../templates/singleSelectTemplate_IE10_11.htm"),m=t("text!../templates/listTemplate.htm"),f=t("text!../templates/itemsTemplate.htm"),g=t("text!../templates/dropDownTemplate.htm"),b=t("bundle!ScalableInputControlsBundle"),v=t("../../../common/util/browserDetection"),_=t("../../../common/util/xssUtil"),y=s("body"),C=o.View.extend({events:function(){return{keydown:this.keyboardManager.onKeydown,input:this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur",mousedown:"onMousedown",mouseup:"onMouseup","click .jr-mSingleselect-input":"onClickOnInput"}},initialize:function(t){r.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onGlobalMousemove","onMousedown","calcOffsetForListView","collapse"),this.model||(this.model=new o.Model),this.model.set("expanded",!1,{silent:!0}),this.model.set("criteria","",{silent:!0}),this.model.set("value",{},{silent:!0});var e=h;(v.isIE10()||v.isIE11())&&(e=p),this.dropUpDirection=!1,this.label=t.label,this.template=r.template(t.template||e),this.dropDownTemplate=r.template(t.dropDownTemplate||g),this.keyboardManager=new a({keydownTimeout:t.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(t),this.listView=this._createListView(t),this.render(),this.dropDownManager=new u({dropDownEl:this.$dropDownElContainer,calcOffset:this.calcOffsetForListView,isOffsetChanged:this.isDimensionsChangedforListView,onOffsetChanged:this.collapse}),this.initListeners(),this.setValue(t.value,{modelOptions:{silent:!0}})},_createListView:function(t){return new l({el:t.listElement||s(m),model:this.listViewModel,chunksTemplate:t.chunksTemplate,itemsTemplate:t.itemsTemplate||f,scrollTimeout:t.scrollTimeout})},_createListViewModel:function(t){return this.searcheableDataProvider=new d({getData:t.getData}),new c({getData:this._getGetData(),bufferSize:t.bufferSize,loadFactor:t.loadFactor})},_getGetData:function(){return this.searcheableDataProvider.getData},_getActiveValueIndex:function(t){var e=this.searcheableDataProvider.getIndexMapping();return e?e[t.index]:t.index},initListeners:function(){this.listenTo(this.listView,"selection:change",this.selectionChange,this),this.listenTo(this.listView,"item:mouseup",this.itemMouseup,this),this.listenTo(this.listView,"listRenderError",this.listRenderError,this),this.listenTo(this.model,"change:expanded",this.changeExpandedState,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),this.$dropDownEl.on("mousedown",this.onMousedown),y.on("mousedown",this.onGlobalMousedown).on("dataavailable",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},render:function(){var t=s(this.template({label:this.label,isIPad:v.isIPad(),value:this.model.get("value").label,expanded:this.model.get("expanded"),i18n:b}));return this.renderListView(),this.$el.empty(),this.$el.append(t),this.$singleSelect=t,this.$searchBlock=this.$el.find(".jr-mSingleselect-search"),this.$inputBlock=this.$el.find(".jr-mSingleselect-input"),this.$input=this.$searchBlock.find("input"),this},renderListView:function(){this.listRendered||(this.$dropDownElContainer=s(this.dropDownTemplate({isIPad:"iPad"===navigator.platform})),this.$dropDownEl=this.$dropDownElContainer.find(".jr-mSingleselect-dropdown"),this.listView.undelegateEvents(),this.$dropDownEl.append(this.listView.$el),y.append(this.$dropDownElContainer),this.listView.delegateEvents(),this.listRendered=!0),this.$scalablelist=this.$dropDownElContainer.find(".jr-mScalablelist"),this.model.get("expanded")?this.$dropDownElContainer.show():this.$dropDownElContainer.hide()},renderData:function(){return this.listView.renderData(),this},listRenderError:function(t,e){this.trigger("listRenderError",t,e)},itemMouseup:function(){if(!this.model.get("disabled")){delete this.preventBlur,this.$input.focus();var t=this.model.get("activeValue");t.value!==this.model.get("value").value?(this.model.unset("activeValue"),this.model.set("value",t)):this.collapse()}},selectionChange:function(){var t=this.listView.getActiveValue();t?(this.listView.scrollTo(t.index),this.model.set("activeValue",{value:t.value,label:t.label,index:this._getActiveValueIndex(t)}),this.updateValueFromActive()):this.model.unset("activeValue")},onClickOnInput:function(){this.model.get("expanded")?this.collapse():this.expand()},onFocus:function(){this.model.get("expanded")||this.$inputBlock.addClass("jr-isFocused")},onBlur:function(){this.preventBlur||(this.collapse(),this.$inputBlock.removeClass("jr-isFocused"))},onMousedown:function(){this.preventBlur=!0},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.model.get("expanded")&&this.$input.focus())},changeExpandedState:function(t){t.get("expanded")?this.doExpand():this.doCollapse()},changeValue:function(){this.collapse(),this.updateControlLabel(),this.silent?delete this.silent:this.trigger("selection:change",this.model.get("value").value),this.$input.val(""),this.model.set("criteria","")},changeDisabled:function(){var t=this.model.get("disabled");t?(this.$input.attr("disabled","disabled"),this.collapse()):this.$input.removeAttr("disabled"),this.listView.setDisabled(t)},onGlobalMousedown:function(t){if(this.model.get("expanded")){if(t.target===this.el||this.$el.find(t.target).length>0||t.target===this.$dropDownEl[0]||this.$dropDownEl.find(t.target).length>0)return void this.$input.focus();this.preventBlur=!1}this.onBlur()},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(t){this.preventBlur&&t.stopPropagation()},
onUpKey:function(){if(this.model.get("expanded")){var t=this.listView.getActiveValue();if(!t||0===t.index)return void this.collapse();this.listView.activatePrevious()}else this.expand()},onDownKey:function(){if(this.model.get("expanded")){this.listView.getActiveValue()?this.listView.activateNext():this.listView.activateFirst()}else this.expand()},onEnterKey:function(t){t.preventDefault(),this.model.get("expanded")?this.model.get("activeValue")?this.itemMouseup():this.collapse():this.expand()},onEscKey:function(){this.model.get("expanded")&&this.collapse()},onHomeKey:function(){this.model.get("expanded")?this.listView.activateFirst():this.expand()},onEndKey:function(){this.model.get("expanded")?this.listView.activateLast():this.expand()},onPageUpKey:function(){this.model.get("expanded")?this.listView.pageUp():this.expand()},onPageDownKey:function(){this.model.get("expanded")?this.listView.pageDown():this.expand()},onTabKey:function(){},updateDropDirection:function(){var t=s("html").scrollTop(),e=this.$el.offset(),i=this.$el.height(),n=this.$searchBlock.outerHeight(),o=e.top-t,r=s(window).height()-o-i;this.dropUpDirection=o>r;var a=this.dropUpDirection?o:r;a-=n+i,this.$scalablelist.css("max-height",a+"px")},doExpand:function(){this.updateDropDirection(),this.dropUpDirection&&(this.$dropDownEl.addClass("jr-mSingleselect-dropdownTop"),this.$singleSelect.addClass("jr-mSingleselectTop")),this.$searchBlock.addClass("jr-isOpen"),this.$inputBlock.addClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isFocused"),this.$input.focus(),this.listView.onScroll(),this.expandListView(),this.listView.lazy?this.listView.fetch(r.bind(this.listView.resize,this.listView)):this.listView.resize(),void 0!==this.model.get("value").value&&this.setValueToList(),this.trigger("expand",this)},expandListView:function(){this.$dropDownElContainer.show(),this.dropDownManager.startCalc()},doCollapse:function(){this.model.unset("activeValue"),this.$searchBlock.removeClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isOpen"),this.$dropDownEl.removeClass("jr-mSingleselect-dropdownTop"),this.$singleSelect.removeClass("jr-mSingleselectTop"),this.$inputBlock.addClass("jr-isFocused"),this.$input.val(""),this.$dropDownElContainer.hide(),this.model.set("criteria",""),this.dropDownManager.stopCalc(),this.trigger("collapse",this)},calcOffsetForListView:function(){var t,e=this.$el.offset(),i=y.offset().left+e.left,n=this.$el.height();return t=this.dropUpDirection?y.offset().top+e.top-this.$searchBlock.outerHeight():y.offset().top+e.top+n+this.$searchBlock.height(),{top:t,left:i,width:this.el.getBoundingClientRect().width}},isDimensionsChangedforListView:function(t,e){return Math.floor(t.top)!==Math.floor(e.top)||Math.floor(t.left)!==Math.floor(e.left)},immediateHandleCondition:function(t){return!this.model.get("expanded")},immediateKeydownHandler:function(t){this.expand(),this.keyboardManager.deferredHandleKeyboardEvent(t)},processKeydown:function(){this.model.set("criteria",this.$input.val())},changeFilter:function(){var t=this;this._getGetData()({criteria:this.model.get("criteria")}).done(function(){t.listView.fetch(function(){t.setValueToList()})})},setValueToList:function(t){var e=this.model.get("value"),i=e.value;if(void 0!==e.index){var n=this.searcheableDataProvider.getReverseIndexMapping(),s=n?n[e.index]:e.index;i={},void 0!==s&&(i[s]=e.value)}this.listView.setValue(i,t)},convertExternalValueToInternalFormat:function(t){var e={};if(void 0!==t)if("string"==typeof t||null===t)e={value:t};else for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]){e="object"===n(t[i])?{value:t[i].value,index:parseInt(i,10),label:t[i].label}:{value:t[i],index:parseInt(i,10)};break}return e},updateValueFromActive:function(){var t=this.model.get("value"),e=this.model.get("activeValue");t.value===e.value&&void 0===t.label&&(t.label=e.label,this.updateControlLabel())},updateControlLabel:function(){var t,e=this.model.get("value"),i=this.$inputBlock.find(".jr-mSingleselect-input-placeholder"),n=this.$inputBlock.find(".jr-mSingleselect-input-selection");r.isEmpty(e)||null==e.value?(i.removeClass("jr-isHidden"),this.render()):(t=this.getControlLabelByValue(e),i.addClass("jr-isHidden"),this.$inputBlock.attr("title",t),n.html(_.hardEscape(t)))},getControlLabelByValue:function(t){return null==t.label?t.value:t.label},fetch:function(t,e){return this.listView.fetch(t,e),this},reset:function(t){return this.listView.reset(t),this},expand:function(){if(!this.model.get("disabled"))return this.model.set("expanded",!0),this},collapse:function(){return this.model.set("expanded",!1),this},getValue:function(){return this.model.get("value").value},setValue:function(t,e){var t=this.convertExternalValueToInternalFormat(t);e&&e.silent&&(this.silent=!0),this.model.set("value",t),this.setValueToList()},setDisabled:function(t){return this.model.set("disabled",t),this},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.$dropDownEl.off("mousedown",this.onMousedown).remove(),this.listView.remove(),this.$dropDownElContainer.remove(),o.View.prototype.remove.call(this),y.off("mousedown",this.onGlobalMousedown).off("dataavailable",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove)}});i.exports=C}),define("runtime_dependencies/js-sdk/src/components/scalableList/util/domAndCssUtil",["require","exports","module","underscore","jquery"],function(t,e,i){var n=t("underscore"),s=t("jquery");i.exports={doCalcOnVisibleNodeClone:function(t){if(!t||!t.el)throw"Missing required option: el";if(n.defaults(t,{css:{},classes:"",container:"<div/>",appendTo:"body",callback:function(){throw"no callback was defined"},alwaysClone:!1,cloneHandlers:!1}),n.defaults(t.css,{position:"absolute",left:"-9999px"}),!t.alwaysClone&&s(t.el).is(":visible"))t.callback(s(t.el));else{var e=s(t.el).clone(),i=s(t.container).css(t.css).addClass(t.classes).appendTo(s(t.appendTo)).append(e);t.callback(e),i.remove()}}}}),define("runtime_dependencies/js-sdk/src/components/scalableList/model/ListWithSelectionAsObjectHashModel",["require","exports","module","underscore","./BaseListWithSelectionModel"],function(t,e,i){var n=t("underscore"),s=t("./BaseListWithSelectionModel"),o=s.extend({_addToSelection:function(t,e){this.selection[t]=!0},_removeFromSelection:function(t,e){delete this.selection[t]},_clearSelection:function(){this.selection={}},_selectionContains:function(t,e){return this.selection[t]},_getSelection:function(){return n.keys(this.selection)},select:function(t,e){if(this._clearSelection(),"string"==typeof t)this._addToSelection(t);else if(n.isArray(t))for(var i=0;i<t.length;i++)this._addToSelection(t[i]);else if(void 0!==t)for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];void 0!==o&&this._addToSelection(o,s)}this._afterSelect&&this._afterSelect(t,e),this._triggerSelectionChange(e)}});i.exports=o}),define("runtime_dependencies/js-sdk/src/components/multiSelect/mixin/scalableListItemHeightCalculationTrait",["require","exports","module","jquery","../../scalableList/model/ScalableListModel","../../../common/util/browserDetection","../../scalableList/util/domAndCssUtil"],function(t,e,i){var n=t("jquery"),s=t("../../scalableList/model/ScalableListModel"),o=t("../../../common/util/browserDetection"),r=t("../../scalableList/util/domAndCssUtil"),a=r.doCalcOnVisibleNodeClone,l={render:function(){return this._itemHeightSet||(this._calcItemHeight(),this._itemHeightSet=!0),this},_calcItemHeight:function(){var t=this;this._model=this.model,this._lazy=this.lazy,this._visibility=this.$el.css("visibility"),this._display=this.$el.css("display"),this.model=new s({getData:function(){var t=new n.Deferred;return t.resolve({total:1,data:[{value:"test value",label:"test label"}]}),t}}),this.$el.css({visibility:"hidden",display:"block"}),this.model.once("change",this.onModelChange,this),this.renderData(),a({el:this.$el,css:{width:"100px"},classes:" jr "+(o.isIPad()?"ipad":""),callback:function(e){t.itemHeight=e.find("li").outerHeight(!0),t.itemsPerChunk=Math.floor(t.defaultChunkHeight/t.itemHeight),t.chunkHeight=t.itemsPerChunk*t.itemHeight}}),this.$el.empty().css({visibility:this._visibility,display:this._display}),delete this._visibility,delete this._display,this.totalItems=void 0,this.$firstViewChunk=void 0,this.model=this._model,delete this._model,this.lazy=this._lazy,this._lazy&&delete this._lazy},_calcViewPortConstants:function(){if(!this.viewPortConstantsInitialized){if(!this._itemHeightSet)return;this._calcViewPortHeight(),this._renderViewChunks(!0),this._renderItems(),this.viewPortConstantsInitialized=!0}}};i.exports=l}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/availableItemsTemplate.htm",[],function(){return'<div class="jr-mMultiselect-search jr">\n\n    <js-templateNonce></js-templateNonce>\n    <input class="jr-mInput-search jr" type="text" placeholder="{{- i18n[\'sic.multiselect.search\']}}">\n</div>\n\n<div class="jr-mMultiselect-list jr"></div>\n\n<div class="jr-mMultiselect-buttonContainer jr">\n    <ul class="jr-mItemselector jr">\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-checkmark jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\n            </a>\n        </li>\n    </ul>\n</div>\n'}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/availableItemsTemplate_IE10_11.htm",[],function(){return'<div class="jr-mMultiselect-search jr">\n\n    <js-templateNonce></js-templateNonce>\n    <input class="jr-mInput-search jr" type="text">\n</div>\n\n<div class="jr-mMultiselect-list jr"></div>\n\n<div class="jr-mMultiselect-buttonContainer jr">\n    <ul class="jr-mItemselector jr">\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-checkmark jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\n            </a>\n        </li>\n\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\n            <a class="jr-mItemselector-button-label jr">\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\n            </a>\n        </li>\n    </ul>\n</div>'}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/listTemplate.htm",[],function(){return'<div class="jr-mScalablelist jr j-scalable-list" onselectstart="return false" unselectable="on" ondragstart="return false" draggable="false">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/components/multiSelect/view/AvailableItemsList",["require","exports","module","jquery","backbone","underscore","../../../common/util/browserDetection","bundle!ScalableInputControlsBundle","../../singleSelect/manager/KeyboardManager","../../scalableList/view/ListWithNavigation","../../scalableList/util/domAndCssUtil","../../scalableList/model/listWithNavigationModelTrait","../../scalableList/model/ListWithSelectionAsObjectHashModel","../mixin/scalableListItemHeightCalculationTrait","text!../templates/availableItemsTemplate.htm","text!../templates/availableItemsTemplate_IE10_11.htm","text!../templates/listTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("../../../common/util/browserDetection"),a=t("bundle!ScalableInputControlsBundle"),l=t("../../singleSelect/manager/KeyboardManager"),c=t("../../scalableList/view/ListWithNavigation"),d=t("../../scalableList/util/domAndCssUtil"),u=t("../../scalableList/model/listWithNavigationModelTrait"),h=t("../../scalableList/model/ListWithSelectionAsObjectHashModel"),p=t("../mixin/scalableListItemHeightCalculationTrait"),m=t("text!../templates/availableItemsTemplate.htm"),f=t("text!../templates/availableItemsTemplate_IE10_11.htm"),g=t("text!../templates/listTemplate.htm"),b=d.doCalcOnVisibleNodeClone,v=[{selector:".jr-jSelectAll",strings:[a["sic.multiselect.selectAll"],a["sic.multiselect.all"],""]},{selector:".jr-jSelectNone",strings:[a["sic.multiselect.deselectAll"],a["sic.multiselect.none"],""]},{selector:".jr-jInvert",strings:[a["sic.multiselect.inverse"],""]}],_=s.View.extend({className:"jr-mMultiselect-listContainer jr-isActive jr",events:function(){return{"keydown input.jr-mInput-search":this.keyboardManager.onKeydown,"focus input.jr-mInput-search":"onFocus","blur input.jr-mInput-search":"onBlur","click .jr-jSelectAll":"onSelectAll","click .jr-jSelectNone":"onSelectNone","click .jr-jInvert":"onInvertSelection","click input.jr-mInput-search":"onClickOnInput","touchend input.jr-mInput-search":"onClickOnInput",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:o.extend({65:"onAKey"},l.prototype.keydownHandlers),initialize:function(t){o.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onResize","onGlobalMousemove","onMousedown","onMouseup","onEscKey","onSelectAll","onSelectNone","onInvertSelection"),this._debouncedOnResize=o.debounce(this.onResize,500),this.model||(this.model=new s.Model),this.model.set("criteria","",{silent:!0});var e;e=r.isIE10()||r.isIE11()?f:m,this.label=t.label,this.template=o.template(t.availableItemsTemplate||e),this.keyboardManager=new l({keydownHandlers:this.keydownHandlers,keydownTimeout:t.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(t),this.setValue(t.value,{silent:!0}),this.listView=this._createListView(t),this.render(),this.initListeners()},_createListViewModel:function(t){this.getData=t.getData;var e=h.extend(u);return t.listViewModel||new e({getData:t.getData,bufferSize:t.bufferSize,loadFactor:t.loadFactor})},_createListView:function(t){var e=t.listView||new c({el:t.listElement||n(g),model:this.listViewModel,chunksTemplate:t.chunksTemplate,itemsTemplate:t.itemsTemplate,scrollTimeout:t.scrollTimeout,lazy:!0,selectedClass:"jr-isSelected",selection:{allowed:!0,multiple:!0}});return o.extend(e,p),e},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.listView,"mousedown",this.onMousedown,this),this.listenTo(this.listView,"render:data",this.onRenderData,this),this.listenTo(this.listView,"listRenderError",this.listRenderError,this),this.listenTo(this.listViewModel,"change",this.onListViewModelChanged,this),this.listenTo(this.listViewModel,"selection:clear",this.selectionClear,this),this.listenTo(this.listViewModel,"selection:add",this.selectionAdd,this),this.listenTo(this.listViewModel,"selection:addRange",this.selectionAddRange,this),this.listenTo(this.listViewModel,"selection:remove",this.selectionRemove,this),this.listenTo(this.model,"change:totalValue",this.onChangeTotalValue,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),n("body").on("mousedown",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove),n(window).on("resize",this._debouncedOnResize)},render:function(){return this.$el.empty(),this.$el.append(n(this.template(this.getModelForRendering()))),this.listView.undelegateEvents(),this.$el.find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.fetch(o.bind(this.listView.resize,this.listView)),this.listView.delegateEvents(),this._tuneCSS(),this.setBulkSelectionText(),this},_tuneCSS:function(){var t=this;this._paddingHeightsSet||(b({el:this.$el,css:{width:"500px"},classes:"jr "+(r.isIPad()?"ipad":""),callback:function(e){t.searchBarHeight=Math.round(e.find(".jr-mMultiselect-search").outerHeight()),t.buttonsContainerHeight=Math.round(e.find(".jr-mMultiselect-buttonContainer").outerHeight())}}),this._paddingHeightsSet=!0),this.$el.find(".jr-mMultiselect-list").css({height:"100%","padding-top":this.searchBarHeight,"padding-bottom":this.buttonsContainerHeight})},renderData:function(){return this.listView.renderData(),this},activeChange:function(t){t&&(this.activeChangedWithShift&&(delete this.activeChangedWithShift,this.listViewModel.addRangeToSelection(t.value,t.index)),this.listView.scrollTo(t.index))},selectionAdd:function(t){this.model.get("value")[t.value]=!0,this.model.trigger("change:value")},selectionAddRange:function(t){var e=t.selection,i=this.model.get("value"),n=0,s=e.length;for(n;n<s;n+=1)i[e[n]]=!0;this.model.trigger("change:value")},selectionRemove:function(t){delete this.model.get("value")[t.value],this.model.trigger("change:value")},selectionClear:function(){this.model.attributes.value={}},onSelectAll:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(o.bind(this.listView.selectAll,this.listView)))},onSelectNone:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(o.bind(this.listView.selectNone,this.listView)))},onInvertSelection:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(o.bind(this.listView.invertSelection,this.listView)))},onRenderData:function(){this.trigger("render:data")},listRenderError:function(t,e){this.trigger("listRenderError",t,e)},onListViewModelChanged:function(){if(void 0===this.model.get("totalValues")){var t=this.listViewModel.get("total");o.isNumber(t)&&!o.isNaN(t)&&this.model.set("totalValues",t)}},onChangeTotalValue:function(){this.listView.resize()},setBulkSelectionText:function(){if(this.$el.is(":visible")){var t=this.$el.outerWidth();if(t!==this._componentWidth){this._componentWidth=t;var e=this.$el.find(".jr-mMultiselect-buttonContainer"),i=e.outerWidth();b({el:e,css:{left:0-2*i+"px",width:i+"px"},classes:"jr "+(r.isIPad()?"ipad":""),alwaysClone:!0,callback:function(t){o.each(v,function(i){var n=!1;o.each(i.strings,function(s){if(!n){var o=t.find(i.selector),r=o.find(".jr-mItemselector-button-label span").text(s);(o[0].getBoundingClientRect().right-r[0].getBoundingClientRect().right>=3||""===s)&&(n=!0,e.find(i.selector+" .jr-mItemselector-button-label span").text(s))}})})}})}}},changeValue:function(){this.trigger("selection:change",this.getValue())},changeDisabled:function(){var t=this.model.get("disabled");t?this.$el.find("input[type='text']").attr("disabled","disabled"):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(t)},onClickOnInput:function(){this.onFocus()},onFocus:function(){var t=this.$el.find("input");t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("jr-mMultiselect-input-placeholder"))},onBlur:function(){var t=this.$el.find("input");if(""!==t.val()&&t.val()!==t.attr("placeholder")||(t.addClass("jr-mMultiselect-input-placeholder"),t.val(t.attr("placeholder"))),this.preventBlur)return!1},onMousedown:function(){r.isIPad()||(this.preventBlur=!0)},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.$el.find("input.jr-mInput-search").focus())},onGlobalMousedown:function(t){this.preventBlur&&t.target!==this.el&&0===this.$el.find(t.target).length&&(delete this.preventBlur,this.onBlur())},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(t){this.preventBlur&&t.stopPropagation()},onResize:function(){this.resize()},onUpKey:function(t){var e=this;this._onUpDownNavigation(t,function(){e.listView.activatePrevious()},function(){e.listView.activateLast()})},onDownKey:function(t){var e=this;this._onUpDownNavigation(t,function(){e.listView.activateNext()},function(){e.listView.activateFirst()})},_onUpDownNavigation:function(t,e,i){var n,s=this.listView.getActiveValue();s?(t.shiftKey&&(this.activeChangedWithShift=!0),e(),n=this.listView.getActiveValue(),n.index===s.index&&i()):i()},onEnterKey:function(t){t.preventDefault();var e=this.listView.getActiveValue();e&&(t.shiftKey?this.listViewModel.addRangeToSelection(e.value,e.index):t.ctrlKey||t.metaKey?(this.listViewModel.clearSelection(),this.listViewModel.addValueToSelection(e.value,e.index)):this.listViewModel.toggleSelection(e.value,e.index))},onEscKey:function(){},onHomeKey:function(t){t.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateFirst()},onEndKey:function(t){t.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateLast()},onPageUpKey:function(t){t.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageUp()},onPageDownKey:function(t){t.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageDown()},onTabKey:function(){},onAKey:function(t){t.ctrlKey||t.metaKey?(t.stopPropagation(),this.onSelectAll()):this.keyboardManager.deferredHandleKeyboardEvent(t)},processKeydown:function(){this.model.set("criteria",this.$el.find("input.jr-mInput-search").val())},changeFilter:function(t){var e=this,i=this.model.get("criteria");void 0!==i&&""!==i||this.model.unset("totalValues",{silent:!0}),this.listView.scrollTo(0),e.listView.activate(null,{silent:!0}),this.getData({criteria:i,offset:0,limit:1}).done(function(){e.listViewModel.once("change",t&&"function"==typeof t?t:function(){e.listView.setValue(o.keys(e.model.get("value")),{silent:!0}),e.listView.activate(0)}),e.listView.fetch()})},clearFilter:function(t){this.model.get("criteria")?(this.$el.find("input").val(""),this.model.set("criteria","",{silent:!0}),this.changeFilter(t)):(this.model.unset("totalValues",{silent:!0}),t&&t())},processSelectionThroughApi:function(t,e){var i={},n=0,s=t.length;for(this.selectionClear(),n;n<s;n+=1)i[t[n]]=!0;this.model.attributes.value=i,e&&e.silent||this.model.trigger("change:value")},convertSelectionForListViewModel:function(t){return t},getModelForRendering:function(){return{label:this.label,isIPad:r.isIPad(),disabled:this.model.get("disabled"),i18n:a}},fetch:function(t,e){var i=this.model.get("criteria");void 0!==i&&""!==i||this.model.unset("totalValues",{silent:!0}),this.listView.fetch(t,e)},resize:function(){this.listView.resize(),this.setBulkSelectionText()},reset:function(t){var e=this;this.clearFilter(function(){e.listView.reset(t)})},getValue:function(){return o.keys(this.model.get("value"))},setValue:function(t,e){e=e||{},this.listViewModel.once("selection:change",function(){this.selectionClear();var t=this.listViewModel.getSelection(),i=0,n=t.length;for(i;i<n;i++)this.model.attributes.value[t[i]]=!0;e&&e.silent||this.changeValue()},this),o.isArray(t)||"string"==typeof t||(t=this.convertSelectionForListViewModel(t)),this.listViewModel.select(t,e.modelOptions)},setDisabled:function(t){this.model.set("disabled",t)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),s.View.prototype.remove.call(this),n("body").off("mousedown",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),n(window).off("resize",this._debouncedOnResize)}});i.exports=_}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/selectedItemsTemplate.htm",[],function(){return'\x3c!--\nthis input only for technical purposes:\nit allows selected items list to get focus\nand have proper tab position\n(simple tabindex="0" on DOM element will broke tab index sequence)\n--\x3e\n\n    <js-templateNonce></js-templateNonce>\n<div class="jr-mMultiselect-list jr">\n    <input type="text" style="position: absolute; left: -9999px" {{ if (disabled) { }}disabled="disabled"{{ } }}>\n    \x3c!-- list position --\x3e\n    <div class="jr-mMultiselect-list-message jr-isHidden jr">\n        {{- i18n[\'sic.multiselect.noSelection\'] }}\n    </div>\n</div>'}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/selectedItemsListTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr-mSelectlistSelected jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item jr-isSelected {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-delete jr"></a>\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>\n'}),define("runtime_dependencies/js-sdk/src/components/multiSelect/view/ListViewForSelectedItemsList",["require","exports","module","jquery","../../scalableList/view/ListWithNavigation"],function(t,e,i){var n=t("jquery"),s=t("../../scalableList/view/ListWithNavigation"),o=s.extend({_multiSelect:function(t,e,i){n(t.target).hasClass("jr-mSelectlist-item-delete")?this.model.selectionContains(e,i)||this._singleSelect(t,e,i):s.prototype._multiSelect.call(this,t,e,i)}});i.exports=o}),define("runtime_dependencies/js-sdk/src/components/multiSelect/view/SelectedItemsList",["require","exports","module","jquery","backbone","underscore","../../../common/util/browserDetection","bundle!ScalableInputControlsBundle","../../singleSelect/manager/KeyboardManager","../../scalableList/model/ListWithSelectionModel","../../scalableList/model/listWithNavigationModelTrait","../mixin/scalableListItemHeightCalculationTrait","text!../templates/selectedItemsTemplate.htm","text!../templates/selectedItemsListTemplate.htm","text!../templates/listTemplate.htm","../view/ListViewForSelectedItemsList"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("../../../common/util/browserDetection"),a=t("bundle!ScalableInputControlsBundle"),l=t("../../singleSelect/manager/KeyboardManager"),c=t("../../scalableList/model/ListWithSelectionModel"),d=t("../../scalableList/model/listWithNavigationModelTrait"),u=t("../mixin/scalableListItemHeightCalculationTrait"),h=t("text!../templates/selectedItemsTemplate.htm"),p=t("text!../templates/selectedItemsListTemplate.htm"),m=t("text!../templates/listTemplate.htm"),f=t("../view/ListViewForSelectedItemsList"),g=s.View.extend({className:"jr-mMultiselect-listContainer jr-isInactive jr",events:function(){return{"keydown input":this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur","mouseup .jr-mSelectlist-item-delete":"onMouseupOnDeleteButton",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:o.extend({65:"onAKey",8:"onDeleteKey",46:"onDeleteKey"},l.prototype.keydownHandlers),initialize:function(t){this.model||(this.model=new s.Model),this.model.set("focused",!1,{silent:!0}),this.template=o.template(h),this.keyboardManager=new l({keydownHandlers:this.keydownHandlers,keydownTimeout:t.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0});var e=c.extend(d);this.listViewModel=t.listViewModel||new e({getData:t.getData,bufferSize:t.bufferSize,loadFactor:t.loadFactor}),this.listView=t.listView||o.extend(new f({el:t.listElement||n(m),model:this.listViewModel,chunksTemplate:t.chunksTemplate,itemsTemplate:t.itemsTemplate||p,scrollTimeout:t.scrollTimeout,lazy:!0,selectedClass:"is-selected",selection:{allowed:!0,multiple:!1}}),u),this.initListeners(),this.render().resize()},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.model,"change:focused",this.focusStateChanged,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.listViewModel,"change",this.onModelChange,this)},render:function(){this.listView.undelegateEvents();var t=n(this.template({disabled:this.model.get("disabled"),i18n:a}));return this.$el.empty().append(t).find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.delegateEvents(),this},renderData:function(){return this.listView.renderData(),this},activeChange:function(t){t?this.listView.scrollTo(t.index):this.listViewModel.clearSelection()},changeDisabled:function(){var t=this.model.get("disabled");t?(this.$el.find("input[type='text']").attr("disabled","disabled"),this.listView.setValue({}),this.listView.activate(void 0)):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(t)},focusStateChanged:function(){this.model.get("focused")?this.$el.find(".mSelect-svListPlaceholder").addClass("focused"):this.$el.find(".mSelect-svListPlaceholder").removeClass("focused")},onModelChange:function(){this.listViewModel.get("total")?this.listView.$el.show():this.listView.$el.hide()},onFocus:function(){this.model.set("focused",!0)},onBlur:function(){this.preventBlur||this.model.set("focused",!1)},onMouseupOnDeleteButton:function(t){this.onDeleteKey(t)},onMousedown:function(){r.isIPad()||(this.preventBlur=!0,this.model.get("focused")||this.$el.find("input").focus())},onMouseup:function(){this.preventBlur&&(this.$el.find("input").focus(),delete this.preventBlur)},onUpKey:function(t){this.listView.activatePrevious()},onDownKey:function(t){this.listView.getActiveValue()?this.listView.activateNext():this.listView.activateFirst()},onEnterKey:function(t){},onHomeKey:function(t){this.listView.activateFirst()},onEndKey:function(t){this.listView.activateLast()},onPageUpKey:function(t){this.listView.pageUp()},onPageDownKey:function(t){this.listView.pageDown()},onTabKey:function(){},onAKey:function(t){},onDeleteKey:function(t){var e=this.listView.getValue();if(e&&e.length>0){var i=!0;for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]){i=!1;break}i||this.trigger("selection:remove",e)}},fetch:function(t,e){this.listView.setValue({}),this.listView.activate(void 0),this.listView.fetch(t,e)},resize:function(){this.listView.resize()},setDisabled:function(t){this.model.set("disabled",t)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),s.View.prototype.remove.call(this)}});i.exports=g}),define("text!runtime_dependencies/js-sdk/src/components/multiSelect/templates/multiSelectTemplate.htm",[],function(){
return'<div class="jr-mMultiselect-toggleContainer jr">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleAvailable jr-isActive jr" title="">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleSelected jr-isInactive jr">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/CacheableDataProvider",["require","exports","module","jquery","underscore"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=function(t){s.bindAll(this,"getData","getAllCachedData"),this.data=t||[]};s.extend(o.prototype,{setData:function(t){this.data=t||[]},getAllCachedData:function(){return this.data},getData:function(t){var e=new n.Deferred,i=t&&t.offset?t.offset:0,s=t&&t.limit?i+t.limit:this.data.length,o=this._getDataSegment(this.data,i,s);return e.resolve({data:o,total:this.data.length}),e.promise()},_getDataSegment:function(t,e,i){i=Math.min(i,t.length);for(var n=[],s=e;s<i;s++)n.push({label:t[s].label,value:t[s].value});return n}}),i.exports=o}),define("runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/SelectedItemsDataProvider",["require","exports","module","underscore","../../singleSelect/dataprovider/CacheableDataProvider"],function(t,e,i){var n=t("underscore"),s=t("../../singleSelect/dataprovider/CacheableDataProvider"),o=function(t){t=t||{},n.defaults(t,{sortFunc:this._sortFunc,formatLabel:this._formatLabel}),this.sortFunc=t.sortFunc,this.formatLabel=t.formatLabel,s.call(this,t.data)};n.extend(o.prototype,s.prototype),n.extend(o.prototype,{setData:function(t){t=this._convertToStandardData(t),t=this._sortData(t),s.prototype.setData.call(this,t)},_sortFunc:function(t,e){return t.label.localeCompare(e.label)},_formatLabel:function(t){return t},_sortData:function(t){return t=t||[],t.sort(this.sortFunc)},_convertToStandardData:function(t){var e=this;return n.map(t,function(t){return{value:t,label:e.formatLabel(t)}})}}),i.exports=o}),define("text!runtime_dependencies/js-sdk/src/components/sizer/template/sizerTemplate.htm",[],function(){return'<div class="jr-mSizer jr-mSizerVertical ui-resizable-s jr">\n\n    <js-templateNonce></js-templateNonce>\n    <span class="ui-icon ui-icon-grip-solid-horizontal"></span>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/components/sizer/Sizer",["require","exports","module","jquery","backbone","underscore","text!./template/sizerTemplate.htm","../../common/logging/logger","jquery-ui/ui/widgets/resizable"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("text!./template/sizerTemplate.htm"),a=t("../../common/logging/logger");t("jquery-ui/ui/widgets/resizable");var l=a.register("Sizer");i.exports=s.View.extend({template:o.template(r),el:function(){return this.template()},initialize:function(t){this.container=t.container,this.sizerOptions=o.clone(t),delete this.sizerOptions.container,this.$container=n(this.container),this.render()},render:function(){return o.defaults(this.sizerOptions,{minHeight:this.$container.height(),handles:{s:this.$el}}),this.$container.resizable(this.sizerOptions),this},show:function(){return this.$el.removeClass("jr-isInvisible"),this},hide:function(){return this.$el.addClass("jr-isInvisible"),this},updateMinMax:function(t){this.$container.resizable("option","minHeight",t.minHeight),this.$container.resizable("option","maxHeight",t.maxHeight)},remove:function(){try{this.$container.resizable("destroy")}catch(t){l.debug(t)}s.View.prototype.remove.apply(this,arguments)}})}),define("runtime_dependencies/js-sdk/src/components/multiSelect/view/MultiSelect",["require","exports","module","jquery","backbone","underscore","../../singleSelect/dataprovider/SearcheableDataProvider","../../../common/util/parse/NumberUtils","../../scalableList/util/domAndCssUtil","../../../common/util/browserDetection","bundle!ScalableInputControlsBundle","../../../common/util/xssUtil","../view/AvailableItemsList","../view/SelectedItemsList","text!../templates/multiSelectTemplate.htm","../dataprovider/SelectedItemsDataProvider","../../sizer/Sizer"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("../../singleSelect/dataprovider/SearcheableDataProvider"),a=t("../../../common/util/parse/NumberUtils"),l=t("../../scalableList/util/domAndCssUtil"),c=t("../../../common/util/browserDetection"),d=t("bundle!ScalableInputControlsBundle"),u=t("../../../common/util/xssUtil"),h=t("../view/AvailableItemsList"),p=t("../view/SelectedItemsList"),m=t("text!../templates/multiSelectTemplate.htm"),f=t("../dataprovider/SelectedItemsDataProvider"),g=t("../../sizer/Sizer"),b=l.doCalcOnVisibleNodeClone,v=new a;i.exports=s.View.extend({className:"jr-mMultiselect jr",events:function(){return{"click  .jr-mMultiselect-toggle":"toggleLists"}},initialize:function(t){this.template=o.template(m),this.i18n={selected:d["sic.multiselect.toggle.selected"],available:d["sic.multiselect.toggle.available"]},this.heightAutoAdjustment=!!o.isUndefined(t.heightAutoAdjustment)||t.heightAutoAdjustment,this.availableItemsListModel=this._createAvailableItemsListModel(t),this.availableItemsList=this._createAvailableItemsList(t),this.selectedItemsDataProvider=this._createSelectedItemsListDataProvider(t),this.selectedItemsList=this._createSelectedItemsList(t),this.height=t.height,this.resizable=t&&t.resizable,this.initListeners(),void 0!==t.value&&(this.silent=!0,this.availableItemsList.setValue(t.value)),t&&t.resizable&&(this.sizer=new g({container:this.$el,stop:o.bind(function(){this.resize()},this)})),this.render()},_createAvailableItemsListModel:function(t){return new s.Model},_createAvailableItemsList:function(t){return t.availableItemsList||new h({model:this.availableItemsListModel,getData:new r({getData:t.getData}).getData,bufferSize:t.bufferSize,loadFactor:t.loadFactor,chunksTemplate:t.chunksTemplate,scrollTimeout:t.scrollTimeout})},_createSelectedItemsListDataProvider:function(t){return t.selectedItemsDataProvider||new f(t.selectedListOptions)},_createSelectedItemsList:function(t){return this.formatValue=t.formatValue,new p({getData:this.selectedItemsDataProvider.getData,bufferSize:t.bufferSize,loadFactor:t.loadFactor,chunksTemplate:t.chunksTemplate,scrollTimeout:t.scrollTimeout})},initListeners:function(){this.listenTo(this.availableItemsList,"selection:change",this.selectionChange,this),this.listenTo(this.availableItemsList,"listRenderError",this.listRenderError,this),this.listenTo(this.availableItemsListModel,"change:totalValues",this._availableItemsTotalCountChange,this),this.listenTo(this.selectedItemsList,"selection:remove",this.selectionRemoved,this)},render:function(){return this.sizer&&this.sizer.$el.detach(),this.$el.html(n(this.template({i18n:d}))),this.$toggleContainer=this.$el.find(".jr-mMultiselect-toggleContainer"),this.availableItemsList.undelegateEvents(),this.selectedItemsList.undelegateEvents(),this.selectedItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.render(),this.selectedItemsList.render(),this._updateAvailableItemsCountLabel(),this._updateSelectedItemsCountLabel(),this.availableItemsList.delegateEvents(),this.selectedItemsList.delegateEvents(),this._tuneCSS(),this._renderSizer(),this},_renderSizer:function(){this.sizer&&(this.heightAutoAdjustment&&this._handleHeight(),this.$el.append(this.sizer.$el))},_tuneCSS:function(){var t=this;this._cssDepententSizesSet||(b({el:this.$el,css:{width:"500px"},classes:"jr",alwaysClone:!0,callback:function(e){t.toggleContainerHeight=e.find(".jr-mMultiselect-toggleContainer").outerHeight(),t._tuneCSSInternal(e),e.find(".jr-mScalablelist").css({height:"0"}),t._emptyContainerHeight=e.outerHeight();var i;i=t.height?t.height:t._calcHeightByItemsCount(10),t.$el.css("height",i)}}),this._cssDepententSizesSet=!0),this._tuneCSSInternal(this.$el)},_tuneCSSInternal:function(t){var e=this.toggleContainerHeight;c.isIPad()&&this.$el.addClass("ipad"),t.find(".jr-mMultiselect-listContainer").css("padding-top",e)},listRenderError:function(t,e){this.trigger("listRenderError",t,e)},toggleLists:function(t){t.stopPropagation(),n(t.currentTarget).hasClass("jr-isActive")||(this.$el.find(".jr-mMultiselect-toggle").toggleClass("jr-isActive jr-isInactive"),this.$el.find(".jr-mMultiselect-listContainer").toggleClass("jr-isActive jr-isInactive"),c.isIPad()||this.$el.find(".jr-mMultiselect-listContainer.jr-isActive input").focus())},selectionChange:function(t){clearTimeout(this.selectionChangeTimeout),this.selectionChangeTimeout=setTimeout(o.bind(this.selectionChangeInternal,this,t),100)},selectionRemoved:function(t){var e,i=this.availableItemsList.model.get("value"),n=t.length;for(e=0;e<n;e+=1)delete i[t[e]];this.availableItemsList.setValue(o.keys(i))},selectionChangeInternal:function(t){var e=this,i=this.selectedItemsList.listView.getActiveValue(),n=this.selectedItemsList.listView.$el.scrollTop();this.selectedItemsDataProvider.setData(t),this.selectedItemsList.fetch(function(){if(e._updateSelectedItemsCountLabel(),e.selectedItemsList.resize(),e.selectedItemsList.listView.$el.scrollTop(n),i&&e.selectedItemsList.$el.hasClass("j-active")){var t=e.selectedItemsList.listView.model.get("total");t&&t>i.index?e.selectedItemsList.listView.activate(i.index):t&&e.selectedItemsList.listView.activate(i.index-1)}}),this.silent?delete this.silent:this.triggerSelectionChange()},_setToggleLabel:function(t,e,i){var n=v.formatNumber(e),s=this.$el.find(t+" .jr-mMultiselect-toggle-label"),o=i+": "+n;s.text(o).attr("title",u.hardEscape(o))},_handleHeight:function(){var t=this.availableItemsList.model.get("totalValues")||0;if(this._cssDepententSizesSet&&t){var e=this.$el.height(),i=this.$el.height(),n=this._calcHeightByItemsCount(3),s=this._calcHeightByItemsCount(t);t<=10?n=s=i=this._calcHeightByItemsCount(Math.max(3,t)):e>s&&(i=this._calcHeightByItemsCount(t)),this.$el.css("height",i+"px"),this._updateSizerVisibility({minHeight:n,maxHeight:s})}},_updateSizerVisibility:function(t){this.sizer&&(this.sizer.updateMinMax(t),t.minHeight===t.maxHeight?this.sizer.hide():this.sizer.show())},_calcHeightByItemsCount:function(t){return t*this.availableItemsList.listView.itemHeight+this._emptyContainerHeight},_availableItemsTotalCountChange:function(){this._updateAvailableItemsCountLabel(),this.heightAutoAdjustment&&this._handleHeight()},_updateAvailableItemsCountLabel:function(){var t=this.availableItemsList.model.get("totalValues")||0;this._setToggleLabel(".jr-mMultiselect-toggleAvailable",t||0,this.i18n.available)},_updateSelectedItemsCountLabel:function(){var t=this.$el.find(".jr-mMultiselect-list-message"),e=this.selectedItemsList.listView.model.get("total")||0;this._setToggleLabel(".jr-mMultiselect-toggleSelected",e,this.i18n.selected),0===e?t.removeClass("jr-isHidden"):t.addClass("jr-isHidden")},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue())},renderData:function(){return this.availableItemsList.renderData(),this.selectedItemsList.renderData(),this},fetch:function(t,e){this.availableItemsList.fetch(t,e)},reset:function(t){this.availableItemsList.reset(t)},resize:function(){o.debounce(o.bind(function(){this.availableItemsList.resize(),this.selectedItemsList.resize()},this),500)()},setValue:function(t,e){e&&e.silent&&(this.silent=!0),delete e.silent,this.availableItemsList.setValue(t,e)},getValue:function(){var t=this.availableItemsList.getValue(),e=[],i=0;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[i++]=t[n]);return e},setDisabled:function(t){return this.availableItemsList.setDisabled(t),this.selectedItemsList.setDisabled(t),this},getDisabled:function(){return this.availableItemsList.getDisabled()},remove:function(){this.availableItemsList.remove(),this.selectedItemsList.remove(),this.sizer&&this.sizer.remove(),s.View.prototype.remove.call(this)}})}),define("runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/DataProviderWithLabelHash",["require","exports","module","underscore","../../singleSelect/dataprovider/CacheableDataProvider"],function(t,e,i){var n=t("underscore"),s=t("../../singleSelect/dataprovider/CacheableDataProvider"),o=function(){s.apply(this,arguments)};n.extend(o.prototype,s.prototype),n.extend(o.prototype,{setData:function(t){s.prototype.setData.call(this,t),this.dataLabelsHash={};for(var e=0;e<this.data.length;e++)this.dataLabelsHash[this.data[e].value]=this.data[e].label},getDataLabelHash:function(){return this.dataLabelsHash}}),i.exports=o}),define("runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/selectedItemsDataProviderSorterFactory",["require","exports","module"],function(t,e,i){i.exports={create:function(t){return function(e,i){return e.label===t?-1:i.label===t?1:e.label.localeCompare(i.label)}}}}),define("controls/controls.components",["require","exports","module","../namespace/namespace","jquery","underscore","./controls.base","runtime_dependencies/js-sdk/src/components/singleSelect/view/SingleSelect","runtime_dependencies/js-sdk/src/components/multiSelect/view/MultiSelect","runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/CacheableDataProvider","runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/DataProviderWithLabelHash","runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/SearcheableDataProvider","runtime_dependencies/js-sdk/src/components/dateAndTime/DateAndTimePicker","runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/selectedItemsDataProviderSorterFactory","runtime_dependencies/js-sdk/src/common/util/parse/date","./controls.core","./controls.basecontrol"],function(t,e,i){var n=t("../namespace/namespace"),s=n.JRS,o=t("jquery"),r=t("underscore"),a=t("./controls.base"),l=a.ControlsBase,c=t("runtime_dependencies/js-sdk/src/components/singleSelect/view/SingleSelect"),d=t("runtime_dependencies/js-sdk/src/components/multiSelect/view/MultiSelect"),u=t("runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/CacheableDataProvider"),h=t("runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/DataProviderWithLabelHash"),p=t("runtime_dependencies/js-sdk/src/components/singleSelect/dataprovider/SearcheableDataProvider"),m=t("runtime_dependencies/js-sdk/src/components/dateAndTime/DateAndTimePicker"),f=t("runtime_dependencies/js-sdk/src/components/multiSelect/dataprovider/selectedItemsDataProviderSorterFactory"),g=t("runtime_dependencies/js-sdk/src/common/util/parse/date");t("./controls.core"),t("./controls.basecontrol"),s.Controls=function(t,e,i){function n(t){this.set({selection:t})}function o(t){return t.toUpperCase().replace(/([\s]+$|^[\s]+)/g,"").replace(/[\s]*(\+|\-)[\s]*/g,"$1")}function r(t,e){if(!t)return null;for(var i={},n=0;n<t.length;n++){var s=t[n];if(s.selected){if(e){i[n]={value:s.value,label:s.label};break}i[n]=s.value}}return i}return e.extend(i,{Bool:i.BaseControl.extend({update:function(t){var e=this.getElem(),i=e.find("input");"true"==t?i.prop("checked",!0):i.prop("checked",!1)},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",e.bind(function(t){var e=null==t.target.getValue()?"false":"true";this.set({selection:e})},this))}}),SingleValueText:i.BaseControl.extend({update:function(t){var e=t==l.NULL_SUBSTITUTION_VALUE?l.NULL_SUBSTITUTION_LABEL:t,i=this.getElem();i&&(i.find("input").attr("value",e),i.find("input").val(e))},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",e.bind(function(t){var e=t.target.value,i=e==l.NULL_SUBSTITUTION_LABEL?l.NULL_SUBSTITUTION_VALUE:e;this.set({selection:i})},this))}}),SingleValueNumber:i.BaseControl.extend({update:function(t){this.getElem()&&this.getElem().find("input").attr("value",t),this.getElem()&&this.getElem().find("input").val(t)},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",e.bind(function(t){this.set({selection:t.target.value})},this))}}),SingleValueDate:i.BaseControl.extend({initialize:function(t){this.baseRender(t),t.visible&&this.getElem()&&this.setupCalendar()},get:function(t){var e=i.BaseControl.prototype.get.call(this,t);return g.localizedDateToIsoDate(e)},set:function(t,e){t.values&&(t.values=g.isoDateToLocalizedDate(t.values)),i.BaseControl.prototype.set.call(this,t,e)},setupCalendar:function(){var i=this.getElem().find("input");this.picker=new m({el:i,showOn:"button",dateFormat:s.i18n.bundledCalendarFormat,disabled:i[0].disabled,onSelect:e.bind(n,this)}),i.change(e.bind(function(e){e.stopPropagation(),t(e.target).val(o(e.target.value)),n.call(this,t(e.target).val())},this)),i.after("&nbsp;"),this.getElem().find("button").wrap(l.CALENDAR_ICON_SPAN).empty()},update:function(t){var e=this.getElem();e.find("input").attr("value",t),e.find("input").val(t)}}),SingleValueDatetime:i.BaseControl.extend({initialize:function(t){this.baseRender(t),t.visible&&this.getElem()&&this.setupCalendar()},getInput:function(){var t=this.getElem();return t&&t.find("input")},destroyCalendar:function(){this.getInput().off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),r=this.getInput();this.destroyCalendar(),this.picker=new m({el:r[0],showOn:"button",dateFormat:s.i18n.bundledCalendarFormat,timeFormat:s.i18n.bundledCalendarTimeFormat,disabled:r[0].disabled,onSelect:e.bind(n,this)}),r.change(e.bind(function(e){e.stopPropagation(),t(e.target).val(o(e.target.value)),n.call(this,t(e.target).val())},this)),r.after("&nbsp;"),i.find("button").wrap(l.CALENDAR_ICON_SPAN).empty()},get:function(t){var e=i.BaseControl.prototype.get.call(this,t);return g.localizedTimestampToIsoTimestamp(e)},set:function(t,e){t.values&&(t.values=g.isoTimestampToLocalizedTimestamp(t.values)),t.values||t.selection||!this.getInput()||this.setupCalendar(),i.BaseControl.prototype.set.call(this,t,e)},update:function(t){var e=this.getElem();e.find("input").attr("value",t),e.find("input").val(t)}}),SingleValueTime:i.BaseControl.extend({initialize:function(t){this.baseRender(t),t.visible&&this.getElem()&&this.setupCalendar()},getInput:function(){var t=this.getElem();return t&&t.find("input")},destroyCalendar:function(){this.getInput().off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),r=this.getInput();this.destroyCalendar(),this.picker=new m({el:r[0],showOn:"button",timeFormat:s.i18n.bundledCalendarTimeFormat,disabled:r[0].disabled,onClose:e.bind(n,this)}),r.change(e.bind(function(e){e.stopPropagation(),t(e.target).val(o(e.target.value)),n.call(this,t(e.target).val())},this)),r.after("&nbsp;"),i.find("button").wrap(l.CALENDAR_ICON_SPAN).empty()},get:function(t){var e=i.BaseControl.prototype.get.call(this,t);return g.localizedTimeToIsoTime(e)},set:function(t,e){t.values&&(t.values=g.isoTimeToLocalizedTime(t.values)),t.values||t.selection||!this.getInput()||this.setupCalendar(),i.BaseControl.prototype.set.call(this,t,e)},update:function(t){var e=this.getElem();e.find("input").attr("value",t),e.find("input").val(t)}}),SingleSelect:i.BaseControl.extend({baseRender:function(n){this.singleSelect||(this.dataProvider=new u,this.singleSelect=new c({getData:this.dataProvider.getData}).setDisabled(n.readOnly)),n&&e.extend(this,n);var s=i.TemplateEngine.createTemplate(this.type);if(s){this.singleSelect.undelegateEvents();var o=t(s(this));this.singleSelect.render().renderData(),o.find(".ssPlaceholder").append(this.singleSelect.el),this.setElem(o),this.singleSelect.delegateEvents()}},update:function(t){this.dataProvider.setData(t);var e=this;this.singleSelect.fetch(function(){e.singleSelect.setValue(r(t,!0),{silent:!0})})},bindCustomEventListeners:function(){this.singleSelect.off("selection:change").on("selection:change",function(t){this.set({selection:t})},this)}}),MultiSelect:i.BaseControl.extend({baseRender:function(n){var s=this;this.multiSelect||(this.dataProvider=new h,this.multiSelect=new d({getData:new p({getData:this.dataProvider.getData}).getData,selectedListOptions:{formatLabel:function(t){return s.dataProvider.getDataLabelHash()[t]},sortFunc:f.create(l.NULL_SUBSTITUTION_LABEL)},resizable:!0}),this.multiSelect.setDisabled(n.readOnly),this._resize=e.debounce(e.bind(this.multiSelect.resize,this.multiSelect),500)),n&&e.extend(this,n);var o=i.TemplateEngine.createTemplate(this.type);if(o){this.multiSelect.undelegateEvents();var r=t(o(this));this.multiSelect.render().renderData(),r.find(".msPlaceholder").append(this.multiSelect.el),this.setElem(r),this.multiSelect.delegateEvents()}},update:function(t){this.dataProvider.setData(t);var e=this;this.multiSelect.fetch(function(){var i=r(t);e.multiSelect.setValue(i,{silent:!0}),e._resize()})},bindCustomEventListeners:function(){this.multiSelect.off("selection:change").on("selection:change",function(t){this.set({selection:t})},this)},get:function(t){var i=this[t];return"selection"==t&&e.isEmpty(i)?[l.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){var t=this.multiSelect.$el.find(".jr-mSizer");t.length&&t.detach().insertAfter(this.getElem()&&this.getElem().find(".resizeOverlay"))}}),SingleSelectRadio:i.BaseControl.extend({update:function(n){(new Date).getTime();if(this.getElem()){var s=this.getElem().find("ul")[0],o=e.map(n,function(t){var i=e.clone(t);return i.readOnly=this.readOnly,i.name=this.getOptionName(),i.uuid=e.uniqueId(this.id),i},this),r=this.getTemplateSection("data");i.Utils.setInnerHtml(s,r,{data:o}),s=t(s),s.html(s.html()+"&nbsp;"),s.find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))}},getOptionName:function(){return this.id+"_option"},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",e.bind(function(t){var e=t.target.value,i=this;setTimeout(function(){i.set({selection:e})})},this))},makeResizable:function(){if(this.resizable=!0,this.getElem()){var t=this.getElem().find("ul"),e=this.getElem().find(".jr-mSizer").removeClass("hidden");e.addClass("ui-resizable-s"),t.resizable({handles:{s:e}})}}}),MultiSelectCheckbox:i.BaseControl.extend({update:function(n){var s=e.map(n,function(t){var i=e.clone(t);return i.readOnly=this.readOnly,i.uuid=e.uniqueId(this.id),i},this);if(this.getElem()){var o=this.getElem().find("ul")[0],r=this.getTemplateSection("data");i.Utils.setInnerHtml(o,r,{data:s}),t(o).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))}},getSelection:function(){var i=this.getElem().find(":checkbox").filter(":checked");return e.map(i,function(e){return t(e).val()})},bindCustomEventListeners:function(){this.getElem()&&this.getElem().on("change","input",e.bind(function(t){var e=this.getSelection(),i=this;setTimeout(function(){i.set({selection:e})})},this)),this.getElem()&&this.getElem().on("click","a",e.bind(function(i){var n=this.getElem().find("input"),s=t(i.target)[0].name;"multiSelectAll"===s||"multiSelectNone"===s?e.each(n,function(t){t.checked="multiSelectAll"===s}):"multiSelectInverse"===s&&e.each(n,function(t){t.checked=!t.checked}),this.getElem().find("input").change()},this))},get:function(t){var i=this[t];return"selection"==t&&e.isEmpty(i)?[l.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){if(this.resizable=!0,this.getElem()){var t=this.getElem().find("ul"),e=this.getElem().find(".jr-mSizer").removeClass("hidden");e.addClass("ui-resizable-s"),t.resizable({handles:{s:e}})}}})})}(o,r,s.Controls),i.exports=s.Controls}),jQuery.url=function(t){function e(t){for(var e="",i=0,n=0,s=0;i<t.length;)n=t.charCodeAt(i),n<128?(e+=String.fromCharCode(n),i++):n>191&&n<224?(s=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&s),i+=2):(s=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&c3),i+=3);return e}function i(e,i){var n={},s={true:!0,false:!1,null:null};return t.each(e.replace(/\+/g," ").split("&"),function(e,o){var a,l=o.split("="),c=r(l[0]),d=n,u=0,h=c.split("]["),p=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[p])?(h[p]=h[p].replace(/\]$/,""),h=h.shift().split("[").concat(h),p=h.length-1):p=0,2===l.length)if(a=r(l[1]),i&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==s[a]?s[a]:a),p)for(;u<=p;u++)c=""===h[u]?d.length:h[u],d=d[c]=u<p?d[c]||(h[u+1]&&isNaN(h[u+1])?{}:[]):a;else t.isArray(n[c])?n[c].push(a):void 0!==n[c]?n[c]=[n[c],a]:n[c]=a;else c&&(n[c]=i?void 0:"")}),n}function n(t){t=t||window.location;for(var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],s=e.exec(t),o={},r=n.length;r--;)o[n[r]]=s[r]||"";return o.query&&(o.params=i(o.query,!1)),o}function s(e){if(e.source)return encodeURI(e.source);var i=[];return e.protocol&&("file"==e.protocol?i.push("file:///"):"mailto"==e.protocol?i.push("mailto:"):i.push(e.protocol+"://")),e.authority?i.push(e.authority):(e.userInfo?i.push(e.userInfo+"@"):e.user&&(i.push(e.user),e.password&&i.push(":"+e.password),i.push("@")),e.host&&(i.push(e.host),e.port&&i.push(":"+e.port))),e.path?i.push(e.path):(e.directory&&i.push(e.directory),e.file&&i.push(e.file)),e.query?i.push("?"+e.query):e.params&&i.push("?"+t.param(e.params)),e.anchor&&i.push("#"+e.anchor),i.join("")}function o(t){return encodeURIComponent(t)}function r(t){return e(unescape(t.replace(/\+/g," ")))}return{encode:o,decode:r,parse:n,build:s}}(jQuery),define("jquery.urldecoder",["jquery"],function(t){return function(){return t.jQuery}}(this)),define("controls/controls.controller",["require","exports","module","jquery","../namespace/namespace","underscore","./controls.core","./controls.datatransfer","./controls.viewmodel","./controls.components","jquery.urldecoder"],function(t,e,i){var n=t("jquery"),s=t("../namespace/namespace"),o=s.JRS,r=t("underscore");t("./controls.core"),t("./controls.datatransfer"),t("./controls.viewmodel"),t("./controls.components"),t("jquery.urldecoder"),function(t,e,i){function n(e){var i=t.url.parse(location.href).params;return i&&i[e]}e.extend(i,{Controller:i.Base.extend({constructor:function(n){e.bindAll(this,"fetchControlsStructure","detectReportUri","getReportUri","getDataTransfer","getViewModel","updateControlsValues","reset","update","validate"),this.viewModel=n&&n.viewModel?n.viewModel:new i.ViewModel,this.dataTransfer=n&&n.dataTransfer?n.dataTransfer:new i.DataTransfer({dataConverter:new i.DataConverter}),this.initialize(n),i.listen({"viewmodel:selection:changed":e.bind(function(t,e,i,n){e&&n&&this.updateControlsValues(e,i)},this),"reportoptions:selection:changed":e.bind(function(t,e){var i=e&&e.reportOption,n=e&&e.selectedData;this.reset(i&&i.uri,n)},this)}),i.getController=e.bind(function(){return this},this),t(document).trigger("controls:initialized",[this.getViewModel()])},initialize:function(t){this.dataTransfer.setReportUri(this.detectReportUri(t))},fetchControlsStructure:function(t,i){var n=this.dataTransfer,s=this.viewModel,o=i&&!e.isEmpty(t)?e.keys(t):[];return n.fetchControlsStructure(o,t).done(function(t){t&&s.set({structure:t.structure,state:t.state})})},detectReportUri:function(t){if(this.reportUri=t&&t.reportUri||n("reportUnitURI"),!this.reportUri)throw Error("Can't initialize without reportUri");return this.reportOptionUri=t&&t.reportOptionUri||n("reportOptionsURI"),this.getReportUri()},getReportUri:function(){return this.reportOptionUri||this.reportUri},getDataTransfer:function(){return this.dataTransfer},getViewModel:function(){return this.viewModel},updateControlsValues:function(t,i){var n=this.getDataTransfer(),s=this.getViewModel(),o=i||e.map(s.getControls(),function(t){return t.id});return n.fetchControlsUpdatedValues(o,t).done(function(t){s.set(t)})},reset:function(t,e){var i=this;return this.getDataTransfer().fetchInitialControlValues(t||this.getReportUri(),e).done(function(t){i.getViewModel().set(t)})},update:function(t){return t||(t=this.getViewModel().get("selection")),this.updateControlsValues(t)},validate:function(){var t=this.getDataTransfer(),i=this.getViewModel(),n=e.map(i.getControls(),function(t){return t.id}),s=i.get("selection");return t.fetchControlsUpdatedValues(n,s).then(function(t){var n=e(t.state).reduce(function(t,e,i){return t[i]={error:e.error},t},{});i.set({state:n})}).then(function(){return i.areAllControlsValid()})}})})}(n,r,o.Controls),i.exports=o.Controls}),define("scheduler/view/editor/parametersTabView",["require","exports","module","jquery","underscore","bundle!all","runtime_dependencies/js-sdk/src/jrs.configs","backbone","text!../../template/editor/parametersTabTemplate.htm","../../../controls/controls.base","../../../namespace/namespace","../../../controls/controls.options","../../../controls/controls.controller"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("runtime_dependencies/js-sdk/src/jrs.configs"),a=t("backbone"),l=t("text!../../template/editor/parametersTabTemplate.htm"),c=t("../../../controls/controls.base"),d=c.ControlsBase,u=t("../../../namespace/namespace"),h=u.JRS;t("../../../controls/controls.options"),t("../../../controls/controls.controller"),s.extend(d,r.inputControlsConstants),i.exports=a.View.extend({initialize:function(t){this.options=s.extend({},t),this.listenTo(this.model,"change:source",this.sourceChange),n(document).on("viewmodel:values:changed",s.bind(this.viewModelValuesChange,this))},render:function(){this.setElement(n(s.template(l,{i18n:o,config:r})))},saveAsDialogButtonSaveClick:function(){var t=this,e=this.reportOptionsDialog.input.getValue(),i=this.model.controlsController.getViewModel().get("selection"),s=e===this.reportOptionsDialog.optionNameToOverwrite;n.when(this.reportOptions.add(this.reportOptions.optionsUrl||this.reportOptions.url,e,i,s)).done(function(){t.reportOptionsDialog.hideWarning();var e=t.reportOptions.getElem().parent();0===e.length&&(e=t.$el.find(".saveCurrentValuesContainer"),e.prepend(t.reportOptions.getElem())),t.reportOptionsDialog.hide(),delete t.reportOptionsDialog.optionNameToOverwrite}).fail(function(i){try{var n=JSON.parse(i.responseText);"report.options.dialog.confirm.message"===n.errorCode&&!s&&(t.reportOptionsDialog.optionNameToOverwrite=e),t.reportOptionsDialog.showWarning(n.message)}catch(t){}})},sourceChange:function(t,e){var i=e&&e.reportUnitURI,n=this.model.get("source").parameters;if(n){var s=n.parameterValues;for(var o in s)s.hasOwnProperty(o)&&null===s[o]&&delete s[o];this.reportOptions&&(this.reportOptions.url=void 0),this.model.controlsController=new h.Controls.Controller({reportUri:i,reportOptionUri:"",preSelectedData:s});var r=this;this.model.controlsController.fetchControlsStructure(s).done(function(){r.trigger("IC_Displayed")}).fail(function(){r.trigger("failedToGet_IC")})}},viewModelValuesChange:function(){this.model.set("source",{reportUnitURI:this.model.get("source").reportUnitURI,parameters:{parameterValues:this.model.controlsController.getViewModel().get("selection")}},{validate:!1,silent:!0})}})}),define("components/components.pickers",["require","exports","module","prototype","../core/core.events.bis","underscore","../core/core.layout","../dynamicTree/dynamicTree.utils","./components.dialogs","../util/utils.common","jquery"],function(t,e,i){
var n=t("prototype"),s=n.$,o=n.$F,r=t("../core/core.events.bis"),a=t("underscore"),l=t("../core/core.layout"),c=t("../dynamicTree/dynamicTree.utils"),d=t("./components.dialogs"),u=t("../util/utils.common"),h=u.matchAny,p=t("jquery"),m={};m.FileSelector=function(t){this._disabled=void 0!==t.disabled&&t.disabled,this._uriTextbox=s(t.uriTextboxId),this._browseButtonId=s(t.browseButtonId),this._onChange=t.onChange||!1,this._options=t,this._disabled?(r.disable(this._uriTextbox),r.disable(this._browseButtonId)):(this._id=t.id,this._suffix=t.suffix?t.suffix:(new Date).getTime(),this._treeDomId=t.treeId,this._selectLeavesOnly=void 0!==t.selectLeavesOnly&&t.selectLeavesOnly,this._selectedUri=o(this._uriTextbox),this._process(t),this._assignHandlers(),this._refreshButtonsState())},m.FileSelector.addVar("DEFAULT_TEMPLATE_DOM_ID","selectFromRepository"),m.FileSelector.addVar("DEFAULT_TREE_ID","selectFromRepoTree"),m.FileSelector.addVar("OK_BUTTON_ID","selectFromRepoBtnSelect"),m.FileSelector.addVar("CANCEL_BUTTON_ID","selectFromRepoBtnCancel"),m.FileSelector.addVar("TITLE_PATTERN","div.title"),m.FileSelector.addMethod("_process",function(t){!this._id&&(this._id=this.DEFAULT_TEMPLATE_DOM_ID),!s(this._id)&&this._options.template&&this._options.i18n?(this._dom=p(a.template(this._options.template,{i18n:this._options.i18n})),this._dom=this._dom[0]):this._dom=s(this._id).cloneNode(!0),this._dom.writeAttribute("id",this._id+this._suffix),this._okButton=this._dom.select("#"+this.OK_BUTTON_ID)[0],this._okButton.writeAttribute("id",this.OK_BUTTON_ID+this._suffix),this._cancelButton=this._dom.select("#"+this.CANCEL_BUTTON_ID)[0],this._cancelButton.writeAttribute("id",this.CANCEL_BUTTON_ID+this._suffix),!this._treeDomId&&(this._treeDomId=this.DEFAULT_TREE_ID),this._treeDom=this._dom.select("#"+this._treeDomId)[0],this._treeDom.writeAttribute("id",this._treeDomId+this._suffix),this._visible=!1,t.title&&this._dom.select(this.TITLE_PATTERN)[0].update(t.title),this._onOk=t.onOk,this._onCancel=t.onCancel,p(document.body).append(this._dom);var e,i=this._dom.down(l.SWIPE_SCROLL_PATTERN);i&&(e=l.createScroller(i));var n=Object.extend({providerId:t.providerId,scroll:e},t.treeOptions);this._tree=c.createRepositoryTree(this._treeDomId+this._suffix,n),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1)}),m.FileSelector.addMethod("_assignHandlers",function(){this._dom.observe("click",this._dialogClickHandler.bindAsEventListener(this)),["node:dblclick","leaf:dblclick"].each(function(t){this._tree.observe(t,this._treeClickHandler.bindAsEventListener(this))},this),["node:click","leaf:click","node:selected","leaf:selected"].each(function(t){this._tree.observe(t,this._refreshButtonsState.bindAsEventListener(this))},this),["childredPrefetched:loaded","tree:loaded"].each(function(t){this._tree.observe(t,this._treeLoadHandler.bindAsEventListener(this))},this),this._browseButtonId.observe("click",this._browseClickHandler.bindAsEventListener(this))}),m.FileSelector.addMethod("_canClickOk",function(t){return this._tree.getSelectedNode()&&(!this._selectLeavesOnly||this._tree.getSelectedNode().param.type!==this._tree.getSelectedNode().FOLDER_TYPE_NAME)}),m.FileSelector.addMethod("_dialogClickHandler",function(t){var e=t.element();if(h(e,["#"+this.OK_BUTTON_ID+this._suffix],!0)){t.stop();var i=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(i),this._onChange&&this._onChange(i),this._hide(),this._onOk&&this._onOk()}else h(e,["#"+this.CANCEL_BUTTON_ID+this._suffix],!0)&&(t.stop(),this._hide(),this._onCancel&&this._onCancel())}),m.FileSelector.addMethod("_treeClickHandler",function(t){if(this._canClickOk()){var e=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(e),this._onChange&&this._onChange(e),this._hide(),this._onOk&&this._onOk()}}),m.FileSelector.addMethod("_treeLoadHandler",function(t){this._visible&&this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri)}),m.FileSelector.addMethod("_browseClickHandler",function(t){t.stop(),this._show()}),m.FileSelector.addMethod("_refreshButtonsState",function(){this._canClickOk()?r.enable(this._okButton):r.disable(this._okButton)}),m.FileSelector.addMethod("_hide",function(){d.popup.hide(this._dom),this._visible=!1}),m.FileSelector.addMethod("_show",function(){this._selectedUri=o(this._uriTextbox),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1),d.popup.show(this._dom,!0),this._visible=!0,this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri),this._refreshButtonsState()}),m.FileSelector.addMethod("remove",function(){p(this._dom).remove()}),i.exports=m}),define("resource/resource.base",["require","exports","module","prototype","../util/touch.controller","../util/utils.common","../core/core.events.bis","../dynamicTree/dynamicTree.utils"],function(t,e,i){var n=t("prototype"),s=n.$,o=n.$$,r=n.$break,a=t("../util/touch.controller"),l=t("../util/utils.common"),c=l.buildActionUrl,d=l.isIPad,u=t("../core/core.events.bis"),h=t("../dynamicTree/dynamicTree.utils"),p={messages:{},resourceLabelMaxLength:100,resourceIdMaxLength:100,resourceDescriptionMaxLength:250,PROPAGATE_EVENT:"propagateEvent",STEP_DISPLAY_ID:"stepDisplay",FLOW_CONTROLS_ID:"flowControls",initSwipeScroll:function(){var t=s(p.STEP_DISPLAY_ID);t&&new a(t.up(),t.up(1),{})},submitForm:function(t,e,i){if(e){var n=c(e);i&&i(),s(t).writeAttribute("method","post").writeAttribute("action",n),s(t).submit()}},registerClickHandlers:function(t,e,i){if(p._bodyClickEventHandlers)return void(i?Array.prototype.unshift:Array.prototype.push).apply(p._bodyClickEventHandlers,t);p._bodyClickEventHandlers=t,o(e||"body")[0].observe("click",function(t){p._bodyClickEventHandlers&&p._bodyClickEventHandlers.each(function(e){var i=e(t);if(i)throw i!==p.PROPAGATE_EVENT&&Event.stop(t),r})})},TreeWrapper:function(t){var e=this;if(this._treeId=t.treeId,this._resourceUriInput=s(t.resourceUriInput||"resourceUri"),this._uri=this._resourceUriInput&&this._resourceUriInput.getValue()||t.uri||"/",!t.providerId)throw"There is no tree provider set for tree #{id}".interpolate({id:this._treeId});var i=["providerId","rootUri","organizationId","publicFolderUri","urlGetNode","urlGetChildren"].inject({},function(e,i){return null!==t[i]&&(e[i]=t[i]),e});return this._tree=new h.createRepositoryTree(this._treeId,i),this._tree.observe("tree:loaded",function(){e._tree.openAndSelectNode(s(e._resourceUriInput).getValue())}),this._tree.observe("leaf:selected",function(t){e._uri=t.memo.node.param.uri,e._resourceUriInput.setValue(e._uri)}),this._tree.observe("node:selected",function(){e._resourceUriInput.setValue(e._uri="")}),{getTreeId:function(){return e._treeId},getTree:function(){return e._tree},selectFolder:function(t){e._tree.openAndSelectNode(t)},getSelectedFolderUri:function(){return e._uri}}},switchButtonState:function(t,e){u[e?"enable":"disable"].call(u,t)},switchDisableState:function(t,e){(t=s(t))&&t[e?"disable":"enable"].call(t)},generateResourceId:function(t){if(window.localContext&&window.localContext.initOptions&&window.localContext.initOptions.resourceIdNotSupportedSymbols)return t.replace(new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols,"g"),"_");throw"There is no resourceIdNotSupportedSymbols property in init options."},testResourceId:function(t){if(window.localContext&&window.localContext.initOptions&&window.localContext.initOptions.resourceIdNotSupportedSymbols)return new RegExp(window.localContext.initOptions.resourceIdNotSupportedSymbols,"g").test(t);throw"There is no resourceIdNotSupportedSymbols property in init options."},labelValidator:function(t){var e=!0,i="";return t.blank()?(i=p.messages.labelIsEmpty,e=!1):t.length>p.resourceLabelMaxLength&&(i=p.messages.labelToLong,e=!1),{isValid:e,errorMessage:i}},getLabelValidationEntry:function(t){return{element:t,validators:[{method:"mandatory",messages:{mandatory:p.messages.labelIsEmpty}},{method:"minMaxLength",messages:{tooLong:p.messages.labelToLong},options:{maxLength:p.resourceLabelMaxLength}}]}},getIdValidationEntry:function(t){return{element:t,validators:[{method:"resourceIdChars",messages:p.messages},{method:"mandatory",messages:{mandatory:p.messages.resourceIdIsEmpty}},{method:"minMaxLength",messages:{tooLong:p.messages.resourceIdToLong},options:{maxLength:p.resourceIdMaxLength}}]}},resourceIdValidator:function(t){var e=!0,i="";return this._isEditMode||(t.blank()?(i=p.messages.resourceIdIsEmpty,e=!1):t.length>p.resourceIdMaxLength?(i=p.messages.resourceIdToLong,e=!1):p.testResourceId(t)&&(i=p.messages.resourceIdInvalidChars,e=!1)),{isValid:e,errorMessage:i}},getDescriptionValidationEntry:function(t){return{element:t,validators:[{method:"minMaxLength",messages:{tooLong:p.messages.descriptionToLong},options:{maxLength:p.resourceDescriptionMaxLength}}]}},descriptionValidator:function(t){var e=!0,i="";return t.length>p.resourceDescriptionMaxLength&&(i=p.messages.descriptionToLong,e=!1),{isValid:e,errorMessage:i}},dataSourceValidator:function(t){var e=!0,i="";return""===t.trim()&&(i=p.messages.dataSourceInvalid,e=!1),{isValid:e,errorMessage:i}},queryValidator:function(t){var e=!0,i="";return""===t.trim()&&(i=p.messages.queryInvalid,e=!1),{isValid:e,errorMessage:i}},getValidationEntries:function(t){return t.collect(function(t){return t.validationEntry?t.validationEntry:{validator:t.validator,element:t}})}};void 0===t&&d()&&document.observe("dom:loaded",p.initSwipeScroll.bind(p)),i.exports=p}),define("text!scheduler/template/editor/outputTabTemplate.htm",[],function(){return'<div class="outputTab">\n\n    <js-templateNonce></js-templateNonce>\n\n\t<div class="outputFileOptions section">\n\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.output.label"] }}\n\t\t</h4>\n\n\t\t\x3c!-- start name and description --\x3e\n\t\t<fieldset id="outputFileName" class="group first" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.baseFileName"] }}">\n\t\t\t<label class="control input text">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.output.filename"] }} ({{- i18n["required.field"] }}):\n\t\t\t\t</span>\n\t\t\t\t<input name="baseOutputFilename" type="text" value="" maxlength="200">\n\t\t\t\t<span data-field="baseOutputFilename" class="message warning"></span>\n\t\t\t</label>\n\t\t</fieldset>\n\t\t<fieldset id="outputDescription" class="group">\n\t\t\t<label class="control textArea">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.label.description"] }}:\n\t\t\t\t</span>\n\t\t\t\t<textarea name="outputDescription"></textarea>\n\t\t\t\t<span data-field="outputDescription" class="message warning"></span>\n\t\t\t</label>\n\t\t</fieldset>\n\t\t\x3c!-- end name and description --\x3e\n\n\t\t\x3c!-- start time zone --\x3e\n\t\t<fieldset id="timeZone" class="group">\n\t\t\t<label class="control select inline twoLine">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.output.label.timezone"] }}:\n\t\t\t\t</span>\n\t\t\t\t<select name="timeZone">\n\t\t\t\t\t{{\n\t\t\t\t\t\t_.each(timeZones, function(zone) {\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t<option value="{{- zone.value }}">\n\t\t\t\t\t\t\t\t{{- zone.title }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</fieldset>\n\t\t\x3c!-- end time zone --\x3e\n\n\t\t\x3c!-- start output locale --\x3e\n\t\t<fieldset id="outputLocale" class="group">\n\t\t\t<label class="control select inline twoLine">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.output.label.locale"] }}:\n\t\t\t\t</span>\n\t\t\t\t<select name="outputLocale">\n\t\t\t\t\t<option value="" selected="">({{- i18n["report.scheduling.job.edit.output.locale.default"] }})</option>\n\t\t\t\t\t{{ for (var i = 0; i < locales.length; i++) { }}\n\t\t\t\t\t<option value="{{- locales[i] }}">{{- localesName[i] }}</option>\n\t\t\t\t\t{{ } }}\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</fieldset>\n\t\t\x3c!-- end output locale --\x3e\n\n\t\t\x3c!-- start formats --\x3e\n\t\t<fieldset id="outputFormat" class="group">\n\t\t\t<input id="outputFormats" type="hidden">\n\t\t\t<legend>\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.output.label.outputFormat"] }}:\n\t\t\t\t</span>\n\t\t\t</legend>\n\t\t\t<ul class="list inputSet">\n\n\t\t\t\t{{ for (var index = 0; index < availableFormats.length; index++) { }}\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t<label class="wrap" for="scheduler_box_{{- index}}" title="{{- i18n["report.output." + availableFormats[index].replace("_",".").toLowerCase() + ".label.tooltip"] }}">\n\t\t\t\t\t\t{{- i18n["report.output." +  availableFormats[index].replace("_",".").toLowerCase() + ".label"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="scheduler_box_{{- index}}" name="outputFormats" value="{{- availableFormats[index].toUpperCase() }}" type="checkbox">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\n\t\t\t\t{{ } }}\n\t\t\t</ul>\n\n\t\t\t<span data-field="outputFormats" class="message warning"></span>\n\t\t</fieldset>\n\t\t\x3c!-- end formats --\x3e\n\n\t\t\x3c!-- start file handling --\x3e\n\t\t<fieldset id="fileHandling" class="group">\n\t\t\t<legend class="">\n\t\t\t\t<span class="wrap">\n\t\t\t\t\t{{- i18n["report.scheduling.job.edit.file.handling"] }}:\n\t\t\t\t</span>\n\t\t\t</legend>\n\t\t\t<ul class="list inputSet">\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t<label class="wrap" for="scheduler_overwriteFiles">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.repository.label.overwriteFiles"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id="scheduler_overwriteFiles" type="checkbox" name="overwriteFiles" value="overwrite">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="leaf">\n\t\t\t\t\t<div class="control checkBox twoLine">\n\t\t\t\t\t\t<label class="wrap" for="scheduler_sequentialFilenames">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.file.handling.sequential"] }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.repository.label.timestampPattern"] }}:\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input id="scheduler_sequentialFilenames" type="checkbox" name="sequentialFilenames" value="sequential">\n\t\t\t\t\t\t<label class="control inline twoLine" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.timestamp.pattern.sequential"] }}">\n\t\t\t\t\t\t\t<input name="timestampPattern" type="text" maxlength="100" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.timestamp.pattern.simple.data"] }}">\n\t\t\t\t\t\t\t<span data-field="timestampPattern" class="message warning"></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</fieldset>\n\t\t\x3c!-- end file handling --\x3e\n\t</div>\n\n\t\x3c!-- start output destinations --\x3e\n\t<div class="outputDestination section">\n\t\t<h4 class="title">\n\t\t\t{{- i18n["report.scheduling.job.edit.destination"] }}\n\t\t</h4>\n\t\t<ul class="list group first inputSet">\n\n\t\t\t<li id="repositoryOutput" class="leaf">\n\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t<label class="control browser" for="scheduler_outputToRepository">\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.repository"] }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id="scheduler_outputToRepository" type="checkbox" name="outputToRepository">\n\t\t\t\t</div>\n\t\t\t\t<div class="control browser">\n\t\t\t\t\t<input type="text" name="outputRepository">\n\t\t\t\t\t<button name="outputRepositoryButton" class="button action" type="button">\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["button.browse"] }}\n\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span data-field="outputRepository" class="message warning"></span>\n\t\t\t\t</div>\n\t\t\t</li>\n\n\t\t\t<li id="fileSystemOutput" class="leaf">\n\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t<label class="control checkBox" for="scheduler_outputToHostFileSystem">\n\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.fs"] }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id="scheduler_outputToHostFileSystem" type="checkbox" name="outputToHostFileSystem">\n\t\t\t\t</div>\n\t\t\t\t<div class="control text">\n\t\t\t\t\t<label class="control input text" for="ftpAddress">\n\t\t\t\t\t\t<input type="text" name="outputHostFileSystem" />\n\t\t\t\t\t\t<span data-field="outputHostFileSystem" disabled="" class="message warning"></span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</li>\n\n\t\t\t<li id="ftpServerOutput" class="leaf">\n\t\t\t\t<ul class="list">\n\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t<label class="control checkBox" for="scheduler_outputToFTPServer">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp"] }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input id="scheduler_outputToFTPServer" type="checkbox"\n\t\t\t\t\t\t\t       name="outputToFTPServer">\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - SERVER ADDRESS --\x3e\n\t\t\t\t\t\t<div class="control text">\n\t\t\t\t\t\t\t<label class="control input text" for="ftpAddress">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.server"] }}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input id="ftpAddress" type="text" name="ftpAddress">\n\t\t\t\t\t\t\t\t<span data-field="ftpAddress" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - PORT --\x3e\n\t\t\t\t\t\t<div class="control text inline one">\n\t\t\t\t\t\t\t<label class="control input text" for="ftpPort">\n\t\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.port"] }}:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input type="text" name="ftpPort" id="ftpPort" >\n\t\t\t\t\t\t\t\t<span data-field="ftpPort" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - Transfer Protocol --\x3e\n\t\t\t\t\t\t<div class="control select inline two">\n\t\t\t\t\t\t\t<label class="control select" for="scheduler_ftpProtocol">\n\t\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.job.edit.destination.ftp.protocol"] }}:</span>\n\t\t\t\t\t\t\t\t<select name="ftpProtocol" id="scheduler_ftpProtocol">\n\t\t\t\t\t\t\t\t\t<option value="ftp">{{- i18n["report.scheduling.job.edit.destination.ftp.protocol.ftp"] }}</option>\n\t\t\t\t\t\t\t\t\t<option value="ftps">{{- i18n["report.scheduling.job.edit.destination.ftp.protocol.ftps"] }}</option>\n\t\t\t\t\t\t\t\t\t<option value="sftp">{{- i18n["report.scheduling.job.edit.destination.ftp.protocol.sftp"] }}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - DIRECTORY --\x3e\n\t\t\t\t\t\t<div class="control text">\n\t\t\t\t\t\t\t<label class="control input text" for="ftpDirectory">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.dir"] }}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input id="ftpDirectory" type="text" name="ftpDirectory">\n\t\t\t\t\t\t\t\t<span data-field="ftpDirectory" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - USER --\x3e\n\t\t\t\t\t\t<div class="control text inline">\n\t\t\t\t\t\t\t<label class="control input text" for="ftpUsername">\n\t\t\t\t\t\t\t\t<span class="wrap"></span>\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.user"] }}:\n\t\t\t\t\t\t\t\t<input id="ftpUsername" type="text" name="ftpUsername">\n\t\t\t\t\t\t\t\t<span data-field="ftpUsername" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- FTP output - PASSWORD --\x3e\n\t\t\t\t\t\t<div class="control text inline two">\n\t\t\t\t\t\t\t<label class="control input text" for="ftpPassword">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.password"] }}:\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t<input type="password" id="ftpPassword" name="ftpPassword">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span data-field="ftpPassword" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li class="leaf">\n\n\t\t\t\t\t\t<div class="control checkBox" data-ftp-type="sftp">\n\t\t\t\t\t\t\t<label class="control checkBox" for="scheduler_sshKeyEnabled">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.ssh"] }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input id="scheduler_sshKeyEnabled" type="checkbox" name="sshKeyEnabled">\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="control text" data-ftp-type="sftp">\n\t\t\t\t\t\t\t<label for="scheduler_sshKeyPath" class="control browser">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.ssh.key"] }}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input type="text" name="sshKeyPath" id="scheduler_sshKeyPath">\n\t\t\t\t\t\t\t\t<button name="sshKeyPathButton" class="button action" type="button">\n\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["button.browse"] }}\n\t\t\t\t\t\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<span data-field="sshKey" class="message warning"></span>\n\t\t\t\t\t\t\t\t<span class="message hint">{{- i18n["report.scheduling.job.edit.destination.ftp.ssh.key.hint"] }}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="control text" data-ftp-type="sftp">\n\t\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.destination.ftp.ssh.passphrase"] }}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input type="password" name="sshPassphrase">\n\t\t\t\t\t\t\t\t<span data-field="sshPassphrase" class="message warning"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<fieldset id="testConnection" class="group inputSet">\n\t\t\t<button name="ftpTestButton" id="ftpTestButton" class="button action ftp-test" type="button">\n\t            <span class="wrap">\n\t\t            {{- i18n["report.scheduling.job.edit.destination.ftp.test"] }}\n\t                <span class="icon"></span>\n\t            </span>\n\t\t\t</button>\n\t\t\t<span data-field="ftpTest" class="message warning"></span>\n\t\t</fieldset>\n\t</div>\n</div>'}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/collapsiblePanelTrait",["require","exports","module","underscore","jquery","./abstractPanelTrait"],function(t,e,i){function n(t,e){!e&&t.stopPropagation(),this.onCollapseControlPressed?this.onCollapseControlPressed(t):this.toggleCollapsedState()}function s(){this.$collapser&&this.$collapser.off("mousedown"),this.$el&&this.$el.find(this.expandOnDblClickSelector).off("dblclick")}var o=t("underscore"),r=t("jquery"),a=t("./abstractPanelTrait");i.exports=o.extend({},a,{onConstructor:function(t){this.collapserClass=t.collapserClass||"buttonIconToggle",this.collapserSelector=t.collapserSelector||".buttonIconToggle",this.collapsiblePanelClass=t.collapsiblePanelClass||"collapsiblePanel",this.expandOnDblClickSelector=t.expandOnDblClickSelector||"> p:first",this.allowEventPropagation=!!t.allowMouseDownEventPropagation,this.onCollapseControlPressed=t.onCollapseControlPressed},beforeSetElement:function(){s.call(this)},afterSetElement:function(){this.$el.addClass(this.collapsiblePanelClass),this.$collapser=this.$(this.collapserSelector),this.$collapser.length||(this.$collapser=r("<button></button>").addClass(this.collapserClass),this.$("> .header").prepend(this.$collapser)),this.$collapser.on("mousedown",o.bind(n,this,this.allowEventPropagation)),this.$el.find(this.expandOnDblClickSelector).on("dblclick",o.bind(n,this))},onRemove:function(){s.call(this)}})}),define("runtime_dependencies/js-sdk/src/common/component/list/model/ScalableListModel",["require","exports","module","backbone","underscore"],function(t,e,i){var n=t("backbone"),s=t("underscore"),o=n.Model.extend({initialize:function(t){s.bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=t.getData,this.bufferSize=t.bufferSize||100,this.loadFactor=t.loadFactor||.95},_fetchComplete:function(t){this.attributes.total=t.total,this.set({items:t.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+t.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(t.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(t.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(t,e){if(void 0===this.get("bufferStartIndex")||void 0===this.get("bufferEndIndex"))return!0;if(t>=0&&t<this.get("bufferStartIndex")||e<this.get("total")&&e>this.get("bufferEndIndex"))return!0;if(t===this.get("bufferStartIndex")&&e===this.get("bufferEndIndex"))return!1;var i=1-(t-this.get("bufferStartIndex"))/this.bufferSize,n=1-(this.get("bufferEndIndex")-e)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&n>=this.loadFactor},afterFetchComplete:function(t,e){},fetchFailed:function(t,e){this.trigger("fetchFailed",t,e)},fetch:function(t){if(t=s.extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},t),t.force||this._isBufferReloadNecessary(t.top,t.bottom)){if(t.top!==this.attributes.bufferStartIndex||t.bottom!==this.attributes.bufferEndIndex||t.force){var e=t.top+Math.floor((t.bottom-t.top)/2),i=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,e-i),this.get("total")&&!t.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this.afterFetchComplete&&this.afterFetchComplete(this.get("items"),this.get("total"))},reset:function(t){this.attributes={},this.set({items:[]},{silent:!0}),t&&t.silent||this.trigger("change",this)}});i.exports=o}),define("runtime_dependencies/js-sdk/src/common/component/list/model/BaseListWithSelectionModel",["require","exports","module","underscore","./ScalableListModel"],function(t,e,i){var n=t("underscore"),s=t("./ScalableListModel"),o=s.extend({initialize:function(t){s.prototype.initialize.call(this,t),this.select(t.value,{silent:!0})},_addToSelection:function(t,e){throw"Not implemented"},_removeFromSelection:function(t,e){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(t,e){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(t){t&&t.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(t,e,i){for(var n=0;n<t.length;n++)this._addToSelection(t[n].value,n+e);this.trigger("selection:addRange",{start:e,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(t,e){return this.getData().done(function(i){for(var n=0;n<i.data.length;n++)t(i.data[n].value,n);e&&e()}).fail(this.fetchFailed),this},addValueToSelection:function(t,e){return this.selectionStartIndex=e,this._addToSelection(t,e),this.trigger("selection:add",{value:t,index:e})},addRangeToSelection:function(t,e){if(void 0===this.selectionStartIndex)return void this.addValueToSelection(t,e);if(this.selectionStartIndex!==e){var i=Math.min(this.selectionStartIndex,e),n=Math.max(this.selectionStartIndex,e);if(this.selectionStartIndex=e,i>=this.get("bufferStartIndex")&&n<=this.get("bufferEndIndex")){var s=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),n-this.get("bufferStartIndex")+1);this._addRangeToSelection(s,i,n)}else{var o=this;this.getData({offset:i,limit:n-i+1}).done(function(t){o._addRangeToSelection(t.data,i,n)}).fail(this.fetchFailed)}}},removeValueFromSelection:function(t,e){this._removeFromSelection(t,e),this.trigger("selection:remove",{value:t,index:e})},toggleSelection:function(t,e){this.selectionContains(t,e)?this.removeValueFromSelection(t,e):this.addValueToSelection(t,e)},selectionContains:function(t,e){return this._selectionContains(t,e)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(t,e){throw"Not implemented"},selectAll:function(){var t=this,e=!0;this._fetchAllDataAndModifySelection(function(i,n){e&&(t._clearSelection(),e=!1),t._addToSelection(i,n)},n.bind(this._triggerSelectionChange,this))},invertSelection:function(){var t=this;this._fetchAllDataAndModifySelection(function(e,i){t._selectionContains(e,i)?t._removeFromSelection(e,i):t._addToSelection(e,i)},n.bind(this._triggerSelectionChange,this))}});i.exports=o}),define("runtime_dependencies/js-sdk/src/common/component/list/model/ListWithSelectionModel",["require","exports","module","underscore","./BaseListWithSelectionModel"],function(t,e,i){var n=t("underscore"),s=t("./BaseListWithSelectionModel"),o=s.extend({_addToSelection:function(t,e){this.selection[e]=t},_removeFromSelection:function(t,e){this.selection[e]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(t,e){return this.selection[e]===t},_getSelection:function(){return this.selection},_isSelectionEmpty:function(t){if(!t)return!0;if(n.isArray(t)&&0===t.length)return!0;if(n.isArray(t)||"string"==typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&void 0!==t[e])return!1;return!0},_selectPendingSelection:function(t,e){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),t,e);else{var i=this;this.getData().done(function(n){i._convertInitialArrayToSelection(n.data,t,e)}).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(t,e,i){for(var n=0;n<t.length;n++)e[t[n].value]&&this._addToSelection(t[n].value,n);this._triggerSelectionChange(i)},_triggerSelectionChange:function(t){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),s.prototype._triggerSelectionChange.call(this,t)},_calcSelectionStartIndex:function(){if(void 0===this.selectionStartIndex)for(var t in this.selection)if(this.selection.hasOwnProperty(t)&&void 0!==this.selection[t]){this.selectionStartIndex=parseInt(t,10);break}},select:function(t,e){if(this._clearSelection(),this._isSelectionEmpty(t))return void this._triggerSelectionChange(e);if(n.isArray(t)||"string"==typeof t){var i={};if("string"==typeof t)i[t]=!0;else for(var s=0;s<t.length;s++)i[t[s]]=!0;this._selectPendingSelection(i,e)}else{for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];void 0!==r&&this._addToSelection(r,o)}this._triggerSelectionChange(e)}}});i.exports=o}),define("text!runtime_dependencies/js-sdk/src/common/component/list/templates/viewPortChunksTemplate.htm",[],function(){
return'{{_.each(chunks, function(chunk) { }}\n<div class="j-view-port-chunk" style="height: {{- chunk.height}}px">\n\n    <js-templateNonce></js-templateNonce>\n</div>\n{{ }); }}\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/list/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{_.each(items, function(item) { }}\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\n        <div class="jr-mSelectlist-item-wrapper jr">\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssHardEscape(item.label) : \'&nbsp;\')}}</a>\n        </div>\n    </li>\n    {{ }); }}\n</ul>'}),define("runtime_dependencies/js-sdk/src/common/component/list/view/ScalableList",["require","exports","module","jquery","backbone","underscore","../model/ScalableListModel","text!../templates/viewPortChunksTemplate.htm","text!../templates/itemsTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("backbone"),o=t("underscore"),r=t("../model/ScalableListModel"),a=t("text!../templates/viewPortChunksTemplate.htm"),l=t("text!../templates/itemsTemplate.htm"),c=s.View.extend({ListModel:r,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px"},initialize:function(t){return o.bindAll(this,"_fetchVisibleData"),this.model=t.model||new this.ListModel(t),this.chunksTemplate=o.template(t.chunksTemplate||a),this.itemsTemplate=o.template(t.itemsTemplate||l),this.defaultChunkHeight=this.chunkHeight=t.chunkHeight||1e6,this.scrollTimeout=void 0!==t.scrollTimeout?t.scrollTimeout:50,this.manualScrollInterval=t.manualScrollInterval||50,this.lazy=t.lazy,this.defaultItemHeight=t.listItemHeight||21,this.listItemSelector=t.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(t){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData()},onModelChange:function(){this.renderData()},onFetchFailed:function(t,e){this.trigger("listRenderError",t,e)},postProcessChunkModelItem:function(t,e){t.index=this.model.get("bufferStartIndex")+e,void 0===t.label&&(t.label=t.value),t.label=n.trim(t.label)},_renderItems:function(){var t=this.model.get("bufferStartIndex"),e=this.model.get("bufferEndIndex"),i=this.itemsPerChunk?Math.ceil((t+1)/this.itemsPerChunk):1,s=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,o=this;this.$el.find(".j-view-port-chunk").each(function(r,a){var l=o._getChunkModel({index:r+1,firstChunkWithData:i,lastChunkWithData:s,bufferStart:t,bufferEnd:e,total:o.totalItems,itemsPerChunk:o.itemsPerChunk,itemHeight:o.itemHeight,chunkHeight:o.chunkHeight,model:o.model}),c=l?o.itemsTemplate(l):"";n(a).html(c)})},_renderViewChunks:function(t){(this.totalItems!==this.model.get("total")||t)&&(this.totalItems=this.model.get("total"),this.$el.html(this.chunksTemplate({_:o,chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".j-view-port-chunk:first"))},_getViewChunksModel:function(){for(var t=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,e=t>0?this.itemHeight?this.totalItems*this.itemHeight-(t-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;n<t;n++)i.push({height:this.chunkHeight});return i.push({height:e}),i},_calcViewPortConstants:function(t){t=t||{},this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=2?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._renderData(),this.itemsPerView},_getChunkModel:function(t){var e=t.index;if(e<t.firstChunkWithData||e>t.lastChunkWithData)return null;var i=t.itemsPerChunk?Math.max(t.bufferStart,t.itemsPerChunk*(e-1)):t.bufferStart,n=t.itemsPerChunk?Math.min(t.bufferEnd,t.itemsPerChunk*e-1):t.bufferEnd,s=t.itemHeight?i*t.itemHeight-(e-1)*t.chunkHeight:0,r=Array.prototype.slice.call(t.model.get("items"),i-t.bufferStart,n-t.bufferStart+1);return o.each(r,function(e,n){this.postProcessChunkModelItem(e,n+(i-t.bufferStart))},this),{top:s,items:r}},_fetchVisibleData:function(){var t=this._getVisibleItems();this.model.fetch({top:t.top,bottom:t.bottom})},_getVisibleItems:function(){var t=this._getScrollPos(),e=this.model.get("total"),i=Math.min(e-this.itemsPerView,Math.floor(t/this.itemHeight));return{top:i,bottom:Math.min(e-1,i+this.itemsPerView+1)}},_getScrollPos:function(){this._renderData();var t=0;if(this.$firstViewChunk){var e=this.$el.offset(),i=this.$firstViewChunk.offset();e&&i&&(t=e.top-i.top)}return t},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?this._renderData():(this.lazy=null,this.model.fetch()),this},_renderData:function(){this.trigger("before:render:data"),this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")},resize:function(){if(this.$el.is(":visible")){var t=this.$el.outerHeight();t!==this._componentHeight&&(this._componentHeight=t,this.viewPortConstantsInitialized=!1,this._renderData())}},fetch:function(t,e){this.lazy=!1,e=e||{};var i;e.keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0,lazy:!1}),this.model.once("change",function(){e.keepPosition&&this.$el.scrollTop(i),t&&t.apply(this,arguments)},this).fetch({force:!0})},reset:function(t){t=o.defaults(t||{},{lazy:!0}),this.$el.scrollTop(0),this.lazy=t.lazy,this.model.reset(t)},scrollTo:function(t){if("number"==typeof t){var e=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=t*this.itemHeight;n<e?i=n:n+this.itemHeight>e+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});i.exports=c}),define("runtime_dependencies/js-sdk/src/common/component/list/view/ListWithSelection",["require","exports","module","jquery","underscore","../model/ListWithSelectionModel","./ScalableList"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("../model/ListWithSelectionModel"),r=t("./ScalableList"),a={LEFT:"left",RIGHT:"right"},l=r.extend({ListModel:o,globalEvents:!0,initialize:function(t){return s.bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=t.eventListenerPattern||"li",this.markerClass=t.markerClass?t.markerClass:"",this.selectedClass=t.selectedClass?t.selectedClass:"selected",this._initSelection(t.selection),r.prototype.initialize.call(this,t)},delegateEvents:function(){var t=r.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,s.bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,s.bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,s.bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,s.bind(this.onItemEvent,this,this.$el)),!this.globalEvents&&this.$el.on("mouseup",this.eventListenerPattern,this.onGlobalMouseup),t},undelegateEvents:function(){var t=r.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mouseup").off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("mouseout").off("mouseover"),t},_initSelection:function(t){t=s.extend({allowed:{}},t);var e=t.allowed,i=s.isObject(e)?e.left:e;this.selection={allowed:{left:void 0===i||i,right:void 0!==e.right&&e.right},multiple:void 0===t.multiple||t.multiple}},initListeners:function(){r.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),this.globalEvents&&n("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(t,e){r.prototype.postProcessChunkModelItem.call(this,t,e),t.selected=this.model.selectionContains&&this.model.selectionContains(t.value,t.index)},onMousedblclick:function(t){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var e=this._getDomItemData(t.currentTarget);this._singleSelect(t,e.value,e.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(t){return this._getDomItemData(t.currentTarget).item},onItemEvent:function(t,e){var i=e.type,n=this.getItemByEvent(e);this.trigger("list:item:"+i,n,e)},onMousedown:function(t){if(!this.getDisabled()&&(this.selection.allowed.left&&1===t.which||this.selection.allowed.right&&3===t.which)){var e=1===t.which?a.LEFT:a.RIGHT;this.selection.multiple&&(this[e+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(t));var i=this._getDomItemData(t.currentTarget);this.selection.multiple?this._multiSelect(t,i.value,i.index):this._singleSelect(t,i.value,i.index)}},onMousemove:function(t){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(t,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(t);var e=this._getDomItemData(t.currentTarget);this.model.selectionContains(e.value,e.index)||this.model.addRangeToSelection(e.value,e.index)}},onGlobalMouseup:function(t){var e=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(s.each(a,function(t){e[t+"MouseButtonPressed"]=!1}),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(t){this._allowMouseMoveSelection()&&(this.mousePosY=t.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(t){this.$el.find("li"+this.markerClass+"[data-index='"+t.index+"']:not(."+this.selectedClass+")").addClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(t){var e=this,i=Math.max(this.model.get("bufferStartIndex"),t.start),s=Math.min(this.model.get("bufferEndIndex"),t.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each(function(){var t=n(this),o=parseInt(t.attr("data-index"),10);if(o>=i&&o<=s){var r=e.model.get("items")[o-e.model.get("bufferStartIndex")];e.model.selectionContains(r.value,o)&&t.addClass(e.selectedClass)}}),this.selectionChanged=!0},deselectValue:function(t){this.$el.find("li[data-index='"+t.index+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_autoScroll:function(){var t,e=this.$el.offset().top,i=this.$el.scrollTop(),n=void 0!==this.scrollTop?this.scrollTop:i,s=!1;this.mousePosY<e?(t=n-3*this.itemHeight,s=t<i):this.mousePosY>e+this.viewPortHeight&&(t=n+3*this.itemHeight,s=t>i),s&&(this.$el.scrollTop(t),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,t)},_selectRangeOnAutoScroll:function(t,e){var i;if(t<e?i=this._getVisibleItems().bottom:t>e&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(t,e,i){t.shiftKey?this.model.addRangeToSelection(e,i):t.ctrlKey||t.metaKey?this._singleSelect(t,e,i):this.model.toggleSelection(e,i)},_singleSelect:function(t,e,i){this.model.clearSelection().addValueToSelection(e,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(t){for(var e=n(t),i=e.attr("data-index");void 0===i;)e=e.parent(),i=e.attr("data-index");i=parseInt(i,10);var s=this.model.get("items")[i-this.model.get("bufferStartIndex")];return{item:s,value:s.value,index:i}},_mouseMoved:function(t,e){return Math.abs(e.x-t.clientX)+Math.abs(e.y-t.clientY)>=1},_getMousePos:function(t){return{x:t.clientX,y:t.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(t,e){return e=e||{},e&&e.silent||e.modelOptions&&e.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),e=e.modelOptions,this.model.select(t,e),this},selectAll:function(t){return t&&t.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(t){return this.setValue({},t)},invertSelection:function(t){return t&&t.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(t){return this.disabled=t,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return n("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),r.prototype.remove.call(this)}});i.exports=l}),define("runtime_dependencies/js-sdk/src/common/component/tree/trait/addToSelectionModelTrait",["require","exports","module","underscore","../../list/model/ScalableListModel"],function(t,e,i){var n=t("underscore"),s=t("../../list/model/ScalableListModel");i.exports={afterFetchComplete:function(t,e){s.prototype.afterFetchComplete.apply(this,arguments);var i,o;n.each(t,function(t,e){t.addToSelection&&(t.selected=!0,i=t.value,o=this.get("bufferStartIndex")+e,this.selectionContains&&!this.selectionContains(i,o)&&this.addValueToSelection(i,o),delete t.addToSelection)},this)}}}),define("runtime_dependencies/js-sdk/src/common/component/tree/dataprovider/DataProviderWithSearchCache",["require","exports","module","underscore","jquery"],function(t,e,i){var n=t("underscore"),s=t("jquery"),o=function(t){n.bindAll(this,"getData"),t=t||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=t.pageSize||999,this.criteriaKey=t.searchKey||"criteria",this.maxSearchCacheSize=t.maxSearchCacheSize||50,this.getDataByCriteriaHolder={},this.controlGetTotal=void 0!==t.controlGetTotal&&t.controlGetTotal,this.dataConverter=t.dataConverter,this.saveLastCriteria=void 0!==t.saveLastCriteria&&t.saveLastCriteria,this.lastCriteria=null,this.serialRequestsDelay=void 0!==t.serialRequestsDelay?t.serialRequestsDelay:50,this.serialRequestsDelayedPromise=null,this.request=t.request};n.extend(o.prototype,{getData:function(t){if(t=t||{},t[this.criteriaKey])return this._getDataByCriteria(t[this.criteriaKey])(t);if(void 0===t[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(t);this.lastCriteria=null;var e=s.Deferred(),i=this._getPagesToLoad(t);return i?this._requestData(t,i,e):this._resolveDeferredUsingDataFromCache(e,t),e.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.lastCriteria=null},_requestData:function(t,e,i){var s=(e[e.length-1]-e[0]+1)*this.pageSize,o=n.extend({},t,{offset:e[0]*this.pageSize,limit:s});this.controlGetTotal&&(o.skipGetTotal=!0),s>=2147483647/this.pageSize*this.pageSize&&delete o.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete o.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(n.bind(this._requestDataDeferred,this,t,o,i),this.serialRequestsDelay)):this._requestDataDeferred(t,o,i)},_requestDataDeferred:function(t,e,i){this._getPagesToLoad(t)?this.serialRequestsDelayedPromise&&n.isEqual(e,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(i.resolve).fail(i.reject):(this.serialRequestsDelayedPromise={promise:i.promise(),query:e},this.request(e).done(n.bind(this._requestDone,this,t,e,i)).fail(i.reject)):this._resolveDeferredUsingDataFromCache(i,t)},_requestDone:function(t,e,i,n){this._putDataToCache(e,n),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(i,t)},_resolveDeferredUsingDataFromCache:function(t,e){var i=this._getDataFromCache(e);t.resolve({total:this.dataCacheTotal,data:i})},_getPagesToLoad:function(t){var e,i=this._convertLimitOffsetToFirstLast(t),n=this._findPageIndex(i.first),s=this._findPageIndex(i.last),o=[];for(e=n;e<=s;e++)if(!this.dataCachePages[e]){o.push(e);break}for(e=s;e>=n;e--)if(!this.dataCachePages[e]){o.push(e);break}return o.length>0?o:null},_findPageIndex:function(t){return Math.floor(t/this.pageSize)},_convertLimitOffsetToFirstLast:function(t){var e=t&&t.offset?t.offset:0,i=t&&t.limit?e+t.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:2147483647;return this.dataCacheTotal&&i>this.dataCacheTotal-1&&(i=this.dataCacheTotal-1),{first:e,last:i}},_getDataFromCache:function(t){t=n.defaults(t,{offset:0,limit:2147483647});var e=Math.max(0,t.offset),i=Math.min(e+t.limit,this.dataCacheTotal);return this.dataCache.slice(e,i)},_putDataToCache:function(t,e){var i;for(void 0!==e.total&&(this.dataCacheTotal=e.total),t.limit=t.limit||2147483647,i=0;i<e.data.length;i++)this.dataCache[i+t.offset]=this.dataConverter?this.dataConverter(e.data[i]):e.data[i];var n=t.offset/this.pageSize,s=Math.floor((Math.min(t.limit,e.data.length)+t.offset-1)/this.pageSize);for(i=n;i<=s;i++)this.dataCachePages[i]=!0},_getDataByCriteria:function(t){if(!this.getDataByCriteriaHolder[t]){var e,i=Number.MAX_VALUE,n=0,s=0;for(var o in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(o)){s+=1;var r=this.getDataByCriteriaHolder[o];r.index<i&&(i=r.index,e=o),r.index>n&&(n=r.index)}s>=this.maxSearchCacheSize&&delete this.getDataByCriteriaHolder[e],this.getDataByCriteriaHolder[t]={getData:this._createDataProviderForCriteria(t),index:n+1}}return this.lastCriteria=t,this.getDataByCriteriaHolder[t].getData},_createDataProviderForCriteria:function(t){var e=this.request,i=this,s=new o({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(s){var o=n.extend({},s);return o[i.criteriaKey]=t,e(o)}}),r=s.getData;return s.getData=function(t){var e=n.extend({},t);return delete e[i.criteriaKey],r.call(s,e)},s.getData}}),i.exports=o}),define("runtime_dependencies/js-sdk/src/common/component/tree/TreeLevel",["require","exports","module","underscore","../panel/Panel","../panel/trait/collapsiblePanelTrait","../list/view/ListWithSelection","./trait/addToSelectionModelTrait","../list/model/ListWithSelectionModel","./dataprovider/DataProviderWithSearchCache"],function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){this.$el.removeClass(this.loadingClass).addClass(this.openClass),u.invoke(this.plugins,"itemsRendered",this.list.model,this.list);var t=this.list.$("> .j-view-port-chunk > ul > li").addClass(this.cid).length,e=u.isFunction(this.levelHeight)?this.levelHeight():this.levelHeight;e&&t*this.listItemHeight>e?this.list.$el.css({height:e+"px","overflow-y":"auto"}):this.list.$el.css({height:"auto",overflow:"auto"}),this.list._calcViewPortHeight(),this._isReady=!0,this.trigger("ready",this)}function o(t,e){this.listRenderError=!0,this.trigger("listRenderError",t,e,this)}function r(t){var e=[];u.chain(t).keys(t).each(function(i){e.push(t[i])}),this.selection.multiple||d(this),this.trigger("selection:change",e,this,[])}function a(t){var e=[];u.chain(t).keys(t).each(function(i){e.push(t[i])}),this.selection.multiple||d(this),this.trigger("item:dblclick",e)}function l(t,e){for(var i=0;i<e.length;i++)if(e[i]===t)return!0}function c(t,e,i,n){i&&i.exclude&&u.isArray(i.exclude)&&l(t,i.exclude)||(void 0===n||n>0)&&u.chain(t.items).keys().each(function(s){i&&i.exclude&&u.isArray(i.exclude)&&l(t.items[s],i.exclude)||e.call(t.items[s],i),c(t.items[s],e,i,void 0===n?n:--n)})}function d(t,e){e=e&&{exclude:e.exclude},c(t,function(t){this.list.clearSelection(),this.list.model.selection=[]},e)}var u=t("underscore"),h=t("../panel/Panel"),p=t("../panel/trait/collapsiblePanelTrait"),m=t("../list/view/ListWithSelection"),f=t("./trait/addToSelectionModelTrait"),g=t("../list/model/ListWithSelectionModel"),b=t("./dataprovider/DataProviderWithSearchCache"),v=g.extend(f);i.exports=h.extend({constructor:function(t){t||(t={}),u.extend(t,{traits:[p]}),h.prototype.constructor.call(this,t)},initialize:function(t){t||(t={}),this._isReady=!1,this.item=t.item||{},this.id=this.item.id,this.owner=t.owner,this.parent=t.parent,this.itemsTemplate=t.itemsTemplate,this.listItemHeight=t.listItemHeight,this.levelHeight=t.levelHeight,this.lazyLoad=!!t.lazyLoad,this.selection=t.selection||{allowed:!1,multiple:!1},this.resource=this.item.value,this.bufferSize=t.bufferSize,this.cache=void 0!==t.cache&&t.cache,this.allowMouseDownEventPropagation=t.allowMouseDownEventPropagation,this.items={},this.plugins=[];for(var e={el:this.el,model:this.model},i=0,n=t.plugins.length;i<n;i++){var s=t.plugins[i].constr;this.plugins.push(new s(u.extend({},e,t.plugins[i].options)))}this.dataLayer=this.owner.getDataLayer(this),u.invoke(this.plugins,"dataLayerObtained",this.dataLayer),h.prototype.initialize.apply(this,arguments)},render:function(){var t=new v({bufferSize:this.bufferSize,getData:this._getDataProvider(this.cache)});return this.list=new m({markerClass:"."+this.cid,eventListenerPattern:"."+this.cid+":not(.readonly) > p",el:this.$contentContainer,itemsTemplate:this.itemsTemplate,listItemHeight:this.listItemHeight,lazy:!0,selection:this.selection,allowMouseDownEventPropagation:this.allowMouseDownEventPropagation,model:t}),this.list.on("render:data",u.bind(s,this)),this.list.on("listRenderError",u.bind(o,this)),this.list.on("selection:change",u.bind(r,this)),this.list.on("item:dblclick",u.bind(a,this)),this.lazyLoad?this.on("open",this._onOpen,this):this.list.renderData(),this},_getDataProvider:function(t){var e=this,i=u.bind(function(t){return this.obtainData(t,e)},this.dataLayer),s={};return t&&("object"===n(t)&&(s=u.extend(s,t)),s.request=s.request||i,this.dataProvider=new b(s),i=this.dataProvider.getData),function(t){return t||(t={offset:0,limit:100}),t.id=e.id,i(u.extend({},e.owner.context,t),e)}},_onOpen:function(){this.$el.removeClass(this.openClass).addClass(this.loadingClass),this.list.renderData()},setElement:function(t){var e=h.prototype.setElement.apply(this,arguments);return this.list&&(this.list.setElement(this.$contentContainer),this.list.totalItems=-1),u.each(this.plugins,function(e){e.setElement(t)}),this.lazyLoad||this.list&&this.list.renderData(),this.collapsed||(this.open({silent:!0,depth:0}),this.lazyLoad&&this.list.renderData()),e},open:function(t){c(this,h.prototype.open,t,t?t.depth:0),h.prototype.open.call(this,t)},close:function(t){h.prototype.close.call(this,t),c(this,h.prototype.close,t,t?t.depth:void 0),d(this)},getLevel:function(t){return u(this.items).reduce(function(e,i){return e||(i.id===t?i:i.getLevel(t))},!1)},refresh:function(t){this.listRenderError||(this.lazyLoad&&!this.collapsed||!this.lazyLoad?(this.once("ready",u.bind(c,this,this,this.refresh,t,1)),this.list.model.fetch({top:0,bottom:this.list.model.bufferSize,force:!0}),this.list.scrollTo(0)):(this.list.model.set("bufferStartIndex",void 0,{silent:!0}),this.list.model.set("bufferEndIndex",void 0,{silent:!0}),this.list.model.set("total",void 0,{silent:!0}),c(this,this.refresh,t)))},fetch:function(t,e){this.list.fetch(e,t)},recalcConstraints:function(){this.list.resize()},fetchVisibleData:function(){this.list._fetchVisibleData()},resetSelection:function(t){d(this,t),t&&t.silent||this.trigger("selection:change",[])},hasItems:function(){return!!this.$("> .subcontainer > .j-view-port-chunk > ul > li").length},clearCache:function(){u.each(this.items,function(t){t.clearCache()}),this.dataProvider&&this.dataProvider.clear()},remove:function(){var t=this,e=-1;if(u.forEach(u.keys(this.items),function(e){t.items[e].remove()}),this.dataProvider&&this.dataProvider.clear(),this.list.remove(),this.parent){var i=this.parent.id,n=this.owner.getDataLayer(i);if(n&&n.predefinedData&&n.predefinedData[i]&&u.isArray(n.predefinedData[i])){for(var s=0;s<n.predefinedData[i].length;s++)if(n.predefinedData[i][s].id===this.id){e=s;break}e>-1&&(n.predefinedData[i].splice(e,1),delete n.predefinedData[this.id])}delete this.parent.items[this.id]}h.prototype.remove.apply(this,arguments)},isReady:function(){return this._isReady}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer",["require","exports","module","underscore","jquery","../../util/classUtil","../../util/xssUtil","request"],function(t,e,i){function n(t,e){return o.call(this,s.call(this,t),e)}function s(t){for(var e=0,i=t.length;e<i;e++)t[e]={id:this.extractId(t[e]),value:t[e]};return t}function o(t,e){var i,n;if(this.processors&&this.processors.length)for(var s=0,o=this.processors.length;s<o;s++){i=[];for(var r=0,a=t.length;r<a;r++)(n=this.processors[s].processItem(t[r],e,this))&&i.push(n);t=i}return t}var r=t("underscore"),a=t("jquery"),l=t("../../util/classUtil"),c=(t("../../util/xssUtil"),t("request"));i.exports=l.extend({constructor:function(t){this.requestType=t.requestType?t.requestType:"GET",t.getDataUri&&(this.getDataUri=t.getDataUri),this.getDataUri||(this.getDataUri=r.template(t.dataUriTemplate)),t.getDataArray&&(this.getDataArray=t.getDataArray),t.getDataSize&&(this.getDataSize=t.getDataSize),t.extractId&&(this.extractId=t.extractId),this.levelDataId=t.levelDataId?t.levelDataId:"id",this.processors=t.processors||[],this.initialize(t)},initialize:function(t){},extractId:function(t){return t[this.levelDataId]},getDataSize:function(t,e,i){return this.getDataArray(t,e,i).length},getDataArray:function(t,e,i){return t},obtainData:function(t,e){var i=new a.Deferred,s=this;return this.predefinedData&&this.predefinedData[t.id]?i.resolve({total:this.predefinedData[t.id].length,data:this.predefinedData[t.id]}):c({type:this.requestType,dataType:this.dataType||"json",headers:{Accept:this.accept||"application/json","Content-Type":this.contentType||void 0},cache:!1,data:this.data||void 0,url:this.getDataUri(t)}).done(function(){var e=arguments[0];s.dataSize=s.getDataSize.call(s,e,t,arguments[2]),i.resolve({total:s.dataSize,data:n.call(s,s.getDataArray.call(s,e,t,arguments[2]),t)})}).fail(function(t){i.reject(t.status,t.responseText)}),i},_process:n})}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/treeLevelListTemplate.htm",[],function(){return'<ul class="list collapsible folders" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{ _.each(items, function(item){ }}\n    <li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n        <p class="wrap button draggable" data-tooltip="{{- item.value.label }}"><b class="icon"/> {{- item.value.label }} </p>\n        <div class="subcontainer" />\n    </li>\n    {{ }) }}\n</ul>\n'}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/treeLevelTemplate.htm",[],function(){return'<div>\n\n    <js-templateNonce></js-templateNonce>\n    <ul class="list collapsible folders">\n        <li class="node">\n            <p class="wrap button">\n                <b class="icon" id="handler2" title=""></b>root\n            </p>\n            <div class="subcontainer"/>\n        </li>\n    </ul>\n</div>'}),define("runtime_dependencies/js-sdk/src/common/component/tree/Tree",["require","exports","module","jquery","underscore","backbone","./TreeLevel","./TreeDataLayer","text!./template/treeLevelListTemplate.htm","text!./template/treeLevelTemplate.htm"],function(t,e,i){function n(t){var e=t.list.model.get("items"),i=this;e=o.where(e,{_node:!0}),t.$(".node").each(function(s,r){var l=e[s].id;t.items[l]?t.items[l].setElement(r):(t.items[l]=new a(o.extend({},i._options,{el:r,item:e[s],parent:t})),i.listenTo(t.items[l],"listRenderError",o.bind(function(t,e,i){this.trigger("levelRenderError",t,e,i)},i)),t.listenTo(t.items[l],"ready",o.bind(n,i)),t.listenTo(t.items[l],"selection:change",function(e,i,n){i&&n.push(i),t.list.model.clearSelection(),t.trigger("selection:change",e,t,n)}),t.listenTo(t.items[l],"item:dblclick",function(e){t.list.model.clearSelection(),t.trigger("item:dblclick",e)}),t.items[l].render())}).length&&t.$(".j-view-port-chunk").css({height:"auto"})}var s=t("jquery"),o=t("underscore"),r=t("backbone"),a=t("./TreeLevel"),l=t("./TreeDataLayer"),c=t("text!./template/treeLevelListTemplate.htm"),d=t("text!./template/treeLevelTemplate.htm"),u={ADD:"add",UPDATE:"update"},h=r.View.extend({template:o.template(d),_plugins:[],el:function(){return this.template()},constructor:function(t){t||(t={}),this.defaultDataLayer=new l(t),this.customDataLayers=t.customDataLayers,t.type?(this._type=t.type,t.type=void 0):this._type="tree",t.collapserSelector||(t.collapserSelector="b.icon:eq(0)"),t.predefinedData?(this.defaultDataLayer.predefinedData=t.predefinedData,t.predefinedData=void 0):this.defaultDataLayer.predefinedData={},t.rootless&&(this.rootless=t.rootless,t.rootless=void 0),t.additionalCssClasses&&(this.additionalCssClasses=t.additionalCssClasses,t.additionalCssClasses=void 0),t.getDataLayer&&(this.getDataLayer=t.getDataLayer,t.getDataLayer=void 0),this._options=o.extend({itemsTemplate:c,plugins:this._plugins,owner:this},t),this.context=t.context||{};for(var e=0,i=this._plugins.length;e<i;e++)this._plugins[e].processors&&(this.processors=this.processors.concat(this._plugins[e].processors));r.View.apply(this,arguments)},initialize:function(t){this.rootLevel=new a(o.extend({},this._options,{levelHeight:t.rootLevelHeight},{el:this.$("li")[0]},{item:{id:"/",value:{id:"/",resourceType:"folder"}}})),this.rootless&&this.$el.find("ul:first").addClass("hideRoot"),this.additionalCssClasses&&this.$el.find("ul:first").addClass(this.additionalCssClasses),this.listenTo(this.rootLevel,"ready",o.bind(n,this)),this.listenTo(this.rootLevel,"selection:change",o.bind(function(t,e,i){e&&i&&o.isArray(i)&&(this.rootLevel.selection.multiple||this.rootLevel.resetSelection({silent:!0,exclude:[i[0]]})),this.trigger("selection:change",t)},this)),
this.listenTo(this.rootLevel,"item:dblclick",o.bind(function(t){this.trigger("item:dblclick",t)},this));for(var e=0,i=this._plugins.length;e<i;e++)this._plugins[e].constr.treeInitialized.call(this,this._plugins[e].options);this.rootLevel.render(),t.collapsed&&t.lazyLoad&&this.rootless&&this.expand("/")},remove:function(){for(var t=0,e=this._plugins.length;t<e;t++)this._plugins[t].constr.treeRemoved.call(this);this.rootLevel.remove(),r.View.prototype.remove.apply(this,arguments)},expand:function(t,e){var i=this.getLevel(t);return i&&i.open(e),this},collapse:function(t,e){var i=this.getLevel(t);return i&&i.close(e),this},_getNodeByLevelId:function(t){var e,i,n=this.getLevel(t);if(n)return n.parent?(e=n.parent.list,{node:n.item,nodeElement:n.$el,itsList:e}):null;var s=!1;if("list"===this._type)s=this.rootLevel;else if("tree"===this._type){var r=t.split("/");if(r=r.slice(0,r.length-1).join("/"),""===r&&(r="/"),!(s=this.getLevel(r)))return null}return s?(e=s.list,i=o.find(e.model.get("items"),function(e){return e.id===t}),i?{node:i,nodeElement:e.$el.find("li.leaf.selected"),itsList:e}:null):null},select:function(t){var e=this._getNodeByLevelId(t);e&&(e.itsList.model.clearSelection().addValueToSelection(e.node.value,e.node.index),this.trigger("selection:change",e.itsList.getValue()))},deselect:function(t){},addItem:function(t,e){var i=this.getLevel(t),n=u.ADD;return i&&this._getNodeItems(t,i,e,n),this},updateItem:function(t,e){var i=e?this.getLevel(e):this.rootLevel;return i&&this._getNodeItems(i.id,i,t),this},resetSelection:function(t){return this.rootLevel.list.clearSelection(),this.rootLevel.list.model.selection=[],this.rootLevel.resetSelection(t),this},refresh:function(t){t&&(this.context=t),this.rootLevel.refresh()},recalcConstraints:function(){this.rootLevel.recalcConstraints()},fetchVisibleData:function(){this.rootLevel.fetchVisibleData()},clearCache:function(){this.rootLevel.clearCache()},getLevel:function(t){return this.rootLevel.id===t?this.rootLevel:this.rootLevel.getLevel(t)},getDataLayer:function(t){return this.customDataLayers&&this.customDataLayers[t.id]?this.customDataLayers[t.id]:this.defaultDataLayer},_addItem:function(t,e,i){return!o.findWhere(t,{id:i.id})&&t.push(i),t},_updateItem:function(t,e){return o.each(t,function(t){t.id===e.id&&o.extend(t,e)},this),t},_getNodeItems:function(t,e,i,n){var s,r=this.getDataLayer(e),a=e.list.model.get("items")?e.list.model.get("items"):[];r.predefinedData=r.predefinedData||{},s=n===u.ADD?this._addItem(a,t,i):this._updateItem(a,i),r.predefinedData[t]=o.sortBy(s,"label"),e.fetch({force:!0,keepPosition:!0})},_selectTreeNode:function(t,e){if(o.isString(t)&&""!==t){var i=o.bind(function(){var n=o.bind(function(){var n=t,s=this.getLevelId(n);if(this.expand(s),this.select(s),"list"===this._type)this.rootLevel.on("ready",i);else if("tree"===this._type&&e&&e.length){var o=this.$el,r=this._getNodeByLevelId(s);if(!r)return;var a=r.nodeElement;if(!a)return;var l=a.offset().top-o.offset().top-e.height()/2+a.height()/2;e.scrollTop(l)}},this);if("/"===t||"/public"===t||"list"===this._type)n();else{var r=t.replace(/\/$/,""),a=r.substr(0,r.lastIndexOf("/"));a=a||"/";var l=new s.Deferred;this._openPath(a,l,0),l.done(n)}},this);this.rootLevel.isReady()?i():this.rootLevel.on("ready",i)}},_openPath:function(t,e,i){if(!t)return e.resolve();var n,s,r,a,l=this;if("/"===t?s=["/"]:(s=t.split("/"),s[0]="/"),"/"===s[0]&&"public"===s[1]&&(s=o.union(["/public"],o.rest(s,2))),(i=i||0)===s.length)return e.resolve();n=o.first(s,i+1).join("/"),n=n.replace(/\/\//g,"/"),a=this.getLevelId(n),(r=this.getLevel(a))&&(r.collapsed?(r.once("ready",function(){l._openPath(t,e,i+1)}),r.open()):this._openPath(t,e,i+1))},getLevelId:function(t){var e="",i=["/public"];if("/"===t||"/root"===t)e="/root";else{for(var n=!1,s=0;s<i.length;s++)if(0===t.indexOf(i[s])){n=!0;break}e=n?t:"/root/"+t.substr(1)}return e}},{instance:function(t){return new this(t)}});i.exports={use:function(t,e){return function(t){return{use:function(e,i){return t.prototype._plugins.push({constr:e,options:i}),this},create:function(){return t}}}(h.extend({_plugins:[{constr:t,options:e}]}))},create:function(){return h}}}),define("text!runtime_dependencies/js-sdk/src/common/component/panel/template/tabbedPanelButtonTemplate.htm",[],function(){return'<button class="button up">\n\n    <js-templateNonce></js-templateNonce>\n    <span class="wrap">{{- label }}<span class="icon"></span></span>\n</button>\n'}),define("runtime_dependencies/js-sdk/src/common/component/panel/trait/tabbedPanelTrait",["require","exports","module","underscore","jquery","backbone","./abstractPanelTrait","../../base/OptionContainer","text!../template/tabbedPanelButtonTemplate.htm"],function(t,e,i){function n(t,e){var i=e.get("action");this._contentRendered[i]||(this._contentRendered[i]=!0,this.tabs[i].render&&this.tabs[i].render()),this.$tabs.hide(),this.$tabs.filter(function(){return o(this).data("tab")===i}).css("display","block"),this.selectedTab=i,this.trigger("tab:"+i,t,e)}var s=t("underscore"),o=t("jquery"),r=t("backbone"),a=t("./abstractPanelTrait"),l=t("../../base/OptionContainer"),c=t("text!../template/tabbedPanelButtonTemplate.htm");i.exports=s.extend({},a,{onConstructor:function(t){if(t||(t={}),!t.tabs||!s.isArray(t.tabs)||0===t.tabs.length)throw new Error("Tabbed panel should have at least one tab");this.tabContainerClass=t.tabContainerClass||"tabContainer",this.tabHeaderContainerSelector=t.tabHeaderContainerSelector||"> .header > .tabHeaderContainer",this.tabHeaderContainerClass=t.tabHeaderContainerClass||"tabHeaderContainer",this.tabbedPanelClass=t.tabbedPanelClass||"tabbedPanel",this.tabs={},s.each(t.tabs,s.bind(function(t){this.tabs[t.action]=t.content,delete t.content},this))},afterSetElement:function(){this.$el.addClass(this.tabbedPanelClass),this.$tabHeaderContainer=this.$(this.tabHeaderContainerSelector),this.$tabHeaderContainer.length||(this.$tabHeaderContainer=o("<div></div>").addClass(this.tabHeaderContainerClass),this.$("> .header").append(this.$tabHeaderContainer)),this.$contentContainer.empty(),s.each(this.tabs,s.bind(function(t,e){var i=o("<div></div>").addClass(this.tabContainerClass);i.data("tab",e),i.html(t instanceof r.View?t.$el:t),this.$contentContainer.append(i)},this));var t=this.tabContainerClass.split(" ");this.$tabs=this.$("."+t[0])},afterInitialize:function(t){this.tabHeaderContainer=new l({options:t.tabs,el:this.$tabHeaderContainer,contextName:"tab",toggleClass:t.toggleClass||"active",toggle:!0,optionTemplate:t.optionTemplate||c}),this._contentRendered={},this.listenTo(this.tabHeaderContainer,s.map(t.tabs,function(t){return"tab:"+t.action}).join(" "),s.bind(n,this));for(var e=0;e<t.tabs.length;e++)if(t.tabs[e].primary){this.openTab(t.tabs[e].action);break}},onRemove:function(){s.each(this.tabs,function(t){t.remove&&t.remove()}),this.tabHeaderContainer.remove()},extension:{openTab:function(t){var e=this.tabHeaderContainer.getOptionView(t);e&&e.select()},showTab:function(t){var e=this.tabHeaderContainer.getOptionView(t);e&&e.show()},hideTab:function(t){var e=this.tabHeaderContainer.getOptionView(t);e&&e.hide()}}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TreePlugin",["require","exports","module","backbone"],function(t,e,i){var n=t("backbone");i.exports=n.View.extend({dataLayerObtained:function(){},itemsRendered:function(){}},{processors:null,treeInitialized:function(){},treeRemoved:function(){}})}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/searchPluginTemplate.htm",[],function(){return'<span class="control searchLockup ">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="wrap">\n        <input type="text" tabindex="">\n    </div>\n    <b class="right">\n        <a class="button searchClear"></a>\n    </b>\n    <a class="button search up"></a>\n</span>\n'}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/SearchPlugin",["require","exports","module","underscore","jquery","backbone","./TreePlugin","text!../template/searchPluginTemplate.htm"],function(t,e,i){var n=t("underscore"),s=t("jquery"),o=t("backbone"),r=t("./TreePlugin"),a=t("text!../template/searchPluginTemplate.htm"),l=o.View.extend({template:n.template(a),el:function(){return this.template()},events:{"click .button.search":"clickHandler","click .button.searchClear":"clear","keydown input[type=text]":"keyHandler"},initialize:function(t){this.owner=t.owner,this.$searchInput=this.$el.find("input[type=text]")},search:function(t){var e=this.$searchInput.val();this.owner.refresh(n.extend({searchString:e},t)),e?this.$el.find(".button.searchClear").addClass("up"):this.$el.find(".button.searchClear").removeClass("up")},clearInput:function(){this.$searchInput.val("")},clear:function(){this.clearInput(),this.clickHandler(),this.trigger("clear",this)},clearSilently:function(){this.clearInput(),delete this.owner.context.searchString,this.owner.refresh(n.extend({searchString:""},this.owner.context)),this.$el.find(".button.searchClear").removeClass("up")},clickHandler:function(){delete this.owner.context.searchString,this.search(this.owner.context),this.trigger("search",this.owner.context)},keyHandler:function(t){13===t.which&&this.clickHandler()},setSearchString:function(t){this.$searchInput.val(t)}});i.exports=r.extend({initialize:function(t){this.searchParameter=t&&t.searchParameter||"q",this.additionalParams=t&&t.additionalParams},dataLayerObtained:function(t){var e=this;if(!t.__searchPluginExtended){var i=t.getDataUri,o=this.searchParameter;t.getDataUri=function(t){var r=i.apply(this,arguments),a={};return t.searchString&&(a[o]=t.searchString),e.additionalParams&&n.extend(a,e.additionalParams,n.pick(t,n.keys(e.additionalParams))),r+=(-1===r.indexOf("?")?"?":"&")+s.param(a,!0)},t.__searchPluginExtended=!0}}},{treeInitialized:function(t){t=t||{};var e=this;this.searchForm=new l({owner:this}),t.dfdRenderTo?t.dfdRenderTo.done(function(t){t.prepend(e.searchForm.render().el)}):this.$el.prepend(this.searchForm.render().el)},treeRemoved:function(){this.searchForm.remove()}})}),define("text!runtime_dependencies/js-sdk/src/common/component/tooltip/template/tooltipTemplate.htm",[],function(){return'<div class="{{- cssClasses }}" style="position: absolute; z-index: 100000;">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="content">\n        <div class="body"></div>\n    </div>\n</div>\n'}),define("runtime_dependencies/js-sdk/src/common/component/tooltip/Tooltip",["require","exports","module","jquery","underscore","backbone","text!./template/tooltipTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("backbone"),r=t("text!./template/tooltipTemplate.htm");i.exports=o.View.extend({template:s.template(r),delay:500,offset:{x:10,y:10},attribute:"data-tooltip",cssClasses:"panel info tooltip",contentSelector:".body",triggerEvents:!1,el:function(){return this.template({cssClasses:this.cssClasses})},constructor:function(t){if(t||(t={}),!t.attachTo||0===n(t.attachTo).length)throw new Error("Tooltip should be attached to an element");if(!t.contentTemplate)throw new Error("Tooltip should have contentTemplate");this._shown=!1,this.$attachTo=n(t.attachTo),this.$attachTo[0].tooltip=this,t.delay&&(this.delay=t.delay),t.offset&&(this.offset=t.offset),t.attribute&&(this.attribute=t.attribute),t.cssClasses&&(this.cssClasses=t.cssClasses),this.contentTemplate=t.contentTemplate,this.i18n=t.i18n||{},!s.isUndefined(t.triggerEvents)&&(this.triggerEvents=t.triggerEvents),this.selector="["+this.attribute+"]",s.bindAll(this,"show","_onMouseMove","_onMouseLeave"),this.$attachTo.on("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.on("mouseleave touchend",this.selector,this._onMouseLeave),o.View.prototype.constructor.apply(this,arguments)},_render:function(t,e,i){if(this._event){t=t instanceof o.Model?t.toJSON():t;var n=s.template(this.contentTemplate)({model:t,i18n:this.i18n,options:e||{}});this.$el.find(".body").empty().append(n),this._showTooltip()}i.resolve()},show:function(t,e){var i=new n.Deferred;return this._timer=setTimeout(s.bind(this._render,this,t,e,i),this.delay),i},_showTooltip:function(){n("body").append(this.$el),this._updatePosition(),this._shown=!0,this.triggerEvents&&this.trigger("show",this)},hide:function(){this.contentTemplate&&this._timer&&clearTimeout(this._timer),this.$el.detach(),this._shown=!1,this.triggerEvents&&this.trigger("hide",this)},_updatePosition:function(){var t=this.$el.innerHeight(),e=this.$el.innerWidth(),i=n(window).height(),s=n(window).width(),o=this.offset.y,r=this.offset.x;t+this._event.pageY+this.offset.y+3>=i&&(o=-this.offset.y-t),e+this._event.pageX+this.offset.x+3>=s&&(r=-this.offset.x-e),this.$el.css({top:this._event.pageY+o,left:this._event.pageX+r})},_onMouseMove:function(t){this._event=t},_onMouseLeave:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this._event=null},remove:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this.$attachTo.off("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.off("mouseleave touchend",this.selector,this._onMouseLeave),o.View.prototype.remove.apply(this,arguments)}},{attachTo:function(t,e){var i=this;return e||(e={}),e.attachTo=t||"body",new i(e)},detachFrom:function(t){t=n(t)[0],t.tooltip&&t.tooltip.remove()}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin",["require","exports","module","./TreePlugin","underscore","../../tooltip/Tooltip"],function(t,e,i){var n=t("./TreePlugin"),s=t("underscore"),o=t("../../tooltip/Tooltip");i.exports=n.extend({initialize:function(t){this.tooltip=o.attachTo(t.attachTo,s.omit(t,"el")),this.listensToList=!1,n.prototype.initialize.apply(this,arguments)},itemsRendered:function(t,e){var i=this;this.listensToList||(this.listensToList=!0,this.listenTo(e,"list:item:mouseover",function(t,e){i.tooltip.show(t)}),this.listenTo(e,"list:item:mouseout",function(){i.tooltip.hide()}))},remove:function(){o.detachFrom(this.$el),this.tooltip.remove(),n.prototype.remove.apply(this,arguments)}})}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/InfiniteScrollPlugin",["require","exports","module","./TreePlugin"],function(t,e,i){var n=t("./TreePlugin");i.exports=n.extend({itemsRendered:function(){this.$("> .subcontainer > .j-view-port-chunk").css({height:"auto"})}})}),define("text!runtime_dependencies/js-sdk/src/common/component/tree/template/noResourcesFoundMessageTemplate.htm",[],function(){return'<div class="noSearchResults">\n\n    <js-templateNonce></js-templateNonce>\n    {{- msg}}</div>'}),define("runtime_dependencies/js-sdk/src/common/component/tree/plugin/NoSearchResultsMessagePlugin",["require","exports","module","underscore","bundle!CommonBundle","./TreePlugin","text!../template/noResourcesFoundMessageTemplate.htm"],function(t,e,i){var n=t("underscore"),s=t("bundle!CommonBundle"),o=t("./TreePlugin"),r=t("text!../template/noResourcesFoundMessageTemplate.htm"),a=function(t){!t.list.totalItems&&t.list.$el.html(this.noResourcesFoundMessage)};i.exports=o.extend({},{treeInitialized:function(t){this.noResourcesFoundMessage=n.template(r,{msg:s["no.resources.found"]}),this.listenTo(this.rootLevel,"ready",a)},treeRemoved:function(){this.stopListening(this.rootLevel,"ready",a)}})}),define("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes",["require","exports","module"],function(t,e,i){i.exports={RESOURCE_LOOKUP:"resourceLookup",DASHBOARD:"dashboard",LEGACY_DASHBOARD:"legacyDashboard",REPORT_UNIT:"reportUnit",TOPIC:"topic",ADHOC_DATA_VIEW:"adhocDataView",FILE:"file",FOLDER:"folder",SECURE_FILE:"secureFile",PROP:"prop",ACCESS_GRANT_SCHEMA:"accessGrantSchema",DATA_TYPE:"dataType",JDBC_DATA_SOURCE:"jdbcDataSource",AWS_DATA_SOURCE:"awsDataSource",AZURE_SQL_DATA_SOURCE:"azureSqlDataSource",JNDI_DATA_SOURCE:"jndiJdbcDataSource",VIRTUAL_DATA_SOURCE:"virtualDataSource",CUSTOM_DATA_SOURCE:"customDataSource",BEAN_DATA_SOURCE:"beanDataSource",XMLA_CONNECTION:"xmlaConnection",LIST_OF_VALUES:"listOfValues",REPORT_OPTIONS:"reportOptions",QUERY:"query",OLAP_UNIT:"olapUnit",DOMAIN_TOPIC:"domainTopic",DOMAIN:"domain",SEMANTIC_LAYER_DATA_SOURCE:"semanticLayerDataSource",SECURE_MONDRIAN_CONNECTION:"secureMondrianConnection",MONDRIAN_XMLA_DEFINITION:"mondrianXmlaDefinition",MONDRIAN_CONNECTION:"mondrianConnection",INPUT_CONTROL:"inputControl",ORGANIZATION:"organization",OLAP_CUBE:"olapCube"}}),define("runtime_dependencies/bi-repository/src/bi/repository/util/resourcesTreeGetDataUriFnUtil",["require","exports","module","underscore"],function(t,e,i){var n=t("underscore");i.exports=function(t){return function(e){var i="";if(i+=t.contextPath+"/rest_v2/api/resources?",t.getFolderUri){var s=t.getFolderUri(e.id);s&&(i+="folderUri="+encodeURIComponent(s))}else i+="folderUri="+encodeURIComponent(e.id);return t.recursive?i+="&recursive=true":i+="&recursive=false",t.type&&(i+=t.type.reduce(function(t,e){return t+="&type="+e},"")),t.containerType&&(i+="&containerType="+t.containerType),t.exclude&&(i+="&excludeFolder="+t.exclude),i+="&offset={{= offset }}&limit={{= limit }}",t.forceTotalCount&&(i+="&forceTotalCount=true"),t.forceFullPage&&(i+="&forceFullPage=true"),n.template(i,e)}}}),define("runtime_dependencies/bi-repository/src/bi/repository/util/extractRootLevelDataFromHtmlResponse",["require","exports","module"],function(t,e,i){i.exports=function(t){var e=t.trim().match(/^<div\s?(?:(?:.*)=(?:['"]).*(?:['"]))*>(.*)<\/div>/);return JSON.parse(e?e[1]:"{}")}}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/itemDialog/resourceDialogTemplate.htm",[],function(){return'<div class="jr-mDialog jr-uWidth-450px jr reportChooserDialog {{- additionalCssClasses }}" tabindex="-1">\n\n    <js-templateNonce></js-templateNonce>\n    <div class="jr-mDialog-header mover jr">\n        <h1 class="jr-mDialog-header-title jr">{{- title }}</h1>\n    </div>\n    <div class="sub header tabHeaderContainer"></div>\n    <div class="jr-mDialog-body jr subcontainer u-height-300px">\n    </div>\n    <p class="itemDescription"></p>\n    <div class="jr-mDialog-footer jr"></div>\n\n</div>\n'}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/itemDialog/sidebarTreeLeafTemplate.htm",[],function(){return'<ul class="list collapsible" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n    {{ _.each(items, function(item){ }}\n    <li class="{{- item._node ? \'node folders closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}} {{- item.cssClass }}" data-index="{{- item.index }}" tabindex="-1">\n        <p class="wrap button {{- item._node ? \'\' : \'draggable\'}} " {{ if (item.value.description || item.value.uri) { }}data-tooltip=\'{{ if (item.value.description) { }}<p class="message label">Description: </p><p class="message">{{- item.value.description }}</p>{{ } }} {{ if (item.value.uri) { }} <p class="message label">Path: </p><p class="message">{{- item.value.uri }}</p> {{ } }}\' {{ } }}><b class="icon"/> {{- item.value.label }} </p>\n        <div class="subcontainer" />\n    </li>\n    {{ }) }}\n</ul>'}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/itemDialog/tabPanelButtonTemplate.htm",[],function(){return'<button class="button {{- additionalCssClasses }}{{ if (exposeAction) { }} {{- action}} {{ } }} up" title="{{ if(action === \'list\') { }} {{- i18n["Repository.ItemSelectDialog.listTabToolip"] }} {{ } else { }} {{- i18n["Repository.ItemSelectDialog.foldersTabToolip"] }} {{ } }}">\n\n    <js-templateNonce></js-templateNonce>\n    <span class="wrap">{{- label }}<span class="icon"></span></span>\n</button>'}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/itemDialog/treeTooltipTemplate.htm",[],function(){return'{{ if (model.value.description) { }}\n    <p class="message label">{{- i18n["tooltip.description"] }} </p>\n    <p class="message">{{- model.value.description }}</p>\n{{ } }}\n{{ if (model.value.uri) { }}\n    <p class="message label">{{- i18n["tooltip.path"] }}</p>\n    <p class="message">{{- model.value.uri }}</p>\n{{ } }}\n\n    <js-templateNonce></js-templateNonce>'}),define("runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/view/RepositoryItemChooserDialogView",["require","exports","module","underscore","jquery","bundle!all","runtime_dependencies/js-sdk/src/jrs.configs","runtime_dependencies/js-sdk/src/common/component/dialog/Dialog","runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog","runtime_dependencies/js-sdk/src/common/component/tree/Tree","runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer","runtime_dependencies/js-sdk/src/common/component/panel/trait/tabbedPanelTrait","runtime_dependencies/js-sdk/src/common/component/tree/plugin/SearchPlugin","runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin","runtime_dependencies/js-sdk/src/common/component/tree/plugin/InfiniteScrollPlugin","runtime_dependencies/js-sdk/src/common/component/tree/plugin/NoSearchResultsMessagePlugin","../../../enum/repositoryResourceTypes","../../../util/resourcesTreeGetDataUriFnUtil","../../../util/extractRootLevelDataFromHtmlResponse","runtime_dependencies/js-sdk/src/common/util/browserDetection","text!../template/itemDialog/resourceDialogTemplate.htm","text!../template/itemDialog/sidebarTreeLeafTemplate.htm","text!../template/itemDialog/tabPanelButtonTemplate.htm","text!../template/itemDialog/treeTooltipTemplate.htm"],function(t,e,i){function n(t){switch(t.value.resourceType){case b.REPORT_UNIT:t.cssClass="report";break;case b.DOMAIN_TOPIC:t.cssClass="domain topic";break;case b.SEMANTIC_LAYER_DATA_SOURCE:t.cssClass="domain";break;case b.ADHOC_DATA_VIEW:t.cssClass="adhocDataView";break;case b.OLAP_CUBE:t.cssClass="olap";break;default:t.cssClass="adhocDataView"}return t}var s=t("underscore"),o=t("jquery"),r=t("bundle!all"),a=t("runtime_dependencies/js-sdk/src/jrs.configs"),l=t("runtime_dependencies/js-sdk/src/common/component/dialog/Dialog"),c=t("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog"),d=t("runtime_dependencies/js-sdk/src/common/component/tree/Tree"),u=t("runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer"),h=t("runtime_dependencies/js-sdk/src/common/component/panel/trait/tabbedPanelTrait"),p=t("runtime_dependencies/js-sdk/src/common/component/tree/plugin/SearchPlugin"),m=t("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin"),f=t("runtime_dependencies/js-sdk/src/common/component/tree/plugin/InfiniteScrollPlugin"),g=t("runtime_dependencies/js-sdk/src/common/component/tree/plugin/NoSearchResultsMessagePlugin"),b=t("../../../enum/repositoryResourceTypes"),v=t("../../../util/resourcesTreeGetDataUriFnUtil"),_=t("../../../util/extractRootLevelDataFromHtmlResponse"),y=t("runtime_dependencies/js-sdk/src/common/util/browserDetection"),C=t("text!../template/itemDialog/resourceDialogTemplate.htm"),S=t("text!../template/itemDialog/sidebarTreeLeafTemplate.htm"),x=t("text!../template/itemDialog/tabPanelButtonTemplate.htm"),w=t("text!../template/itemDialog/treeTooltipTemplate.htm"),T=a.contextPath,I=!1,D=T+"/flow.html?_flowId=searchFlow&method=getNode&provider=repositoryExplorerTreeFoldersProvider&uri=/&depth=1";i.exports=l.extend({constructor:function(t){t||(t={}),this.options=t,!0===this.options.disableListTab&&(I=!0),this.options.resourcesTypeToSelect&&this.options.resourcesTypeToSelect.length||(this.options.resourcesTypeToSelect=[b.REPORT_UNIT]),this.options.resourcesTypeToSelectTree&&this.options.resourcesTypeToSelectTree.length||(this.options.resourcesTypeToSelectTree=this.options.resourcesTypeToSelect),this._dfdRenderSerachFormTo=o.Deferred();var e={treeNodeProcessor:{processItem:function(t){return t._node=s.contains([b.FOLDER],t.value.resourceType),t}},filterPublicFolderProcessor:{processItem:function(t){if("/public"!==t.value.uri)return t}},filterTempFolderProcessor:{processItem:function(t){if(-1===t.value.uri.indexOf("/temp"))return t}},filterEmptyFoldersProcessor:{processItem:function(t){if("folder"!==t.value.resourceType||""!==t.value._links.content)return t}},cssClassItemProcessor:{processItem:t.cssClassItemProcessor||n}};this.resourcesTreeView=d.use(f).use(m,{i18n:r,attachTo:this.$el,contentTemplate:w}).create().instance({type:"tree",itemsTemplate:S,listItemHeight:22,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,bufferSize:t.treeBufferSize||5e3,additionalCssClasses:"folders",getDataUri:v({getFolderUri:function(t){return"/root"===t?"":t},contextPath:T,recursive:!1,type:this.options.resourcesTypeToSelectTree,containerType:b.FOLDER,forceTotalCount:!0,forceFullPage:!0}),levelDataId:"uri",customDataLayers:{"/":s.extend(new u({dataUriTemplate:D,processors:s.chain(e).omit("filterPublicFolderProcessor").values().value(),getDataArray:function(t){t=_(t);var e=[{id:"/root",label:t.label,uri:"/",resourceType:"folder",_links:{content:"@fakeContentLink"}}];if(a.isProVersion){var i=s.find(t.children,function(t){return"/public"===t.uri});i&&e.push({id:"/public",label:i.label,uri:"/public",resourceType:"folder",_links:{content:"@fakeContentLink"}})}return e}}),{accept:"text/html",dataType:"text"})},processors:s.values(e),getDataArray:function(t,e,i){return t&&t[b.RESOURCE_LOOKUP]?t[b.RESOURCE_LOOKUP]:[]},getDataSize:function(t,e,i){return+i.getResponseHeader("Total-Count")}}),this.resourcesListView=d.use(g).use(m,{i18n:r,attachTo:this.$el,contentTemplate:w}).use(p,{dfdRenderTo:this._dfdRenderSerachFormTo}).create().instance({type:"list",rootLevelHeight:s.bind(this._getContentHeight,this),itemsTemplate:S,listItemHeight:22,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,getDataUri:v({getFolderUri:function(t){return"/root"===t?"":t},contextPath:T,recursive:!0,type:this.options.resourcesTypeToSelect,forceTotalCount:!0,forceFullPage:!0}),levelDataId:"uri",cache:{searchKey:"searchString",pageSize:100},processors:[e.cssClassItemProcessor,e.filterTempFolderProcessor],getDataArray:function(t,e,i){return t&&t[b.RESOURCE_LOOKUP]?t[b.RESOURCE_LOOKUP]:[]},getDataSize:function(t,e,i){return+i.getResponseHeader("Total-Count")}}),l.prototype.constructor.call(this,{template:C,modal:!0,resizable:!0,minWidth:400,minHeight:400,additionalCssClasses:"sourceDialogNew"+(I?" listDisabled":""),title:t.title||r["Repository.ItemSelectDialog.dialogTitle"],traits:[h],tabHeaderContainerSelector:".tabHeaderContainer",tabContainerClass:"tabContainer control groupBox treeBox",optionTemplate:x,toggleClass:"down",tabs:[{label:r["Repository.ItemSelectDialog.foldersTab"],action:"tree",content:this.resourcesTreeView,exposeAction:!0,additionalCssClasses:"action square small",i18n:r},{label:r["Repository.ItemSelectDialog.listTab"],action:"list",content:this.resourcesListView,exposeAction:!0,additionalCssClasses:"action square small",i18n:r}],buttons:[{label:r["Repository.ItemSelectDialog.okButton"],action:"apply",primary:!0},{label:r["Repository.ItemSelectDialog.cancelButton"],action:"cancel",primary:!1}]})},initialize:function(t){this.listenTo(this.resourcesTreeView,"selection:change",this._selectionListener),this.listenTo(this.resourcesTreeView,"levelRenderError",this._onLevelRenderError),this.listenTo(this.resourcesTreeView,"item:dblclick",this._onOkButtonClick),this.listenTo(this.resourcesListView,"selection:change",this._selectionListener),this.listenTo(this.resourcesListView,"levelRenderError",this._onLevelRenderError),this.listenTo(this.resourcesListView,"item:dblclick",this._onOkButtonClick),this.listenTo(this.resourcesListView.searchForm,"search",this._onSearch),this.listenTo(this.resourcesListView.searchForm,"clear",this._resetTreeAndList),this.listenTo(this,"button:apply",s.bind(this._onOkButtonClick,this)),this.listenTo(this,"button:cancel",s.bind(this._onCancelButtonClick,this)),this.listenTo(this,"tab:tree tab:list",this._tabChangedEvent),l.prototype.initialize.apply(this,arguments),this._haveBeenOpened=!1,this._isOpened=!1,this.selectedResource=null,this._lastSelectedResource=null},events:{resize:"_onResize"},render:function(){return l.prototype.render.apply(this,arguments),this._dfdRenderSerachFormTo.resolve(this.$tabHeaderContainer),this},open:function(){this._openDialog()},close:function(){this._closeDialog()},remove:function(){this._closeDialog(),this.resourcesTreeView.remove(),this.resourcesListView.remove(),l.prototype.remove.apply(this,arguments)},setDefaultSelectedItem:function(t){this._defaultSelectedItem=t},_onOkButtonClick:function(){this.selectedResource&&(this._closeDialog(),this.trigger("item:select",this.selectedResource),this._lastSelectedResource=this.selectedResource)},_onCancelButtonClick:function(){this.selectedResource=null,this._lastSelectedResource&&(this.selectedResource=this._lastSelectedResource),this._closeDialog()},_openDialog:function(){if(!this._isOpened){var t=this;this._resizableContainerShiftHeight=6-(I?40:0),!1===this._haveBeenOpened?(this._initialDialogWidth=this.$el.css("width"),this._initialDialogHeight=this.$el.css("height"),this._haveBeenOpened=!0):this.$el.css({width:this._initialDialogWidth,height:this._initialDialogHeight}),l.prototype.open.apply(this,arguments);var e=s.bind(function(){this.$contentContainer.find(".tabContainer").css({height:"inherit","overflow-y":"auto"})},this);y.isIE8()||y.isIE9()?setTimeout(e,1):e(),this.$el.children().not(".subcontainer").not(".ui-resizable-e").not(".ui-resizable-se").each(function(){t._resizableContainerShiftHeight+=t.$(this).outerHeight(!0)}),this.$contentContainer.height(this.$el.height()-this._resizableContainerShiftHeight),this.resourcesListView.searchForm.clearSilently(),this._resetTreeAndList(),this.disableButton("apply"),this.resourcesTreeView._onceVisible=new o.Deferred,this.resourcesListView._onceVisible=new o.Deferred,this._preselectItem(),this._openTab(I?"tree":"list"),this._isOpened=!0}},_closeDialog:function(){this._isOpened&&(this.resourcesTreeView._onceVisible.reject(),this.resourcesListView._onceVisible.reject(),l.prototype.close.apply(this,arguments),this._isOpened=!1)},_selectionListener:function(t){var e=Object.keys(t),i=t&&(s.isArray(t)||s.isObject(t))&&t[e[0]],n=i?i.uri:void 0,o=i?i.resourceType:void 0;return i||n||o?(o===b.FOLDER?this.$(".itemDescription").empty():this.$(".itemDescription").text(i.description||""),s.contains(s.union([b.FOLDER]),o)?(this.selectedResource=null,void this.disableButton("apply")):(this.selectedResource={resourceUri:n,event:this._getAdHocFlowEvent(o)},void this.enableButton("apply"))):(this.disableButton("apply"),void this.$(".itemDescription").empty())},_resetTreeAndList:function(){this.resourcesTreeView.collapse("/root",{silent:!0}),this.resourcesTreeView.collapse("/public",{silent:!0}),this.resourcesTreeView.resetSelection(),this.resourcesListView.resetSelection(),this.$(".itemDescription").empty()},_preselectItem:function(){var t=!1;if(this._lastSelectedResource?t=this._lastSelectedResource.resourceUri:this._defaultSelectedItem&&(t=this._defaultSelectedItem),t){var e=this.resourcesTreeView.$el.parent();this.resourcesTreeView._onceVisible.done(s.bind(function(){this.resourcesTreeView._selectTreeNode(t,e)},this));o(this.resourcesListView.$el.find("div.subcontainer")[0]);this.resourcesListView._onceVisible.done(s.bind(function(){},this))}},_onResize:function(){this.$contentContainer.height(this.$el.height()-this._resizableContainerShiftHeight),this.resourcesListView.rootLevel.list.$el.height(this.$el.height()-this._resizableContainerShiftHeight-6),this.resourcesTreeView.rootLevel.list.$el.css("height","100%")},_getContentHeight:function(){return this.$el.height()-this._resizableContainerShiftHeight-6},_onSearch:function(){this._openTab("list"),this.disableButton("apply")},_tabChangedEvent:function(){
"tree"===this.selectedTab?this.resourcesTreeView._onceVisible.resolve():"list"===this.selectedTab&&this.resourcesListView._onceVisible.resolve()},_openTab:function(t){this.openTab.apply(this,arguments)},_getAdHocFlowEvent:function(t){var e="";return t==b.REPORT_UNIT||t==b.DOMAIN_TOPIC?e="startAdHocWithTopic":t==b.SEMANTIC_LAYER_DATA_SOURCE&&(e="startQueryBuilder"),e},_getErrorDialog:function(){return this.errorDialog?this.errorDialog:this.errorDialog=new c},_onLevelRenderError:function(t,e,i){e=JSON.parse(e);var n=this._getErrorDialog();n.setMessage(e.parameters[0].substring(e.parameters[0].indexOf(": ")+2,e.parameters[0].indexOf("\n"))),n.open(),i.$el.removeClass(i.loadingClass).addClass(i.openClass)}})}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/repositoryFolderChooserDialogTemplate.htm",[],function(){return'<div class="control groupBox treeBox">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="content">\n\t\t<div class="header ">\n\t\t\t<div class="title"></div>\n\t\t</div>\n\t\t<div class="body"></div>\n\t</div>\n</div>'}),define("runtime_dependencies/bi-repository/src/bi/repository/enum/olapConnectionTypesEnum",["require","exports","module","../enum/repositoryResourceTypes"],function(t,e,i){var n=t("../enum/repositoryResourceTypes");i.exports=[n.MONDRIAN_CONNECTION,n.SECURE_MONDRIAN_CONNECTION,n.XMLA_CONNECTION]}),define("runtime_dependencies/bi-repository/src/bi/repository/dialog/processor/factory/processorFactory",["require","exports","module","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../../enum/olapConnectionTypesEnum","../../../enum/repositoryResourceTypes","bundle!CommonBundle"],function(t,e,i){function n(t){switch(t.value.resourceType){case l.REPORT_UNIT:t.cssClass="report";break;case l.DOMAIN_TOPIC:t.cssClass="domain topic";break;case l.SEMANTIC_LAYER_DATA_SOURCE:t.cssClass="domain";break;case l.OLAP_CUBE:t.cssClass="olap"}return t}function s(t){return d[t]}var o=t("underscore"),r=t("runtime_dependencies/js-sdk/src/jrs.configs"),a=t("../../../enum/olapConnectionTypesEnum"),l=t("../../../enum/repositoryResourceTypes"),c=t("bundle!CommonBundle"),d={folderTreeProcessor:{processItem:function(t){return t._readonly=!(1==t.value.permissionMask||4&t.value.permissionMask),t}},treeNodeProcessor:{processItem:function(t){return t._node=o.contains(o.union([l.FOLDER],a),t.value.resourceType),t}},i18nItemProcessor:{processItem:function(t){return t.i18n=c,t}},filterPublicFolderProcessor:{processItem:function(t){if(t.value.uri!=="/root"+r.publicFolderUri&&t.value.uri!=="/root"+r.tempFolderUri)return t}},filterEmptyFoldersProcessor:{processItem:function(t){if("folder"!==t.value.resourceType||""!==t.value._links.content)return t}},cssClassItemProcessor:{processItem:n},fakeUriProcessor:{processItem:function(t){return t.value.uri&&t.value.uri.match(/^\/root/)&&(t.value.uri=t.value.uri.replace("/root","")),t}}};i.exports=s}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm",[],function(){return'<p class="message label">\n\n    <js-templateNonce></js-templateNonce>\n    {{- model.i18n[\'tooltip.name\'] }}</p>\n<p class="message">{{- model.value.label }}</p>\n<p class="message label">{{- model.i18n[\'tooltip.path\'] }}</p>\n<p class="message">{{- model.value.uri }}</p>'}),define("text!runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm",[],function(){return'<ul class="list collapsible" style="top: {{- top}}px; position: relative;">\n\n    <js-templateNonce></js-templateNonce>\n\t{{ _.each(items, function(item){ }}\n\t<li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}} {{- item._readonly ? \'readonly\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n\t\t<p class="wrap button draggable" data-tooltip=\'true\'><b class="icon"/> {{- item.value.label }} </p>\n\t\t<div class="subcontainer" />\n\t</li>\n\t{{ }) }}\n</ul>\n'}),define("runtime_dependencies/bi-repository/src/bi/repository/factory/repositoryTreeFactory",["require","exports","module","runtime_dependencies/js-sdk/src/common/component/tree/Tree","jquery","underscore","bundle!CommonBundle","runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer","../dialog/processor/factory/processorFactory","runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin","../enum/repositoryResourceTypes","../enum/olapConnectionTypesEnum","../util/resourcesTreeGetDataUriFnUtil","../util/extractRootLevelDataFromHtmlResponse","text!../dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm","text!../dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm","runtime_dependencies/js-sdk/src/jrs.configs"],function(t,e,i){function n(t){var e=p.extend({},{i18n:m,contentTemplate:S},t.tooltipOptions);return t.constr||h.use(b,e).create()}function s(t){t=t||{};var e=t.processors=p.map(t.processors,function(t){return g(t)});return n(t).instance({listItemHeight:T,bufferSize:t.treeBufferSize||I,additionalCssClasses:"folders",collapserSelector:t.collapserSelector,openClass:t.openClass,closedClass:t.closedClass,levelDataId:"uri",itemsTemplate:t.treeItemsTemplate||x,collapsed:!0,lazyLoad:!0,rootless:!0,getDataUri:y({getFolderUri:d,contextPath:w.contextPath,recursive:!1,type:t.types,containerType:t.containerType,forceTotalCount:!0,forceFullPage:!0}),selection:{allowed:!0,multiple:!1},customDataLayers:{"/":r(t)},processors:e,getDataArray:function(t){if(t&&t[v.RESOURCE_LOOKUP]){t=t[v.RESOURCE_LOOKUP];var e=this.levelDataId;return p.first(t)[e].match(/^\/public/)||(t=p.map(t,function(t){return t.uri="/root"+t[e],t})),t}return[]},getDataSize:function(t,e,i){return+i.getResponseHeader("Total-Count")},getDataLayer:c})}function o(t){var e=[],i=g("filterPublicFolderProcessor");return p.each(t,function(t){t!==i&&e.push(t)}),e}function r(t){var e=t.processors,i=o(e);return p.extend(new f({dataUriTemplate:t.contextPath+"/flow.html?_flowId=searchFlow&method=getNode&provider=repositoryExplorerTreeFoldersProvider&uri=/&depth=1",processors:i,getDataArray:function(t){t=C(t);var e=p.find(t.children,function(t){return"/public"===t.uri}),i=[{id:"/root",label:t.label,uri:"/",resourceType:"folder",permissionMask:u(t.extra),_links:{content:"@fakeContentLink"}}];return e&&i.push({id:"/public",label:e.label,uri:"/public",resourceType:"folder",permissionMask:u(e.extra),_links:{content:"@fakeContentLink"}}),i}}),{accept:"text/html",dataType:"text"})}function a(t){var e=l(),i=t.processors;return n(t).instance({itemsTemplate:t.treeItemsTemplate||x,listItemHeight:T,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,getDataUri:y({getFolderUri:d,contextPath:w.contextPath,recursive:!0,type:t.types,containerType:t.containerType,forceTotalCount:!0,forceFullPage:!0}),levelDataId:"uri",cache:{searchKey:"searchString",pageSize:100},processors:i,customDataLayers:{olapDataLayer:e},getDataLayer:c,getDataArray:function(t){return t&&t[v.RESOURCE_LOOKUP]?t[v.RESOURCE_LOOKUP]:[]},getDataSize:function(t,e,i){return+i.getResponseHeader("Total-Count")}})}function l(){return new f({requestType:"POST",dataUriTemplate:w.contextPath+"/rest_v2/connections",processors:[g("i18nItemProcessor"),g("cssClassItemProcessor")],levelDataId:"uri",getDataArray:function(t){return t&&t[v.RESOURCE_LOOKUP]?t[v.RESOURCE_LOOKUP]:[]}})}function c(t){var e;if(t=t.item?t:this.getLevel(t.id)){if(e=t.item.value.resourceType,p.contains(_,e)){var i=p.clone(this.customDataLayers.olapDataLayer);return p.extend(i,{accept:"application/repository."+e+".metadata+json",contentType:"application/repository."+e+"+json",data:JSON.stringify(e)}),i}return this.customDataLayers&&this.customDataLayers[t.id]?this.customDataLayers[t.id]:this.defaultDataLayer}}function d(t){return t.match(/^\/root/)?t.replace("/root",""):t}function u(t){var e=2;return t.isWritable&&(e|=4),t.isRemovable&&(e|=16),t.isAdministrable&&(e=1),e}var h=t("runtime_dependencies/js-sdk/src/common/component/tree/Tree"),p=(t("jquery"),t("underscore")),m=t("bundle!CommonBundle"),f=t("runtime_dependencies/js-sdk/src/common/component/tree/TreeDataLayer"),g=t("../dialog/processor/factory/processorFactory"),b=t("runtime_dependencies/js-sdk/src/common/component/tree/plugin/TooltipPlugin"),v=t("../enum/repositoryResourceTypes"),_=t("../enum/olapConnectionTypesEnum"),y=t("../util/resourcesTreeGetDataUriFnUtil"),C=t("../util/extractRootLevelDataFromHtmlResponse"),S=t("text!../dialog/resourceChooser/template/repositoryFolderChooserDialogTooltipTemplate.htm"),x=t("text!../dialog/resourceChooser/template/repositoryFoldersTreeLevelTemplate.htm"),w=t("runtime_dependencies/js-sdk/src/jrs.configs"),T=22,I=5e3,D=function(t){if(t=t||{},!t.types)throw"Resources types required";return t.listView?a(t):s(t)};D.settings=w,i.exports=D}),define("runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/view/RepositoryFolderChooserDialogView",["require","exports","module","underscore","bundle!all","runtime_dependencies/js-sdk/src/common/component/dialog/Dialog","text!../template/repositoryFolderChooserDialogTemplate.htm","../../../factory/repositoryTreeFactory","../../../enum/repositoryResourceTypes"],function(t,e,i){var n=t("underscore"),s=t("bundle!all"),o=t("runtime_dependencies/js-sdk/src/common/component/dialog/Dialog"),r=t("text!../template/repositoryFolderChooserDialogTemplate.htm"),a=t("../../../factory/repositoryTreeFactory"),l=t("../../../enum/repositoryResourceTypes");i.exports=o.extend({constructor:function(t){t||(t={});var e="selectFolder";t.additionalCssClasses&&(e+=" "+t.additionalCssClasses),this.foldersTree=a({processors:["folderTreeProcessor","treeNodeProcessor","i18nItemProcessor","filterPublicFolderProcessor","cssClassItemProcessor","fakeUriProcessor"],treeBufferSize:t.treeBufferSize,types:[l.FOLDER],tooltipOptions:{}}),o.prototype.constructor.call(this,{modal:!0,resizable:!0,minWidth:400,minHeight:400,setMinSizeAsSize:t.setMinSizeAsSize,additionalCssClasses:e,title:s["repository.content"],content:n.template(r)({i18n:s}),buttons:[{label:s["button.select"],action:"select",primary:!0},{label:s["button.cancel"],action:"cancel",primary:!1}]}),this.$contentContainer.find(".control.groupBox .body").append(this.foldersTree.render().el)},initialize:function(t){this.listenTo(this.foldersTree,"selection:change",this._selectionListener),this.listenTo(this,"button:select",this._onOkButtonClick),this.listenTo(this,"button:cancel",this._onCancelButtonClick),o.prototype.initialize.apply(this,arguments),this._isOpened=!1,this.selectedResource=null,this._lastSelectedResource=null},open:function(){this._openDialog()},close:function(){this._closeDialog()},remove:function(){this._closeDialog(),this.foldersTree.remove(),o.prototype.remove.apply(this,arguments)},setDefaultSelectedItem:function(t){this._defaultSelectedItem=t},_onOkButtonClick:function(){this.selectedResource&&(this._closeDialog(),this._lastSelectedResource=this.selectedResource)},_onCancelButtonClick:function(){this.selectedResource=null,this._lastSelectedResource&&(this.selectedResource=this._lastSelectedResource),this._closeDialog()},_openDialog:function(){this._isOpened||(o.prototype.open.apply(this,arguments),this._resetTree(),this.disableButton("select"),this._preselectItem(),this._isOpened=!0)},_closeDialog:function(){this._isOpened&&(o.prototype.close.apply(this,arguments),this._isOpened=!1)},_onDialogResize:function(){var t=this.$contentContainer.find(".treeBox > .content > .body"),e=this.$contentContainer.closest(".jr-mDialog > .jr-mDialog-body");t.width(e.outerWidth(!0)-55),t.height(e.outerHeight(!0)-50)},_selectionListener:function(t){var e=Object.keys(t),i=t&&(n.isArray(t)||n.isObject(t))&&t[e[0]],s=i?i.uri:void 0,o=i?i.resourceType:void 0;if(!(i||s||o))return void this.disableButton("select");this.selectedResource={resourceUri:s},this.enableButton("select")},_resetTree:function(){this.foldersTree.collapse("/root",{silent:!0}),this.foldersTree.collapse("/public",{silent:!0}),this.foldersTree.resetSelection()},_preselectItem:function(){var t=!1;if(this._lastSelectedResource?t=this._lastSelectedResource.resourceUri:this._defaultSelectedItem&&(t=this._defaultSelectedItem),t){var e=this.foldersTree.$el.parent();this.foldersTree._selectTreeNode(t,e)}}})}),define("runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/RepositoryChooserDialogFactory",["require","exports","module","./view/RepositoryItemChooserDialogView","./view/RepositoryFolderChooserDialogView"],function(t,e,i){var n=t("./view/RepositoryItemChooserDialogView"),s=t("./view/RepositoryFolderChooserDialogView"),o={item:n,folder:s};i.exports={getDialog:function(t){var e;return e=n,o[t]&&(e=o[t]),e}}}),define("scheduler/view/editor/outputTabView",["require","exports","module","jquery","underscore","bundle!all","runtime_dependencies/js-sdk/src/jrs.configs","backbone","../../../components/components.pickers","../../../resource/resource.base","text!../../template/editor/outputTabTemplate.htm","runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/RepositoryChooserDialogFactory","runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes","settings!treeComponent"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("runtime_dependencies/js-sdk/src/jrs.configs"),a=t("backbone"),l=(t("../../../components/components.pickers"),t("../../../resource/resource.base"),t("text!../../template/editor/outputTabTemplate.htm")),c=t("runtime_dependencies/bi-repository/src/bi/repository/dialog/resourceChooser/RepositoryChooserDialogFactory"),d=t("runtime_dependencies/bi-repository/src/bi/repository/enum/repositoryResourceTypes"),u=t("settings!treeComponent");i.exports=a.View.extend({events:{"click .ftp-test":"testFTPConnection","click [name=outputRepositoryButton]":"outputRepositoryButtonClick","click [name=sshKeyPathButton]":"sshKeyPathButtonClick","change [name=outputRepository]":"fixUriInput","change [name=sshKeyPath]":"fixUriInput"},binding:[{attr:"baseOutputFilename",control:"baseOutputFilename"},{attr:"outputTimeZone",control:"timeZone"},{attr:"outputLocale",control:"outputLocale"},{attr:"outputFormats/outputFormat",control:"outputFormats"},{attr:"repositoryDestination/outputDescription",control:"outputDescription"},{attr:"repositoryDestination/overwriteFiles",control:"overwriteFiles"},{attr:"repositoryDestination/sequentialFilenames",control:"sequentialFilenames"},{attr:"repositoryDestination/timestampPattern",control:"timestampPattern"},{attr:"repositoryDestination",control:"timestampPattern",depends:"repositoryDestination/sequentialFilenames"},{attr:"repositoryDestination/saveToRepository",control:"outputToRepository"},{attr:"repositoryDestination",control:"outputRepository, outputRepositoryButton",depends:"repositoryDestination/saveToRepository"},{attr:"repositoryDestination/folderURI",control:"outputRepository"},{attr:"repositoryDestination",control:"outputHostFileSystem",depends:"repositoryDestination/outputLocalFolder",disabled:!("true"===r.enableSaveToHostFS||!0===r.enableSaveToHostFS)},{attr:"repositoryDestination/outputLocalFolder",control:"outputToHostFileSystem",getter:function(t){return!1===t?null:""},setter:function(t){return""===t||!!t}},{attr:"repositoryDestination/outputLocalFolder",control:"outputHostFileSystem"},{attr:"repositoryDestination/outputFTPInfo/enabled",control:"outputToFTPServer",getter:function(t){return!1===t&&this.$el.find("#ftpServerOutput").find(".error").removeClass("error"),t}},{attr:"repositoryDestination/outputFTPInfo",control:"ftpAddress, ftpDirectory, ftpUsername, ftpPassword, ftpTestButton, ftpPort, ftpProtocol, sshKeyEnabled, sshKeyPath, sshKeyPathButton, sshPassphrase",depends:"repositoryDestination/outputFTPInfo/enabled"},{attr:"repositoryDestination/outputFTPInfo/serverName",control:"ftpAddress"},{attr:"repositoryDestination/outputFTPInfo/folderPath",control:"ftpDirectory"},{attr:"repositoryDestination/outputFTPInfo/userName",control:"ftpUsername",setter:function(t){return"anonymous"==t?null:t}},{attr:"repositoryDestination/outputFTPInfo/password",control:"ftpPassword"},{attr:"repositoryDestination/outputFTPInfo/port",control:"ftpPort"},{attr:"repositoryDestination/outputFTPInfo/type",control:"ftpProtocol",setter:function(t){return this.$el.find(".control[data-ftp-type]").addClass("hidden"),t&&"sftp"===t&&this.$el.find(".control[data-ftp-type=sftp]").removeClass("hidden"),t}},{attr:"repositoryDestination/outputFTPInfo/sshKeyEnabled",control:"sshKeyEnabled"},{attr:"repositoryDestination/outputFTPInfo/sshKey",control:"sshKeyPath"},{attr:"repositoryDestination/outputFTPInfo/sshPassphrase",control:"sshPassphrase"},{attr:"repositoryDestination/outputFTPInfo",control:"sshKeyPath, sshKeyPathButton, sshPassphrase",depends:"repositoryDestination/outputFTPInfo/sshKeyEnabled",setter:function(t){return t&&!!this.$el.find("[name=outputToFTPServer]").filter(":checked").map(function(){return n(this).val()}).get()[0]}}],availableFormats:r.availableReportJobOutputFormats||[],initialize:function(t){this.options=s.extend({},t);var e=this;this.model.on("change:repositoryDestination",function(t,i){var n=t.get("repositoryDestination");e.$el.find("[name=ftpPort]").val(n.outputFTPInfo.port)})},isFormatAvailable:function(t){return s.contains(this.availableFormats,t)},getFolderChooserDialog:function(){if(this.folderChooserDialog)return this.folderChooserDialog;var t=this,e=c.getDialog("folder");return this.folderChooserDialog=new e({treeBufferSize:parseInt(u.treeLevelLimit,10),setMinSizeAsSize:!0}),this.listenTo(this.folderChooserDialog,"close",function(){var e;this.folderChooserDialog.selectedResource&&this.folderChooserDialog.selectedResource.resourceUri&&(e=this.folderChooserDialog.selectedResource.resourceUri,t.$el.find("[name=outputRepository]").val(e).trigger("change"))}),this.folderChooserDialog.setDefaultSelectedItem(this.model.get("repositoryDestination").folderURI),this.folderChooserDialog},outputRepositoryButtonClick:function(){this.getFolderChooserDialog().open()},getSshKeyChooserDialog:function(){if(this.sshKeyChooserDialog)return this.sshKeyChooserDialog;var t=this,e=c.getDialog("item");this.sshKeyChooserDialog=new e({disableListTab:!0,treeBufferSize:parseInt(u.treeLevelLimit,10),resourcesTypeToSelect:[d.SECURE_FILE]}),this.listenTo(this.sshKeyChooserDialog,"close",function(){var e;this.sshKeyChooserDialog.selectedResource&&this.sshKeyChooserDialog.selectedResource.resourceUri&&(e=this.sshKeyChooserDialog.selectedResource.resourceUri,t.$el.find("[name=sshKeyPath]").val(e).trigger("change"))});var i=this.model.get("repositoryDestination").outputFTPInfo,n=(i||{}).sshKey;return this.sshKeyChooserDialog.setDefaultSelectedItem(n),this.sshKeyChooserDialog},sshKeyPathButtonClick:function(){this.getSshKeyChooserDialog().open()},fixUriInput:function(t){var e=n(t.currentTarget),i=e.val();if(this.model.isValidUri(i))return""===i||s.startsWith(i,"/")?s.startsWith(i,"//")?void e.val(i.substring(1,i.length)).trigger("change"):i.length>1&&s.endsWith(i,"/")?void e.val(i.substring(0,i.length-1)).trigger("change"):void 0:void e.val("/"+i).trigger("change")},render:function(){this._renderTemplate(),this._initializeBinding()},_renderTemplate:function(){var t=s.extend({},{_:s,i18n:o,availableFormats:this.availableFormats,timeZones:r.timeZones,locales:r.avaliableLocales,localesName:r.avaliableLocalesFullName},this.model.attributes);this.setElement(n(s.template(l,t)))},_initializeBinding:function(){var t=this;this.$el.find("[name=outputToHostFileSystem]").attr("disabled","true"!==r.enableSaveToHostFS&&!0!==r.enableSaveToHostFS&&"disabled"),this.map=s.map(this.binding,s.clone),s.each(this.map,function(e){if(e.control=e.control.split(","),e.control=e.control.map(function(t){return"[name="+t+"]"}),e.control=t.$el.find(e.control.join(",")),e.attr&&(e.attr=e.attr.split("/")),e.depends&&"!"===e.depends[0]&&(e.invert=!0,e.depends=e.depends.substr(1)),e.depends&&!e.attr){e.depends=t.$el.find("[name="+e.depends+"]");var i=function(){var i=e.setter?e.setter.call(t,e.depends):e.depends.val(),n=e.disabled||(e.invert?!!i:!i);e.control.attr("disabled",!!n&&"disabled")};return e.depends.on("change",i),i()}t.model.on("change:"+e.attr[0],function(i,n){if(n=i.value(e.attr.join("/")),e.setter&&(n=e.setter.call(t,n)),e.depends){var s=i.value(e.depends);e.setter?s=e.setter.call(t,s):""===s&&(s=!0);var o=e.disabled||(e.invert?!!s:!s);return e.control.attr("disabled",!!o&&"disabled")}e.control.is("[type=checkbox]")&&1===e.control.length?e.control.prop("checked",n):e.control.is("[type=radio]")?e.control.filter("[value="+n+"]").prop("checked",!0):e.control.val(n)}),e.control.length&&!e.depends&&e.control.on("change",function(){var i,o,r,a;if(o=e.control.is("[type=checkbox]")?e.control.filter(":checked").map(function(){return n(this).val()}).get():e.control.val(),e.control.is("[type=checkbox]")&&1===e.control.length&&(o=!!o[0]),e.control.is("[type=radio]")&&(o=e.control.filter(":checked").val()),e.getter&&(o=e.getter.call(t,o,s.clone(t.model.value(e.attr.join("/"))))),e.attr.length>1){a=r=s.clone(t.model.get(e.attr[0]));for(var l=1,c=e.attr.length-1;l<c;l++)i=e.attr[l],a[i]=a[i]?s.clone(a[i]):{},a=a[i];a[e.attr[e.attr.length-1]]=o,"repositoryDestination/outputFTPInfo/type"===e.attr.join("/")&&(a.port=t.model.ftpPortDefaults[o])}t.model.update(e.attr[0],r||o)})})},testFTPConnection:function(){n("#ftpTestButton").addClass("disabled"),this.$el.find("#ftpServerOutput").find(".error").removeClass("error"),this.model.testFTPConnection(function(){n("#ftpTestButton").removeClass("disabled")})}})}),define("text!scheduler/template/editor/notificationsTabTemplate.htm",[],function(){return'<div class="notificationsTab">\n\n    <js-templateNonce></js-templateNonce>\n\t<fieldset class="row inputs twoColumn_equal">\n\t\t<div class="column secondary">\n\t\t\t<div class="content">\n\t\t\t\t<div id="jobSuccess" class="section">\n\t\t\t\t\t<h4 class="title">\n\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.header"] }}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<fieldset class="group first">\n\t\t\t\t\t\t<legend><span>\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.sendreportwhenschedulerrunssuccessfully"] }}\n\t\t\t\t\t\t</span></legend>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.to"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="to_suc" />\n\t\t\t\t\t\t\t<span class="message hint">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.usecommastoseparateaddresses"] }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div data-field="to_suc" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.cc"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="cc_suc" />\n\t\t\t\t\t\t\t<div data-field="cc_suc" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.bcc"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="bcc_suc" />\n\t\t\t\t\t\t\t<div data-field="bcc_suc" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.subject"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="subject_suc" />\n\t\t\t\t\t\t\t<div data-field="subject_suc" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="control textArea">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.message"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<textarea type="text" name="message_suc"></textarea>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_resultTypeRadio1" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includereportasrepositorylinksinemailbody"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input value="asRepoLinks" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio1" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_resultTypeRadio2" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includereportfilesasattachments"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input value="asAttachedFiles" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio2">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_resultTypeRadio3" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includereportfiesaszip"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input value="asAttachedZip" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio3">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control radio">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_includeHtmlReport" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includehtmlreportinemailbody"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type="checkbox" name="includeHtmlReport" id="jrsSchedule_includeHtmlReport">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_dont_send_empty_report" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.donotsendemailsforemptyreports"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type="checkbox" name="dontSendEmptyReport" id="jrsSchedule_dont_send_empty_report">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="column primary">\n\t\t\t<div class="content">\n\t\t\t\t<div id="jobNotification" class="section">\n\t\t\t\t\t<fieldset class="group first">\n\t\t\t\t\t\t<legend><span>\n\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.sendjobstatusnotifications"] }}\n\t\t\t\t\t\t</span></legend>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.to"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="job_status_to">\n\t\t\t\t\t\t\t<span class="message hint">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.usecommastoseparateaddresses"] }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div data-field="job_status_to" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="control input text">\n\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.subject"] }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" name="job_status_subject">\n\t\t\t\t\t\t\t<div data-field="job_status_subject" class="warning message"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf last">\n\t\t\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_send_success_notification" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.sendsuccessnotification"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type="checkBox" name="send_success_notification" id="jrsSchedule_send_success_notification">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<label class="control textArea twoLine subItem">\n\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.successmessage"] }}:\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<textarea type="text" name="job_status_success_message"></textarea>\n\t\t\t\t\t\t\t\t\t<div data-field="job_status_success_message" class="warning message"></div>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul id="failureIncludes" class="list inputSet">\n\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_send_failure_notification" class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.sendfailurenotification"] }}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input type="checkBox" name="send_failure_notification" id="jrsSchedule_send_failure_notification">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<label class="control textArea twoLine subItem">\n\t\t\t\t\t\t\t\t\t<span class="wrap">\n\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.email.label.failuremessage"] }}:\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<textarea type="text" name="job_status_failed_message"></textarea>\n\t\t\t\t\t\t\t\t\t<div data-field="job_status_failed_message" class="warning message"></div>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<ul class="list inputSet">\n\t\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_include_report" class="wrap">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includereport"] }}\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input type="checkBox" name="include_report" id="jrsSchedule_include_report">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class="leaf">\n\t\t\t\t\t\t\t\t\t<div class="control checkBox">\n\t\t\t\t\t\t\t\t\t\t<label for="jrsSchedule_include_stack_trace" class="wrap">\n\t\t\t\t\t\t\t\t\t\t\t{{- i18n["report.scheduling.job.edit.includestacktrace"] }}\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input type="checkBox" name="include_stack_trace" id="jrsSchedule_include_stack_trace">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n</div>'}),define("scheduler/view/editor/notificationsTabView",["require","exports","module","jquery","underscore","bundle!all","backbone","text!../../template/editor/notificationsTabTemplate.htm"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("backbone"),a=t("text!../../template/editor/notificationsTabTemplate.htm");i.exports=r.View.extend({events:{"change [name=to_suc]":"to_suc_Change","change [name=cc_suc]":"cc_suc_Change","change [name=bcc_suc]":"bcc_suc_Change","change [name=subject_suc]":"subject_suc_Change","change [name=message_suc]":"message_suc_Change","change [name=resultSendTypeRadio]":"setResultSendType","change [name=includeHtmlReport]":"setResultSendType","change [name=dontSendEmptyReport]":"dont_send_empty_report_Change","change [name=job_status_to]":"job_status_to_Change","change [name=job_status_subject]":"job_status_subject_Change","change [name=job_status_success_message]":"job_status_success_message_Change","change [name=job_status_failed_message]":"job_status_failed_message_Change","change [name=send_success_notification]":"twoCheckboxes_Change","change [name=send_failure_notification]":"twoCheckboxes_Change","change [name=include_report]":"include_report_Change","change [name=include_stack_trace]":"include_stack_trace_Change"},initialize:function(t){var e=this;this.options=t,this.model.on("change:mailNotification",function(t){var i=t.get("mailNotification");if(i){e.$el.find("[name=to_suc]").val(i.toAddresses.address),
e.$el.find("[name=cc_suc]").val(i.ccAddresses.address),e.$el.find("[name=bcc_suc]").val(i.bccAddresses.address),e.$el.find("[name=subject_suc]").val(i.subject),e.$el.find("[name=message_suc]").val(i.messageText),e.message_suc_DisabledEnabled(t);var n=!1,s="";switch(i.resultSendType){case"SEND":n=!1,s="asRepoLinks";break;case"SEND_EMBED":n=!0,s="asAttachedFiles";break;case"SEND_EMBED_ZIP_ALL_OTHERS":n=!0,s="asAttachedZip";break;case"SEND_ATTACHMENT":n=!1,s="asAttachedFiles";break;case"SEND_ATTACHMENT_ZIP_ALL":n=!1,s="asAttachedZip"}e.$el.find("[name=resultSendTypeRadio]").filter("[value="+s+"]").prop("checked",!0),e.asRepoLinks_DisabledEnabled(t),e.$el.find("[name=includeHtmlReport]").prop("checked",n),e.includeHtmlReport_DisabledEnabled(t),e.$el.find("[name=dontSendEmptyReport]").prop("checked",i.skipEmptyReports)}}),this.model.on("change:alert",function(t){var i=t.get("alert");i&&(e.$el.find("[name=job_status_to]").val(i.toAddresses.address),e.$el.find("[name=send_success_notification]").prop("checked",-1!==i.jobState.indexOf("SUCCESS_ONLY")||-1!==i.jobState.indexOf("ALL")),e.$el.find("[name=send_failure_notification]").prop("checked",-1!==i.jobState.indexOf("FAIL_ONLY")||-1!==i.jobState.indexOf("ALL")),e.$el.find("[name=job_status_subject]").val(i.subject),e.$el.find("[name=job_status_success_message]").val(i.messageText),e.$el.find("[name=job_status_failed_message]").val(i.messageTextWhenJobFails),e.$el.find("[name=include_report]").prop("checked",!!i.includingReportJobInfo),e.$el.find("[name=include_stack_trace]").prop("checked",!!i.includingStackTrace))}),this.model.on("change:outputFormats",function(t,i){if(!(i.outputFormat.indexOf("HTML")>=0)){var n=e.model.get("mailNotification");if(n&&n.resultSendType&&("SEND_EMBED"===n.resultSendType||"SEND_EMBED_ZIP_ALL_OTHERS"===n.resultSendType)){var s="SEND",o=t.get("repositoryDestination");return o&&(o.saveToRepository||(s="SEND_ATTACHMENT")),void t.update("mailNotification",{resultSendType:s})}}e.includeHtmlReport_DisabledEnabled(t)}),this.model.on("change:repositoryDestination",function(t,i){if(!i.saveToRepository){var n=e.model.get("mailNotification");if(n&&n.resultSendType&&"SEND"===n.resultSendType)return void t.update("mailNotification",{resultSendType:"SEND_ATTACHMENT"})}e.asRepoLinks_DisabledEnabled(t)})},render:function(){this.setElement(n(s.template(a,{i18n:o})))},includeHtmlReport_DisabledEnabled:function(t){var e=!0,i=t.get("mailNotification");i&&"SEND"===i.resultSendType&&(e=!1);var n=t.get("outputFormats");n&&-1===n.outputFormat.indexOf("HTML")&&(e=!1),this.$el.find("[name=includeHtmlReport]").prop("disabled",!e&&"disabled")},message_suc_DisabledEnabled:function(t){var e=!0,i=t.get("mailNotification");i&&("SEND_EMBED"!==i.resultSendType&&"SEND_EMBED_ZIP_ALL_OTHERS"!==i.resultSendType||(e=!1)),this.$el.find("[name=message_suc]").prop("disabled",!e&&"disabled")},asRepoLinks_DisabledEnabled:function(t){var e=!0,i=t.get("repositoryDestination");i&&(i.saveToRepository||(e=!1)),this.$el.find("[name=resultSendTypeRadio][value=asRepoLinks]").prop("disabled",!e&&"disabled")},to_suc_Change:function(t){this.model.update("mailNotification",{toAddresses:{address:n(t.target).val()}})},cc_suc_Change:function(t){this.model.update("mailNotification",{ccAddresses:{address:n(t.target).val()}})},bcc_suc_Change:function(t){this.model.update("mailNotification",{bccAddresses:{address:n(t.target).val()}})},subject_suc_Change:function(t){this.model.update("mailNotification",{subject:n(t.target).val()})},message_suc_Change:function(t){this.model.update("mailNotification",{messageText:n(t.target).val()})},setResultSendType:function(t){var e=this.$el.find("[name=resultSendTypeRadio]").filter(":checked").val(),i=this.$el.find("[name=includeHtmlReport]").is(":checked"),n="";i?"asRepoLinks"===e?n="SEND":"asAttachedFiles"===e?n="SEND_EMBED":"asAttachedZip"===e&&(n="SEND_EMBED_ZIP_ALL_OTHERS"):"asRepoLinks"===e?n="SEND":"asAttachedFiles"===e?n="SEND_ATTACHMENT":"asAttachedZip"===e&&(n="SEND_ATTACHMENT_ZIP_ALL"),this.model.update("mailNotification",{resultSendType:n})},dont_send_empty_report_Change:function(t){this.model.update("mailNotification",{skipEmptyReports:n(t.target).is(":checked")})},job_status_to_Change:function(t){this.model.update("alert",{toAddresses:{address:n(t.target).val()}})},job_status_subject_Change:function(t){this.model.update("alert",{subject:n(t.target).val()})},twoCheckboxes_Change:function(t){var e=this.$el.find("[name=send_success_notification]").is(":checked"),i=this.$el.find("[name=send_failure_notification]").is(":checked"),n=[];e&&n.push("SUCCESS_ONLY"),i&&n.push("FAIL_ONLY"),0===n.length&&(n=["NONE"]),2===n.length&&(n=["ALL"]),n=n.join("|"),this.model.update("alert",{jobState:n})},job_status_success_message_Change:function(t){this.model.update("alert",{messageText:n(t.target).val()})},job_status_failed_message_Change:function(t){this.model.update("alert",{messageTextWhenJobFails:n(t.target).val()})},include_report_Change:function(t){this.model.update("alert",{includingReportJobInfo:n(t.target).is(":checked")})},include_stack_trace_Change:function(t){this.model.update("alert",{includingStackTrace:n(t.target).is(":checked")})}})}),define("text!scheduler/template/jobEditorViewTemplate.htm",[],function(){return'<div class="schedulerEditor page column decorated primary tabbed">\n\n    <js-templateNonce></js-templateNonce>\n\t<div class="content hasFooter ">\n\n\t\t<div class="header ">\n\t\t\t<div class="title">{{- i18n["report.scheduling.new.schedule"] }}</div>\n\t\t\t<div class="tabs">\n\t\t\t\t<ul name="tabs" disableCoreEvents="true" class="control tabSet buttons horizontal">\n\t\t\t\t\t<li data-tab="scheduleTab" class="tab">\n\t\t\t\t\t\t<a class="button">\n\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.schedule"] }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-tab="parametersTab" class="tab">\n\t\t\t\t\t\t<a class="button">\n\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.job.edit.parameters.button"] }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-tab="outputTab" class="tab">\n\t\t\t\t\t\t<a class="button">\n\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.job.edit.output"] }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-tab="notificationsTab" class="tab">\n\t\t\t\t\t\t<a class="button">\n\t\t\t\t\t\t\t<span class="wrap">{{- i18n["report.scheduling.job.edit.notifications"] }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<div class="control tabSet anchor"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="body">\n\t\t\t<fieldset class="schedule_for">\n\t\t\t\t<legend class="title">{{- i18n["report.scheduling.job.edit.shedulefor"] }}:\n\t\t\t\t\t<span class="path">{{- reportUri }}</span>\n\t\t\t\t</legend>\n\t\t\t</fieldset>\n\n\t\t\t<div name="tabHolder">\n\t\t\t\t<div class="tab" name="scheduleTab"></div>\n\t\t\t\t<div class="tab" name="parametersTab"></div>\n\t\t\t\t<div class="tab" name="outputTab"></div>\n\t\t\t\t<div class="tab" name="notificationsTab"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="footer">\n\t\t\t<fieldset>\n\t\t\t\t{{ if (!runNowMode) { }}\n\t\t\t\t\t<button name="openSaveDialog" class="button primary action up">\n\t\t\t\t\t\t<span class="wrap">{{- i18n["button.save"] }}</span><span class="icon"></span>\n\t\t\t\t\t</button>\n\t\t\t\t{{ } else { }}\n\t\t\t\t\t<button name="openSaveDialog" class="button primary action up">\n\t\t\t\t\t\t<span class="wrap">{{- i18n["button.submit"] }}</span><span class="icon"></span>\n\t\t\t\t\t</button>\n\t\t\t\t{{ } }}\n\t\t\t\t<button name="cancelJobCreation" class="button action up">\n\t\t\t\t\t<span class="wrap">{{- i18n["button.cancel"] }}</span><span class="icon"></span>\n\t\t\t\t</button>\n\t\t\t</fieldset>\n\t\t</div>\n\t</div>\n</div>'}),define("scheduler/view/jobEditorView",["require","exports","module","jquery","underscore","backbone","bundle!all","runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog","../saveDialog/SaveDialogView","./editor/scheduleTabView","./editor/parametersTabView","./editor/outputTabView","./editor/notificationsTabView","text!../template/jobEditorViewTemplate.htm","../../components/components.dialogs"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("backbone"),r=t("bundle!all"),a=t("runtime_dependencies/js-sdk/src/common/component/dialog/AlertDialog"),l=t("../saveDialog/SaveDialogView"),c=t("./editor/scheduleTabView"),d=t("./editor/parametersTabView"),u=t("./editor/outputTabView"),h=t("./editor/notificationsTabView"),p=t("text!../template/jobEditorViewTemplate.htm"),m=t("../../components/components.dialogs");i.exports=o.View.extend({editMode:!1,runNowMode:!1,events:{"mouseup [name=tabs] li":"tabChangeClickEvent","touchend [name=tabs] li":"tabChangeClickEvent","click [name=openSaveDialog]":"openSaveDialogClick","click [name=cancelJobCreation]":"cancelJobCreationClick"},initialize:function(t){this.options=s.extend({},t),this.tabs={},this.listenTo(this.model,"valid",this.validModelListener),this.listenTo(this.model,"invalid",this.invalidModelListener),this.listenTo(this.model,"clearAllErrors",this.clearAllValidationErrors),this.listenTo(this.model,"change:source",this.sourceKeyInModelChanged),this.listenTo(this.model,"failedToGet_IC",this.InputControlsNotLoaded),this._initializeTabs(t),this.listenTo(this.tabs.parametersTab,"IC_Displayed",this.InputControlsLoaded),this.listenTo(this.tabs.parametersTab,"failedToGet_IC",this.InputControlsNotLoaded)},_initializeTabs:function(t){var e={model:this.model,reportUri:t.reportUri,parentReportURI:t.parentReportURI};this.tabs.scheduleTab=new c(e),this.tabs.parametersTab=new d(e),this.tabs.outputTab=new u(e),this.tabs.notificationsTab=new h(e)},remove:function(){this.tabs.scheduleTab.remove(),this.tabs.parametersTab.remove(),this.tabs.outputTab.remove(),this.tabs.notificationsTab.remove(),o.View.prototype.remove.apply(this,arguments)},tabChangeClickEvent:function(t){var e=n(t.currentTarget),i=e.attr("data-tab");if(!e.hasClass("disabled")&&this.currentActiveTabName!==i){var s=this;this.model.validateAll(this.editMode).always(function(){s.$el.find("[name="+s.currentActiveTabName+"]").find(".error").length||(s.changeActiveTab(i),s.clearAllValidationErrors())})}},openSaveDialogClick:function(){this.startSavingProcess()},cancelJobCreationClick:function(){this.trigger("cancelJobCreation")},renderCreateNewJobInterface:function(){this.editMode=!1,this._render(),this.options.runInBackgroundMode||this.runNowMode?this.changeActiveTab("outputTab"):this.changeActiveTab("scheduleTab"),this.prepareSaveOrSubmitButton()},prepareModelForCreatingNewJob:function(){this.model.clear({silent:!0}),this.model.unset("id"),this.dontReactOnModelChange=!0,this.model.createFromUri(this.options.reportUri),this.dontReactOnModelChange=!1,this.runNowMode&&this.model.set("label","Immediate Execution"),this.model.loadParameters(this.options.parentReportURI||!1)},editExistingJob:function(t){this.editMode=!0;var e=this;this.model.clear({silent:!0}),this._render(),this.changeActiveTab("scheduleTab"),this.model.set({id:t}),this.prepareSaveOrSubmitButton(),this.model._fetched?(this.model.set(this.model.parse(this.model._fetched)),this.setTitle(this.model.get("label")),this.model._fetched=void 0):this.model.fetch({success:function(){e.setTitle(e.model.get("label"))}})},prepareSaveOrSubmitButton:function(){var t=this.$el.find("[name=openSaveDialog]"),e=this.$el.find(".footer #cancel");t.attr("disabled","disabled").addClass("disabled"),e.attr("disabled",null).removeClass("disabled"),this.saveButtonReady=new n.Deferred,this.saveButtonReady.done(function(){t.attr("disabled",null).removeClass("disabled")})},InputControlsLoaded:function(){this.saveButtonReady.resolve()},InputControlsNotLoaded:function(){this.saveButtonReady.resolve(),this.toggleEnableTab("parametersTab",!1)},setRunNowMode:function(t){this.runNowMode=!!t},_render:function(){var t={i18n:r,reportUri:this.options.reportUri,runNowMode:this.runNowMode};this.setElement(n(s.template(p,s.extend({},t)))),this.runNowMode&&this.$el.find("li[data-tab=scheduleTab]").addClass("disabled"),this.tabs.outputTab.options.editMode=this.editMode,this.tabs.scheduleTab.render(),this.tabs.parametersTab.render(),this.tabs.outputTab.render(),this.tabs.notificationsTab.render(),this.$el.find("[name=scheduleTab]").append(this.tabs.scheduleTab.$el),this.$el.find("[name=parametersTab]").append(this.tabs.parametersTab.$el),this.$el.find("[name=outputTab]").append(this.tabs.outputTab.$el),this.$el.find("[name=notificationsTab]").append(this.tabs.notificationsTab.$el),this.currentActiveTabName=""},setTitle:function(t){this.$el.find(".header .title").text(t)},changeActiveTab:function(t){t&&("error"===t&&(t=this.$el.find("[name=tabHolder] > div").find(".error").first().parents(".tab").attr("name")),this.currentActiveTabName!==t&&(this.$el.find("[name=tabs] li").removeClass("selected").filter("[data-tab="+t+"]").addClass("selected"),this.$el.find("[name=tabHolder] > div").addClass("hidden").filter("[name="+t+"]").removeClass("hidden"),this.currentActiveTabName=t))},toggleEnableTab:function(t,e){var i=this.$el.find("[name=tabs] li").filter("[data-tab="+t+"]");i.attr("disabled",!e).toggleClass("disabled",!e),!e&&i.hasClass("selected")&&this.changeActiveTab(i.nextAll(":not(.disabled):first").data("tab"))},sourceKeyInModelChanged:function(t,e){var i;if(!0!==this.dontReactOnModelChange){e.parameters&&(i=1===s.keys(e.parameters.parameterValues).length,i&=!!e.parameters.parameterValues.REPORT_TIME_ZONE);var n=e.parameters&&!i;n||this.saveButtonReady.resolve(),this.toggleEnableTab("parametersTab",n),this.$el.find(".schedule_for").find(".path").text(e.reportUnitURI)}},_prepareSaveDialog:function(){this.saveDialog&&this.saveDialog.remove();var t=this;this.saveDialog=new l(s.extend({},this.options,{model:this.model,isEditMode:this.editMode,onSaveDone:s.bind(this._onSaveDone,this),onSaveFail:s.bind(this._onSaveFail,this)})),this.listenTo(this.saveDialog,"saveValidationFailed",function(){t.saveDialog.closeDialog()})},startSavingProcess:function(){var t=this;this.model.validateAll(this.editMode).done(function(){t._prepareSaveDialog(),t.saveDialog.startSaveDialog()}).fail(function(){t.changeActiveTab("error")})},_onSaveDone:function(){this.trigger("jobHasBeenCreated")},_onSaveFail:function(t,e,i){this.saveDialog.closeDialog();var n=this,o=!1,l=!1,c=!1;try{o=JSON.parse(e.responseText)}catch(t){}if(o.error&&(o=o.error),s.isArray(o)||(o=[o]),s.each(o,function(t){var e="",i="";if("mandatory.parameter.error"===t.errorCode&&(e=r["report.scheduling.saveDialog.parameterIsMissing"],t.parameters&&t.parameters[0]&&(i=t.parameters[0].substr(t.parameters[0].indexOf(".")+1))),"error.duplicate.report.job.output.filename"===t.errorCode&&(i="baseOutputFilename",e=r["error.duplicate.report.job.output.filename"].replace("{0}",t.errorArguments[0]).replace("{1}",t.errorArguments[1])),t.message&&-1!==t.message.indexOf("will never fire")&&(i="triggerWillNeverFire",e=r["error.report.job.trigger.no.fire"]),"error.pattern"===t.errorCode&&("trigger.hours"===t.field&&(i="hours",e=r["error.pattern.trigger.hours"]),"trigger.minutes"===t.field&&(i="minutes",e=r["error.pattern.trigger.minutes"]),"trigger.monthDays"===t.field&&(i="datesInMonth",e=r["error.pattern.trigger.monthDays"]),"contentRepositoryDestination.timestampPattern"===t.field&&(i="timestampPattern",e=r["error.pattern.contentRepositoryDestination.timestampPattern"])),"resource.not.found"===t.errorCode){var s=new a({modal:!0,additionalCssClasses:"schedulerJobRemovedAlertDialog"});return s.setMessage(r["report.scheduling.editing.jobHasBeenRemoved"]),n.listenTo(s,"close",function(){n.trigger("errorEditingJob")}),s.open(),void(l=!0)}""!==e&&(n.showValidationMessage("error",{field:i,message:e}),c=!0)}),!0!==l&&(c&&this.changeActiveTab("error"),!1===c)){var d=r["report.scheduling.editing.failedToSave"]+".";o[0]&&o[0].errorCode?d+="<br/>The reason is: "+o[0].errorCode:o.message&&(d+="<br/>The reason is: "+o.message),d+="<br/><br/>The full response from the server is: "+e.responseText,m.errorPopup.show(d)}},clearAllValidationErrors:function(){this.$el.find(".error").removeClass("error")},validModelListener:function(t){var e=this;s.each(t,function(t){e.showValidationMessage("success",t)})},invalidModelListener:function(t,e){var i=this;s.each(t,function(t){i.showValidationMessage("error",t)}),e&&e.switchToErrors&&i.changeActiveTab("error")},showValidationMessage:function(t,e){if(e.field){"contentRepositoryDestination.folderURI"===e.field&&(e.field="contentRepositoryDestination.outputRepository"),e.field=e.field.replace("trigger.",""),e.field=e.field.replace("mailNotification.",""),e.field=e.field.replace("contentRepositoryDestination.","");var i=this.$el.find(".warning[data-field="+e.field+"]");i.parent().addClass("error"),i.removeClass("success").removeClass("error"),i.addClass(t);var n="";if(e.message)n=e.message;else if(e.errorCode){if(!(n=r[e.errorCode]))return;if(e.errorArguments)for(var s=0,o=e.errorArguments.length;s<o;s++)n=n.replace("{"+s+"}",e.errorArguments[s])}""!==n&&i.text(n)}}})}),define("scheduler/view/SchedulerApp",["require","exports","module","jquery","underscore","bundle!all","backbone","requirejs-domready","runtime_dependencies/js-sdk/src/jrs.configs","../util/schedulerUtils","../model/jobModel","./jobsView","./jobEditorView","../../controls/controls.base"],function(t,e,i){var n=t("jquery"),s=t("underscore"),o=t("bundle!all"),r=t("backbone"),a=t("requirejs-domready"),l=t("runtime_dependencies/js-sdk/src/jrs.configs"),c=t("../util/schedulerUtils"),d=t("../model/jobModel"),u=t("./jobsView"),h=t("./jobEditorView"),p=t("../../controls/controls.base"),m=p.ControlsBase;a(function(){s.extend(m,l.inputControlsConstants)}),i.exports=r.View.extend({className:"schedulerApp",jobsView:!1,initialize:function(t){this.options=s.extend({},t),this.runInBackgroundMode=0===document.location.hash.indexOf("#runInBackground@"),c.saveCurrentLocation(),this.schedulerStartupParams=c.getParamsFromUri(),this.masterViewMode=!this.schedulerStartupParams.reportUnitURI,this.childViewInitParams={model:new d,runInBackgroundMode:this.runInBackgroundMode,masterViewMode:this.masterViewMode,reportUri:this.schedulerStartupParams.reportUnitURI,parentReportURI:this.schedulerStartupParams.parentReportURI||null},n.ajaxSetup({headers:{"X-Suppress-Basic":!0}}),n(document).on("ajaxError",function(t,e,i,n){401!==e.status&&"Unauthorized"!==n||location.reload()}),this.runInBackgroundMode?this.runNowRequest():this.openJobsListInterface()},prepareJobsView:function(){this.jobsView||(this.jobsView=new u(this.childViewInitParams),this.listenTo(this.jobsView,"createNewJobRequest",this.createNewJobRequest),this.listenTo(this.jobsView,"runNowRequest",this.runNowRequest),this.listenTo(this.jobsView,"backButtonPressed",this.backButtonPressed),this.listenTo(this.jobsView,"editJobPressed",this.openEditJobInterface))},prepareJobEditorView:function(){this.jobEditorView&&this.jobEditorView.remove(),this.jobEditorView=new h(this.childViewInitParams),this.listenTo(this.jobEditorView,"errorEditingJob",this.errorEditingJob),this.listenTo(this.jobEditorView,"cancelJobCreation",this.cancelJobCreation),this.listenTo(this.jobEditorView,"jobHasBeenCreated",this.jobHasBeenCreated)},openJobsListInterface:function(){this.prepareJobsView(),this.$el.empty(),this.jobsView.render(),this.$el.append(this.jobsView.$el),this.jobsView.refresh(),document.title=o["company.name"]+": "+o["report.scheduling.list.title"]},createNewJobRequest:function(){this._openNewJobInterface(!1)},runNowRequest:function(){this._openNewJobInterface(!0)},editJob:function(t){this.openEditJobInterface(t)},_openNewJobInterface:function(t){this.prepareJobEditorView(),this.jobEditorView.setRunNowMode(t),this.$el.empty(),this.jobEditorView.renderCreateNewJobInterface(),this.$el.append(this.jobEditorView.$el),this.jobEditorView.prepareModelForCreatingNewJob(),document.title=o["company.name"]+": "+o["report.scheduling.job.edit.title"]},openEditJobInterface:function(t){this.prepareJobEditorView(),this.$el.empty(),this.jobEditorView.editExistingJob(t),this.$el.append(this.jobEditorView.$el),document.title=o["company.name"]+": "+o["report.scheduling.job.edit.title"]},backButtonPressed:function(){c.getBackToPreviousLocation()},errorEditingJob:function(){this.openJobsListInterface()},cancelJobCreation:function(){this.runInBackgroundMode?c.getBackToPreviousLocation():this.openJobsListInterface()},jobHasBeenCreated:function(){this.runInBackgroundMode?c.getBackToPreviousLocation():this.openJobsListInterface()}})}),define("scheduler/schedulerMain",["require","exports","module","jquery","./view/SchedulerApp","requirejs-domready"],function(t,e,i){var n=t("jquery"),s=t("./view/SchedulerApp");t("requirejs-domready")(function(){var t=new s;n("#display").append(t.$el),n("body").addClass("jr")})});