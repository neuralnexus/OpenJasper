{
  "dataSource": {
    "domain": {
      "dataSource": {
        "dataSourceReference": {
          "uri": "/organizations/organization_1/analysis/datasources/SugarCRMDataSourceJNDI"
        }
      },
      "schema": {
        "resources": [
          {
            "group": {
              "name": "dsSugarCRM",
              "elements": [
                {
                  "group": {
                    "name": "public",
                    "elements": [
                      {
                        "group": {
                          "name": "accounts",
                          "elements": [
                            {
                              "element": {
                                "name": "account_type",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "annual_revenue",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "assigned_user_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "billing_address_city",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "billing_address_country",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "billing_address_postalcode",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "billing_address_state",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "billing_address_street",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "created_by",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "date_entered",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "date_modified",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "deleted",
                                "type": "boolean"
                              }
                            },
                            {
                              "element": {
                                "name": "description",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "email1",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "email2",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "employees",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "industry",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "modified_user_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "name",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "ownership",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "parent_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_alternate",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_fax",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_office",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "rating",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "shipping_address_city",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "shipping_address_country",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "shipping_address_postalcode",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "shipping_address_state",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "shipping_address_street",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "sic_code",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "ticker_symbol",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "website",
                                "type": "string"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "group": {
                          "name": "accounts_opportunities",
                          "elements": [
                            {
                              "element": {
                                "name": "account_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "date_modified",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "deleted",
                                "type": "boolean"
                              }
                            },
                            {
                              "element": {
                                "name": "id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "opportunity_id",
                                "type": "string"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "group": {
                          "name": "opportunities",
                          "elements": [
                            {
                              "element": {
                                "name": "amount",
                                "type": "double"
                              }
                            },
                            {
                              "element": {
                                "name": "amount_backup",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "amount_usdollar",
                                "type": "double"
                              }
                            },
                            {
                              "element": {
                                "name": "assigned_user_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "created_by",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "currency_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "date_closed",
                                "type": "date"
                              }
                            },
                            {
                              "element": {
                                "name": "date_entered",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "date_modified",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "deleted",
                                "type": "boolean"
                              }
                            },
                            {
                              "element": {
                                "name": "description",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "lead_source",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "modified_user_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "name",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "next_step",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "opportunity_type",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "probability",
                                "type": "double"
                              }
                            },
                            {
                              "element": {
                                "name": "sales_stage",
                                "type": "string"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "group": {
                          "name": "users",
                          "elements": [
                            {
                              "element": {
                                "name": "address_city",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "address_country",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "address_postalcode",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "address_state",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "address_street",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "created_by",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "date_entered",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "date_modified",
                                "type": "timestamp"
                              }
                            },
                            {
                              "element": {
                                "name": "deleted",
                                "type": "boolean"
                              }
                            },
                            {
                              "element": {
                                "name": "department",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "description",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "email1",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "email2",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "employee_status",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "first_name",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "is_admin",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "last_name",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "messenger_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "messenger_type",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "modified_user_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_fax",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_home",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_mobile",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_other",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "phone_work",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "portal_only",
                                "type": "boolean"
                              }
                            },
                            {
                              "element": {
                                "name": "receive_notifications",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "reports_to_id",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "status",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "title",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "user_hash",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "user_name",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "user_password",
                                "type": "string"
                              }
                            },
                            {
                              "element": {
                                "name": "user_preferences",
                                "type": "string"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "joinGroup": {
              "name": "JoinTree_1",
              "elements": [
                {
                  "reference": {
                    "name": "opportunities",
                    "referencePath": "dsSugarCRM.public.opportunities"
                  }
                },
                {
                  "reference": {
                    "name": "accounts",
                    "referencePath": "dsSugarCRM.public.accounts"
                  }
                },
                {
                  "reference": {
                    "name": "accounts_opportunities",
                    "referencePath": "dsSugarCRM.public.accounts_opportunities"
                  }
                },
                {
                  "reference": {
                    "name": "users",
                    "referencePath": "dsSugarCRM.public.users"
                  }
                }
              ],
              "joinInfo": {
                "includeAllDataIslandJoins": false,
                "suppressCircularJoins": false,
                "joins": [
                  {
                    "left": "accounts",
                    "right": "accounts_opportunities",
                    "expression": {
                      "object": {
                        "equals": {
                          "operands": [
                            {
                              "variable": {
                                "name": "accounts.id"
                              }
                            },
                            {
                              "variable": {
                                "name": "accounts_opportunities.account_id"
                              }
                            }
                          ]
                        }
                      },
                      "string": "accounts.id == accounts_opportunities.account_id"
                    },
                    "weight": 1,
                    "type": "inner"
                  },
                  {
                    "left": "accounts_opportunities",
                    "right": "opportunities",
                    "expression": {
                      "object": {
                        "equals": {
                          "operands": [
                            {
                              "variable": {
                                "name": "opportunities.id"
                              }
                            },
                            {
                              "variable": {
                                "name": "accounts_opportunities.opportunity_id"
                              }
                            }
                          ]
                        }
                      },
                      "string": "opportunities.id == accounts_opportunities.opportunity_id"
                    },
                    "weight": 1,
                    "type": "inner"
                  },
                  {
                    "left": "opportunities",
                    "right": "users",
                    "expression": {
                      "object": {
                        "equals": {
                          "operands": [
                            {
                              "variable": {
                                "name": "users.id"
                              }
                            },
                            {
                              "variable": {
                                "name": "opportunities.assigned_user_id"
                              }
                            }
                          ]
                        }
                      },
                      "string": "users.id == opportunities.assigned_user_id"
                    },
                    "weight": 1,
                    "type": "inner"
                  }
                ]
              }
            }
          }
        ],
        "presentation": [
          {
            "name": "JoinTree_1",
            "elements": [
              {
                "group": {
                  "name": "newSet1",
                  "label": "Accounts",
                  "labelId": "",
                  "description": "Accounts with Opportunities",
                  "descriptionId": "",
                  "elements": [
                    {
                      "element": {
                        "name": "name",
                        "label": "Account Name",
                        "labelId": "",
                        "description": "Name of the account",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet1.name",
                        "resourcePath": "JoinTree_1.accounts.name"
                      }
                    },
                    {
                      "element": {
                        "name": "billing_address_city",
                        "label": "Account City",
                        "labelId": "",
                        "description": "City of account, based on billing address",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet1.billing_address_city",
                        "resourcePath": "JoinTree_1.accounts.billing_address_city"
                      }
                    },
                    {
                      "element": {
                        "name": "billing_address_state",
                        "label": "Account State",
                        "labelId": "",
                        "description": "State of account, based on billing address",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet1.billing_address_state",
                        "resourcePath": "JoinTree_1.accounts.billing_address_state"
                      }
                    },
                    {
                      "element": {
                        "name": "billing_address_postalcode",
                        "label": "Account ZIP",
                        "labelId": "",
                        "description": "Postal code of account, based on billing address",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet1.billing_address_postalcode",
                        "resourcePath": "JoinTree_1.accounts.billing_address_postalcode"
                      }
                    },
                    {
                      "element": {
                        "name": "industry",
                        "label": "Account Industry",
                        "labelId": "",
                        "description": "Industry of account",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet1.industry",
                        "resourcePath": "JoinTree_1.accounts.industry"
                      }
                    }
                  ]
                }
              },
              {
                "group": {
                  "name": "newSet2",
                  "label": "Opportunities",
                  "labelId": "",
                  "description": "Opportunities Associated with Accounts",
                  "descriptionId": "",
                  "elements": [
                    {
                      "element": {
                        "name": "name1",
                        "label": "Opportunity",
                        "labelId": "",
                        "description": "Name of opportunity",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet2.name1",
                        "resourcePath": "JoinTree_1.opportunities.name"
                      }
                    },
                    {
                      "element": {
                        "name": "amount",
                        "label": "Amount",
                        "labelId": "",
                        "description": "Anticipated amount of opportunity",
                        "descriptionId": "",
                        "type": "double",
                        "hierarchicalName": "newSet2.amount",
                        "resourcePath": "JoinTree_1.opportunities.amount"
                      }
                    },
                    {
                      "element": {
                        "name": "probability",
                        "label": "Probability",
                        "labelId": "",
                        "description": "Estimated probability of winning the contract",
                        "descriptionId": "",
                        "type": "double",
                        "hierarchicalName": "newSet2.probability",
                        "resourcePath": "JoinTree_1.opportunities.probability"
                      }
                    },
                    {
                      "element": {
                        "name": "sales_stage",
                        "label": "Sales Stage",
                        "labelId": "",
                        "description": "Location of opportunity in sales decision tree",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet2.sales_stage",
                        "resourcePath": "JoinTree_1.opportunities.sales_stage"
                      }
                    }
                  ]
                }
              },
              {
                "group": {
                  "name": "newSet3",
                  "label": "Users",
                  "labelId": "",
                  "description": "Users Associated with Opportunities",
                  "descriptionId": "",
                  "elements": [
                    {
                      "element": {
                        "name": "first_name",
                        "label": "First Name",
                        "labelId": "",
                        "description": "User first name",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet3.first_name",
                        "resourcePath": "JoinTree_1.users.first_name"
                      }
                    },
                    {
                      "element": {
                        "name": "last_name",
                        "label": "Last Name",
                        "labelId": "",
                        "description": "User last name",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet3.last_name",
                        "resourcePath": "JoinTree_1.users.last_name"
                      }
                    },
                    {
                      "element": {
                        "name": "title",
                        "label": "Title",
                        "labelId": "",
                        "description": "User title for correspondence, etc.",
                        "descriptionId": "",
                        "type": "string",
                        "hierarchicalName": "newSet3.title",
                        "resourcePath": "JoinTree_1.users.title"
                      }
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    }
  },
  "query": {
    "select": {
      "fields": [
        {
          "field": "newSet1.billing_address_postalcode"
        },
        {
          "field": "newSet1.billing_address_city"
        }
      ]
    },
    "groupBy": []
  }
}